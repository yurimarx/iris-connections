(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[338],{5338:(JT,Rd,ft)=>{"use strict";ft.r(Rd),ft.d(Rd,{NetworkModule:()=>Cu});var we=ft(6895),si=ft(433),Ls=ft(6773),Ge=ft(805),ie=ft(1914),ke=ft(1282),Zn=ft(2340),a=ft(8256),mc=ft(529);let zs=(()=>{class p{constructor(i){this.http=i,this.url=Zn.N.host+"classes"}list(){return this.http.get(this.url)}}return p.\u0275fac=function(i){return new(i||p)(a.LFG(mc.eN))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})();const Na=["visNetwork"];let sn=(()=>{class p{constructor(i,l){this.networkService=i,this.messageService=l,this.networkList=[]}ngOnInit(){}ngAfterViewInit(){this.listNetwork()}listNetwork(){this.networkService.list().subscribe({next:i=>{this.networkList=i;let l=[];this.networkList.forEach(fe=>{let ve={};ve.id=fe.name,ve.label=fe.name,l.push(ve)});const h=new ie.DataSet(l);let b=[];this.networkList.forEach(fe=>{fe.dependencies.forEach(ve=>{let Pe={};Pe.from=fe.name,Pe.to=ve.name,b.push(Pe)})});const z=new ie.DataSet(b);this.networkInstance=new ke.Network(this.visNetwork.nativeElement,{nodes:h,edges:z},{})},error:i=>{console.log(i),this.messageService.add({severity:"error",summary:"Error",detail:"Erro on load IRIS network."})}})}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(zs),a.Y36(Ge.ez))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ng-component"]],viewQuery:function(i,l){if(1&i&&a.Gf(Na,5),2&i){let h;a.iGM(h=a.CRH())&&(l.visNetwork=h.first)}},features:[a._Bn([Ge.ez,zs])],decls:4,vars:0,consts:[[1,"grid"],[1,"col-12"],["id","visNetwork",2,"height","560px"],["visNetwork",""]],template:function(i,l){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"div",2,3),a.qZA()())},encapsulation:2}),p})(),Dr=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[Ls.Bz.forChild([{path:"",component:sn}]),Ls.Bz]}),p})();var an=ft(5593),bt=ft(7340),se=ft(9592),Bi=ft(1795),me=ft(982);const Ae=["container"],Lt=["inputfield"],rt=["contentWrapper"];function Pf(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"i",8),a.NdJ("click",function(){a.CHM(i);const h=a.oxw(2);return a.KtG(h.clear())}),a.qZA()}}function Kt(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(h){a.CHM(i),a.oxw();const b=a.MAs(1),z=a.oxw();return a.KtG(z.onButtonClick(h,b))}),a.qZA()}if(2&p){const i=a.oxw(2);a.Q6J("icon",i.icon)("disabled",i.disabled),a.uIk("aria-label",i.iconAriaLabel)}}function ai(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"input",4,5),a.NdJ("focus",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onInputFocus(h))})("keydown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onInputKeydown(h))})("click",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onInputClick())})("blur",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onInputBlur(h))})("input",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onUserInput(h))}),a.qZA(),a.YNc(2,Pf,1,0,"i",6),a.YNc(3,Kt,1,3,"button",7)}if(2&p){const i=a.oxw();a.Tol(i.inputStyleClass),a.Q6J("value",i.inputFieldValue)("readonly",i.readonlyInput)("ngStyle",i.inputStyle)("placeholder",i.placeholder||"")("disabled",i.disabled)("ngClass","p-inputtext p-component"),a.uIk("id",i.inputId)("name",i.name)("required",i.required)("aria-required",i.required)("tabindex",i.tabindex)("inputmode",i.touchUI?"off":null)("aria-labelledby",i.ariaLabelledBy),a.xp6(2),a.Q6J("ngIf",i.showClear&&!i.disabled&&null!=i.value),a.xp6(1),a.Q6J("ngIf",i.showIcon)}}function ln(p,k){1&p&&a.GkF(0)}function cn(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",30),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.onPrevButtonClick(h))}),a._UZ(1,"span",31),a.qZA()}}function no(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",32),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.switchToMonthView(h))})("keydown",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.onContainerButtonKeydown(h))}),a._uU(1),a.qZA()}if(2&p){const i=a.oxw().$implicit,l=a.oxw(3);a.Q6J("disabled",l.switchViewButtonDisabled()),a.xp6(1),a.hij(" ",l.getMonthName(i.month)," ")}}function Pd(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.switchToYearView(h))})("keydown",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.onContainerButtonKeydown(h))}),a._uU(1),a.qZA()}if(2&p){const i=a.oxw().$implicit,l=a.oxw(3);a.Q6J("disabled",l.switchViewButtonDisabled()),a.xp6(1),a.hij(" ",l.getYear(i)," ")}}function ki(p,k){if(1&p&&(a.ynx(0),a._uU(1),a.BQk()),2&p){const i=a.oxw(5);a.xp6(1),a.AsE("",i.yearPickerValues()[0]," - ",i.yearPickerValues()[i.yearPickerValues().length-1],"")}}function ro(p,k){1&p&&a.GkF(0)}const $i=function(p){return{$implicit:p}};function ja(p,k){if(1&p&&(a.TgZ(0,"span",34),a.YNc(1,ki,2,2,"ng-container",13),a.YNc(2,ro,1,0,"ng-container",35),a.qZA()),2&p){const i=a.oxw(4);a.xp6(1),a.Q6J("ngIf",!i.decadeTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",i.decadeTemplate)("ngTemplateOutletContext",a.VKq(3,$i,i.yearPickerValues))}}function Af(p,k){if(1&p&&(a.TgZ(0,"th",41)(1,"span"),a._uU(2),a.qZA()()),2&p){const i=a.oxw(5);a.xp6(2),a.Oqu(i.getTranslation("weekHeader"))}}function Lf(p,k){if(1&p&&(a.TgZ(0,"th",42)(1,"span"),a._uU(2),a.qZA()()),2&p){const i=k.$implicit;a.xp6(2),a.Oqu(i)}}function di(p,k){if(1&p&&(a.TgZ(0,"td",45)(1,"span",46),a._uU(2),a.qZA()()),2&p){const i=a.oxw().index,l=a.oxw(2).$implicit;a.xp6(2),a.hij(" ",l.weekNumbers[i]," ")}}function zf(p,k){if(1&p&&(a.ynx(0),a._uU(1),a.BQk()),2&p){const i=a.oxw(2).$implicit;a.xp6(1),a.Oqu(i.day)}}function Bf(p,k){1&p&&a.GkF(0)}const Ad=function(p,k){return{"p-highlight":p,"p-disabled":k}};function Bs(p,k){if(1&p){const i=a.EpF();a.ynx(0),a.TgZ(1,"span",48),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw().$implicit,z=a.oxw(6);return a.KtG(z.onDateSelect(h,b))})("keydown",function(h){a.CHM(i);const b=a.oxw().$implicit,z=a.oxw(3).index,K=a.oxw(3);return a.KtG(K.onDateCellKeydown(h,b,z))}),a.YNc(2,zf,2,1,"ng-container",13),a.YNc(3,Bf,1,0,"ng-container",35),a.qZA(),a.BQk()}if(2&p){const i=a.oxw().$implicit,l=a.oxw(6);a.xp6(1),a.Q6J("ngClass",a.WLB(4,Ad,l.isSelected(i),!i.selectable)),a.xp6(1),a.Q6J("ngIf",!l.dateTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",l.dateTemplate)("ngTemplateOutletContext",a.VKq(7,$i,i))}}const yc=function(p,k){return{"p-datepicker-other-month":p,"p-datepicker-today":k}};function oo(p,k){if(1&p&&(a.TgZ(0,"td",47),a.YNc(1,Bs,4,9,"ng-container",13),a.qZA()),2&p){const i=k.$implicit,l=a.oxw(6);a.Q6J("ngClass",a.WLB(2,yc,i.otherMonth,i.today)),a.xp6(1),a.Q6J("ngIf",!i.otherMonth||l.showOtherMonths)}}function Ha(p,k){if(1&p&&(a.TgZ(0,"tr"),a.YNc(1,di,3,1,"td",43),a.YNc(2,oo,2,5,"td",44),a.qZA()),2&p){const i=k.$implicit,l=a.oxw(5);a.xp6(1),a.Q6J("ngIf",l.showWeek),a.xp6(1),a.Q6J("ngForOf",i)}}function Jn(p,k){if(1&p&&(a.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),a.YNc(4,Af,3,1,"th",38),a.YNc(5,Lf,3,1,"th",39),a.qZA()(),a.TgZ(6,"tbody"),a.YNc(7,Ha,3,2,"tr",40),a.qZA()()()),2&p){const i=a.oxw().$implicit,l=a.oxw(3);a.xp6(4),a.Q6J("ngIf",l.showWeek),a.xp6(1),a.Q6J("ngForOf",l.weekDays),a.xp6(2),a.Q6J("ngForOf",i.dates)}}function $f(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",20)(1,"div",21),a.YNc(2,cn,2,0,"button",22),a.TgZ(3,"div",23),a.YNc(4,no,2,2,"button",24),a.YNc(5,Pd,2,2,"button",25),a.YNc(6,ja,3,5,"span",26),a.qZA(),a.TgZ(7,"button",27),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onNextButtonClick(h))}),a._UZ(8,"span",28),a.qZA()(),a.YNc(9,Jn,8,3,"div",29),a.qZA()}if(2&p){const i=k.index,l=a.oxw(3);a.xp6(2),a.Q6J("ngIf",0===i),a.xp6(2),a.Q6J("ngIf","date"===l.currentView),a.xp6(1),a.Q6J("ngIf","year"!==l.currentView),a.xp6(1),a.Q6J("ngIf","year"===l.currentView),a.xp6(1),a.Udp("display",1===l.numberOfMonths||i===l.numberOfMonths-1?"inline-flex":"none"),a.xp6(2),a.Q6J("ngIf","date"===l.currentView)}}function $s(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",51),a.NdJ("click",function(h){const z=a.CHM(i).index,K=a.oxw(4);return a.KtG(K.onMonthSelect(h,z))})("keydown",function(h){const z=a.CHM(i).index,K=a.oxw(4);return a.KtG(K.onMonthCellKeydown(h,z))}),a._uU(1),a.qZA()}if(2&p){const i=k.$implicit,l=k.index,h=a.oxw(4);a.Q6J("ngClass",a.WLB(2,Ad,h.isMonthSelected(l),h.isMonthDisabled(l))),a.xp6(1),a.hij(" ",i," ")}}function Xt(p,k){if(1&p&&(a.TgZ(0,"div",49),a.YNc(1,$s,2,5,"span",50),a.qZA()),2&p){const i=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",i.monthPickerValues())}}const Nf=function(p){return{"p-highlight":p}};function Xe(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",54),a.NdJ("click",function(h){const z=a.CHM(i).$implicit,K=a.oxw(4);return a.KtG(K.onYearSelect(h,z))})("keydown",function(h){const z=a.CHM(i).$implicit,K=a.oxw(4);return a.KtG(K.onYearCellKeydown(h,z))}),a._uU(1),a.qZA()}if(2&p){const i=k.$implicit,l=a.oxw(4);a.Q6J("ngClass",a.VKq(2,Nf,l.isYearSelected(i))),a.xp6(1),a.hij(" ",i," ")}}function $e(p,k){if(1&p&&(a.TgZ(0,"div",52),a.YNc(1,Xe,2,4,"span",53),a.qZA()),2&p){const i=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",i.yearPickerValues())}}function hi(p,k){if(1&p&&(a.ynx(0),a.TgZ(1,"div",16),a.YNc(2,$f,10,7,"div",17),a.qZA(),a.YNc(3,Xt,2,1,"div",18),a.YNc(4,$e,2,1,"div",19),a.BQk()),2&p){const i=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",i.months),a.xp6(1),a.Q6J("ngIf","month"===i.currentView),a.xp6(1),a.Q6J("ngIf","year"===i.currentView)}}function St(p,k){1&p&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function bc(p,k){1&p&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function Ns(p,k){if(1&p&&(a.TgZ(0,"div",60)(1,"span"),a._uU(2),a.qZA()()),2&p){const i=a.oxw(3);a.xp6(2),a.Oqu(i.timeSeparator)}}function bi(p,k){1&p&&(a.ynx(0),a._uU(1,"0"),a.BQk())}function ot(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",65)(1,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.incrementSecond(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.incrementSecond(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseDown(h,2,1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(3);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(2,"span",58),a.qZA(),a.TgZ(3,"span"),a.YNc(4,bi,2,0,"ng-container",13),a._uU(5),a.qZA(),a.TgZ(6,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.decrementSecond(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.decrementSecond(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseDown(h,2,-1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(3);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(7,"span",59),a.qZA()()}if(2&p){const i=a.oxw(3);a.xp6(4),a.Q6J("ngIf",i.currentSecond<10),a.xp6(1),a.Oqu(i.currentSecond)}}function _i(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",66)(1,"button",67),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.toggleAMPM(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.toggleAMPM(h))}),a._UZ(2,"span",58),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"button",67),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.toggleAMPM(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.toggleAMPM(h))}),a._UZ(6,"span",59),a.qZA()()}if(2&p){const i=a.oxw(3);a.xp6(4),a.Oqu(i.pm?"PM":"AM")}}function _c(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",55)(1,"div",56)(2,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.incrementHour(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.incrementHour(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseDown(h,0,1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(2);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(3,"span",58),a.qZA(),a.TgZ(4,"span"),a.YNc(5,St,2,0,"ng-container",13),a._uU(6),a.qZA(),a.TgZ(7,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.decrementHour(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.decrementHour(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseDown(h,0,-1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(2);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(8,"span",59),a.qZA()(),a.TgZ(9,"div",60)(10,"span"),a._uU(11),a.qZA()(),a.TgZ(12,"div",61)(13,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.incrementMinute(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.incrementMinute(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseDown(h,1,1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(2);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(14,"span",58),a.qZA(),a.TgZ(15,"span"),a.YNc(16,bc,2,0,"ng-container",13),a._uU(17),a.qZA(),a.TgZ(18,"button",57),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.decrementMinute(h))})("keydown.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.decrementMinute(h))})("mousedown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseDown(h,1,-1))})("mouseup",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("keyup.space",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTimePickerElementMouseUp(h))})("mouseleave",function(){a.CHM(i);const h=a.oxw(2);return a.KtG(h.onTimePickerElementMouseLeave())}),a._UZ(19,"span",59),a.qZA()(),a.YNc(20,Ns,3,1,"div",62),a.YNc(21,ot,8,2,"div",63),a.YNc(22,_i,7,1,"div",64),a.qZA()}if(2&p){const i=a.oxw(2);a.xp6(5),a.Q6J("ngIf",i.currentHour<10),a.xp6(1),a.Oqu(i.currentHour),a.xp6(5),a.Oqu(i.timeSeparator),a.xp6(5),a.Q6J("ngIf",i.currentMinute<10),a.xp6(1),a.Oqu(i.currentMinute),a.xp6(3),a.Q6J("ngIf",i.showSeconds),a.xp6(1),a.Q6J("ngIf",i.showSeconds),a.xp6(1),a.Q6J("ngIf","12"==i.hourFormat)}}const Wt=function(p){return[p]};function wc(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",68)(1,"button",69),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onTodayButtonClick(h))}),a.qZA(),a.TgZ(2,"button",69),a.NdJ("keydown",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onContainerButtonKeydown(h))})("click",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onClearButtonClick(h))}),a.qZA()()}if(2&p){const i=a.oxw(2);a.xp6(1),a.Q6J("label",i.getTranslation("today"))("ngClass",a.VKq(4,Wt,i.todayButtonStyleClass)),a.xp6(1),a.Q6J("label",i.getTranslation("clear"))("ngClass",a.VKq(6,Wt,i.clearButtonStyleClass))}}function so(p,k){1&p&&a.GkF(0)}const Va=function(p,k,i,l,h,b){return{"p-datepicker p-component":!0,"p-datepicker-inline":p,"p-disabled":k,"p-datepicker-timeonly":i,"p-datepicker-multiple-month":l,"p-datepicker-monthpicker":h,"p-datepicker-touch-ui":b}},Xo=function(p,k){return{showTransitionParams:p,hideTransitionParams:k}},Rn=function(p){return{value:"visibleTouchUI",params:p}},Ka=function(p){return{value:"visible",params:p}};function Ld(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",10,11),a.NdJ("@overlayAnimation.start",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onOverlayAnimationStart(h))})("@overlayAnimation.done",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onOverlayAnimationDone(h))})("click",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onOverlayClick(h))}),a.Hsn(2),a.YNc(3,ln,1,0,"ng-container",12),a.YNc(4,hi,5,3,"ng-container",13),a.YNc(5,_c,23,8,"div",14),a.YNc(6,wc,3,8,"div",15),a.Hsn(7,1),a.YNc(8,so,1,0,"ng-container",12),a.qZA()}if(2&p){const i=a.oxw();a.Tol(i.panelStyleClass),a.Q6J("ngStyle",i.panelStyle)("ngClass",a.HTZ(11,Va,i.inline,i.disabled,i.timeOnly,i.numberOfMonths>1,"month"===i.view,i.touchUI))("@overlayAnimation",i.touchUI?a.VKq(21,Rn,a.WLB(18,Xo,i.showTransitionOptions,i.hideTransitionOptions)):a.VKq(26,Ka,a.WLB(23,Xo,i.showTransitionOptions,i.hideTransitionOptions)))("@.disabled",!0===i.inline),a.xp6(3),a.Q6J("ngTemplateOutlet",i.headerTemplate),a.xp6(1),a.Q6J("ngIf",!i.timeOnly),a.xp6(1),a.Q6J("ngIf",(i.showTime||i.timeOnly)&&"date"===i.currentView),a.xp6(1),a.Q6J("ngIf",i.showButtonBar),a.xp6(2),a.Q6J("ngTemplateOutlet",i.footerTemplate)}}const es=[[["p-header"]],[["p-footer"]]],Ui=function(p,k,i,l){return{"p-calendar":!0,"p-calendar-w-btn":p,"p-calendar-timeonly":k,"p-calendar-disabled":i,"p-focus":l}},Wa=["p-header","p-footer"],js={provide:si.JU,useExisting:(0,a.Gpc)(()=>zd),multi:!0};let zd=(()=>{class p{constructor(i,l,h,b,z,K){this.el=i,this.renderer=l,this.cd=h,this.zone=b,this.config=z,this.overlayService=K,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClose=new a.vpe,this.onSelect=new a.vpe,this.onClear=new a.vpe,this.onInput=new a.vpe,this.onTodayClick=new a.vpe,this.onClearClick=new a.vpe,this.onMonthChange=new a.vpe,this.onYearChange=new a.vpe,this.onClickOutside=new a.vpe,this.onShow=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(te,fe){return"12"==this.hourFormat?12===te?fe?12:0:fe?te+12:te:te}}set content(i){this.contentViewChild=i,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(i){this._view=i,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(i){if(this._defaultDate=i,this.initialized){const l=i||new Date;this.currentMonth=l.getMonth(),this.currentYear=l.getFullYear(),this.initTime(l),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(i){this._minDate=i,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=i,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(i){this._disabledDates=i,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(i){this._disabledDays=i,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(i){if(this._yearRange=i,i){const l=i.split(":"),h=parseInt(l[0]),b=parseInt(l[1]);this.populateYearOptions(h,b)}}get showTime(){return this._showTime}set showTime(i){this._showTime=i,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(i){this._responsiveOptions=i,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(i){this._numberOfMonths=i,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(i){this._firstDayOfWeek=i,this.createWeekDays()}set locale(i){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,me.Th)();const i=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"date":default:this.dateTemplate=i.template;break;case"decade":this.decadeTemplate=i.template;break;case"disabledDate":this.disabledDateTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"footer":this.footerTemplate=i.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=se.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(i){return this.config.getTranslation(i)}populateYearOptions(i,l){this.yearOptions=[];for(let h=i;h<=l;h++)this.yearOptions.push(h)}createWeekDays(){this.weekDays=[];let i=this.getFirstDateOfWeek(),l=this.getTranslation(Ge.ws.DAY_NAMES_MIN);for(let h=0;h<7;h++)this.weekDays.push(l[i]),i=6==i?0:++i}monthPickerValues(){let i=[];for(let l=0;l<=11;l++)i.push(this.config.getTranslation("monthNamesShort")[l]);return i}yearPickerValues(){let i=[],l=this.currentYear-this.currentYear%10;for(let h=0;h<10;h++)i.push(l+h);return i}createMonths(i,l){this.months=this.months=[];for(let h=0;h<this.numberOfMonths;h++){let b=i+h,z=l;b>11&&(b=b%11-1,z=l+1),this.months.push(this.createMonth(b,z))}}getWeekNumber(i){let l=new Date(i.getTime());l.setDate(l.getDate()+4-(l.getDay()||7));let h=l.getTime();return l.setMonth(0),l.setDate(1),Math.floor(Math.round((h-l.getTime())/864e5)/7)+1}createMonth(i,l){let h=[],b=this.getFirstDayOfMonthIndex(i,l),z=this.getDaysCountInMonth(i,l),K=this.getDaysCountInPrevMonth(i,l),te=1,fe=new Date,ve=[],Pe=Math.ceil((z+b)/7);for(let Je=0;Je<Pe;Je++){let He=[];if(0==Je){for(let at=K-b+1;at<=K;at++){let Qe=this.getPreviousMonthAndYear(i,l);He.push({day:at,month:Qe.month,year:Qe.year,otherMonth:!0,today:this.isToday(fe,at,Qe.month,Qe.year),selectable:this.isSelectable(at,Qe.month,Qe.year,!0)})}let wt=7-He.length;for(let at=0;at<wt;at++)He.push({day:te,month:i,year:l,today:this.isToday(fe,te,i,l),selectable:this.isSelectable(te,i,l,!1)}),te++}else for(let wt=0;wt<7;wt++){if(te>z){let at=this.getNextMonthAndYear(i,l);He.push({day:te-z,month:at.month,year:at.year,otherMonth:!0,today:this.isToday(fe,te-z,at.month,at.year),selectable:this.isSelectable(te-z,at.month,at.year,!0)})}else He.push({day:te,month:i,year:l,today:this.isToday(fe,te,i,l),selectable:this.isSelectable(te,i,l,!1)});te++}this.showWeek&&ve.push(this.getWeekNumber(new Date(He[0].year,He[0].month,He[0].day))),h.push(He)}return{month:i,year:l,dates:h,weekNumbers:ve}}initTime(i){this.pm=i.getHours()>11,this.showTime?(this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds(),this.setCurrentHourPM(i.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(i){this.disabled?i.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(i){this.disabled?i.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let i=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-i,this.yearOptions[this.yearOptions.length-1]-i)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let i=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+i,this.yearOptions[this.yearOptions.length-1]+i)}}switchToMonthView(i){this.setCurrentView("month"),i.preventDefault()}switchToYearView(i){this.setCurrentView("year"),i.preventDefault()}onDateSelect(i,l){!this.disabled&&l.selectable?(this.isMultipleSelection()&&this.isSelected(l)?(this.value=this.value.filter((h,b)=>!this.isDateEquals(h,l)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(l)&&this.selectDate(l),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{i.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),i.preventDefault()):i.preventDefault()}shouldSelectDate(i){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(i,l){"month"===this.view?this.onDateSelect(i,{year:this.currentYear,month:l,day:1,selectable:!0}):(this.currentMonth=l,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(i,l){"year"===this.view?this.onDateSelect(i,{year:l,month:0,day:1,selectable:!0}):(this.currentYear=l,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let i="";if(this.value)if(this.isSingleSelection())i=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let l=0;l<this.value.length;l++)i+=this.formatDateTime(this.value[l]),l!==this.value.length-1&&(i+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let h=this.value[1];i=this.formatDateTime(this.value[0]),h&&(i+=" "+this.rangeSeparator+" "+this.formatDateTime(h))}this.inputFieldValue=i,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(i){let l=this.keepInvalid?i:null;return this.isValidDate(i)&&(this.timeOnly?l=this.formatTime(i):(l=this.formatDate(i,this.getDateFormat()),this.showTime&&(l+=" "+this.formatTime(i)))),l}setCurrentHourPM(i){"12"==this.hourFormat?(this.pm=i>11,this.currentHour=i>=12?12==i?12:i-12:0==i?12:i):this.currentHour=i}setCurrentView(i){this.currentView=i,this.cd.detectChanges(),this.alignOverlay()}selectDate(i){let l=new Date(i.year,i.month,i.day);if(this.showTime&&(l.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),l.setMinutes(this.currentMinute),l.setSeconds(this.currentSecond)),this.minDate&&this.minDate>l&&(l=this.minDate,this.setCurrentHourPM(l.getHours()),this.currentMinute=l.getMinutes(),this.currentSecond=l.getSeconds()),this.maxDate&&this.maxDate<l&&(l=this.maxDate,this.setCurrentHourPM(l.getHours()),this.currentMinute=l.getMinutes(),this.currentSecond=l.getSeconds()),this.isSingleSelection())this.updateModel(l);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,l]:[l]);else if(this.isRangeSelection())if(this.value&&this.value.length){let h=this.value[0],b=this.value[1];!b&&l.getTime()>=h.getTime()?b=l:(h=l,b=null),this.updateModel([h,b])}else this.updateModel([l,null]);this.onSelect.emit(l)}updateModel(i){if(this.value=i,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let l=null;this.value&&(l=this.value.map(h=>this.formatDateTime(h))),this.onModelChange(l)}}getFirstDayOfMonthIndex(i,l){let h=new Date;h.setDate(1),h.setMonth(i),h.setFullYear(l);let b=h.getDay()+this.getSundayIndex();return b>=7?b-7:b}getDaysCountInMonth(i,l){return 32-this.daylightSavingAdjust(new Date(l,i,32)).getDate()}getDaysCountInPrevMonth(i,l){let h=this.getPreviousMonthAndYear(i,l);return this.getDaysCountInMonth(h.month,h.year)}getPreviousMonthAndYear(i,l){let h,b;return 0===i?(h=11,b=l-1):(h=i-1,b=l),{month:h,year:b}}getNextMonthAndYear(i,l){let h,b;return 11===i?(h=0,b=l+1):(h=i+1,b=l),{month:h,year:b}}getSundayIndex(){let i=this.getFirstDateOfWeek();return i>0?7-i:0}isSelected(i){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,i);if(this.isMultipleSelection()){let l=!1;for(let h of this.value)if(l=this.isDateEquals(h,i),l)break;return l}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],i)||this.isDateEquals(this.value[1],i)||this.isDateBetween(this.value[0],this.value[1],i):this.isDateEquals(this.value[0],i):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(i){if(this.isComparable()&&!this.isMultipleSelection()){const[l,h]=this.isRangeSelection()?this.value:[this.value,this.value],b=new Date(this.currentYear,i,1);return b>=l&&b<=(h??l)}return!1}isMonthDisabled(i){for(let l=1;l<this.getDaysCountInMonth(i,this.currentYear)+1;l++)if(this.isSelectable(l,i,this.currentYear,!1))return!1;return!0}isYearSelected(i){if(this.isComparable()){let l=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&l.getFullYear()===i}return!1}isDateEquals(i,l){return!!(i&&i instanceof Date)&&i.getDate()===l.day&&i.getMonth()===l.month&&i.getFullYear()===l.year}isDateBetween(i,l,h){if(i&&l){let z=new Date(h.year,h.month,h.day);return i.getTime()<=z.getTime()&&l.getTime()>=z.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(i,l,h,b){return i.getDate()===l&&i.getMonth()===h&&i.getFullYear()===b}isSelectable(i,l,h,b){let z=!0,K=!0,te=!0,fe=!0;return!(b&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>h||this.minDate.getFullYear()===h&&(this.minDate.getMonth()>l||this.minDate.getMonth()===l&&this.minDate.getDate()>i))&&(z=!1),this.maxDate&&(this.maxDate.getFullYear()<h||this.maxDate.getFullYear()===h&&(this.maxDate.getMonth()<l||this.maxDate.getMonth()===l&&this.maxDate.getDate()<i))&&(K=!1),this.disabledDates&&(te=!this.isDateDisabled(i,l,h)),this.disabledDays&&(fe=!this.isDayDisabled(i,l,h)),z&&K&&te&&fe)}isDateDisabled(i,l,h){if(this.disabledDates)for(let b of this.disabledDates)if(b.getFullYear()===h&&b.getMonth()===l&&b.getDate()===i)return!0;return!1}isDayDisabled(i,l,h){if(this.disabledDays){let z=new Date(h,l,i).getDay();return-1!==this.disabledDays.indexOf(z)}return!1}onInputFocus(i){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(i)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(i){this.focus=!1,this.onBlur.emit(i),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(i,l){this.overlayVisible?this.hideOverlay():(l.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(i){this.overlayService.add({originalEvent:i,target:this.el.nativeElement})}getMonthName(i){return this.config.getTranslation("monthNames")[i]}getYear(i){return"month"===this.currentView?this.currentYear:i.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(i){this.navigationState={backward:!0,button:!0},this.navBackward(i)}onNextButtonClick(i){this.navigationState={backward:!1,button:!0},this.navForward(i)}onContainerButtonKeydown(i){switch(i.which){case 9:this.inline||this.trapFocus(i);break;case 27:this.overlayVisible=!1,i.preventDefault()}}onInputKeydown(i){this.isKeydown=!0,40===i.keyCode&&this.contentViewChild?this.trapFocus(i):27===i.keyCode||13===i.keyCode?this.overlayVisible&&(this.overlayVisible=!1,i.preventDefault()):9===i.keyCode&&this.contentViewChild&&(se.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(l=>l.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(i,l,h){const b=i.currentTarget,z=b.parentElement;switch(i.which){case 40:{b.tabIndex="-1";let K=se.p.index(z),te=z.parentElement.nextElementSibling;te?se.p.hasClass(te.children[K].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(i)):(te.children[K].children[0].tabIndex="0",te.children[K].children[0].focus()):(this.navigationState={backward:!1},this.navForward(i)),i.preventDefault();break}case 38:{b.tabIndex="-1";let K=se.p.index(z),te=z.parentElement.previousElementSibling;if(te){let fe=te.children[K].children[0];se.p.hasClass(fe,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(i)):(fe.tabIndex="0",fe.focus())}else this.navigationState={backward:!0},this.navBackward(i);i.preventDefault();break}case 37:{b.tabIndex="-1";let K=z.previousElementSibling;if(K){let te=K.children[0];se.p.hasClass(te,"p-disabled")||se.p.hasClass(te.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,h):(te.tabIndex="0",te.focus())}else this.navigateToMonth(!0,h);i.preventDefault();break}case 39:{b.tabIndex="-1";let K=z.nextElementSibling;if(K){let te=K.children[0];se.p.hasClass(te,"p-disabled")?this.navigateToMonth(!1,h):(te.tabIndex="0",te.focus())}else this.navigateToMonth(!1,h);i.preventDefault();break}case 13:case 32:this.onDateSelect(i,l),i.preventDefault();break;case 27:this.overlayVisible=!1,i.preventDefault();break;case 9:this.inline||this.trapFocus(i)}}onMonthCellKeydown(i,l){const h=i.currentTarget;switch(i.which){case 38:case 40:{h.tabIndex="-1";var b=h.parentElement.children,z=se.p.index(h);let K=b[40===i.which?z+3:z-3];K&&(K.tabIndex="0",K.focus()),i.preventDefault();break}case 37:{h.tabIndex="-1";let K=h.previousElementSibling;K?(K.tabIndex="0",K.focus()):(this.navigationState={backward:!0},this.navBackward(i)),i.preventDefault();break}case 39:{h.tabIndex="-1";let K=h.nextElementSibling;K?(K.tabIndex="0",K.focus()):(this.navigationState={backward:!1},this.navForward(i)),i.preventDefault();break}case 13:this.onMonthSelect(i,l),i.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,i.preventDefault();break;case 9:this.inline||this.trapFocus(i)}}onYearCellKeydown(i,l){const h=i.currentTarget;switch(i.which){case 38:case 40:{h.tabIndex="-1";var b=h.parentElement.children,z=se.p.index(h);let K=b[40===i.which?z+2:z-2];K&&(K.tabIndex="0",K.focus()),i.preventDefault();break}case 37:{h.tabIndex="-1";let K=h.previousElementSibling;K?(K.tabIndex="0",K.focus()):(this.navigationState={backward:!0},this.navBackward(i)),i.preventDefault();break}case 39:{h.tabIndex="-1";let K=h.nextElementSibling;K?(K.tabIndex="0",K.focus()):(this.navigationState={backward:!1},this.navForward(i)),i.preventDefault();break}case 13:case 32:this.onYearSelect(i,l),i.preventDefault();break;case 27:this.overlayVisible=!1,i.preventDefault();break;case 9:this.trapFocus(i)}}navigateToMonth(i,l){if(i)if(1===this.numberOfMonths||0===l)this.navigationState={backward:!0},this.navBackward(event);else{let b=se.p.find(this.contentViewChild.nativeElement.children[l-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),z=b[b.length-1];z.tabIndex="0",z.focus()}else if(1===this.numberOfMonths||l===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let b=se.p.findSingle(this.contentViewChild.nativeElement.children[l+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");b.tabIndex="0",b.focus()}}updateFocus(){let i;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?se.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():se.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let l;l=se.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),l&&l.length>0&&(i=l[l.length-1])}else i=se.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");i&&(i.tabIndex="0",i.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const i=this.contentViewChild?.nativeElement;let l;if("month"===this.currentView){let h=se.p.find(i,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),b=se.p.findSingle(i,".p-monthpicker .p-monthpicker-month.p-highlight");h.forEach(z=>z.tabIndex=-1),l=b||h[0],0===h.length&&se.p.find(i,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(K=>K.tabIndex=-1)}else if("year"===this.currentView){let h=se.p.find(i,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),b=se.p.findSingle(i,".p-yearpicker .p-yearpicker-year.p-highlight");h.forEach(z=>z.tabIndex=-1),l=b||h[0],0===h.length&&se.p.find(i,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(K=>K.tabIndex=-1)}else if(l=se.p.findSingle(i,"span.p-highlight"),!l){let h=se.p.findSingle(i,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");l=h||se.p.findSingle(i,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}l&&(l.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||l.focus()},1),this.preventFocus=!1)}trapFocus(i){let l=se.p.getFocusableElements(this.contentViewChild.nativeElement);if(l&&l.length>0)if(l[0].ownerDocument.activeElement){let h=l.indexOf(l[0].ownerDocument.activeElement);if(i.shiftKey)if(-1==h||0===h)if(this.focusTrap)l[l.length-1].focus();else{if(-1===h)return this.hideOverlay();if(0===h)return}else l[h-1].focus();else if(-1==h||h===l.length-1){if(!this.focusTrap&&-1!=h)return this.hideOverlay();l[0].focus()}else l[h+1].focus()}else l[0].focus();i.preventDefault()}onMonthDropdownChange(i){this.currentMonth=parseInt(i),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(i){this.currentYear=parseInt(i),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(i,l,h,b){let z=this.value;const K=this.convertTo24Hour(i,b);this.isRangeSelection()&&(z=this.value[1]||this.value[0]),this.isMultipleSelection()&&(z=this.value[this.value.length-1]);const te=z?z.toDateString():null;return!(this.minDate&&te&&this.minDate.toDateString()===te&&(this.minDate.getHours()>K||this.minDate.getHours()===K&&(this.minDate.getMinutes()>l||this.minDate.getMinutes()===l&&this.minDate.getSeconds()>h))||this.maxDate&&te&&this.maxDate.toDateString()===te&&(this.maxDate.getHours()<K||this.maxDate.getHours()===K&&(this.maxDate.getMinutes()<l||this.maxDate.getMinutes()===l&&this.maxDate.getSeconds()<h)))}incrementHour(i){let h=this.currentHour+this.stepHour,b=this.pm;"24"==this.hourFormat?h=h>=24?h-24:h:"12"==this.hourFormat&&(this.currentHour<12&&h>11&&(b=!this.pm),h=h>=13?h-12:h),this.validateTime(h,this.currentMinute,this.currentSecond,b)&&(this.currentHour=h,this.pm=b),i.preventDefault()}onTimePickerElementMouseDown(i,l,h){this.disabled||(this.repeat(i,null,l,h),i.preventDefault())}onTimePickerElementMouseUp(i){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(i,l,h,b){let z=l||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(i,100,h,b),this.cd.markForCheck()},z),h){case 0:1===b?this.incrementHour(i):this.decrementHour(i);break;case 1:1===b?this.incrementMinute(i):this.decrementMinute(i);break;case 2:1===b?this.incrementSecond(i):this.decrementSecond(i)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(i){let l=this.currentHour-this.stepHour,h=this.pm;"24"==this.hourFormat?l=l<0?24+l:l:"12"==this.hourFormat&&(12===this.currentHour&&(h=!this.pm),l=l<=0?12+l:l),this.validateTime(l,this.currentMinute,this.currentSecond,h)&&(this.currentHour=l,this.pm=h),i.preventDefault()}incrementMinute(i){let l=this.currentMinute+this.stepMinute;l=l>59?l-60:l,this.validateTime(this.currentHour,l,this.currentSecond,this.pm)&&(this.currentMinute=l),i.preventDefault()}decrementMinute(i){let l=this.currentMinute-this.stepMinute;l=l<0?60+l:l,this.validateTime(this.currentHour,l,this.currentSecond,this.pm)&&(this.currentMinute=l),i.preventDefault()}incrementSecond(i){let l=this.currentSecond+this.stepSecond;l=l>59?l-60:l,this.validateTime(this.currentHour,this.currentMinute,l,this.pm)&&(this.currentSecond=l),i.preventDefault()}decrementSecond(i){let l=this.currentSecond-this.stepSecond;l=l<0?60+l:l,this.validateTime(this.currentHour,this.currentMinute,l,this.pm)&&(this.currentSecond=l),i.preventDefault()}updateTime(){let i=this.value;this.isRangeSelection()&&(i=this.value[1]||this.value[0]),this.isMultipleSelection()&&(i=this.value[this.value.length-1]),i=i?new Date(i.getTime()):new Date,i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond),this.isRangeSelection()&&(i=this.value[1]?[this.value[0],i]:[i,null]),this.isMultipleSelection()&&(i=[...this.value.slice(0,-1),i]),this.updateModel(i),this.onSelect.emit(i),this.updateInputfield()}toggleAMPM(i){const l=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,l)&&(this.pm=l,this.updateTime()),i.preventDefault()}onUserInput(i){if(!this.isKeydown)return;this.isKeydown=!1;let l=i.target.value;try{let h=this.parseValueFromString(l);this.isValidSelection(h)&&(this.updateModel(h),this.updateUI())}catch{this.updateModel(this.keepInvalid?l:null)}this.filled=null!=l&&l.length,this.onInput.emit(i)}isValidSelection(i){let l=!0;return this.isSingleSelection()?this.isSelectable(i.getDate(),i.getMonth(),i.getFullYear(),!1)||(l=!1):i.every(h=>this.isSelectable(h.getDate(),h.getMonth(),h.getFullYear(),!1))&&this.isRangeSelection()&&(l=i.length>1&&i[1]>i[0]),l}parseValueFromString(i){if(!i||0===i.trim().length)return null;let l;if(this.isSingleSelection())l=this.parseDateTime(i);else if(this.isMultipleSelection()){let h=i.split(this.multipleSeparator);l=[];for(let b of h)l.push(this.parseDateTime(b.trim()))}else if(this.isRangeSelection()){let h=i.split(" "+this.rangeSeparator+" ");l=[];for(let b=0;b<h.length;b++)l[b]=this.parseDateTime(h[b].trim())}return l}parseDateTime(i){let l,h=i.split(" ");if(this.timeOnly)l=new Date,this.populateTime(l,h[0],h[1]);else{const b=this.getDateFormat();if(this.showTime){let z="12"==this.hourFormat?h.pop():null,K=h.pop();l=this.parseDate(h.join(" "),b),this.populateTime(l,K,z)}else l=this.parseDate(i,b)}return l}populateTime(i,l,h){if("12"==this.hourFormat&&!h)throw"Invalid Time";this.pm="PM"===h||"pm"===h;let b=this.parseTime(l);i.setHours(b.hour),i.setMinutes(b.minute),i.setSeconds(b.second)}isValidDate(i){return i instanceof Date&&me.gb.isNotEmpty(i)}updateUI(){let i=this.value;Array.isArray(i)&&(i=i[0]);let l=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:i&&this.isValidDate(i)?i:new Date;this.currentMonth=l.getMonth(),this.currentYear=l.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(l.getHours()),this.currentMinute=l.getMinutes(),this.currentSecond=l.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(i){switch(i.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=i.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?me.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):me.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(i));break;case"void":this.onOverlayHide(),this.onClose.emit(i)}}onOverlayAnimationDone(i){switch(i.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&me.P9.clear(i.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):se.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=se.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=se.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=se.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",se.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):se.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(i){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(i.style.zIndex)-1),se.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",h=>{this.disableModality()}),document.body.appendChild(this.mask),se.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(se.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let l,i=document.body.children;for(let h=0;h<i.length;h++)if(se.p.hasClass(i[h],"p-datepicker-mask-scrollblocker")){l=!0;break}l||se.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(i){if(this.value=i,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=i)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Ge.ws.FIRST_DAY_OF_WEEK)}formatDate(i,l){if(!i)return"";let h;const b=ve=>{const Pe=h+1<l.length&&l.charAt(h+1)===ve;return Pe&&h++,Pe},z=(ve,Pe,Je)=>{let He=""+Pe;if(b(ve))for(;He.length<Je;)He="0"+He;return He},K=(ve,Pe,Je,He)=>b(ve)?He[Pe]:Je[Pe];let te="",fe=!1;if(i)for(h=0;h<l.length;h++)if(fe)"'"!==l.charAt(h)||b("'")?te+=l.charAt(h):fe=!1;else switch(l.charAt(h)){case"d":te+=z("d",i.getDate(),2);break;case"D":te+=K("D",i.getDay(),this.getTranslation(Ge.ws.DAY_NAMES_SHORT),this.getTranslation(Ge.ws.DAY_NAMES));break;case"o":te+=z("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":te+=z("m",i.getMonth()+1,2);break;case"M":te+=K("M",i.getMonth(),this.getTranslation(Ge.ws.MONTH_NAMES_SHORT),this.getTranslation(Ge.ws.MONTH_NAMES));break;case"y":te+=b("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":te+=i.getTime();break;case"!":te+=1e4*i.getTime()+this.ticksTo1970;break;case"'":b("'")?te+="'":fe=!0;break;default:te+=l.charAt(h)}return te}formatTime(i){if(!i)return"";let l="",h=i.getHours(),b=i.getMinutes(),z=i.getSeconds();return"12"==this.hourFormat&&h>11&&12!=h&&(h-=12),l+="12"==this.hourFormat&&0===h?12:h<10?"0"+h:h,l+=":",l+=b<10?"0"+b:b,this.showSeconds&&(l+=":",l+=z<10?"0"+z:z),"12"==this.hourFormat&&(l+=i.getHours()>11?" PM":" AM"),l}parseTime(i){let l=i.split(":");if(l.length!==(this.showSeconds?3:2))throw"Invalid time";let b=parseInt(l[0]),z=parseInt(l[1]),K=this.showSeconds?parseInt(l[2]):null;if(isNaN(b)||isNaN(z)||b>23||z>59||"12"==this.hourFormat&&b>12||this.showSeconds&&(isNaN(K)||K>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==b&&this.pm?b+=12:!this.pm&&12===b&&(b-=12)),{hour:b,minute:z,second:K}}parseDate(i,l){if(null==l||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;let h,b,z,wt,K=0,te="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),fe=-1,ve=-1,Pe=-1,Je=-1,He=!1,at=Nt=>{let xi=h+1<l.length&&l.charAt(h+1)===Nt;return xi&&h++,xi},Qe=Nt=>{let xi=at(Nt),qi="@"===Nt?14:"!"===Nt?20:"y"===Nt&&xi?4:"o"===Nt?3:2,Dl=new RegExp("^\\d{"+("y"===Nt?qi:1)+","+qi+"}"),Dt=i.substring(K).match(Dl);if(!Dt)throw"Missing number at position "+K;return K+=Dt[0].length,parseInt(Dt[0],10)},Tt=(Nt,xi,qi)=>{let zn=-1,Dl=at(Nt)?qi:xi,Dt=[];for(let vn=0;vn<Dl.length;vn++)Dt.push([vn,Dl[vn]]);Dt.sort((vn,ps)=>-(vn[1].length-ps[1].length));for(let vn=0;vn<Dt.length;vn++){let ps=Dt[vn][1];if(i.substr(K,ps.length).toLowerCase()===ps.toLowerCase()){zn=Dt[vn][0],K+=ps.length;break}}if(-1!==zn)return zn+1;throw"Unknown name at position "+K},Bt=()=>{if(i.charAt(K)!==l.charAt(h))throw"Unexpected literal at position "+K;K++};for("month"===this.view&&(Pe=1),h=0;h<l.length;h++)if(He)"'"!==l.charAt(h)||at("'")?Bt():He=!1;else switch(l.charAt(h)){case"d":Pe=Qe("d");break;case"D":Tt("D",this.getTranslation(Ge.ws.DAY_NAMES_SHORT),this.getTranslation(Ge.ws.DAY_NAMES));break;case"o":Je=Qe("o");break;case"m":ve=Qe("m");break;case"M":ve=Tt("M",this.getTranslation(Ge.ws.MONTH_NAMES_SHORT),this.getTranslation(Ge.ws.MONTH_NAMES));break;case"y":fe=Qe("y");break;case"@":wt=new Date(Qe("@")),fe=wt.getFullYear(),ve=wt.getMonth()+1,Pe=wt.getDate();break;case"!":wt=new Date((Qe("!")-this.ticksTo1970)/1e4),fe=wt.getFullYear(),ve=wt.getMonth()+1,Pe=wt.getDate();break;case"'":at("'")?Bt():He=!0;break;default:Bt()}if(K<i.length&&(z=i.substr(K),!/^\s+/.test(z)))throw"Extra/unparsed characters found in date: "+z;if(-1===fe?fe=(new Date).getFullYear():fe<100&&(fe+=(new Date).getFullYear()-(new Date).getFullYear()%100+(fe<=te?0:-100)),Je>-1)for(ve=1,Pe=Je;b=this.getDaysCountInMonth(fe,ve-1),!(Pe<=b);)ve++,Pe-=b;if("year"===this.view&&(ve=-1===ve?1:ve,Pe=-1===Pe?1:Pe),wt=this.daylightSavingAdjust(new Date(fe,ve-1,Pe)),wt.getFullYear()!==fe||wt.getMonth()+1!==ve||wt.getDate()!==Pe)throw"Invalid date";return wt}daylightSavingAdjust(i){return i?(i.setHours(i.getHours()>12?i.getHours()+2:0),i):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(i){let l=new Date,h={day:l.getDate(),month:l.getMonth(),year:l.getFullYear(),otherMonth:l.getMonth()!==this.currentMonth||l.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(i,h),this.onTodayClick.emit(i)}onClearButtonClick(i){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(i)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let i="";if(this.responsiveOptions){let l=[...this.responsiveOptions].filter(h=>!(!h.breakpoint||!h.numMonths)).sort((h,b)=>-1*h.breakpoint.localeCompare(b.breakpoint,void 0,{numeric:!0}));for(let h=0;h<l.length;h++){let{breakpoint:b,numMonths:z}=l[h],K=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${z}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let te=z;te<this.numberOfMonths;te++)K+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${te+1}) {\n                                display: none !important;\n                            }\n                        `;i+=`\n                        @media screen and (max-width: ${b}) {\n                            ${K}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=i}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",l=>{this.isOutsideClicked(l)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(l),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new se.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(i){return!(this.el.nativeElement.isSameNode(i.target)||this.isNavIconClicked(i)||this.el.nativeElement.contains(i.target)||this.overlay&&this.overlay.contains(i.target))}isNavIconClicked(i){return se.p.hasClass(i.target,"p-datepicker-prev")||se.p.hasClass(i.target,"p-datepicker-prev-icon")||se.p.hasClass(i.target,"p-datepicker-next")||se.p.hasClass(i.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!se.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&me.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Ge.b4),a.Y36(Ge.F0))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-calendar"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,Ge.jx,4),2&i){let b;a.iGM(b=a.CRH())&&(l.templates=b)}},viewQuery:function(i,l){if(1&i&&(a.Gf(Ae,5),a.Gf(Lt,5),a.Gf(rt,5)),2&i){let h;a.iGM(h=a.CRH())&&(l.containerViewChild=h.first),a.iGM(h=a.CRH())&&(l.inputfieldViewChild=h.first),a.iGM(h=a.CRH())&&(l.content=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,l){2&i&&a.ekj("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focus)("p-calendar-clearable",l.showClear&&!l.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[a._Bn([js])],ngContentSelectors:Wa,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(i,l){1&i&&(a.F$t(es),a.TgZ(0,"span",0,1),a.YNc(2,ai,4,17,"ng-template",2),a.YNc(3,Ld,9,28,"div",3),a.qZA()),2&i&&(a.Tol(l.styleClass),a.Q6J("ngClass",a.l5B(6,Ui,l.showIcon,l.timeOnly,l.disabled,l.focus))("ngStyle",l.style),a.xp6(2),a.Q6J("ngIf",!l.inline),a.xp6(1),a.Q6J("ngIf",l.inline||l.overlayVisible))},dependencies:[we.mk,we.sg,we.O5,we.tP,we.PC,an.Hq,Bi.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,bt.X$)("overlayAnimation",[(0,bt.SB)("visibleTouchUI",(0,bt.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,bt.eR)("void => visible",[(0,bt.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,bt.jt)("{{showTransitionParams}}",(0,bt.oB)({opacity:1,transform:"*"}))]),(0,bt.eR)("visible => void",[(0,bt.jt)("{{hideTransitionParams}}",(0,bt.oB)({opacity:0}))]),(0,bt.eR)("void => visibleTouchUI",[(0,bt.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,bt.jt)("{{showTransitionParams}}")]),(0,bt.eR)("visibleTouchUI => void",[(0,bt.jt)("{{hideTransitionParams}}",(0,bt.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),p})(),jf=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,an.hJ,Ge.m8,Bi.T,an.hJ,Ge.m8]}),p})(),xc=(()=>{class p{constructor(i){this.host=i,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const i=se.p.getFocusableElements(this.host.nativeElement);0===i.length&&this.host.nativeElement.focus(),i.length>0&&i[0].focus(),this.focused=!0}}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.SBq))},p.\u0275dir=a.lG2({type:p,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),p})(),Hs=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})();const Bd=["overlay"],ao=["content"];function Hf(p,k){1&p&&a.GkF(0)}const Vf=function(p,k,i){return{showTransitionParams:p,hideTransitionParams:k,transform:i}},Kf=function(p){return{value:"visible",params:p}},un=function(p){return{mode:p}},Wf=function(p){return{$implicit:p}};function lo(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",1,3),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onOverlayContentClick(h))})("@overlayContentAnimation.start",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onOverlayContentAnimationStart(h))})("@overlayContentAnimation.done",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onOverlayContentAnimationDone(h))}),a.Hsn(2),a.YNc(3,Hf,1,0,"ng-container",4),a.qZA()}if(2&p){const i=a.oxw(2);a.Tol(i.contentStyleClass),a.Q6J("ngStyle",i.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",a.VKq(11,Kf,a.kEZ(7,Vf,i.showTransitionOptions,i.hideTransitionOptions,i.transformOptions[i.modal?i.overlayResponsiveDirection:"default"]))),a.xp6(3),a.Q6J("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",a.VKq(15,Wf,a.VKq(13,un,i.overlayMode)))}}const Vs=function(p,k,i,l,h,b,z,K,te,fe,ve,Pe,Je,He){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":p,"p-overlay-center":k,"p-overlay-top":i,"p-overlay-top-start":l,"p-overlay-top-end":h,"p-overlay-bottom":b,"p-overlay-bottom-start":z,"p-overlay-bottom-end":K,"p-overlay-left":te,"p-overlay-left-start":fe,"p-overlay-left-end":ve,"p-overlay-right":Pe,"p-overlay-right-start":Je,"p-overlay-right-end":He}};function Ks(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",1,2),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onOverlayClick(h))}),a.YNc(2,lo,4,17,"div",0),a.qZA()}if(2&p){const i=a.oxw();a.Tol(i.styleClass),a.Q6J("ngStyle",i.style)("ngClass",a.rFY(5,Vs,[i.modal,i.modal&&"center"===i.overlayResponsiveDirection,i.modal&&"top"===i.overlayResponsiveDirection,i.modal&&"top-start"===i.overlayResponsiveDirection,i.modal&&"top-end"===i.overlayResponsiveDirection,i.modal&&"bottom"===i.overlayResponsiveDirection,i.modal&&"bottom-start"===i.overlayResponsiveDirection,i.modal&&"bottom-end"===i.overlayResponsiveDirection,i.modal&&"left"===i.overlayResponsiveDirection,i.modal&&"left-start"===i.overlayResponsiveDirection,i.modal&&"left-end"===i.overlayResponsiveDirection,i.modal&&"right"===i.overlayResponsiveDirection,i.modal&&"right-start"===i.overlayResponsiveDirection,i.modal&&"right-end"===i.overlayResponsiveDirection])),a.xp6(2),a.Q6J("ngIf",i.visible)}}const Mr=["*"],Gf={provide:si.JU,useExisting:(0,a.Gpc)(()=>$d),multi:!0},co=(0,bt.oQ)([(0,bt.oB)({transform:"{{transform}}",opacity:0}),(0,bt.jt)("{{showTransitionParams}}")]),Cc=(0,bt.oQ)([(0,bt.jt)("{{hideTransitionParams}}",(0,bt.oB)({transform:"{{transform}}",opacity:0}))]);let $d=(()=>{class p{constructor(i,l,h,b,z,K){this.document=i,this.el=l,this.renderer=h,this.config=b,this.overlayService=z,this.zone=K,this.visibleChange=new a.vpe,this.onBeforeShow=new a.vpe,this.onShow=new a.vpe,this.onBeforeHide=new a.vpe,this.onHide=new a.vpe,this.onAnimationStart=new a.vpe,this.onAnimationDone=new a.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(i){this._mode=i}get style(){return me.gb.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(i){this._style=i}get styleClass(){return me.gb.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(i){this._styleClass=i}get contentStyle(){return me.gb.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(i){this._contentStyle=i}get contentStyleClass(){return me.gb.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(i){this._contentStyleClass=i}get target(){const i=this._target||this.overlayOptions?.target;return void 0===i?"@prev":i}set target(i){this._target=i}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(i){this._appendTo=i}get autoZIndex(){const i=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===i||i}set autoZIndex(i){this._autoZIndex=i}get baseZIndex(){const i=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===i?0:i}set baseZIndex(i){this._baseZIndex=i}get showTransitionOptions(){const i=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===i?".12s cubic-bezier(0, 0, 0.2, 1)":i}set showTransitionOptions(i){this._showTransitionOptions=i}get hideTransitionOptions(){const i=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===i?".1s linear":i}set hideTransitionOptions(i){this._hideTransitionOptions=i}get listener(){return this._listener||this.overlayOptions?.listener}set listener(i){this._listener=i}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(i){this._responsive=i}get options(){return this._options}set options(i){this._options=i}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return se.p.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(i=>{i.getType(),this.contentTemplate=i.template})}show(i,l=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),l&&se.p.focus(this.targetEl),this.modal&&se.p.addClass(this.document?.body,"p-overflow-hidden")}hide(i,l=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),l&&se.p.focus(this.targetEl),this.modal&&se.p.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&se.p.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(i){this._visible=i,this.visibleChange.emit(i)}onOverlayClick(i){this.isOverlayClicked=!0}onOverlayContentClick(i){this.overlayService.add({originalEvent:i,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(i){switch(i.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&me.P9.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),se.p.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&se.p.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",i)}onOverlayContentAnimationDone(i){const l=this.overlayEl||i.element.parentElement;switch(i.toState){case"visible":this.show(l,!0),this.bindListeners();break;case"void":this.hide(l,!0),this.unbindListeners(),se.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),me.P9.clear(l),this.modalVisible=!1}this.handleEvents("onAnimationDone",i)}handleEvents(i,l){this[i].emit(l),this.options&&this.options[i]&&this.options[i](l),this.config?.overlayOptions&&this.config?.overlayOptions[i]&&this.config?.overlayOptions[i](l)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new se.V(this.targetEl,i=>{(!this.listener||this.listener(i,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(i,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",i=>{const h=!(this.targetEl&&(this.targetEl.isSameNode(i.target)||!this.isOverlayClicked&&this.targetEl.contains(i.target))||this.isOverlayContentClicked);(this.listener?this.listener(i,{type:"outside",mode:this.overlayMode,valid:3!==i.which&&h}):h)&&this.hide(i),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",i=>{(this.listener?this.listener(i,{type:"resize",mode:this.overlayMode,valid:!se.p.isTouchDevice()}):!se.p.isTouchDevice())&&this.hide(i,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",i=>{this.overlayOptions.hideOnEscape&&27===i.keyCode&&(this.listener?this.listener(i,{type:"keydown",mode:this.overlayMode,valid:!se.p.isTouchDevice()}):!se.p.isTouchDevice())&&this.zone.run(()=>{this.hide(i,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(se.p.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),me.P9.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(we.K0),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Ge.b4),a.Y36(Ge.F0),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-overlay"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,Ge.jx,4),2&i){let b;a.iGM(b=a.CRH())&&(l.templates=b)}},viewQuery:function(i,l){if(1&i&&(a.Gf(Bd,5),a.Gf(ao,5)),2&i){let h;a.iGM(h=a.CRH())&&(l.overlayViewChild=h.first),a.iGM(h=a.CRH())&&(l.contentViewChild=h.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[a._Bn([Gf])],ngContentSelectors:Mr,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,l){1&i&&(a.F$t(),a.YNc(0,Ks,3,20,"div",0)),2&i&&a.Q6J("ngIf",l.modalVisible)},dependencies:[we.mk,we.O5,we.tP,we.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,bt.X$)("overlayContentAnimation",[(0,bt.eR)(":enter",[(0,bt._7)(co)]),(0,bt.eR)(":leave",[(0,bt._7)(Cc)])])]},changeDetection:0}),p})(),Fr=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Ge.m8,Ge.m8]}),p})();const Tc=["element"],uo=["content"];function kc(p,k){1&p&&a.GkF(0)}const Ws=function(p,k){return{$implicit:p,options:k}};function Sc(p,k){if(1&p&&(a.ynx(0),a.YNc(1,kc,1,0,"ng-container",7),a.BQk()),2&p){const i=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",a.WLB(2,Ws,i.loadedItems,i.getContentOptions()))}}function Rt(p,k){1&p&&a.GkF(0)}function Uf(p,k){if(1&p&&(a.ynx(0),a.YNc(1,Rt,1,0,"ng-container",7),a.BQk()),2&p){const i=k.$implicit,l=k.index,h=a.oxw(3);a.xp6(1),a.Q6J("ngTemplateOutlet",h.itemTemplate)("ngTemplateOutletContext",a.WLB(2,Ws,i,h.getOptions(l)))}}const Yf=function(p){return{"p-scroller-loading":p}};function _t(p,k){if(1&p&&(a.TgZ(0,"div",8,9),a.YNc(2,Uf,2,5,"ng-container",10),a.qZA()),2&p){const i=a.oxw(2);a.Q6J("ngClass",a.VKq(4,Yf,i.d_loading))("ngStyle",i.contentStyle),a.xp6(2),a.Q6J("ngForOf",i.loadedItems)("ngForTrackBy",i._trackBy||i.index)}}function Nd(p,k){if(1&p&&a._UZ(0,"div",11),2&p){const i=a.oxw(2);a.Q6J("ngStyle",i.spacerStyle)}}function qf(p,k){1&p&&a.GkF(0)}const Qf=function(p){return{numCols:p}},jd=function(p){return{options:p}};function ho(p,k){if(1&p&&(a.ynx(0),a.YNc(1,qf,1,0,"ng-container",7),a.BQk()),2&p){const i=k.index,l=a.oxw(4);a.xp6(1),a.Q6J("ngTemplateOutlet",l.loaderTemplate)("ngTemplateOutletContext",a.VKq(4,jd,l.getLoaderOptions(i,l.both&&a.VKq(2,Qf,l._numItemsInViewport.cols))))}}function Hd(p,k){if(1&p&&(a.ynx(0),a.YNc(1,ho,2,6,"ng-container",14),a.BQk()),2&p){const i=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",i.loaderArr)}}function Zf(p,k){1&p&&a.GkF(0)}const Gs=function(){return{styleClass:"p-scroller-loading-icon"}};function Vd(p,k){if(1&p&&(a.ynx(0),a.YNc(1,Zf,1,0,"ng-container",7),a.BQk()),2&p){const i=a.oxw(4);a.xp6(1),a.Q6J("ngTemplateOutlet",i.loaderIconTemplate)("ngTemplateOutletContext",a.VKq(3,jd,a.DdM(2,Gs)))}}function Ec(p,k){1&p&&a._UZ(0,"i",16)}function Oc(p,k){if(1&p&&(a.YNc(0,Vd,2,5,"ng-container",0),a.YNc(1,Ec,1,0,"ng-template",null,15,a.W1O)),2&p){const i=a.MAs(2),l=a.oxw(3);a.Q6J("ngIf",l.loaderIconTemplate)("ngIfElse",i)}}const Xn=function(p){return{"p-component-overlay":p}};function zt(p,k){if(1&p&&(a.TgZ(0,"div",12),a.YNc(1,Hd,2,1,"ng-container",0),a.YNc(2,Oc,3,2,"ng-template",null,13,a.W1O),a.qZA()),2&p){const i=a.MAs(3),l=a.oxw(2);a.Q6J("ngClass",a.VKq(3,Xn,!l.loaderTemplate)),a.xp6(1),a.Q6J("ngIf",l.loaderTemplate)("ngIfElse",i)}}const Ic=function(p,k,i){return{"p-scroller":!0,"p-scroller-inline":p,"p-both-scroll":k,"p-horizontal-scroll":i}};function Jf(p,k){if(1&p){const i=a.EpF();a.ynx(0),a.TgZ(1,"div",2,3),a.NdJ("scroll",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onContainerScroll(h))}),a.YNc(3,Sc,2,5,"ng-container",0),a.YNc(4,_t,3,6,"ng-template",null,4,a.W1O),a.YNc(6,Nd,1,1,"div",5),a.YNc(7,zt,4,5,"div",6),a.qZA(),a.BQk()}if(2&p){const i=a.MAs(5),l=a.oxw();a.xp6(1),a.Tol(l._styleClass),a.Q6J("ngStyle",l._style)("ngClass",a.kEZ(10,Ic,l.inline,l.both,l.horizontal)),a.uIk("id",l._id)("tabindex",l.tabindex),a.xp6(2),a.Q6J("ngIf",l.contentTemplate)("ngIfElse",i),a.xp6(3),a.Q6J("ngIf",l._showSpacer),a.xp6(1),a.Q6J("ngIf",!l.loaderDisabled&&l._showLoader&&l.d_loading)}}function ut(p,k){1&p&&a.GkF(0)}const Si=function(p,k){return{rows:p,columns:k}};function Dc(p,k){if(1&p&&(a.ynx(0),a.YNc(1,ut,1,0,"ng-container",7),a.BQk()),2&p){const i=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",a.WLB(5,Ws,i.items,a.WLB(2,Si,i._items,i.loadedColumns)))}}function Mc(p,k){if(1&p&&(a.Hsn(0),a.YNc(1,Dc,2,8,"ng-container",17)),2&p){const i=a.oxw();a.xp6(1),a.Q6J("ngIf",i.contentTemplate)}}const Xf=["*"];let ev=(()=>{class p{constructor(i,l){this.cd=i,this.zone=l,this.onLazyLoad=new a.vpe,this.onScroll=new a.vpe,this.onScrollIndexChange=new a.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(i){this._id=i}get style(){return this._style}set style(i){this._style=i}get styleClass(){return this._styleClass}set styleClass(i){this._styleClass=i}get tabindex(){return this._tabindex}set tabindex(i){this._tabindex=i}get items(){return this._items}set items(i){this._items=i}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i}get scrollHeight(){return this._scrollHeight}set scrollHeight(i){this._scrollHeight=i}get scrollWidth(){return this._scrollWidth}set scrollWidth(i){this._scrollWidth=i}get orientation(){return this._orientation}set orientation(i){this._orientation=i}get step(){return this._step}set step(i){this._step=i}get delay(){return this._delay}set delay(i){this._delay=i}get resizeDelay(){return this._resizeDelay}set resizeDelay(i){this._resizeDelay=i}get appendOnly(){return this._appendOnly}set appendOnly(i){this._appendOnly=i}get inline(){return this._inline}set inline(i){this._inline=i}get lazy(){return this._lazy}set lazy(i){this._lazy=i}get disabled(){return this._disabled}set disabled(i){this._disabled=i}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(i){this._loaderDisabled=i}get columns(){return this._columns}set columns(i){this._columns=i}get showSpacer(){return this._showSpacer}set showSpacer(i){this._showSpacer=i}get showLoader(){return this._showLoader}set showLoader(i){this._showLoader=i}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(i){this._numToleratedItems=i}get loading(){return this._loading}set loading(i){this._loading=i}get autoSize(){return this._autoSize}set autoSize(i){this._autoSize=i}get trackBy(){return this._trackBy}set trackBy(i){this._trackBy=i}get options(){return this._options}set options(i){this._options=i,i&&"object"==typeof i&&Object.entries(i).forEach(([l,h])=>this[`_${l}`]!==h&&(this[`_${l}`]=h))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(i=>this._columns?i:i.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(i){let l=!1;if(i.loading){const{previousValue:h,currentValue:b}=i.loading;this.lazy&&h!==b&&b!==this.d_loading&&(this.d_loading=b,l=!0)}if(i.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),i.numToleratedItems){const{previousValue:h,currentValue:b}=i.numToleratedItems;h!==b&&b!==this.d_numToleratedItems&&(this.d_numToleratedItems=b)}if(i.options){const{previousValue:h,currentValue:b}=i.options;this.lazy&&h?.loading!==b?.loading&&b?.loading!==this.d_loading&&(this.d_loading=b.loading,l=!0),h?.numToleratedItems!==b?.numToleratedItems&&b?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=b.numToleratedItems)}this.initialized&&!l&&(i.items?.previousValue?.length!==i.items?.currentValue?.length||i.itemSize||i.scrollHeight||i.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;case"item":default:this.itemTemplate=i.template;break;case"loader":this.loaderTemplate=i.template;break;case"loadericon":this.loaderIconTemplate=i.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){se.p.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=se.p.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=se.p.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=se.p.getWidth(this.contentEl),this.defaultContentHeight=se.p.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(i){this.contentEl=i||this.contentViewChild?.nativeElement||se.p.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(i){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(i)}scrollToIndex(i,l="auto"){const{numToleratedItems:h}=this.calculateNumItems(),b=this.getContentPosition(),z=(ve=0,Pe)=>ve<=Pe?0:ve,K=(ve,Pe,Je)=>ve*Pe+Je,te=(ve=0,Pe=0)=>this.scrollTo({left:ve,top:Pe,behavior:l});let fe=0;this.both?(fe={rows:z(i[0],h[0]),cols:z(i[1],h[1])},te(K(fe.cols,this._itemSize[1],b.left),K(fe.rows,this._itemSize[0],b.top))):(fe=z(i,h),this.horizontal?te(K(fe,this._itemSize,b.left),0):te(0,K(fe,this._itemSize,b.top))),this.isRangeChanged=this.first!==fe,this.first=fe}scrollInView(i,l,h="auto"){if(l){const{first:b,viewport:z}=this.getRenderedRange(),K=(ve=0,Pe=0)=>this.scrollTo({left:ve,top:Pe,behavior:h}),fe="to-end"===l;if("to-start"===l){if(this.both)z.first.rows-b.rows>i[0]?K(z.first.cols*this._itemSize[1],(z.first.rows-1)*this._itemSize[0]):z.first.cols-b.cols>i[1]&&K((z.first.cols-1)*this._itemSize[1],z.first.rows*this._itemSize[0]);else if(z.first-b>i){const ve=(z.first-1)*this._itemSize;this.horizontal?K(ve,0):K(0,ve)}}else if(fe)if(this.both)z.last.rows-b.rows<=i[0]+1?K(z.first.cols*this._itemSize[1],(z.first.rows+1)*this._itemSize[0]):z.last.cols-b.cols<=i[1]+1&&K((z.first.cols+1)*this._itemSize[1],z.first.rows*this._itemSize[0]);else if(z.last-b<=i+1){const ve=(z.first+1)*this._itemSize;this.horizontal?K(ve,0):K(0,ve)}}else this.scrollToIndex(i,h)}getRenderedRange(){const i=(b,z)=>Math.floor(b/(z||b));let l=this.first,h=0;if(this.elementViewChild?.nativeElement){const{scrollTop:b,scrollLeft:z}=this.elementViewChild.nativeElement;this.both?(l={rows:i(b,this._itemSize[0]),cols:i(z,this._itemSize[1])},h={rows:l.rows+this.numItemsInViewport.rows,cols:l.cols+this.numItemsInViewport.cols}):(l=i(this.horizontal?z:b,this._itemSize),h=l+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:l,last:h}}}calculateNumItems(){const i=this.getContentPosition(),l=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-i.left:0,h=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-i.top:0,b=(fe,ve)=>Math.ceil(fe/(ve||fe)),z=fe=>Math.ceil(fe/2),K=this.both?{rows:b(h,this._itemSize[0]),cols:b(l,this._itemSize[1])}:b(this.horizontal?l:h,this._itemSize);return{numItemsInViewport:K,numToleratedItems:this.d_numToleratedItems||(this.both?[z(K.rows),z(K.cols)]:z(K))}}calculateOptions(){const{numItemsInViewport:i,numToleratedItems:l}=this.calculateNumItems(),h=(K,te,fe,ve=!1)=>this.getLast(K+te+(K<fe?2:3)*fe,ve),b=this.first,z=this.both?{rows:h(this.first.rows,i.rows,l[0]),cols:h(this.first.cols,i.cols,l[1],!0)}:h(this.first,i,l);this.last=z,this.numItemsInViewport=i,this.d_numToleratedItems=l,this.showLoader&&(this.loaderArr=this.both?Array.from({length:i.rows}).map(()=>Array.from({length:i.cols})):Array.from({length:i})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:b.cols}:0:b,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[i,l]=[se.p.getWidth(this.contentEl),se.p.getHeight(this.contentEl)];i!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),l!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[h,b]=[se.p.getWidth(this.elementViewChild.nativeElement),se.p.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=h<this.defaultWidth?h+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=b<this.defaultHeight?b+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(i=0,l=!1){return this._items?Math.min(l?(this._columns||this._items[0]).length:this._items.length,i):0}getContentPosition(){if(this.contentEl){const i=getComputedStyle(this.contentEl),l=parseFloat(i.paddingLeft)+Math.max(parseFloat(i.left)||0,0),h=parseFloat(i.paddingRight)+Math.max(parseFloat(i.right)||0,0),b=parseFloat(i.paddingTop)+Math.max(parseFloat(i.top)||0,0),z=parseFloat(i.paddingBottom)+Math.max(parseFloat(i.bottom)||0,0);return{left:l,right:h,top:b,bottom:z,x:l+h,y:b+z}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const i=this.elementViewChild.nativeElement.parentElement.parentElement,l=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||i.offsetWidth}px`,h=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||i.offsetHeight}px`,b=(z,K)=>this.elementViewChild.nativeElement.style[z]=K;this.both||this.horizontal?(b("height",h),b("width",l)):b("height",h)}}setSpacerSize(){if(this._items){const i=this.getContentPosition(),l=(h,b,z,K=0)=>this.spacerStyle={...this.spacerStyle,[`${h}`]:(b||[]).length*z+K+"px"};this.both?(l("height",this._items,this._itemSize[0],i.y),l("width",this._columns||this._items[1],this._itemSize[1],i.x)):this.horizontal?l("width",this._columns||this._items,this._itemSize,i.x):l("height",this._items,this._itemSize,i.y)}}setContentPosition(i){if(this.contentEl&&!this._appendOnly){const l=i?i.first:this.first,h=(z,K)=>z*K,b=(z=0,K=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${z}px, ${K}px, 0)`};if(this.both)b(h(l.cols,this._itemSize[1]),h(l.rows,this._itemSize[0]));else{const z=h(l,this._itemSize);this.horizontal?b(z,0):b(0,z)}}}onScrollPositionChange(i){const l=i.target,h=this.getContentPosition(),b=(Qe,Tt)=>Qe?Qe>Tt?Qe-Tt:Qe:0,z=(Qe,Tt)=>Math.floor(Qe/(Tt||Qe)),K=(Qe,Tt,Bt,Nt,xi,qi)=>Qe<=xi?xi:qi?Bt-Nt-xi:Tt+xi-1,te=(Qe,Tt,Bt,Nt,xi,qi,zn)=>Qe<=qi?0:Math.max(0,zn?Qe<Tt?Bt:Qe-qi:Qe>Tt?Bt:Qe-2*qi),fe=(Qe,Tt,Bt,Nt,xi,qi=!1)=>{let zn=Tt+Nt+2*xi;return Qe>=xi&&(zn+=xi+1),this.getLast(zn,qi)},ve=b(l.scrollTop,h.top),Pe=b(l.scrollLeft,h.left);let Je=this.both?{rows:0,cols:0}:0,He=this.last,wt=!1,at=this.lastScrollPos;if(this.both){const Qe=this.lastScrollPos.top<=ve,Tt=this.lastScrollPos.left<=Pe;if(!this._appendOnly||this._appendOnly&&(Qe||Tt)){const Bt={rows:z(ve,this._itemSize[0]),cols:z(Pe,this._itemSize[1])},Nt={rows:K(Bt.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],Qe),cols:K(Bt.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Tt)};Je={rows:te(Bt.rows,Nt.rows,this.first.rows,0,0,this.d_numToleratedItems[0],Qe),cols:te(Bt.cols,Nt.cols,this.first.cols,0,0,this.d_numToleratedItems[1],Tt)},He={rows:fe(Bt.rows,Je.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:fe(Bt.cols,Je.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},wt=Je.rows!==this.first.rows||He.rows!==this.last.rows||Je.cols!==this.first.cols||He.cols!==this.last.cols||this.isRangeChanged,at={top:ve,left:Pe}}}else{const Qe=this.horizontal?Pe:ve,Tt=this.lastScrollPos<=Qe;if(!this._appendOnly||this._appendOnly&&Tt){const Bt=z(Qe,this._itemSize);Je=te(Bt,K(Bt,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Tt),this.first,0,0,this.d_numToleratedItems,Tt),He=fe(Bt,Je,0,this.numItemsInViewport,this.d_numToleratedItems),wt=Je!==this.first||He!==this.last||this.isRangeChanged,at=Qe}}return{first:Je,last:He,isRangeChanged:wt,scrollPos:at}}onScrollChange(i){const{first:l,last:h,isRangeChanged:b,scrollPos:z}=this.onScrollPositionChange(i);if(b){const K={first:l,last:h};if(this.setContentPosition(K),this.first=l,this.last=h,this.lastScrollPos=z,this.handleEvents("onScrollIndexChange",K),this._lazy&&this.isPageChanged){const te={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):l,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:h,this.items.length)};(this.lazyLoadState.first!==te.first||this.lazyLoadState.last!==te.last)&&this.handleEvents("onLazyLoad",te),this.lazyLoadState=te}}}onContainerScroll(i){if(this.handleEvents("onScroll",{originalEvent:i}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:l}=this.onScrollPositionChange(i);(l||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(i),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(i)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(se.p.isVisible(this.elementViewChild?.nativeElement)){const[i,l]=[se.p.getWidth(this.elementViewChild.nativeElement),se.p.getHeight(this.elementViewChild.nativeElement)],[h,b]=[i!==this.defaultWidth,l!==this.defaultHeight];(this.both?h||b:this.horizontal?h:this.vertical&&b)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=i,this.defaultHeight=l,this.defaultContentWidth=se.p.getWidth(this.contentEl),this.defaultContentHeight=se.p.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(i,l){return this.options&&this.options[i]?this.options[i](l):this[i].emit(l)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:i=>this.getOptions(i),loading:this.d_loading,getLoaderOptions:(i,l)=>this.getLoaderOptions(i,l),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(i){const l=(this._items||[]).length,h=this.both?this.first.rows+i:this.first+i;return{index:h,count:l,first:0===h,last:h===l-1,even:h%2==0,odd:h%2!=0}}getLoaderOptions(i,l){const h=this.loaderArr.length;return{index:i,count:h,first:0===i,last:i===h-1,even:i%2==0,odd:i%2!=0,...l}}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.sBO),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-scroller"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,Ge.jx,4),2&i){let b;a.iGM(b=a.CRH())&&(l.templates=b)}},viewQuery:function(i,l){if(1&i&&(a.Gf(Tc,5),a.Gf(uo,5)),2&i){let h;a.iGM(h=a.CRH())&&(l.elementViewChild=h.first),a.iGM(h=a.CRH())&&(l.contentViewChild=h.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[a.TTD],ngContentSelectors:Xf,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(i,l){if(1&i&&(a.F$t(),a.YNc(0,Jf,8,14,"ng-container",0),a.YNc(1,Mc,2,1,"ng-template",null,1,a.W1O)),2&i){const h=a.MAs(2);a.Q6J("ngIf",!l._disabled)("ngIfElse",h)}},dependencies:[we.mk,we.sg,we.O5,we.tP,we.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),p})(),po=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})(),tv=(()=>{class p{constructor(i,l,h,b,z){this.el=i,this.zone=l,this.config=h,this.renderer=b,this.changeDetector=z,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(i){i.tooltipPosition&&this.setOption({tooltipPosition:i.tooltipPosition.currentValue}),i.tooltipEvent&&this.setOption({tooltipEvent:i.tooltipEvent.currentValue}),i.appendTo&&this.setOption({appendTo:i.appendTo.currentValue}),i.positionStyle&&this.setOption({positionStyle:i.positionStyle.currentValue}),i.tooltipStyleClass&&this.setOption({tooltipStyleClass:i.tooltipStyleClass.currentValue}),i.tooltipZIndex&&this.setOption({tooltipZIndex:i.tooltipZIndex.currentValue}),i.escape&&this.setOption({escape:i.escape.currentValue}),i.showDelay&&this.setOption({showDelay:i.showDelay.currentValue}),i.hideDelay&&this.setOption({hideDelay:i.hideDelay.currentValue}),i.life&&this.setOption({life:i.life.currentValue}),i.positionTop&&this.setOption({positionTop:i.positionTop.currentValue}),i.positionLeft&&this.setOption({positionLeft:i.positionLeft.currentValue}),i.disabled&&this.setOption({disabled:i.disabled.currentValue}),i.text&&(this.setOption({tooltipLabel:i.text.currentValue}),this.active&&(i.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),i.autoHide&&this.setOption({autoHide:i.autoHide.currentValue}),i.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...i.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(i){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(i){(this.isAutoHide()||!(se.p.hasClass(i.toElement,"p-tooltip")||se.p.hasClass(i.toElement,"p-tooltip-arrow")||se.p.hasClass(i.toElement,"p-tooltip-text")||se.p.hasClass(i.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(i){this.activate()}onBlur(i){this.deactivate()}onInputClick(i){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},i)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let i=document.createElement("div");i.className="p-tooltip-arrow",this.container.appendChild(i),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?se.p.appendChild(this.container,this.el.nativeElement):se.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",l=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),se.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?me.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&me.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let i=this.el.nativeElement.getBoundingClientRect();return{left:i.left+se.p.getWindowScrollLeft(),top:i.top+se.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let i=this.getHostOffset(),l=i.left+se.p.getOuterWidth(this.el.nativeElement),h=i.top+(se.p.getOuterHeight(this.el.nativeElement)-se.p.getOuterHeight(this.container))/2;this.container.style.left=l+this.getOption("positionLeft")+"px",this.container.style.top=h+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let i=this.getHostOffset(),l=i.left-se.p.getOuterWidth(this.container),h=i.top+(se.p.getOuterHeight(this.el.nativeElement)-se.p.getOuterHeight(this.container))/2;this.container.style.left=l+this.getOption("positionLeft")+"px",this.container.style.top=h+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let i=this.getHostOffset(),l=i.left+(se.p.getOuterWidth(this.el.nativeElement)-se.p.getOuterWidth(this.container))/2,h=i.top-se.p.getOuterHeight(this.container);this.container.style.left=l+this.getOption("positionLeft")+"px",this.container.style.top=h+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let i=this.getHostOffset(),l=i.left+(se.p.getOuterWidth(this.el.nativeElement)-se.p.getOuterWidth(this.container))/2,h=i.top+se.p.getOuterHeight(this.el.nativeElement);this.container.style.left=l+this.getOption("positionLeft")+"px",this.container.style.top=h+this.getOption("positionTop")+"px"}setOption(i){this._tooltipOptions={...this._tooltipOptions,...i}}getOption(i){return this._tooltipOptions[i]}getTarget(i){return se.p.hasClass(i,"p-inputwrapper")?se.p.findSingle(i,"input"):i}preAlign(i){this.container.style.left="-999px",this.container.style.top="-999px";let l="p-tooltip p-component p-tooltip-"+i;this.container.className=this.getOption("tooltipStyleClass")?l+" "+this.getOption("tooltipStyleClass"):l}isOutOfBounds(){let i=this.container.getBoundingClientRect(),l=i.top,h=i.left,b=se.p.getOuterWidth(this.container),z=se.p.getOuterHeight(this.container),K=se.p.getViewport();return h+b>K.width||h<0||l<0||l+z>K.height}onWindowResize(i){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new se.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):se.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&me.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Ge.b4),a.Y36(a.Qsj),a.Y36(a.sBO))},p.\u0275dir=a.lG2({type:p,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[a.TTD]}),p})(),iv=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})();function Kd(p,k){if(1&p&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&p){const i=a.oxw();let l;a.xp6(1),a.Oqu(null!==(l=i.label)&&void 0!==l?l:"empty")}}function nv(p,k){1&p&&a.GkF(0)}const dn=function(p){return{height:p}},Ga=function(p,k){return{"p-dropdown-item":!0,"p-highlight":p,"p-disabled":k}},hn=function(p){return{$implicit:p}},fo=["container"],Ua=["filter"],rv=["in"],ei=["editableInput"],ov=["items"],sv=["scroller"],Wd=["overlay"];function Gd(p,k){if(1&p&&(a.ynx(0),a._uU(1),a.BQk()),2&p){const i=a.oxw(2);a.xp6(1),a.Oqu(i.label||"empty")}}function av(p,k){1&p&&a.GkF(0)}const lv=function(p){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":p}};function cv(p,k){if(1&p&&(a.TgZ(0,"span",14),a.YNc(1,Gd,2,1,"ng-container",15),a.YNc(2,av,1,0,"ng-container",16),a.qZA()),2&p){const i=a.oxw();a.Q6J("ngClass",a.VKq(9,lv,null==i.label||0===i.label.length))("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),a.uIk("id",i.labelId),a.xp6(1),a.Q6J("ngIf",!i.selectedItemTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",a.VKq(11,hn,i.selectedOption))}}const uv=function(p){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":p}};function Fc(p,k){if(1&p&&(a.TgZ(0,"span",17),a._uU(1),a.qZA()),2&p){const i=a.oxw();a.Q6J("ngClass",a.VKq(2,uv,null==i.placeholder||0===i.placeholder.length)),a.xp6(1),a.Oqu(i.placeholder||"empty")}}function dv(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"input",18,19),a.NdJ("input",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onEditableInputChange(h))})("focus",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onEditableInputFocus(h))})("blur",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onInputBlur(h))}),a.qZA()}if(2&p){const i=a.oxw();a.Q6J("disabled",i.disabled),a.uIk("maxlength",i.maxlength)("placeholder",i.placeholder)("aria-expanded",i.overlayVisible)}}function hv(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"i",20),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.clear(h))}),a.qZA()}}function pv(p,k){1&p&&a.GkF(0)}function pn(p,k){1&p&&a.GkF(0)}const Ud=function(p){return{options:p}};function Yd(p,k){if(1&p&&(a.ynx(0),a.YNc(1,pn,1,0,"ng-container",16),a.BQk()),2&p){const i=a.oxw(3);a.xp6(1),a.Q6J("ngTemplateOutlet",i.filterTemplate)("ngTemplateOutletContext",a.VKq(2,Ud,i.filterOptions))}}function Rc(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",30)(1,"input",31,32),a.NdJ("keydown.enter",function(h){return h.preventDefault()})("keydown",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onKeydown(h,!1))})("input",function(h){a.CHM(i);const b=a.oxw(3);return a.KtG(b.onFilterInputChange(h))}),a.qZA(),a._UZ(3,"span",33),a.qZA()}if(2&p){const i=a.oxw(3);a.xp6(1),a.Q6J("value",i.filterValue||""),a.uIk("placeholder",i.filterPlaceholder)("aria-label",i.ariaFilterLabel)("aria-activedescendant",i.overlayVisible?"p-highlighted-option":i.labelId)}}function fv(p,k){if(1&p&&(a.TgZ(0,"div",27),a.NdJ("click",function(l){return l.stopPropagation()}),a.YNc(1,Yd,2,4,"ng-container",28),a.YNc(2,Rc,4,4,"ng-template",null,29,a.W1O),a.qZA()),2&p){const i=a.MAs(3),l=a.oxw(2);a.xp6(1),a.Q6J("ngIf",l.filterTemplate)("ngIfElse",i)}}function qd(p,k){1&p&&a.GkF(0)}const Qd=function(p,k){return{$implicit:p,options:k}};function vv(p,k){if(1&p&&a.YNc(0,qd,1,0,"ng-container",16),2&p){const i=k.$implicit,l=k.options;a.oxw(2);const h=a.MAs(7);a.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",a.WLB(2,Qd,i,l))}}function gv(p,k){1&p&&a.GkF(0)}function wn(p,k){if(1&p&&a.YNc(0,gv,1,0,"ng-container",16),2&p){const i=k.options,l=a.oxw(4);a.Q6J("ngTemplateOutlet",l.loaderTemplate)("ngTemplateOutletContext",a.VKq(2,Ud,i))}}function $t(p,k){1&p&&(a.ynx(0),a.YNc(1,wn,1,4,"ng-template",36),a.BQk())}function Pc(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"p-scroller",34,35),a.NdJ("onLazyLoad",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.onLazyLoad.emit(h))}),a.YNc(2,vv,1,5,"ng-template",13),a.YNc(3,$t,2,0,"ng-container",15),a.qZA()}if(2&p){const i=a.oxw(2);a.Akn(a.VKq(8,dn,i.scrollHeight)),a.Q6J("items",i.optionsToDisplay)("itemSize",i.virtualScrollItemSize||i._itemSize)("autoSize",!0)("lazy",i.lazy)("options",i.virtualScrollOptions),a.xp6(3),a.Q6J("ngIf",i.loaderTemplate)}}function Ac(p,k){1&p&&a.GkF(0)}const mv=function(){return{}};function yv(p,k){if(1&p&&(a.ynx(0),a.YNc(1,Ac,1,0,"ng-container",16),a.BQk()),2&p){a.oxw();const i=a.MAs(7),l=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",a.WLB(3,Qd,l.optionsToDisplay,a.DdM(2,mv)))}}function bv(p,k){if(1&p&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&p){const i=a.oxw().$implicit,l=a.oxw(4);a.xp6(1),a.Oqu(l.getOptionGroupLabel(i)||"empty")}}function Yt(p,k){1&p&&a.GkF(0)}function _v(p,k){1&p&&a.GkF(0)}const Lc=function(p,k){return{$implicit:p,selectedOption:k}};function wv(p,k){if(1&p&&(a.TgZ(0,"li",42),a.YNc(1,bv,2,1,"span",15),a.YNc(2,Yt,1,0,"ng-container",16),a.qZA(),a.YNc(3,_v,1,0,"ng-container",16)),2&p){const i=k.$implicit,l=a.oxw(2).options,h=a.MAs(5),b=a.oxw(2);a.Q6J("ngStyle",a.VKq(6,dn,l.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!b.groupTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",b.groupTemplate)("ngTemplateOutletContext",a.VKq(8,hn,i)),a.xp6(1),a.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",a.WLB(10,Lc,b.getOptionGroupChildren(i),b.selectedOption))}}function vo(p,k){if(1&p&&(a.ynx(0),a.YNc(1,wv,4,13,"ng-template",41),a.BQk()),2&p){const i=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",i)}}function zc(p,k){1&p&&a.GkF(0)}function Us(p,k){if(1&p&&(a.ynx(0),a.YNc(1,zc,1,0,"ng-container",16),a.BQk()),2&p){const i=a.oxw().$implicit,l=a.MAs(5),h=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",a.WLB(2,Lc,i,h.selectedOption))}}function Ys(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"p-dropdownItem",43),a.NdJ("onClick",function(h){a.CHM(i);const b=a.oxw(4);return a.KtG(b.onItemClick(h))}),a.qZA()}if(2&p){const i=k.$implicit,l=a.oxw().selectedOption,h=a.oxw(3);a.Q6J("option",i)("selected",l==i)("label",h.getOptionLabel(i))("disabled",h.isOptionDisabled(i))("template",h.itemTemplate)}}function xv(p,k){1&p&&a.YNc(0,Ys,1,5,"ng-template",41),2&p&&a.Q6J("ngForOf",k.$implicit)}function Cv(p,k){if(1&p&&(a.ynx(0),a._uU(1),a.BQk()),2&p){const i=a.oxw(4);a.xp6(1),a.hij(" ",i.emptyFilterMessageLabel," ")}}function Tv(p,k){1&p&&a.GkF(0,null,45)}function kv(p,k){if(1&p&&(a.TgZ(0,"li",44),a.YNc(1,Cv,2,1,"ng-container",28),a.YNc(2,Tv,2,0,"ng-container",22),a.qZA()),2&p){const i=a.oxw().options,l=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,dn,i.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!l.emptyFilterTemplate&&!l.emptyTemplate)("ngIfElse",l.emptyFilter),a.xp6(1),a.Q6J("ngTemplateOutlet",l.emptyFilterTemplate||l.emptyTemplate)}}function Zd(p,k){if(1&p&&(a.ynx(0),a._uU(1),a.BQk()),2&p){const i=a.oxw(4);a.xp6(1),a.hij(" ",i.emptyMessageLabel," ")}}function Sv(p,k){1&p&&a.GkF(0,null,46)}function xn(p,k){if(1&p&&(a.TgZ(0,"li",44),a.YNc(1,Zd,2,1,"ng-container",28),a.YNc(2,Sv,2,0,"ng-container",22),a.qZA()),2&p){const i=a.oxw().options,l=a.oxw(2);a.Q6J("ngStyle",a.VKq(4,dn,i.itemSize+"px")),a.xp6(1),a.Q6J("ngIf",!l.emptyTemplate)("ngIfElse",l.empty),a.xp6(1),a.Q6J("ngTemplateOutlet",l.emptyTemplate)}}function go(p,k){if(1&p&&(a.TgZ(0,"ul",37,38),a.YNc(2,vo,2,1,"ng-container",15),a.YNc(3,Us,2,5,"ng-container",15),a.YNc(4,xv,1,1,"ng-template",null,39,a.W1O),a.YNc(6,kv,3,6,"li",40),a.YNc(7,xn,3,6,"li",40),a.qZA()),2&p){const i=k.options,l=a.oxw(2);a.Akn(i.contentStyle),a.Q6J("ngClass",i.contentStyleClass),a.uIk("id",l.listId),a.xp6(2),a.Q6J("ngIf",l.group),a.xp6(1),a.Q6J("ngIf",!l.group),a.xp6(3),a.Q6J("ngIf",l.filterValue&&l.isEmpty()),a.xp6(1),a.Q6J("ngIf",!l.filterValue&&l.isEmpty())}}function ts(p,k){1&p&&a.GkF(0)}function Yi(p,k){if(1&p&&(a.TgZ(0,"div",21),a.YNc(1,pv,1,0,"ng-container",22),a.YNc(2,fv,4,2,"div",23),a.TgZ(3,"div",24),a.YNc(4,Pc,4,10,"p-scroller",25),a.YNc(5,yv,2,6,"ng-container",15),a.YNc(6,go,8,8,"ng-template",null,26,a.W1O),a.qZA(),a.YNc(8,ts,1,0,"ng-container",22),a.qZA()),2&p){const i=a.oxw();a.Tol(i.panelStyleClass),a.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",i.panelStyle),a.xp6(1),a.Q6J("ngTemplateOutlet",i.headerTemplate),a.xp6(1),a.Q6J("ngIf",i.filter),a.xp6(1),a.Udp("max-height",i.virtualScroll?"auto":i.scrollHeight||"auto"),a.xp6(1),a.Q6J("ngIf",i.virtualScroll),a.xp6(1),a.Q6J("ngIf",!i.virtualScroll),a.xp6(3),a.Q6J("ngTemplateOutlet",i.footerTemplate)}}const Ev=function(p,k,i,l){return{"p-dropdown p-component":!0,"p-disabled":p,"p-dropdown-open":k,"p-focus":i,"p-dropdown-clearable":l}},Ov={provide:si.JU,useExisting:(0,a.Gpc)(()=>fn),multi:!0};let Jd=(()=>{class p{constructor(){this.onClick=new a.vpe}onOptionClick(i){this.onClick.emit({originalEvent:i,option:this.option})}}return p.\u0275fac=function(i){return new(i||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,l){1&i&&(a.TgZ(0,"li",0),a.NdJ("click",function(b){return l.onOptionClick(b)}),a.YNc(1,Kd,2,1,"span",1),a.YNc(2,nv,1,0,"ng-container",2),a.qZA()),2&i&&(a.Q6J("ngStyle",a.VKq(8,dn,l.itemSize+"px"))("id",l.selected?"p-highlighted-option":"")("ngClass",a.WLB(10,Ga,l.selected,l.disabled)),a.uIk("aria-label",l.label)("aria-selected",l.selected),a.xp6(1),a.Q6J("ngIf",!l.template),a.xp6(1),a.Q6J("ngTemplateOutlet",l.template)("ngTemplateOutletContext",a.VKq(13,hn,l.option)))},dependencies:[we.mk,we.O5,we.tP,we.PC,Bi.H],encapsulation:2}),p})(),fn=(()=>{class p{constructor(i,l,h,b,z,K){this.el=i,this.renderer=l,this.cd=h,this.zone=b,this.filterService=z,this.config=K,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new a.vpe,this.onFilter=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClick=new a.vpe,this.onShow=new a.vpe,this.onHide=new a.vpe,this.onClear=new a.vpe,this.onLazyLoad=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=(0,me.Th)()}get disabled(){return this._disabled}set disabled(i){i&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=i,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=i,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(i){this._autoZIndex=i,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(i){this._baseZIndex=i,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":default:this.itemTemplate=i.template;break;case"selectedItem":this.selectedItemTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"filter":this.filterTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"emptyfilter":this.emptyFilterTemplate=i.template;break;case"empty":this.emptyTemplate=i.template;break;case"group":this.groupTemplate=i.template;break;case"loader":this.loaderTemplate=i.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:i=>this.onFilterInputChange(i),reset:()=>this.resetFilter()})}get options(){return this._options}set options(i){this._options=i,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&me.gb.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(i){this._filterValue=i,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ge.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Ge.ws.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(i){return this.optionLabel?me.gb.resolveFieldData(i,this.optionLabel):i&&void 0!==i.label?i.label:i}getOptionValue(i){return this.optionValue?me.gb.resolveFieldData(i,this.optionValue):!this.optionLabel&&i&&void 0!==i.value?i.value:i}isOptionDisabled(i){return this.optionDisabled?me.gb.resolveFieldData(i,this.optionDisabled):!(!i||void 0===i.disabled)&&i.disabled}getOptionGroupLabel(i){return this.optionGroupLabel?me.gb.resolveFieldData(i,this.optionGroupLabel):i&&void 0!==i.label?i.label:i}getOptionGroupChildren(i){return this.optionGroupChildren?me.gb.resolveFieldData(i,this.optionGroupChildren):i.items}onItemClick(i){const l=i.option;this.isOptionDisabled(l)||(this.selectItem(i.originalEvent,l),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(i,l){this.selectedOption!=l&&(this.selectedOption=l,this.value=this.getOptionValue(l),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:i,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let i=se.p.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");i&&se.p.scrollInView(this.itemsWrapper,i),this.selectedOptionUpdated=!1}}writeValue(i){this.filter&&this.resetFilter(),this.value=i,this.updateSelectedOption(i),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(i){this.selectedOption=this.findOption(i,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}onMouseclick(i){this.disabled||this.readonly||this.isInputClick(i)||(this.onClick.emit(i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(i){return se.p.hasClass(i.target,"p-dropdown-clear-icon")||i.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&i.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(i){this.focused=!0,this.hide(),this.onFocus.emit(i)}onEditableInputChange(i){this.value=i.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:i,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(i){if("visible"===i.toState){if(this.itemsWrapper=se.p.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==l&&this.scroller.scrollToIndex(l)}else{let l=se.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");l&&l.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(i)}"void"===i.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(i))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(i){this.focused=!0,this.onFocus.emit(i)}onInputBlur(i){this.focused=!1,this.onBlur.emit(i),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(i){let l;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let h=i-1;0<=h;h--){let b=this.optionsToDisplay[h];if(!this.isOptionDisabled(b)){l=b;break}}if(!l)for(let h=this.optionsToDisplay.length-1;h>=i;h--){let b=this.optionsToDisplay[h];if(!this.isOptionDisabled(b)){l=b;break}}}return l}findNextEnabledOption(i){let l;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let h=i+1;h<this.optionsToDisplay.length;h++){let b=this.optionsToDisplay[h];if(!this.isOptionDisabled(b)){l=b;break}}if(!l)for(let h=0;h<i;h++){let b=this.optionsToDisplay[h];if(!this.isOptionDisabled(b)){l=b;break}}}return l}onKeydown(i,l){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(i.which){case 40:if(!this.overlayVisible&&i.altKey)this.show();else if(this.group){let h=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==h){let b=h.itemIndex+1;b<this.getOptionGroupChildren(this.optionsToDisplay[h.groupIndex]).length?(this.selectItem(i,this.getOptionGroupChildren(this.optionsToDisplay[h.groupIndex])[b]),this.selectedOptionUpdated=!0):this.optionsToDisplay[h.groupIndex+1]&&(this.selectItem(i,this.getOptionGroupChildren(this.optionsToDisplay[h.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(i,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let h=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,b=this.findNextEnabledOption(h);b&&(this.selectItem(i,b),this.selectedOptionUpdated=!0)}i.preventDefault();break;case 38:if(this.group){let h=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==h){let b=h.itemIndex-1;if(b>=0)this.selectItem(i,this.getOptionGroupChildren(this.optionsToDisplay[h.groupIndex])[b]),this.selectedOptionUpdated=!0;else if(b<0){let z=this.optionsToDisplay[h.groupIndex-1];z&&(this.selectItem(i,this.getOptionGroupChildren(z)[this.getOptionGroupChildren(z).length-1]),this.selectedOptionUpdated=!0)}}}else{let h=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,b=this.findPrevEnabledOption(h);b&&(this.selectItem(i,b),this.selectedOptionUpdated=!0)}i.preventDefault();break;case 32:l&&(this.overlayVisible?this.hide():this.show(),i.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),i.preventDefault();break;case 27:case 9:this.hide();break;default:l&&!i.metaKey&&17!==i.which&&this.search(i)}}search(i){this.searchTimeout&&clearTimeout(this.searchTimeout);const l=i.key;let h;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=l,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+l:l,this.group){let b=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};h=this.searchOptionWithinGroup(b)}else{let b=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;h=this.searchOption(++b)}h&&!this.isOptionDisabled(h)&&(this.selectItem(i,h),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(i){let l;return this.searchValue&&(l=this.searchOptionInRange(i,this.optionsToDisplay.length),l||(l=this.searchOptionInRange(0,i))),l}searchOptionInRange(i,l){for(let h=i;h<l;h++){let b=this.optionsToDisplay[h];if(this.getOptionLabel(b).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(b))return b}return null}searchOptionWithinGroup(i){if(this.searchValue){for(let h=i.groupIndex;h<this.optionsToDisplay.length;h++)for(let b=i.groupIndex===h?i.itemIndex+1:0;b<this.getOptionGroupChildren(this.optionsToDisplay[h]).length;b++){let z=this.getOptionGroupChildren(this.optionsToDisplay[h])[b];if(this.getOptionLabel(z).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(z))return z}for(let h=0;h<=i.groupIndex;h++)for(let b=0;b<(i.groupIndex===h?i.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[h]).length);b++){let z=this.getOptionGroupChildren(this.optionsToDisplay[h])[b];if(this.getOptionLabel(z).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(z))return z}}return null}findOptionIndex(i,l){let h=-1;if(l)for(let b=0;b<l.length;b++)if(null==i&&null==this.getOptionValue(l[b])||me.gb.equals(i,this.getOptionValue(l[b]),this.dataKey)){h=b;break}return h}findOptionGroupIndex(i,l){let h,b;if(l)for(let z=0;z<l.length&&(h=z,b=this.findOptionIndex(i,this.getOptionGroupChildren(l[z])),-1===b);z++);return-1!==b?{groupIndex:h,itemIndex:b}:-1}findOption(i,l,h){if(this.group&&!h){let b;if(l&&l.length)for(let z of l)if(b=this.findOption(i,this.getOptionGroupChildren(z),!0),b)break;return b}{let b=this.findOptionIndex(i,l);return-1!=b?l[b]:null}}onFilterInputChange(i){let l=i.target.value;l&&l.length?(this._filterValue=l,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:i,filter:this._filterValue})}activateFilter(){let i=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let l=[];for(let h of this.options){let b=this.filterService.filter(this.getOptionGroupChildren(h),i,this.filterValue,this.filterMatchMode,this.filterLocale);b&&b.length&&l.push({...h,[this.optionGroupChildren]:b})}this.optionsToDisplay=l}else this.optionsToDisplay=this.filterService.filter(this.options,i,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?se.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():se.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(i){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:i,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(i)}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(Ge.iZ),a.Y36(Ge.b4))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-dropdown"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,Ge.jx,4),2&i){let b;a.iGM(b=a.CRH())&&(l.templates=b)}},viewQuery:function(i,l){if(1&i&&(a.Gf(fo,5),a.Gf(Ua,5),a.Gf(rv,5),a.Gf(ei,5),a.Gf(ov,5),a.Gf(sv,5),a.Gf(Wd,5)),2&i){let h;a.iGM(h=a.CRH())&&(l.containerViewChild=h.first),a.iGM(h=a.CRH())&&(l.filterViewChild=h.first),a.iGM(h=a.CRH())&&(l.accessibleViewChild=h.first),a.iGM(h=a.CRH())&&(l.editableInputViewChild=h.first),a.iGM(h=a.CRH())&&(l.itemsViewChild=h.first),a.iGM(h=a.CRH())&&(l.scroller=h.first),a.iGM(h=a.CRH())&&(l.overlayViewChild=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,l){2&i&&a.ekj("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focused||l.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[a._Bn([Ov])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(i,l){1&i&&(a.TgZ(0,"div",0,1),a.NdJ("click",function(b){return l.onMouseclick(b)}),a.TgZ(2,"div",2)(3,"input",3,4),a.NdJ("focus",function(b){return l.onInputFocus(b)})("blur",function(b){return l.onInputBlur(b)})("keydown",function(b){return l.onKeydown(b,!0)}),a.qZA()(),a.YNc(5,cv,3,13,"span",5),a.YNc(6,Fc,2,4,"span",6),a.YNc(7,dv,2,4,"input",7),a.YNc(8,hv,1,0,"i",8),a.TgZ(9,"div",9),a._UZ(10,"span",10),a.qZA(),a.TgZ(11,"p-overlay",11,12),a.NdJ("visibleChange",function(b){return l.overlayVisible=b})("onAnimationStart",function(b){return l.onOverlayAnimationStart(b)})("onHide",function(){return l.hide()}),a.YNc(13,Yi,9,11,"ng-template",13),a.qZA()()),2&i&&(a.Tol(l.styleClass),a.Q6J("ngClass",a.l5B(27,Ev,l.disabled,l.overlayVisible,l.focused,l.showClear&&!l.disabled))("ngStyle",l.style),a.xp6(3),a.Q6J("disabled",l.disabled)("autofocus",l.autofocus),a.uIk("id",l.inputId)("placeholder",l.placeholder)("aria-label",l.ariaLabel)("aria-expanded",!1)("aria-labelledby",l.ariaLabelledBy)("tabindex",l.tabindex)("aria-activedescendant",l.overlayVisible?l.labelId:null),a.xp6(2),a.Q6J("ngIf",!l.editable&&null!=l.label),a.xp6(1),a.Q6J("ngIf",!l.editable&&null==l.label),a.xp6(1),a.Q6J("ngIf",l.editable),a.xp6(1),a.Q6J("ngIf",l.isVisibleClearIcon),a.xp6(1),a.uIk("aria-expanded",l.overlayVisible),a.xp6(1),a.Q6J("ngClass",l.dropdownIcon),a.xp6(1),a.Q6J("visible",l.overlayVisible)("options",l.overlayOptions)("target","@parent")("appendTo",l.appendTo)("autoZIndex",l.autoZIndex)("baseZIndex",l.baseZIndex)("showTransitionOptions",l.showTransitionOptions)("hideTransitionOptions",l.hideTransitionOptions))},dependencies:[we.mk,we.sg,we.O5,we.tP,we.PC,$d,Ge.jx,tv,ev,xc,Jd],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),p})(),Ya=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Fr,Ge.m8,iv,Bi.T,po,Hs,Fr,Ge.m8,po]}),p})();var Ni=ft(1740);const Bc=["input"];function Cn(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"i",6),a.NdJ("click",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.clear())}),a.qZA()}}const xe=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},Xd=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Iv(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",7)(1,"button",8),a.NdJ("mousedown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onUpButtonMouseDown(h))})("mouseup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonMouseUp())})("mouseleave",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonMouseLeave())})("keydown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onUpButtonKeyDown(h))})("keyup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonKeyUp())}),a.qZA(),a.TgZ(2,"button",8),a.NdJ("mousedown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onDownButtonMouseDown(h))})("mouseup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonMouseUp())})("mouseleave",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonMouseLeave())})("keydown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onDownButtonKeyDown(h))})("keyup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonKeyUp())}),a.qZA()()}if(2&p){const i=a.oxw();a.xp6(1),a.Tol(i.incrementButtonClass),a.Q6J("ngClass",a.DdM(10,xe))("icon",i.incrementButtonIcon)("disabled",i.disabled),a.xp6(1),a.Tol(i.decrementButtonClass),a.Q6J("ngClass",a.DdM(11,Xd))("icon",i.decrementButtonIcon)("disabled",i.disabled)}}function qs(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",8),a.NdJ("mousedown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onUpButtonMouseDown(h))})("mouseup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonMouseUp())})("mouseleave",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonMouseLeave())})("keydown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onUpButtonKeyDown(h))})("keyup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onUpButtonKeyUp())}),a.qZA()}if(2&p){const i=a.oxw();a.Tol(i.incrementButtonClass),a.Q6J("ngClass",a.DdM(5,xe))("icon",i.incrementButtonIcon)("disabled",i.disabled)}}function Qs(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"button",8),a.NdJ("mousedown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onDownButtonMouseDown(h))})("mouseup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonMouseUp())})("mouseleave",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonMouseLeave())})("keydown",function(h){a.CHM(i);const b=a.oxw();return a.KtG(b.onDownButtonKeyDown(h))})("keyup",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onDownButtonKeyUp())}),a.qZA()}if(2&p){const i=a.oxw();a.Tol(i.decrementButtonClass),a.Q6J("ngClass",a.DdM(5,Xd))("icon",i.decrementButtonIcon)("disabled",i.disabled)}}const eh=function(p,k,i){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":p,"p-inputnumber-buttons-horizontal":k,"p-inputnumber-buttons-vertical":i}},th={provide:si.JU,useExisting:(0,a.Gpc)(()=>Pn),multi:!0};let Pn=(()=>{class p{constructor(i,l){this.el=i,this.cd=l,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onKeyDown=new a.vpe,this.onClear=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(i){i&&(this.focused=!1),this._disabled=i,this.timer&&this.clearTimer()}ngOnChanges(i){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(h=>!!i[h])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const i=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),l=new Map(i.map((h,b)=>[h,b]));this._numeral=new RegExp(`[${i.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=h=>l.get(h)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const i=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${i.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const i=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=i.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const i=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${i.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const i=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${i.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const i=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=i.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const i=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=i.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(i){if(null!=i){if("-"===i)return i;if(this.format){let h=new Intl.NumberFormat(this.locale,this.getOptions()).format(i);return this.prefix&&(h=this.prefix+h),this.suffix&&(h+=this.suffix),h}return i.toString()}return""}parseValue(i){let l=i.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(l){if("-"===l)return l;let h=+l;return isNaN(h)?null:h}return null}repeat(i,l,h){if(this.readonly)return;let b=l||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(i,40,h)},b),this.spin(i,h)}spin(i,l){let h=this.step*l,b=this.parseValue(this.input.nativeElement.value)||0,z=this.validateValue(b+h);this.maxlength&&this.maxlength<this.formatValue(z).length||(this.updateInput(z,null,"spin",null),this.updateModel(i,z),this.handleOnInput(i,b,z))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(i){this.input.nativeElement.focus(),this.repeat(i,null,1),i.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(i){(32===i.keyCode||13===i.keyCode)&&this.repeat(i,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(i){this.input.nativeElement.focus(),this.repeat(i,null,-1),i.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(i){(32===i.keyCode||13===i.keyCode)&&this.repeat(i,null,-1)}onUserInput(i){this.readonly||(this.isSpecialChar&&(i.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(i){if(this.readonly)return;if(this.lastValue=i.target.value,i.shiftKey||i.altKey)return void(this.isSpecialChar=!0);let l=i.target.selectionStart,h=i.target.selectionEnd,b=i.target.value,z=null;switch(i.altKey&&i.preventDefault(),i.which){case 38:this.spin(i,1),i.preventDefault();break;case 40:this.spin(i,-1),i.preventDefault();break;case 37:this.isNumeralChar(b.charAt(l-1))||i.preventDefault();break;case 39:this.isNumeralChar(b.charAt(l))||i.preventDefault();break;case 13:z=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(z),this.input.nativeElement.setAttribute("aria-valuenow",z),this.updateModel(i,z);break;case 8:if(i.preventDefault(),l===h){const K=b.charAt(l-1),{decimalCharIndex:te,decimalCharIndexWithoutPrefix:fe}=this.getDecimalCharIndexes(b);if(this.isNumeralChar(K)){const ve=this.getDecimalLength(b);if(this._group.test(K))this._group.lastIndex=0,z=b.slice(0,l-2)+b.slice(l-1);else if(this._decimal.test(K))this._decimal.lastIndex=0,ve?this.input.nativeElement.setSelectionRange(l-1,l-1):z=b.slice(0,l-1)+b.slice(l);else if(te>0&&l>te){const Pe=this.isDecimalMode()&&(this.minFractionDigits||0)<ve?"":"0";z=b.slice(0,l-1)+Pe+b.slice(l)}else 1===fe?(z=b.slice(0,l-1)+"0"+b.slice(l),z=this.parseValue(z)>0?z:""):z=b.slice(0,l-1)+b.slice(l)}this.updateValue(i,z,null,"delete-single")}else z=this.deleteRange(b,l,h),this.updateValue(i,z,null,"delete-range");break;case 46:if(i.preventDefault(),l===h){const K=b.charAt(l),{decimalCharIndex:te,decimalCharIndexWithoutPrefix:fe}=this.getDecimalCharIndexes(b);if(this.isNumeralChar(K)){const ve=this.getDecimalLength(b);if(this._group.test(K))this._group.lastIndex=0,z=b.slice(0,l)+b.slice(l+2);else if(this._decimal.test(K))this._decimal.lastIndex=0,ve?this.input.nativeElement.setSelectionRange(l+1,l+1):z=b.slice(0,l)+b.slice(l+1);else if(te>0&&l>te){const Pe=this.isDecimalMode()&&(this.minFractionDigits||0)<ve?"":"0";z=b.slice(0,l)+Pe+b.slice(l+1)}else 1===fe?(z=b.slice(0,l)+"0"+b.slice(l+1),z=this.parseValue(z)>0?z:""):z=b.slice(0,l)+b.slice(l+1)}this.updateValue(i,z,null,"delete-back-single")}else z=this.deleteRange(b,l,h),this.updateValue(i,z,null,"delete-range")}this.onKeyDown.emit(i)}onInputKeyPress(i){if(this.readonly)return;let l=i.which||i.keyCode,h=String.fromCharCode(l);const b=this.isDecimalSign(h),z=this.isMinusSign(h);13!=l&&i.preventDefault(),(48<=l&&l<=57||z||b)&&this.insert(i,h,{isDecimalSign:b,isMinusSign:z})}onPaste(i){if(!this.disabled&&!this.readonly){i.preventDefault();let l=(i.clipboardData||window.clipboardData).getData("Text");if(l){let h=this.parseValue(l);null!=h&&this.insert(i,h.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(i){return!(!this._minusSign.test(i)&&"-"!==i||(this._minusSign.lastIndex=0,0))}isDecimalSign(i){return!!this._decimal.test(i)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(i){let l=i.search(this._decimal);this._decimal.lastIndex=0;const b=i.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:l,decimalCharIndexWithoutPrefix:b}}getCharIndexes(i){const l=i.search(this._decimal);this._decimal.lastIndex=0;const h=i.search(this._minusSign);this._minusSign.lastIndex=0;const b=i.search(this._suffix);this._suffix.lastIndex=0;const z=i.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:l,minusCharIndex:h,suffixCharIndex:b,currencyCharIndex:z}}insert(i,l,h={isDecimalSign:!1,isMinusSign:!1}){const b=l.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==b)return;let z=this.input.nativeElement.selectionStart,K=this.input.nativeElement.selectionEnd,te=this.input.nativeElement.value.trim();const{decimalCharIndex:fe,minusCharIndex:ve,suffixCharIndex:Pe,currencyCharIndex:Je}=this.getCharIndexes(te);let He;if(h.isMinusSign)0===z&&(He=te,(-1===ve||0!==K)&&(He=this.insertText(te,l,0,K)),this.updateValue(i,He,l,"insert"));else if(h.isDecimalSign)fe>0&&z===fe?this.updateValue(i,te,l,"insert"):(fe>z&&fe<K||-1===fe&&this.maxFractionDigits)&&(He=this.insertText(te,l,z,K),this.updateValue(i,He,l,"insert"));else{const wt=this.numberFormat.resolvedOptions().maximumFractionDigits,at=z!==K?"range-insert":"insert";if(fe>0&&z>fe){if(z+l.length-(fe+1)<=wt){const Qe=Je>=z?Je-1:Pe>=z?Pe:te.length;He=te.slice(0,z)+l+te.slice(z+l.length,Qe)+te.slice(Qe),this.updateValue(i,He,l,at)}}else He=this.insertText(te,l,z,K),this.updateValue(i,He,l,at)}}insertText(i,l,h,b){if(2===("."===l?l:l.split(".")).length){const K=i.slice(h,b).search(this._decimal);return this._decimal.lastIndex=0,K>0?i.slice(0,h)+this.formatValue(l)+i.slice(b):i||this.formatValue(l)}return b-h===i.length?this.formatValue(l):0===h?l+i.slice(b):b===i.length?i.slice(0,h)+l:i.slice(0,h)+l+i.slice(b)}deleteRange(i,l,h){let b;return b=h-l===i.length?"":0===l?i.slice(h):h===i.length?i.slice(0,l):i.slice(0,l)+i.slice(h),b}initCursor(){let i=this.input.nativeElement.selectionStart,l=this.input.nativeElement.value,h=l.length,b=null,z=(this.prefixChar||"").length;l=l.replace(this._prefix,""),i-=z;let K=l.charAt(i);if(this.isNumeralChar(K))return i+z;let te=i-1;for(;te>=0;){if(K=l.charAt(te),this.isNumeralChar(K)){b=te+z;break}te--}if(null!==b)this.input.nativeElement.setSelectionRange(b+1,b+1);else{for(te=i;te<h;){if(K=l.charAt(te),this.isNumeralChar(K)){b=te+z;break}te++}null!==b&&this.input.nativeElement.setSelectionRange(b,b)}return b||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==se.p.getSelection()&&this.initCursor()}isNumeralChar(i){return!(1!==i.length||!(this._numeral.test(i)||this._decimal.test(i)||this._group.test(i)||this._minusSign.test(i))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(i,l,h,b){let z=this.input.nativeElement.value,K=null;null!=l&&(K=this.parseValue(l),K=K||this.allowEmpty?K:0,this.updateInput(K,h,b,l),this.handleOnInput(i,z,K))}handleOnInput(i,l,h){this.isValueChanged(l,h)&&this.onInput.emit({originalEvent:i,value:h,formattedValue:l})}isValueChanged(i,l){return null===l&&null!==i||null!=l&&l!==("string"==typeof i?this.parseValue(i):i)}validateValue(i){return"-"===i||null==i?null:null!=this.min&&i<this.min?this.min:null!=this.max&&i>this.max?this.max:i}updateInput(i,l,h,b){l=l||"";let z=this.input.nativeElement.value,K=this.formatValue(i),te=z.length;if(K!==b&&(K=this.concatValues(K,b)),0===te){this.input.nativeElement.value=K,this.input.nativeElement.setSelectionRange(0,0);const ve=this.initCursor()+l.length;this.input.nativeElement.setSelectionRange(ve,ve)}else{let fe=this.input.nativeElement.selectionStart,ve=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<K.length)return;this.input.nativeElement.value=K;let Pe=K.length;if("range-insert"===h){const Je=this.parseValue((z||"").slice(0,fe)),wt=(null!==Je?Je.toString():"").split("").join(`(${this.groupChar})?`),at=new RegExp(wt,"g");at.test(K);const Qe=l.split("").join(`(${this.groupChar})?`),Tt=new RegExp(Qe,"g");Tt.test(K.slice(at.lastIndex)),ve=at.lastIndex+Tt.lastIndex,this.input.nativeElement.setSelectionRange(ve,ve)}else if(Pe===te)"insert"===h||"delete-back-single"===h?this.input.nativeElement.setSelectionRange(ve+1,ve+1):"delete-single"===h?this.input.nativeElement.setSelectionRange(ve-1,ve-1):("delete-range"===h||"spin"===h)&&this.input.nativeElement.setSelectionRange(ve,ve);else if("delete-back-single"===h){let Je=z.charAt(ve-1),He=z.charAt(ve),wt=te-Pe,at=this._group.test(He);at&&1===wt?ve+=1:!at&&this.isNumeralChar(Je)&&(ve+=-1*wt+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(ve,ve)}else if("-"===z&&"insert"===h){this.input.nativeElement.setSelectionRange(0,0);const He=this.initCursor()+l.length+1;this.input.nativeElement.setSelectionRange(He,He)}else ve+=Pe-te,this.input.nativeElement.setSelectionRange(ve,ve)}this.input.nativeElement.setAttribute("aria-valuenow",i)}concatValues(i,l){if(i&&l){let h=l.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?i.replace(this.suffixChar,"").split(this._decimal)[0]+l.replace(this.suffixChar,"").slice(h)+this.suffixChar:-1!==h?i.split(this._decimal)[0]+l.slice(h):i}return i}getDecimalLength(i){if(i){const l=i.split(this._decimal);if(2===l.length)return l[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(i){this.focused=!0,this.onFocus.emit(i)}onInputBlur(i){this.focused=!1;let l=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(l),this.input.nativeElement.setAttribute("aria-valuenow",l),this.updateModel(i,l),this.onBlur.emit(i)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(i,l){this.value!==l&&(this.value=l,this.onModelChange(l)),this.onModelTouched()}writeValue(i){this.value=i,this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.SBq),a.Y36(a.sBO))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-inputNumber"]],viewQuery:function(i,l){if(1&i&&a.Gf(Bc,5),2&i){let h;a.iGM(h=a.CRH())&&(l.input=h.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,l){2&i&&a.ekj("p-inputwrapper-filled",l.filled)("p-inputwrapper-focus",l.focused)("p-inputnumber-clearable",l.showClear&&"vertical"!=l.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[a._Bn([th]),a.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","tabindex","-1",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(i,l){1&i&&(a.TgZ(0,"span",0)(1,"input",1,2),a.NdJ("input",function(b){return l.onUserInput(b)})("keydown",function(b){return l.onInputKeyDown(b)})("keypress",function(b){return l.onInputKeyPress(b)})("paste",function(b){return l.onPaste(b)})("click",function(){return l.onInputClick()})("focus",function(b){return l.onInputFocus(b)})("blur",function(b){return l.onInputBlur(b)}),a.qZA(),a.YNc(3,Cn,1,0,"i",3),a.YNc(4,Iv,3,12,"span",4),a.YNc(5,qs,1,6,"button",5),a.YNc(6,Qs,1,6,"button",5),a.qZA()),2&i&&(a.Tol(l.styleClass),a.Q6J("ngClass",a.kEZ(28,eh,l.showButtons&&"stacked"===l.buttonLayout,l.showButtons&&"horizontal"===l.buttonLayout,l.showButtons&&"vertical"===l.buttonLayout))("ngStyle",l.style),a.xp6(1),a.Tol(l.inputStyleClass),a.Q6J("ngClass","p-inputnumber-input")("ngStyle",l.inputStyle)("value",l.formattedValue())("disabled",l.disabled)("readonly",l.readonly),a.uIk("placeholder",l.placeholder)("title",l.title)("id",l.inputId)("size",l.size)("name",l.name)("autocomplete",l.autocomplete)("maxlength",l.maxlength)("tabindex",l.tabindex)("aria-label",l.ariaLabel)("aria-required",l.ariaRequired)("required",l.required)("min",l.min)("max",l.max),a.xp6(2),a.Q6J("ngIf","vertical"!=l.buttonLayout&&l.showClear&&l.value),a.xp6(1),a.Q6J("ngIf",l.showButtons&&"stacked"===l.buttonLayout),a.xp6(1),a.Q6J("ngIf",l.showButtons&&"stacked"!==l.buttonLayout),a.xp6(1),a.Q6J("ngIf",l.showButtons&&"stacked"!==l.buttonLayout))},dependencies:[we.mk,we.O5,we.PC,Ni.o,an.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),p})(),Zs=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Ni.j,an.hJ]}),p})(),Za=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Ya,Zs,si.u5,Ge.m8,Bi.T,Ya,Zs,si.u5,Ge.m8]}),p})();function _o(p,k){if(1&p&&a._UZ(0,"span",8),2&p){const i=a.oxw(2).$implicit;a.Tol(i.icon),a.Q6J("ngClass","p-button-icon p-button-icon-left")}}function rh(p,k){if(1&p&&(a.ynx(0),a.YNc(1,_o,1,3,"span",6),a.TgZ(2,"span",7),a._uU(3),a.qZA(),a.BQk()),2&p){const i=a.oxw().$implicit,l=a.oxw();a.xp6(1),a.Q6J("ngIf",i.icon),a.xp6(2),a.Oqu(l.getOptionLabel(i))}}function Hc(p,k){1&p&&a.GkF(0)}const Ja=function(p,k){return{$implicit:p,index:k}};function oh(p,k){if(1&p&&a.YNc(0,Hc,1,0,"ng-container",9),2&p){const i=a.oxw(),l=i.$implicit,h=i.index,b=a.oxw();a.Q6J("ngTemplateOutlet",b.itemTemplate)("ngTemplateOutletContext",a.WLB(2,Ja,l,h))}}const Pv=function(p,k,i){return{"p-highlight":p,"p-disabled":k,"p-button-icon-only":i}};function Av(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"div",2,3),a.NdJ("click",function(h){const b=a.CHM(i),z=b.$implicit,K=b.index,te=a.oxw();return a.KtG(te.onItemClick(h,z,K))})("keydown.enter",function(h){const b=a.CHM(i),z=b.$implicit,K=b.index,te=a.oxw();return a.KtG(te.onItemClick(h,z,K))})("blur",function(){a.CHM(i);const h=a.oxw();return a.KtG(h.onBlur())}),a.YNc(2,rh,4,2,"ng-container",4),a.YNc(3,oh,1,5,"ng-template",null,5,a.W1O),a.qZA()}if(2&p){const i=k.$implicit,l=a.MAs(4),h=a.oxw();a.Tol(i.styleClass),a.Q6J("ngClass",a.kEZ(10,Pv,h.isSelected(i),h.disabled||h.isOptionDisabled(i),i.icon&&!h.getOptionLabel(i))),a.uIk("aria-pressed",h.isSelected(i))("title",i.title)("aria-label",i.label)("tabindex",h.disabled?null:h.tabindex)("aria-labelledby",h.getOptionLabel(i)),a.xp6(2),a.Q6J("ngIf",!h.itemTemplate)("ngIfElse",l)}}const mi={provide:si.JU,useExisting:(0,a.Gpc)(()=>sh),multi:!0};let sh=(()=>{class p{constructor(i){this.cd=i,this.tabindex=0,this.onOptionClick=new a.vpe,this.onChange=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(i){return this.optionLabel?me.gb.resolveFieldData(i,this.optionLabel):null!=i.label?i.label:i}getOptionValue(i){return this.optionValue?me.gb.resolveFieldData(i,this.optionValue):this.optionLabel||void 0===i.value?i:i.value}isOptionDisabled(i){return this.optionDisabled?me.gb.resolveFieldData(i,this.optionDisabled):void 0!==i.disabled&&i.disabled}writeValue(i){this.value=i,this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}onItemClick(i,l,h){if(!this.disabled&&!this.isOptionDisabled(l)){if(this.multiple)this.isSelected(l)?this.removeOption(l):this.value=[...this.value||[],this.getOptionValue(l)],this.onModelChange(this.value),this.onChange.emit({originalEvent:i,value:this.value});else{let b=this.getOptionValue(l);this.value!==b&&(this.value=this.getOptionValue(l),this.onModelChange(this.value),this.onChange.emit({originalEvent:i,value:this.value}))}this.onOptionClick.emit({originalEvent:i,option:l,index:h})}}onBlur(){this.onModelTouched()}removeOption(i){this.value=this.value.filter(l=>!me.gb.equals(l,this.getOptionValue(i),this.dataKey))}isSelected(i){let l=!1,h=this.getOptionValue(i);if(this.multiple){if(this.value&&this.value instanceof Array)for(let b of this.value)if(me.gb.equals(b,h,this.dataKey)){l=!0;break}}else l=me.gb.equals(this.getOptionValue(i),this.value,this.dataKey);return l}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.sBO))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-selectButton"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,a.Rgc,5),2&i){let b;a.iGM(b=a.CRH())&&(l.itemTemplate=b.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[a._Bn([mi])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,l){1&i&&(a.TgZ(0,"div",0),a.YNc(1,Av,5,14,"div",1),a.qZA()),2&i&&(a.Tol(l.styleClass),a.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",l.style),a.xp6(1),a.Q6J("ngForOf",l.options))},dependencies:[we.mk,we.sg,we.O5,we.tP,we.PC,Bi.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),p})(),Xa=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Bi.T]}),p})();const ah=function(p,k,i){return{"p-checkbox-label-active":p,"p-disabled":k,"p-checkbox-label-focus":i}};function Rr(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"label",7),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(),z=a.MAs(3);return a.KtG(b.onClick(h,z))}),a._uU(1),a.qZA()}if(2&p){const i=a.oxw();a.Q6J("ngClass",a.kEZ(3,ah,null!=i.value,i.disabled,i.focused)),a.uIk("for",i.inputId),a.xp6(1),a.Oqu(i.label)}}const We=function(p,k){return{"p-checkbox p-component":!0,"p-checkbox-disabled":p,"p-checkbox-focused":k}},Xs=function(p,k,i){return{"p-highlight":p,"p-disabled":k,"p-focus":i}},ea={provide:si.JU,useExisting:(0,a.Gpc)(()=>Lv),multi:!0};let Lv=(()=>{class p{constructor(i){this.cd=i,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(i,l){!this.disabled&&!this.readonly&&(this.toggle(i),this.focused=!0,l.focus())}onKeydown(i){32==i.keyCode&&i.preventDefault()}onKeyup(i){32==i.keyCode&&!this.readonly&&(this.toggle(i),i.preventDefault())}toggle(i){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:i,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}writeValue(i){this.value=i,this.cd.markForCheck()}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.sBO))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[a._Bn([ea])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(i,l){if(1&i){const h=a.EpF();a.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),a.NdJ("keyup",function(z){return l.onKeyup(z)})("keydown",function(z){return l.onKeydown(z)})("focus",function(){return l.onFocus()})("blur",function(){return l.onBlur()}),a.qZA()(),a.TgZ(4,"div",4),a.NdJ("click",function(z){a.CHM(h);const K=a.MAs(3);return a.KtG(l.onClick(z,K))}),a._UZ(5,"span",5),a.qZA()(),a.YNc(6,Rr,2,7,"label",6)}2&i&&(a.Tol(l.styleClass),a.Q6J("ngStyle",l.style)("ngClass",a.WLB(14,We,l.disabled,l.focused)),a.xp6(2),a.Q6J("name",l.name)("readonly",l.readonly)("disabled",l.disabled),a.uIk("id",l.inputId)("tabindex",l.tabindex)("aria-labelledby",l.ariaLabelledBy),a.xp6(2),a.Q6J("ngClass",a.kEZ(17,Xs,null!=l.value,l.disabled,l.focused)),a.uIk("aria-checked",!0===l.value),a.xp6(1),a.Q6J("ngClass",!0===l.value?l.checkboxTrueIcon:!1===l.value?l.checkboxFalseIcon:""),a.xp6(1),a.Q6J("ngIf",l.label))},dependencies:[we.mk,we.O5,we.PC],encapsulation:2,changeDetection:0}),p})(),is=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})(),cs=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Za,Ni.j,Ya,si.u5,an.hJ,Xa,jf,Zs,is,po,Ge.m8,po]}),p})(),zh=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Bi.T]}),p})(),Bh=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})(),pu=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Ge.m8,an.hJ,Bh,zh,Bi.T,Ge.m8,an.hJ,Bh,zh]}),p})(),ds=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Bi.T,Ge.m8]}),p})(),cr=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})();function ur(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",5),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.clear(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.clear(h))}),a.qZA()}if(2&p){const i=a.oxw(2);a.Q6J("ngClass",i.iconCancelClass)("ngStyle",i.iconCancelStyle),a.uIk("tabindex",i.disabled||i.readonly?null:"0")}}function kl(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",6),a.NdJ("click",function(h){const z=a.CHM(i).index,K=a.oxw(2);return a.KtG(K.rate(h,z))})("keydown.enter",function(h){const z=a.CHM(i).index,K=a.oxw(2);return a.KtG(K.rate(h,z))}),a.qZA()}if(2&p){const i=k.index,l=a.oxw(2);a.Q6J("ngClass",!l.value||i>=l.value?l.iconOffClass:l.iconOnClass)("ngStyle",!l.value||i>=l.value?l.iconOffStyle:l.iconOnStyle),a.uIk("tabindex",l.disabled||l.readonly?null:"0")}}function Tg(p,k){if(1&p&&(a.ynx(0),a.YNc(1,ur,1,3,"span",3),a.YNc(2,kl,1,3,"span",4),a.BQk()),2&p){const i=a.oxw();a.xp6(1),a.Q6J("ngIf",i.cancel),a.xp6(1),a.Q6J("ngForOf",i.starsArray)}}function Oo(p,k){1&p&&a.GkF(0)}function kg(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",9),a.NdJ("click",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.clear(h))})("keydown.enter",function(h){a.CHM(i);const b=a.oxw(2);return a.KtG(b.clear(h))}),a.YNc(1,Oo,1,0,"ng-container",10),a.qZA()}if(2&p){const i=a.oxw(2);a.Q6J("ngStyle",i.iconCancelStyle),a.uIk("tabindex",i.disabled||i.readonly?null:"0"),a.xp6(1),a.Q6J("ngTemplateOutlet",i.cancelIconTemplate)}}function Gh(p,k){1&p&&a.GkF(0)}function Sg(p,k){if(1&p){const i=a.EpF();a.TgZ(0,"span",11),a.NdJ("click",function(h){const z=a.CHM(i).index,K=a.oxw(2);return a.KtG(K.rate(h,z))})("keydown.enter",function(h){const z=a.CHM(i).index,K=a.oxw(2);return a.KtG(K.rate(h,z))}),a.YNc(1,Gh,1,0,"ng-container",10),a.qZA()}if(2&p){const i=k.index,l=a.oxw(2);a.uIk("tabindex",l.disabled||l.readonly?null:"0"),a.xp6(1),a.Q6J("ngTemplateOutlet",l.getIconTemplate(i))}}function Io(p,k){if(1&p&&(a.YNc(0,kg,2,3,"span",7),a.YNc(1,Sg,2,2,"span",8)),2&p){const i=a.oxw();a.Q6J("ngIf",i.cancel),a.xp6(1),a.Q6J("ngForOf",i.starsArray)}}const hs=function(p,k){return{"p-readonly":p,"p-disabled":k}},vu={provide:si.JU,useExisting:(0,a.Gpc)(()=>Eg),multi:!0};let Eg=(()=>{class p{constructor(i){this.cd=i,this.isCustomCancelIcon=!0,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new a.vpe,this.onCancel=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let i=0;i<this.stars;i++)this.starsArray[i]=i}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"onicon":this.onIconTemplate=i.template;break;case"officon":this.offIconTemplate=i.template;break;case"cancel":this.cancelIconTemplate=i.template}})}getIconTemplate(i){return!this.value||i>=this.value?this.offIconTemplate:this.onIconTemplate}rate(i,l){!this.readonly&&!this.disabled&&(this.value=l+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:i,value:l+1})),i.preventDefault()}clear(i){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(i)),i.preventDefault()}writeValue(i){this.value=i,this.cd.detectChanges()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(a.sBO))},p.\u0275cmp=a.Xpm({type:p,selectors:[["p-rating"]],contentQueries:function(i,l,h){if(1&i&&a.Suo(h,Ge.jx,4),2&i){let b;a.iGM(b=a.CRH())&&(l.templates=b)}},hostAttrs:[1,"p-element"],inputs:{isCustomCancelIcon:"isCustomCancelIcon",index:"index",disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[a._Bn([vu])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(i,l){if(1&i&&(a.TgZ(0,"div",0),a.YNc(1,Tg,3,2,"ng-container",1),a.YNc(2,Io,2,2,"ng-template",null,2,a.W1O),a.qZA()),2&i){const h=a.MAs(3);a.Q6J("ngClass",a.WLB(3,hs,l.readonly,l.disabled)),a.xp6(1),a.Q6J("ngIf",!l.isCustomIcon)("ngIfElse",h)}},dependencies:[we.mk,we.sg,we.O5,we.tP,we.PC],styles:[".p-rating-icon{cursor:pointer;display:inline-flex}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),p})(),Uh=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Ge.m8]}),p})(),gu=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})();var Og=ft(613);let mu=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez]}),p})();(0,bt.oQ)([(0,bt.oB)({transform:"{{transform}}",opacity:0}),(0,bt.jt)("{{transition}}")]),(0,bt.oQ)([(0,bt.jt)("{{transition}}",(0,bt.oB)({transform:"{{transform}}",opacity:0}))]);let Jh=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,mu,Bi.T,Ge.m8]}),p})(),Cu=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[we.ez,Dr,cs,pu,si.u5,an.hJ,Bi.T,ds,cr,Uh,Ni.j,gu,Ya,Og.cc,Zs,Jh]}),p})()},6770:function(JT,Rd){!function(ft){function we(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ls={exports:{}},Ge=function(u){return u&&u.Math==Math&&u},ie=Ge("object"==typeof globalThis&&globalThis)||Ge("object"==typeof window&&window)||Ge("object"==typeof self&&self)||Ge("object"==typeof si&&si)||function(){return this}()||Function("return this")(),ke=function(u){try{return!!u()}catch{return!0}},a=!ke(function(){var u=function(){}.bind();return"function"!=typeof u||u.hasOwnProperty("prototype")}),zs=Function.prototype,Na=zs.apply,sn=zs.call,Dr="object"==typeof Reflect&&Reflect.apply||(a?sn.bind(Na):function(){return sn.apply(Na,arguments)}),an=a,bt=Function.prototype,Bi=bt.call,me=an&&bt.bind.bind(Bi,Bi),Ae=an?function(u){return u&&me(u)}:function(u){return u&&function(){return Bi.apply(u,arguments)}},Lt=function(u){return"function"==typeof u},rt={},Kt=!ke(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ln=Function.prototype.call,cn=a?ln.bind(ln):function(){return ln.apply(ln,arguments)},no={},Pd={}.propertyIsEnumerable,ki=Object.getOwnPropertyDescriptor,ro=ki&&!Pd.call({1:2},1);no.f=ro?function(f){var w=ki(this,f);return!!w&&w.enumerable}:Pd;var Ui,Wa,$i=function(u,f){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:f}},ja=Ae,Af=ja({}.toString),Lf=ja("".slice),di=function(u){return Lf(Af(u),8,-1)},Ad=ke,Bs=di,yc=ie.Object,oo=Ae("".split),Ha=Ad(function(){return!yc("z").propertyIsEnumerable(0)})?function(u){return"String"==Bs(u)?oo(u,""):yc(u)}:yc,$f=ie.TypeError,$s=function(u){if(null==u)throw $f("Can't call method on "+u);return u},Xt=Ha,Nf=$s,Xe=function(u){return Xt(Nf(u))},$e=Lt,hi=function(u){return"object"==typeof u?null!==u:$e(u)},St={},bc=St,Ns=ie,bi=Lt,ot=function(u){return bi(u)?u:void 0},_i=function(u,f){return arguments.length<2?ot(bc[u])||ot(Ns[u]):bc[u]&&bc[u][f]||Ns[u]&&Ns[u][f]},Wt=Ae({}.isPrototypeOf),so=_i("navigator","userAgent")||"",Xo=so,Rn=ie.process,Ka=ie.Deno,Ld=Rn&&Rn.versions||Ka&&Ka.version,es=Ld&&Ld.v8;es&&(Wa=(Ui=es.split("."))[0]>0&&Ui[0]<4?1:+(Ui[0]+Ui[1])),!Wa&&Xo&&(!(Ui=Xo.match(/Edge\/(\d+)/))||Ui[1]>=74)&&(Ui=Xo.match(/Chrome\/(\d+)/))&&(Wa=+Ui[1]);var js=Wa,zd=js,xc=!!Object.getOwnPropertySymbols&&!ke(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&zd&&zd<41}),Bd=xc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Hf=_i,Vf=Lt,Kf=Wt,Wf=ie.Object,lo=Bd?function(u){return"symbol"==typeof u}:function(u){var f=Hf("Symbol");return Vf(f)&&Kf(f.prototype,Wf(u))},Ks=ie.String,Mr=function(u){try{return Ks(u)}catch{return"Object"}},co=Lt,Cc=Mr,$d=ie.TypeError,Fr=function(u){if(co(u))return u;throw $d(Cc(u)+" is not a function")},Tc=Fr,uo=function(u,f){var w=u[f];return null==w?void 0:Tc(w)},Ws=cn,Sc=Lt,Rt=hi,Uf=ie.TypeError,_t={exports:{}},Nd=ie,qf=Object.defineProperty,Hd="__core-js_shared__",Gs=ie[Hd]||function(u,f){try{qf(Nd,u,{value:f,configurable:!0,writable:!0})}catch{Nd[u]=f}return f}(Hd,{}),Vd=Gs;(_t.exports=function(u,f){return Vd[u]||(Vd[u]=void 0!==f?f:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Oc=$s,Xn=ie.Object,zt=function(u){return Xn(Oc(u))},Jf=zt,ut=Ae({}.hasOwnProperty),Si=Object.hasOwn||function(f,w){return ut(Jf(f),w)},Dc=Ae,Mc=0,Xf=Math.random(),ev=Dc(1..toString),po=function(u){return"Symbol("+(void 0===u?"":u)+")_"+ev(++Mc+Xf,36)},tv=ie,Kd=Si,nv=po,dn=xc,Ga=Bd,hn=(0,_t.exports)("wks"),fo=tv.Symbol,Ua=fo&&fo.for,rv=Ga?fo:fo&&fo.withoutSetter||nv,ei=function(u){if(!Kd(hn,u)||!dn&&"string"!=typeof hn[u]){var f="Symbol."+u;hn[u]=dn&&Kd(fo,u)?fo[u]:Ga&&Ua?Ua(f):rv(f)}return hn[u]},sv=cn,Wd=hi,Gd=lo,av=uo,lv=function(u,f){var w,x;if("string"===f&&Sc(w=u.toString)&&!Rt(x=Ws(w,u))||Sc(w=u.valueOf)&&!Rt(x=Ws(w,u))||"string"!==f&&Sc(w=u.toString)&&!Rt(x=Ws(w,u)))return x;throw Uf("Can't convert object to primitive value")},uv=ie.TypeError,Fc=ei("toPrimitive"),pv=lo,pn=function(u){var f=function(u,f){if(!Wd(u)||Gd(u))return u;var x,w=av(u,Fc);if(w){if(void 0===f&&(f="default"),x=sv(w,u,f),!Wd(x)||Gd(x))return x;throw uv("Can't convert object to primitive value")}return void 0===f&&(f="number"),lv(u,f)}(u,"string");return pv(f)?f:f+""},Yd=hi,Rc=ie.document,fv=Yd(Rc)&&Yd(Rc.createElement),qd=function(u){return fv?Rc.createElement(u):{}},gv=qd,wn=!Kt&&!ke(function(){return 7!=Object.defineProperty(gv("div"),"a",{get:function(){return 7}}).a}),Pc=cn,Ac=no,mv=$i,yv=Xe,bv=pn,Yt=Si,_v=wn,Lc=Object.getOwnPropertyDescriptor;rt.f=Kt?Lc:function(f,w){if(f=yv(f),w=bv(w),_v)try{return Lc(f,w)}catch{}if(Yt(f,w))return mv(!Pc(Ac.f,f,w),f[w])};var wv=ke,vo=Lt,zc=/#|\.prototype\./,Us=function(u,f){var w=xv[Ys(u)];return w==Tv||w!=Cv&&(vo(f)?wv(f):!!f)},Ys=Us.normalize=function(u){return String(u).replace(zc,".").toLowerCase()},xv=Us.data={},Cv=Us.NATIVE="N",Tv=Us.POLYFILL="P",kv=Us,Sv=Fr,xn=a,go=Ae(Ae.bind),ts=function(u,f){return Sv(u),void 0===f?u:xn?go(u,f):function(){return u.apply(f,arguments)}},Yi={},Jd=Kt&&ke(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ya=hi,Ni=ie.String,Bc=ie.TypeError,Cn=function(u){if(Ya(u))return u;throw Bc(Ni(u)+" is not an object")},Iv=wn,Qs=Cn,eh=pn,th=ie.TypeError,Pn=Object.defineProperty,Zs=Object.getOwnPropertyDescriptor,er="enumerable",dt="configurable",Ei="writable";Yi.f=Kt?Jd?function(f,w,x){if(Qs(f),w=eh(w),Qs(x),"function"==typeof f&&"prototype"===w&&"value"in x&&Ei in x&&!x[Ei]){var C=Zs(f,w);C&&C[Ei]&&(f[w]=x.value,x={configurable:dt in x?x[dt]:C[dt],enumerable:er in x?x[er]:C[er],writable:!1})}return Pn(f,w,x)}:Pn:function(f,w,x){if(Qs(f),w=eh(w),Qs(x),Iv)try{return Pn(f,w,x)}catch{}if("get"in x||"set"in x)throw th("Accessors not supported");return"value"in x&&(f[w]=x.value),f};var qa=Yi,Dv=$i,mo=Kt?function(u,f,w){return qa.f(u,f,Dv(1,w))}:function(u,f,w){return u[f]=w,u},yo=ie,Js=Dr,Qa=Ae,Mv=Lt,Fv=rt.f,$c=kv,bo=St,Nc=ts,tr=mo,nh=Si,li=function(u){var f=function(w,x,C){if(this instanceof f){switch(arguments.length){case 0:return new u;case 1:return new u(w);case 2:return new u(w,x)}return new u(w,x,C)}return Js(u,this,arguments)};return f.prototype=u.prototype,f},Ze=function(u,f){var G,q,ee,le,Ve,et,lt,Ke,w=u.target,x=u.global,C=u.stat,E=u.proto,F=x?yo:C?yo[w]:(yo[w]||{}).prototype,P=x?bo:bo[w]||tr(bo,w,{})[w],L=P.prototype;for(ee in f)G=!$c(x?ee:w+(C?".":"#")+ee,u.forced)&&F&&nh(F,ee),Ve=P[ee],G&&(et=u.noTargetGet?(Ke=Fv(F,ee))&&Ke.value:F[ee]),le=G&&et?et:f[ee],(!G||typeof Ve!=typeof le)&&(lt=u.bind&&G?Nc(le,yo):u.wrap&&G?li(le):E&&Mv(le)?Qa(le):le,(u.sham||le&&le.sham||Ve&&Ve.sham)&&tr(lt,"sham",!0),tr(P,ee,lt),E&&(nh(bo,q=w+"Prototype")||tr(bo,q,{}),tr(bo[q],ee,le),u.real&&L&&!L[ee]&&tr(L,ee,le)))},Za=Yi.f;Ze({target:"Object",stat:!0,forced:Object.defineProperty!==Za,sham:!Kt},{defineProperty:Za});var rh=St.Object,Hc=Ls.exports=function(f,w,x){return rh.defineProperty(f,w,x)};rh.defineProperty.sham&&(Hc.sham=!0);var oh=Ls.exports,Xa=oh;function ah(u,f){for(var w=0;w<f.length;w++){var x=f[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Xa(u,x.key,x)}}function Rr(u,f,w){return f&&ah(u.prototype,f),w&&ah(u,w),Xa(u,"prototype",{writable:!1}),u}function We(u,f,w){return f in u?Xa(u,f,{value:w,enumerable:!0,configurable:!0,writable:!0}):u[f]=w,u}var ea=Ae([].slice),is=Ae,tb=Fr,zv=hi,Bv=Si,lh=ea,ib=a,$v=ie.Function,ch=is([].concat),uh=is([].join),el={},Nv=function(u,f,w){if(!Bv(el,f)){for(var x=[],C=0;C<f;C++)x[C]="a["+C+"]";el[f]=$v("C,a","return new C("+uh(x,",")+")")}return el[f](u,w)},Pr=ib?$v.bind:function(f){var w=tb(this),x=w.prototype,C=lh(arguments,1),E=function(){var P=ch(C,lh(arguments));return this instanceof E?Nv(w,P.length,P):w.apply(f,P)};return zv(x)&&(E.prototype=x),E};Ze({target:"Function",proto:!0,forced:Function.bind!==Pr},{bind:Pr});var jv=St,ti=function(u){return jv[u+"Prototype"]},tl=ti("Function").bind,ye=Wt,Wc=tl,il=Function.prototype,Ar=function(u){var f=u.bind;return u===il||ye(il,u)&&f===il.bind?Wc:f},Gc=Math.ceil,hh=Math.floor,ir=function(u){var f=+u;return f!=f||0===f?0:(f>0?hh:Gc)(f)},rl=ir,Hv=Math.min,Oi=function(u){return function(u){return u>0?Hv(rl(u),9007199254740991):0}(u.length)},ph=Fr,rb=zt,ns=Ha,ol=Oi,Wv=ie.TypeError,Tn=function(u){return function(f,w,x,C){ph(w);var E=rb(f),F=ns(E),P=ol(E),L=u?P-1:0,H=u?-1:1;if(x<2)for(;;){if(L in F){C=F[L],L+=H;break}if(L+=H,u?L<0:P<=L)throw Wv("Reduce of empty array with no initial value")}for(;u?L>=0:P>L;L+=H)L in F&&(C=w(C,F[L],L,E));return C}},Uc={left:Tn(!1),right:Tn(!0)},sl=ke,ta=function(u,f){var w=[][u];return!!w&&sl(function(){w.call(null,f||function(){return 1},1)})},Yc="process"==di(ie.process),ia=Uc.left,fh=js,qc=Yc;Ze({target:"Array",proto:!0,forced:!ta("reduce")||!qc&&fh>79&&fh<83},{reduce:function(f){var w=arguments.length;return ia(this,f,w,w>1?arguments[1]:void 0)}});var kn=ti("Array").reduce,wo=Wt,Qv=kn,Qc=Array.prototype,mh=function(u){var f=u.reduce;return u===Qc||wo(Qc,u)&&f===Qc.reduce?Qv:f},yh=di,rr=Array.isArray||function(f){return"Array"==yh(f)},ll={};ll[ei("toStringTag")]="z";var Jc="[object z]"===String(ll),sb=ie,Xc=Jc,os=Lt,Pi=di,Jv=ei("toStringTag"),bh=sb.Object,ab="Arguments"==Pi(function(){return arguments}()),zr=Xc?Pi:function(u){var f,w,x;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(w=function(u,f){try{return u[f]}catch{}}(f=bh(u),Jv))?w:ab?Pi(f):"Object"==(x=Pi(f))&&os(f.callee)?"Arguments":x},lb=Lt,xo=Gs,or=Ae(Function.toString);lb(xo.inspectSource)||(xo.inspectSource=function(u){return or(u)});var eu=xo.inspectSource,cb=Ae,Xv=ke,tu=Lt,wh=zr,Br=eu,ul=function(){},eg=[],tg=_i("Reflect","construct"),iu=/^\s*(?:class|function)\b/,ig=cb(iu.exec),Co=!iu.exec(ul),Ln=function(f){if(!tu(f))return!1;try{return tg(ul,eg,f),!0}catch{return!1}},xh=function(f){if(!tu(f))return!1;switch(wh(f)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Co||!!ig(iu,Br(f))}catch{return!0}};xh.sham=!0;var dl=!tg||Xv(function(){var u;return Ln(Ln.call)||!Ln(Object)||!Ln(function(){u=!0})||u})?xh:Ln,ng=ie,nu=rr,Ch=dl,rg=hi,kh=ei("species"),hl=ng.Array,ss=function(u,f){return new(function(u){var f;return nu(u)&&(Ch(f=u.constructor)&&(f===hl||nu(f.prototype))||rg(f)&&null===(f=f[kh]))&&(f=void 0),void 0===f?hl:f}(u))(0===f?0:f)},To=ts,Ih=Ha,sr=zt,as=Oi,og=ss,ru=Ae([].push),ar=function(u){var f=1==u,w=2==u,x=3==u,C=4==u,E=6==u,F=7==u,P=5==u||E;return function(L,H,G,q){for(var on,qt,ee=sr(L),le=Ih(ee),Ve=To(H,G),et=as(le),lt=0,Ke=q||og,Jt=f?Ke(L,et):w||F?Ke(L,0):void 0;et>lt;lt++)if((P||lt in le)&&(qt=Ve(on=le[lt],lt,ee),u))if(f)Jt[lt]=qt;else if(qt)switch(u){case 3:return!0;case 5:return on;case 6:return lt;case 2:ru(Jt,on)}else switch(u){case 4:return!1;case 7:ru(Jt,on)}return E?-1:x||C?C:Jt}},na={forEach:ar(0),map:ar(1),filter:ar(2),some:ar(3),every:ar(4),find:ar(5),findIndex:ar(6),filterReject:ar(7)},ub=ke,pl=js,db=ei("species"),ko=function(u){return pl>=51||!ub(function(){var f=[];return(f.constructor={})[db]=function(){return{foo:1}},1!==f[u](Boolean).foo})},ra=na.filter;Ze({target:"Array",proto:!0,forced:!ko("filter")},{filter:function(f){return ra(this,f,arguments.length>1?arguments[1]:void 0)}});var Dh=ti("Array").filter,fb=Wt,So=Dh,lr=Array.prototype,wi=function(u){var f=u.filter;return u===lr||fb(lr,u)&&f===lr.filter?So:f},cg=na.map;Ze({target:"Array",proto:!0,forced:!ko("map")},{map:function(f){return cg(this,f,arguments.length>1?arguments[1]:void 0)}});var ug=ti("Array").map,$r=Wt,cs=ug,au=Array.prototype,Ai=function(u){var f=u.map;return u===au||$r(au,u)&&f===au.map?cs:f},Ph=rr,pg=Oi,Ah=ts,Lh=ie.TypeError,fl=function(u,f,w,x,C,E,F,P){for(var q,ee,L=C,H=0,G=!!F&&Ah(F,P);H<x;){if(H in w){if(q=G?G(w[H],H,f):w[H],E>0&&Ph(q))ee=pg(q),L=fl(u,f,q,ee,L,E-1)-1;else{if(L>=9007199254740991)throw Lh("Exceed the acceptable array length");u[L]=q}L++}H++}return L},vl=fl,yb=Fr,zh=zt,vg=Oi,bb=ss;Ze({target:"Array",proto:!0},{flatMap:function(f){var C,w=zh(this),x=vg(w);return yb(f),(C=bb(w,0)).length=vl(C,w,w,x,0,1,f,arguments.length>1?arguments[1]:void 0),C}});var gg=ti("Array").flatMap,gl=Wt,Bh=gg,oa=Array.prototype;var ca,cr,ur,yl=function(){function u(f,w,x){var C,E,F;we(this,u),We(this,"_source",void 0),We(this,"_transformers",void 0),We(this,"_target",void 0),We(this,"_listeners",{add:Ar(C=this._add).call(C,this),remove:Ar(E=this._remove).call(E,this),update:Ar(F=this._update).call(F,this)}),this._source=f,this._transformers=w,this._target=x}return Rr(u,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(w){var x;return mh(x=this._transformers).call(x,function(C,E){return E(C)},w)}},{key:"_add",value:function(w,x){null!=x&&this._target.add(this._transformItems(this._source.get(x.items)))}},{key:"_update",value:function(w,x){null!=x&&this._target.update(this._transformItems(this._source.get(x.items)))}},{key:"_remove",value:function(w,x){null!=x&&this._target.remove(this._transformItems(x.oldData))}}]),u}(),cu=function(){function u(f){we(this,u),We(this,"_source",void 0),We(this,"_transformers",[]),this._source=f}return Rr(u,[{key:"filter",value:function(w){return this._transformers.push(function(x){return wi(x).call(x,w)}),this}},{key:"map",value:function(w){return this._transformers.push(function(x){return Ai(x).call(x,w)}),this}},{key:"flatMap",value:function(w){return this._transformers.push(function(x){return function(u){var f=u.flatMap;return u===oa||gl(oa,u)&&f===oa.flatMap?Bh:f}(x).call(x,w)}),this}},{key:"to",value:function(w){return new yl(this._source,this._transformers,w)}}]),u}(),uu=zr,bl=ie.String,ji=function(u){if("Symbol"===uu(u))throw TypeError("Cannot convert a Symbol value to a string");return bl(u)},_l=Ae,Vh=ir,us=ji,du=$s,wb=_l("".charAt),hu=_l("".charCodeAt),yg=_l("".slice),Kh=function(u){return function(f,w){var F,P,x=us(du(f)),C=Vh(w),E=x.length;return C<0||C>=E?u?"":void 0:(F=hu(x,C))<55296||F>56319||C+1===E||(P=hu(x,C+1))<56320||P>57343?u?wb(x,C):F:u?yg(x,C,C+2):P-56320+(F-55296<<10)+65536}},xb={codeAt:Kh(!1),charAt:Kh(!0)},_g=eu,wl=ie.WeakMap,Cb=Lt(wl)&&/native code/.test(_g(wl)),Tb=po,wg=(0,_t.exports)("keys"),Cl=function(u){return wg[u]||(wg[u]=Tb(u))},sa={},fu=Ae,kb=hi,ds=mo,Tl=Si,Cg=Cl,Sb=sa,Wh="Object already initialized",Eo=ie.TypeError;if(Cb||Gs.state){var Oo=Gs.state||(Gs.state=new(0,ie.WeakMap)),kg=fu(Oo.get),Gh=fu(Oo.has),Sg=fu(Oo.set);ca=function(u,f){if(Gh(Oo,u))throw new Eo(Wh);return f.facade=u,Sg(Oo,u,f),f},cr=function(u){return kg(Oo,u)||{}},ur=function(u){return Gh(Oo,u)}}else{var Io=Cg("state");Sb[Io]=!0,ca=function(u,f){if(Tl(u,Io))throw new Eo(Wh);return f.facade=u,ds(u,Io,f),f},cr=function(u){return Tl(u,Io)?u[Io]:{}},ur=function(u){return Tl(u,Io)}}var hs={set:ca,get:cr,has:ur,enforce:function(u){return ur(u)?cr(u):ca(u,{})},getterFor:function(u){return function(f){var w;if(!kb(f)||(w=cr(f)).type!==u)throw Eo("Incompatible receiver, "+u+" required");return w}}},vu=Kt,Uh=Function.prototype,Ob=vu&&Object.getOwnPropertyDescriptor,gu=Si(Uh,"name"),mu={EXISTS:gu,PROPER:gu&&"something"===function(){}.name,CONFIGURABLE:gu&&(!vu||vu&&Ob(Uh,"name").configurable)},yu={},Db=ir,Ig=Math.max,bu=Math.min,Do=function(u,f){var w=Db(u);return w<0?Ig(w+f,0):bu(w,f)},Dg=Xe,ua=Do,_u=Oi,wu=function(u){return function(f,w,x){var P,C=Dg(f),E=_u(C),F=ua(x,E);if(u&&w!=w){for(;E>F;)if((P=C[F++])!=P)return!0}else for(;E>F;F++)if((u||F in C)&&C[F]===w)return u||F||0;return!u&&-1}},Mo={includes:wu(!0),indexOf:wu(!1)},xu=Si,Sl=Xe,Yh=Mo.indexOf,Mg=sa,El=Ae([].push),qh=function(u,f){var E,w=Sl(u),x=0,C=[];for(E in w)!xu(Mg,E)&&xu(w,E)&&El(C,E);for(;f.length>x;)xu(w,E=f[x++])&&(~Yh(C,E)||El(C,E));return C},Ol=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fg=qh,Rg=Ol,Il=Object.keys||function(f){return Fg(f,Rg)},Qh=Yi,Ag=Cn,Zh=Xe,Jh=Il;yu.f=Kt&&!Jd?Object.defineProperties:function(f,w){Ag(f);for(var P,x=Zh(w),C=Jh(w),E=C.length,F=0;E>F;)Qh.f(f,P=C[F++],x[P]);return f};var Tt,p=_i("document","documentElement"),k=Cn,i=yu,l=Ol,h=sa,b=p,z=qd,ve="prototype",Pe="script",Je=Cl("IE_PROTO"),He=function(){},wt=function(u){return"<script>"+u+"</"+Pe+">"},at=function(u){u.write(wt("")),u.close();var f=u.parentWindow.Object;return u=null,f},Bt=function(){try{Tt=new ActiveXObject("htmlfile")}catch{}Bt=typeof document<"u"?document.domain&&Tt?at(Tt):function(){var w,u=z("iframe");return u.style.display="none",b.appendChild(u),u.src=String("javascript:"),(w=u.contentWindow.document).open(),w.write(wt("document.F=Object")),w.close(),w.F}():at(Tt);for(var u=l.length;u--;)delete Bt[ve][l[u]];return Bt()};h[Je]=!0;var pr,Ng,jg,Nt=Object.create||function(f,w){var x;return null!==f?(He[ve]=k(f),x=new He,He[ve]=null,x[Je]=f):x=Bt(),void 0===w?x:i.f(x,w)},qi=!ke(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),zn=ie,Dl=Si,Dt=Lt,vn=zt,Fw=qi,Lg=Cl("IE_PROTO"),Xh=zn.Object,zg=Xh.prototype,Bg=Fw?Xh.getPrototypeOf:function(u){var f=vn(u);if(Dl(f,Lg))return f[Lg];var w=f.constructor;return Dt(w)&&f instanceof w?w.prototype:f instanceof Xh?zg:null},ep=mo,tp=function(u,f,w,x){x&&x.enumerable?u[f]=w:ep(u,f,w)},Rw=ke,Fb=Lt,ip=Nt,Rb=Bg,$g=tp,hr=ei("iterator"),fs=!1;[].keys&&("next"in(jg=[].keys())?(Ng=Rb(Rb(jg)))!==Object.prototype&&(pr=Ng):fs=!0),pr=null==pr||Rw(function(){var u={};return pr[hr].call(u)!==u})?{}:ip(pr),Fb(pr[hr])||$g(pr,hr,function(){return this});var Pb={IteratorPrototype:pr,BUGGY_SAFARI_ITERATORS:fs},da=zr,fi=Jc,Hg=Yi.f,Ab=mo,Vg=Si,Fl=Jc?{}.toString:function(){return"[object "+da(this)+"]"},rp=ei("toStringTag"),ku=function(u,f,w,x){if(u){var C=w?u:u.prototype;Vg(C,rp)||Hg(C,rp,{configurable:!0,value:f}),x&&!fi&&Ab(C,"toString",Fl)}},fr={},op=Pb.IteratorPrototype,Lb=Nt,Kg=$i,Su=ku,zb=fr,Bb=function(){return this},Wg=Lt,Nb=ie.String,jb=ie.TypeError,ap=Ae,Gg=Cn,Hb=Object.setPrototypeOf||("__proto__"in{}?function(){var w,u=!1,f={};try{(w=ap(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(f,[]),u=f instanceof Array}catch{}return function(C,E){return Gg(C),function(u){if("object"==typeof u||Wg(u))return u;throw jb("Can't set "+Nb(u)+" as a prototype")}(E),u?w(C,E):C.__proto__=E,C}}():void 0),Vb=Ze,Kb=cn,Pl=function(u,f,w,x){var C=f+" Iterator";return u.prototype=Lb(op,{next:Kg(+!x,w)}),Su(u,C,!1,!0),zb[C]=Bb,u},Ug=Bg,Wb=ku,Ou=tp,Iu=fr,fa=mu.PROPER,va=Pb.BUGGY_SAFARI_ITERATORS,Et=ei("iterator"),jr="values",Yg="entries",qg=function(){return this},Ro=function(u,f,w,x,C,E,F){Pl(w,f,x);var Ve,et,lt,P=function(Ke){if(Ke===C&&ee)return ee;if(!va&&Ke in G)return G[Ke];switch(Ke){case"keys":case jr:case Yg:return function(){return new w(this,Ke)}}return function(){return new w(this)}},L=f+" Iterator",H=!1,G=u.prototype,q=G[Et]||G["@@iterator"]||C&&G[C],ee=!va&&q||P(C),le="Array"==f&&G.entries||q;if(le&&(Ve=Ug(le.call(new u)))!==Object.prototype&&Ve.next&&(Wb(Ve,L,!0,!0),Iu[L]=qg),fa&&C==jr&&q&&q.name!==jr&&(H=!0,ee=function(){return Kb(q,this)}),C)if(et={values:P(jr),keys:E?ee:P("keys"),entries:P(Yg)},F)for(lt in et)(va||H||!(lt in G))&&Ou(G,lt,et[lt]);else Vb({target:f,proto:!0,forced:va||H},et);return F&&G[Et]!==ee&&Ou(G,Et,ee,{name:C}),Iu[f]=ee,et},lp=xb.charAt,vs=ji,Qg=Ro,cp="String Iterator",vr=hs.set,Po=hs.getterFor(cp);Qg(String,"String",function(u){vr(this,{type:cp,string:vs(u),index:0})},function(){var C,f=Po(this),w=f.string,x=f.index;return x>=w.length?{value:void 0,done:!0}:(C=lp(w,x),f.index+=C.length,{value:C,done:!1})});var up=cn,dp=Cn,Gb=uo,Ll=function(u,f,w){var x,C;dp(u);try{if(!(x=Gb(u,"return"))){if("throw"===f)throw w;return w}x=up(x,u)}catch(E){C=!0,x=E}if("throw"===f)throw w;if(C)throw x;return dp(x),w},hp=Cn,pp=Ll,Ub=fr,gp=ei("iterator"),zl=Array.prototype,Du=function(u){return void 0!==u&&(Ub.Array===u||zl[gp]===u)},Yb=pn,qb=Yi,gs=$i,ga=function(u,f,w){var x=Yb(f);x in u?qb.f(u,x,gs(0,w)):u[x]=w},Pw=zr,Zg=uo,mp=fr,Mu=ei("iterator"),Fu=function(u){if(null!=u)return Zg(u,Mu)||Zg(u,"@@iterator")||mp[Pw(u)]},Zb=cn,Bn=Fr,Hi=Cn,ma=Mr,Jb=Fu,Jg=ie.TypeError,ya=function(u,f){var w=arguments.length<2?Jb(u):f;if(Bn(w))return Hi(Zb(w,u));throw Jg(ma(u)+" is not iterable")},Ao=ts,e_=cn,Aw=zt,t_=function(u,f,w,x){try{return x?f(hp(w)[0],w[1]):f(w)}catch(C){pp(u,"throw",C)}},Lo=Du,$n=dl,yp=Oi,bp=ga,Lw=ya,_p=Fu,Ru=ie.Array,Pu=ei("iterator"),em=!1;try{var i_=0,wp={next:function(){return{done:!!i_++}},return:function(){em=!0}};wp[Pu]=function(){return this},Array.from(wp,function(){throw 2})}catch{}var zw=Ze,n_=function(f){var w=Aw(f),x=$n(this),C=arguments.length,E=C>1?arguments[1]:void 0,F=void 0!==E;F&&(E=Ao(E,C>2?arguments[2]:void 0));var H,G,q,ee,le,Ve,P=_p(w),L=0;if(!P||this==Ru&&Lo(P))for(H=yp(w),G=x?new this(H):Ru(H);H>L;L++)Ve=F?E(w[L],L):w[L],bp(G,L,Ve);else for(le=(ee=Lw(w,P)).next,G=x?new this:[];!(q=e_(le,ee)).done;L++)Ve=F?t_(ee,E,[q.value,L],!0):q.value,bp(G,L,Ve);return G.length=L,G},Te=!function(u,f){if(!em)return!1;var w=!1;try{var x={};x[Pu]=function(){return{next:function(){return{done:w=!0}}}},function(u){Array.from(u)}(x)}catch{}return w}();zw({target:"Array",stat:!0,forced:Te},{from:n_});var Bl=St.Array.from,$l=Bl,o_=Xe,tm=fr,a_=Ro,Nl="Array Iterator",Bw=hs.set,$w=hs.getterFor(Nl);a_(Array,"Array",function(u,f){Bw(this,{type:Nl,target:o_(u),index:0,kind:f})},function(){var u=$w(this),f=u.target,w=u.kind,x=u.index++;return!f||x>=f.length?(u.target=void 0,{value:void 0,done:!0}):"keys"==w?{value:x,done:!1}:"values"==w?{value:f[x],done:!1}:{value:[x,f[x]],done:!1}},"values"),tm.Arguments=tm.Array;var jw=Fu,Vw=ie,c_=zr,Kw=mo,im=fr,nm=ei("toStringTag");for(var Tp in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var kp=Vw[Tp],Lu=kp&&kp.prototype;Lu&&c_(Lu)!==nm&&Kw(Lu,nm,Tp),im[Tp]=im.Array}var Hl=jw,zu={},p_=qh,Yw=Ol.concat("length","prototype");zu.f=Object.getOwnPropertyNames||function(f){return p_(f,Yw)};var Sp={},v_=Do,qw=Oi,Qw=ga,g_=ie.Array,m_=Math.max,om=function(u,f,w){for(var x=qw(u),C=v_(f,x),E=v_(void 0===w?x:w,x),F=g_(m_(E-C,0)),P=0;C<E;C++,P++)Qw(F,P,u[C]);return F.length=P,F},Ep=di,Zw=Xe,y_=zu.f,Jw=om,sm="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Sp.f=function(f){return sm&&"Window"==Ep(f)?function(u){try{return y_(u)}catch{return Jw(sm)}}(f):y_(Zw(f))};var zo={};zo.f=Object.getOwnPropertySymbols;var Bu={};Bu.f=ei;var Op=St,lm=Si,b_=Bu,ii=Yi.f,gi=function(u){var f=Op.Symbol||(Op.Symbol={});lm(f,u)||ii(f,u,{value:b_.f(u)})},Ot=Ze,Nn=ie,Bo=_i,e1=Dr,$u=cn,t1=Ae,Hr=Kt,_a=xc,Nu=ke,gt=Si,Pt=rr,cm=Lt,__=hi,n1=Wt,Ip=lo,wa=Cn,w_=zt,ci=Xe,Dp=pn,um=ji,mt=$i,Ci=Nt,Vl=Il,x_=zu,C_=Sp,Kl=zo,Mp=rt,Vr=Yi,ju=yu,Fp=no,Zi=ea,dm=tp,Wl=_t.exports,T_=sa,Rp=po,pm=ei,jt=Bu,r1=gi,k_=ku,S_=hs,Hu=na.forEach,gn=Cl("hidden"),Pp="Symbol",Vu="prototype",Gl=pm("toPrimitive"),o1=S_.set,Ji=S_.getterFor(Pp),gr=Object[Vu],$o=Nn.Symbol,ms=$o&&$o[Vu],fm=Nn.TypeError,vm=Nn.QObject,Ku=Bo("JSON","stringify"),E_=Mp.f,Kr=Vr.f,O_=C_.f,s1=Fp.f,I_=t1([].push),No=Wl("symbols"),Wu=Wl("op-symbols"),gm=Wl("string-to-symbol-registry"),mm=Wl("symbol-to-string-registry"),a1=Wl("wks"),ym=!vm||!vm[Vu]||!vm[Vu].findChild,Gu=Hr&&Nu(function(){return 7!=Ci(Kr({},"a",{get:function(){return Kr(this,"a",{value:7}).a}})).a})?function(u,f,w){var x=E_(gr,f);x&&delete gr[f],Kr(u,f,w),x&&u!==gr&&Kr(gr,f,x)}:Kr,bm=function(u,f){var w=No[u]=Ci(ms);return o1(w,{type:Pp,tag:u,description:f}),Hr||(w.description=f),w},jn=function(f,w,x){f===gr&&jn(Wu,w,x),wa(f);var C=Dp(w);return wa(x),gt(No,C)?(x.enumerable?(gt(f,gn)&&f[gn][C]&&(f[gn][C]=!1),x=Ci(x,{enumerable:mt(0,!1)})):(gt(f,gn)||Kr(f,gn,mt(1,{})),f[gn][C]=!0),Gu(f,C,x)):Kr(f,C,x)},_m=function(f,w){wa(f);var x=ci(w),C=Vl(x).concat(wm(x));return Hu(C,function(E){(!Hr||$u(D_,x,E))&&jn(f,E,x[E])}),f},D_=function(f){var w=Dp(f),x=$u(s1,this,w);return!(this===gr&&gt(No,w)&&!gt(Wu,w))&&(!(x||!gt(this,w)||!gt(No,w)||gt(this,gn)&&this[gn][w])||x)},M_=function(f,w){var x=ci(f),C=Dp(w);if(x!==gr||!gt(No,C)||gt(Wu,C)){var E=E_(x,C);return E&&gt(No,C)&&!(gt(x,gn)&&x[gn][C])&&(E.enumerable=!0),E}},F_=function(f){var w=O_(ci(f)),x=[];return Hu(w,function(C){!gt(No,C)&&!gt(T_,C)&&I_(x,C)}),x},wm=function(f){var w=f===gr,x=O_(w?Wu:ci(f)),C=[];return Hu(x,function(E){gt(No,E)&&(!w||gt(gr,E))&&I_(C,No[E])}),C};if(_a||($o=function(){if(n1(ms,this))throw fm("Symbol is not a constructor");var f=arguments.length&&void 0!==arguments[0]?um(arguments[0]):void 0,w=Rp(f),x=function(C){this===gr&&$u(x,Wu,C),gt(this,gn)&&gt(this[gn],w)&&(this[gn][w]=!1),Gu(this,w,mt(1,C))};return Hr&&ym&&Gu(gr,w,{configurable:!0,set:x}),bm(w,f)},dm(ms=$o[Vu],"toString",function(){return Ji(this).tag}),dm($o,"withoutSetter",function(u){return bm(Rp(u),u)}),Fp.f=D_,Vr.f=jn,ju.f=_m,Mp.f=M_,x_.f=C_.f=F_,Kl.f=wm,jt.f=function(u){return bm(pm(u),u)},Hr&&Kr(ms,"description",{configurable:!0,get:function(){return Ji(this).description}})),Ot({global:!0,wrap:!0,forced:!_a,sham:!_a},{Symbol:$o}),Hu(Vl(a1),function(u){r1(u)}),Ot({target:Pp,stat:!0,forced:!_a},{for:function(u){var f=um(u);if(gt(gm,f))return gm[f];var w=$o(f);return gm[f]=w,mm[w]=f,w},keyFor:function(f){if(!Ip(f))throw fm(f+" is not a symbol");if(gt(mm,f))return mm[f]},useSetter:function(){ym=!0},useSimple:function(){ym=!1}}),Ot({target:"Object",stat:!0,forced:!_a,sham:!Hr},{create:function(f,w){return void 0===w?Ci(f):_m(Ci(f),w)},defineProperty:jn,defineProperties:_m,getOwnPropertyDescriptor:M_}),Ot({target:"Object",stat:!0,forced:!_a},{getOwnPropertyNames:F_,getOwnPropertySymbols:wm}),Ot({target:"Object",stat:!0,forced:Nu(function(){Kl.f(1)})},{getOwnPropertySymbols:function(f){return Kl.f(w_(f))}}),Ku&&Ot({target:"JSON",stat:!0,forced:!_a||Nu(function(){var u=$o();return"[null]"!=Ku([u])||"{}"!=Ku({a:u})||"{}"!=Ku(Object(u))})},{stringify:function(f,w,x){var C=Zi(arguments),E=w;if((__(w)||void 0!==f)&&!Ip(f))return Pt(w)||(w=function(F,P){if(cm(E)&&(P=$u(E,this,F,P)),!Ip(P))return P}),C[1]=w,e1(Ku,null,C)}}),!ms[Gl]){var R_=ms.valueOf;dm(ms,Gl,function(u){return $u(R_,this)})}k_($o,Pp),T_[gn]=!0;var Ap=St.Object.getOwnPropertySymbols,L_={exports:{}},d1=Ze,h1=Xe,xa=rt.f,Uu=Kt,Cm=ke(function(){xa(1)});d1({target:"Object",stat:!0,forced:!Uu||Cm,sham:!Uu},{getOwnPropertyDescriptor:function(f,w){return xa(h1(f),w)}});var Tm=St.Object,B_=L_.exports=function(f,w){return Tm.getOwnPropertyDescriptor(f,w)};Tm.getOwnPropertyDescriptor.sham&&(B_.sham=!0);var km=L_.exports,v1=_i,m1=zu,y1=zo,Sm=Cn,b1=Ae([].concat),Vi=v1("Reflect","ownKeys")||function(f){var w=m1.f(Sm(f)),x=y1.f;return x?b1(w,x(f)):w},w1=Vi,j_=Xe,x1=rt,C1=ga;Ze({target:"Object",stat:!0,sham:!Kt},{getOwnPropertyDescriptors:function(f){for(var P,L,w=j_(f),x=x1.f,C=w1(w),E={},F=0;C.length>F;)void 0!==(L=x(w,P=C[F++]))&&C1(E,P,L);return E}});var W_=St.Object.getOwnPropertyDescriptors,Em={exports:{}},Om=yu.f;Ze({target:"Object",stat:!0,forced:Object.defineProperties!==Om,sham:!Kt},{defineProperties:Om});var Lp=St.Object,Dm=Em.exports=function(f,w){return Lp.defineProperties(f,w)};Lp.defineProperties.sham&&(Dm.sham=!0);var E1=Em.exports,Bp=oh;Ze({target:"Array",stat:!0},{isArray:rr});var q_=St.Array.isArray,Rm=q_;var Am=Ze,O1=ie,I1=ke,D1=rr,Lm=hi,$p=zt,M1=Oi,kt=ga,F1=ss,J_=ko,R1=js,zm=ei("isConcatSpreadable"),Bm=9007199254740991,ys="Maximum allowed index exceeded",e0=O1.TypeError,P1=R1>=51||!I1(function(){var u=[];return u[zm]=!1,u.concat()[0]!==u}),qu=J_("concat"),Qu=function(u){if(!Lm(u))return!1;var f=u[zm];return void 0!==f?!!f:D1(u)};Am({target:"Array",proto:!0,forced:!P1||!qu},{concat:function(f){var E,F,P,L,H,w=$p(this),x=F1(w,0),C=0;for(E=-1,P=arguments.length;E<P;E++)if(Qu(H=-1===E?w:arguments[E])){if(C+(L=M1(H))>Bm)throw e0(ys);for(F=0;F<L;F++,C++)F in H&&kt(x,C,H[F])}else{if(C>=Bm)throw e0(ys);kt(x,C++,H)}return x.length=C,x}}),gi("asyncIterator"),gi("hasInstance"),gi("isConcatSpreadable"),gi("iterator"),gi("match"),gi("matchAll"),gi("replace"),gi("search"),gi("species"),gi("split"),gi("toPrimitive"),gi("toStringTag"),gi("unscopables"),ku(ie.JSON,"JSON",!0);var jp=St.Symbol,K1=jp;gi("asyncDispose"),gi("dispose"),gi("matcher"),gi("metadata"),gi("observable"),gi("patternMatch"),gi("replaceAll");var Ta=K1;var q1=Ze,yr=ie,Sn=rr,Yl=dl,bs=hi,Hn=Do,Vn=Oi,Kn=Xe,jo=ga,mn=ei,Xu=ea,c0=ko("slice"),ka=mn("species"),Gr=yr.Array,Hp=Math.max;q1({target:"Array",proto:!0,forced:!c0},{slice:function(f,w){var P,L,H,x=Kn(this),C=Vn(x),E=Hn(f,C),F=Hn(void 0===w?C:w,C);if(Sn(x)&&((Yl(P=x.constructor)&&(P===Gr||Sn(P.prototype))||bs(P)&&null===(P=P[ka]))&&(P=void 0),P===Gr||void 0===P))return Xu(x,E,F);for(L=new(void 0===P?Gr:P)(Hp(F-E,0)),H=0;E<F;E++,H++)E in x&&jo(L,H,x[E]);return L.length=H,L}});var Sa=ti("Array").slice,ed=Wt,td=Sa,Ea=Array.prototype,id=function(u){var f=u.slice;return u===Ea||ed(Ea,u)&&f===Ea.slice?td:f},u0=id,Wp=Bl;function Cs(u,f){(null==f||f>u.length)&&(f=u.length);for(var w=0,x=new Array(f);w<f;w++)x[w]=u[w];return x}function _r(u,f){var w;if(u){if("string"==typeof u)return Cs(u,f);var x=u0(w=Object.prototype.toString.call(u)).call(w,8,-1);if("Object"===x&&u.constructor&&(x=u.constructor.name),"Map"===x||"Set"===x)return Wp(u);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Cs(u,f)}}function ni(u,f){return function Pm(u){if(Rm(u))return u}(u)||function Vm(u,f){var w=null==u?null:typeof Ta<"u"&&Hl(u)||u["@@iterator"];if(null!=w){var F,P,x=[],C=!0,E=!1;try{for(w=w.call(u);!(C=(F=w.next()).done)&&(x.push(F.value),!f||x.length!==f);C=!0);}catch(L){E=!0,P=L}finally{try{!C&&null!=w.return&&w.return()}finally{if(E)throw P}}return x}}(u,f)||_r(u,f)||function nd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wm=Bu.f("iterator"),d0=Wm;function Ti(u){return(Ti="function"==typeof Ta&&"symbol"==typeof d0?function(f){return typeof f}:function(f){return f&&"function"==typeof Ta&&f.constructor===Ta&&f!==Ta.prototype?"symbol":typeof f})(u)}function Li(u){return function wr(u){if(Rm(u))return Cs(u)}(u)||function rd(u){if(typeof Ta<"u"&&null!=Hl(u)||null!=u["@@iterator"])return Wp(u)}(u)||_r(u)||function od(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xr=jp,sd=ti("Array").concat,Gm=Wt,h0=sd,qp=Array.prototype,Zp=function(u){var f=u.concat;return u===qp||Gm(qp,u)&&f===qp.concat?h0:f},ld=id;Ze({target:"Reflect",stat:!0},{ownKeys:Vi});var Yr=St.Reflect.ownKeys,en=q_,Ym=zt,Cr=Il;Ze({target:"Object",stat:!0,forced:ke(function(){Cr(1)})},{keys:function(f){return Cr(Ym(f))}});var Vo=St.Object.keys,qm=Ze,nf=ie.Date,Zm=Ae(nf.prototype.getTime);qm({target:"Date",stat:!0},{now:function(){return Zm(new nf)}});var g0=na.forEach,b0=ta("forEach")?[].forEach:function(f){return g0(this,f,arguments.length>1?arguments[1]:void 0)};Ze({target:"Array",proto:!0,forced:[].forEach!=b0},{forEach:b0});var X1=ti("Array").forEach,Xm=zr,C0=Si,ey=Wt,ty=X1,nc=Array.prototype,T0={DOMTokenList:!0,NodeList:!0},Ko=function(u){var f=u.forEach;return u===nc||ey(nc,u)&&f===nc.forEach||C0(T0,Xm(u))?ty:f},Wn=Ze,tx=rr,ny=Ae([].reverse),Tr=[1,2];Wn({target:"Array",proto:!0,forced:String(Tr)===String(Tr.reverse())},{reverse:function(){return tx(this)&&(this.length=this.length),ny(this)}});var ix=ti("Array").reverse,k0=Wt,nx=ix,kr=Array.prototype,rc=Ze,dd=ie,Ht=Do,hd=ir,Es=Oi,En=zt,vt=ss,rf=ga,sy=ko("splice"),of=dd.TypeError,oc=Math.max,Go=Math.min,sf=9007199254740991,tn="Maximum allowed length exceeded";rc({target:"Array",proto:!0,forced:!sy},{splice:function(f,w){var P,L,H,G,q,ee,x=En(this),C=Es(x),E=Ht(f,C),F=arguments.length;if(0===F?P=L=0:1===F?(P=0,L=C-E):(P=F-2,L=Go(oc(hd(w),0),C-E)),C+P-L>sf)throw of(tn);for(H=vt(x,L),G=0;G<L;G++)(q=E+G)in x&&rf(H,G,x[q]);if(H.length=L,P<L){for(G=E;G<C-L;G++)ee=G+P,(q=G+L)in x?x[ee]=x[q]:delete x[ee];for(G=C;G>C-L+P;G--)delete x[G-1]}else if(P>L)for(G=C-L;G>E;G--)ee=G+P-1,(q=G+L-1)in x?x[ee]=x[q]:delete x[ee];for(G=0;G<P;G++)x[G+E]=arguments[G+2];return x.length=C-L+P,H}});var rx=ti("Array").splice,Os=Wt,Gn=rx,ay=Array.prototype,cf=function(u){var f=u.splice;return u===ay||Os(ay,u)&&f===ay.splice?Gn:f},ly=Kt,ax=cn,pd=ke,Ia=Il,lx=zo,E0=no,cx=zt,Is=Ha,sc=Object.assign,uf=Object.defineProperty,Yo=Ae([].concat),O0=!sc||pd(function(){if(ly&&1!==sc({b:1},sc(uf({},"a",{enumerable:!0,get:function(){uf(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var u={},f={},w=Symbol(),x="abcdefghijklmnopqrst";return u[w]=7,x.split("").forEach(function(C){f[C]=C}),7!=sc({},u)[w]||Ia(sc({},f)).join("")!=x})?function(f,w){for(var x=cx(f),C=arguments.length,E=1,F=lx.f,P=E0.f;C>E;)for(var ee,L=Is(arguments[E++]),H=F?Yo(Ia(L),F(L)):Ia(L),G=H.length,q=0;G>q;)ee=H[q++],(!ly||ax(P,L,ee))&&(x[ee]=L[ee]);return x}:sc;Ze({target:"Object",stat:!0,forced:Object.assign!==O0},{assign:O0});var uy=St.Object.assign,Da=Mo.includes;Ze({target:"Array",proto:!0},{includes:function(f){return Da(this,f,arguments.length>1?arguments[1]:void 0)}}),ti("Array");var Ye=hi,nn=di,Qo=ei("match"),D0=ie.TypeError,Gt=ei("match"),hx=Ze,A0=function(u){if(function(u){var f;return Ye(u)&&(void 0!==(f=u[Qo])?!!f:"RegExp"==nn(u))}(u))throw D0("The method doesn't accept regular expressions");return u},fd=$s,Ki=ji,z0=Ae("".indexOf);hx({target:"String",proto:!0,forced:!function(u){var f=/./;try{"/./"[u](f)}catch{try{return f[Gt]=!1,"/./"[u](f)}catch{}}return!1}("includes")},{includes:function(f){return!!~z0(Ki(fd(this)),Ki(A0(f)),arguments.length>1?arguments[1]:void 0)}}),ti("String");var py=zt,$0=Bg,N0=qi;Ze({target:"Object",stat:!0,forced:ke(function(){$0(1)}),sham:!N0},{getPrototypeOf:function(f){return $0(py(f))}});var H0=St.Object.getPrototypeOf,gx=Kt,V0=Ae,fy=Il,pf=Xe,mx=V0(no.f),yx=V0([].push),W0=function(u){return function(f){for(var P,w=pf(f),x=fy(w),C=x.length,E=0,F=[];C>E;)P=x[E++],(!gx||mx(w,P))&&yx(F,u?[P,w[P]]:w[P]);return F}},ff=(W0(!0),W0(!1));Ze({target:"Object",stat:!0},{values:function(f){return ff(f)}});var md="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",gy=$s,bx=ji,Y0=md,Qr=Ae("".replace),ac="["+Y0+"]",my=RegExp("^"+ac+ac+"*"),_x=RegExp(ac+ac+"*$"),yy=function(u){return function(f){var w=bx(gy(f));return 1&u&&(w=Qr(w,my,"")),2&u&&(w=Qr(w,_x,"")),w}},q0={start:yy(1),end:yy(2),trim:yy(3)},wx=ke,xx=ji,Ms=q0.trim,_y=md,yd=ie.parseInt,bd=ie.Symbol,Z0=bd&&bd.iterator,_d=/^[+-]?0x/i,J0=Ae(_d.exec),Cx=8!==yd(_y+"08")||22!==yd(_y+"0x16")||Z0&&!wx(function(){yd(Object(Z0))})?function(f,w){var x=Ms(xx(f));return yd(x,w>>>0||(J0(_d,x)?16:10))}:yd;Ze({global:!0,forced:parseInt!=Cx},{parseInt:Cx});var Sx=Ze,Ex=Mo.indexOf,Ox=ta,wy=Ae([].indexOf),xy=!!wy&&1/wy([1],1,-0)<0,Cy=Ox("indexOf");Sx({target:"Array",proto:!0,forced:xy||!Cy},{indexOf:function(f){var w=arguments.length>1?arguments[1]:void 0;return xy?wy(this,f,w)||0:Ex(this,f,w)}}),ti("Array");var u,Dx=mu.PROPER,tw=md,gf=q0.trim;Ze({target:"String",proto:!0,forced:(u="trim",ke(function(){return!!tw[u]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[u]()||Dx&&tw[u].name!==u}))},{trim:function(){return gf(this)}}),ti("String"),Ze({target:"Object",stat:!0,sham:!Kt},{create:Nt});var Px=St.Object,yf=function(f,w){return Px.create(f,w)},Sy=yf,Lx=Ze,xd=Dr,lc=Ae,bf=ke,Ey=ie.Array,cc=_i("JSON","stringify"),Sr=lc(/./.exec),ow=lc("".charAt),Oy=lc("".charCodeAt),$x=lc("".replace),Nx=lc(1..toString),Ma=/[\uD800-\uDFFF]/g,_f=/^[\uD800-\uDBFF]$/,sw=/^[\uDC00-\uDFFF]$/,jx=function(u,f,w){var x=ow(w,f-1),C=ow(w,f+1);return Sr(_f,u)&&!Sr(sw,C)||Sr(sw,u)&&!Sr(_f,x)?"\\u"+Nx(Oy(u,0),16):u},Hx=bf(function(){return'"\\udf06\\ud834"'!==cc("\udf06\ud834")||'"\\udead"'!==cc("\udead")});cc&&Lx({target:"JSON",stat:!0,forced:Hx},{stringify:function(f,w,x){for(var C=0,E=arguments.length,F=Ey(E);C<E;C++)F[C]=arguments[C];var P=xd(cc,null,F);return"string"==typeof P?$x(P,Ma,jx):P}});var Cd=St,Vx=Dr;Cd.JSON||(Cd.JSON={stringify:JSON.stringify});var Wx=function(f,w,x){return Vx(Cd.JSON.stringify,null,arguments)},aw=ie.TypeError,My=Ze,Fa=ie,wf=Dr,Er=Lt,Fy=ea,cw=function(u,f){if(u<f)throw aw("Not enough arguments");return u},uw=/MSIE .\./.test(so),Ry=Fa.Function,Py=function(u){return function(f,w){var x=cw(arguments.length,1)>2,C=Er(f)?f:Ry(f),E=x?Fy(arguments,2):void 0;return u(x?function(){wf(C,this,E)}:C,w)}};My({global:!0,bind:!0,forced:uw},{setTimeout:Py(Fa.setTimeout),setInterval:Py(Fa.setInterval)});var Cf=St.setTimeout,Ly=zt,dw=Do,Gx=Oi;Ze({target:"Array",proto:!0},{fill:function(f){for(var w=Ly(this),x=Gx(w),C=arguments.length,E=dw(C>1?arguments[1]:void 0,x),F=C>2?arguments[2]:void 0,P=void 0===F?x:dw(F,x);P>E;)w[E++]=f;return w}}),ti("Array");var _={exports:{}};!function(u){function f(x){if(x)return function w(x){for(var C in f.prototype)x[C]=f.prototype[C];return x}(x)}u.exports=f,f.prototype.on=f.prototype.addEventListener=function(x,C){return this._callbacks=this._callbacks||{},(this._callbacks["$"+x]=this._callbacks["$"+x]||[]).push(C),this},f.prototype.once=function(x,C){function E(){this.off(x,E),C.apply(this,arguments)}return E.fn=C,this.on(x,E),this},f.prototype.off=f.prototype.removeListener=f.prototype.removeAllListeners=f.prototype.removeEventListener=function(x,C){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var E=this._callbacks["$"+x];if(!E)return this;if(1==arguments.length)return delete this._callbacks["$"+x],this;for(var F,P=0;P<E.length;P++)if((F=E[P])===C||F.fn===C){E.splice(P,1);break}return 0===E.length&&delete this._callbacks["$"+x],this},f.prototype.emit=function(x){this._callbacks=this._callbacks||{};for(var C=new Array(arguments.length-1),E=this._callbacks["$"+x],F=1;F<arguments.length;F++)C[F-1]=arguments[F];if(E){F=0;for(var P=(E=E.slice(0)).length;F<P;++F)E[F].apply(this,C)}return this},f.prototype.listeners=function(x){return this._callbacks=this._callbacks||{},this._callbacks["$"+x]||[]},f.prototype.hasListeners=function(x){return!!this.listeners(x).length}}(_);var $,S=_.exports;function I(){return I=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var w=arguments[f];for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(u[x]=w[x])}return u},I.apply(this,arguments)}function M(u,f){u.prototype=Object.create(f.prototype),u.prototype.constructor=u,u.__proto__=f}function A(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}$="function"!=typeof Object.assign?function(f){if(null==f)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(f),x=1;x<arguments.length;x++){var C=arguments[x];if(null!=C)for(var E in C)C.hasOwnProperty(E)&&(w[E]=C[E])}return w}:Object.assign;var Re,j=$,J=["","webkit","Moz","MS","ms","o"],Z=typeof document>"u"?{style:{}}:document.createElement("div"),Ce=Math.round,Me=Math.abs,De=Date.now;function Be(u,f){for(var w,x,C=f[0].toUpperCase()+f.slice(1),E=0;E<J.length;){if((x=(w=J[E])?w+C:f)in u)return x;E++}}Re=typeof window>"u"?{}:window;var it=Be(Z.style,"touchAction"),At=void 0!==it;var Vt="compute",bn="manipulation",ri="none",Fi="pan-x",Wi="pan-y",Rs=function It(){if(!At)return!1;var u={},f=Re.CSS&&Re.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(w){return u[w]=!f||Re.CSS.supports("touch-action",w)}),u}(),Ra="ontouchstart"in Re,Tf=void 0!==Be(Re,"PointerEvent"),kd=Ra&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),xt="touch",ge="mouse",AC=["x","y"],pw=["clientX","clientY"];function Aa(u,f,w){var x;if(u)if(u.forEach)u.forEach(f,w);else if(void 0!==u.length)for(x=0;x<u.length;)f.call(w,u[x],x,u),x++;else for(x in u)u.hasOwnProperty(x)&&f.call(w,u[x],x,u)}function fw(u,f){return"function"==typeof u?u.apply(f&&f[0]||void 0,f):u}function Sd(u,f){return u.indexOf(f)>-1}var LC=function(){function u(w,x){this.manager=w,this.set(x)}var f=u.prototype;return f.set=function(x){x===Vt&&(x=this.compute()),At&&this.manager.element.style&&Rs[x]&&(this.manager.element.style[it]=x),this.actions=x.toLowerCase().trim()},f.update=function(){this.set(this.manager.options.touchAction)},f.compute=function(){var x=[];return Aa(this.manager.recognizers,function(C){fw(C.options.enable,[C])&&(x=x.concat(C.getTouchAction()))}),function XT(u){if(Sd(u,ri))return ri;var f=Sd(u,Fi),w=Sd(u,Wi);return f&&w?ri:f||w?f?Fi:Wi:Sd(u,bn)?bn:"auto"}(x.join(" "))},f.preventDefaults=function(x){var C=x.srcEvent,E=x.offsetDirection;if(!this.manager.session.prevented){var F=this.actions,P=Sd(F,ri)&&!Rs[ri],L=Sd(F,Wi)&&!Rs[Wi],H=Sd(F,Fi)&&!Rs[Fi];if(P&&1===x.pointers.length&&x.distance<2&&x.deltaTime<250)return;return H&&L||!(P||L&&6&E||H&&24&E)?void 0:this.preventSrc(C)}C.preventDefault()},f.preventSrc=function(x){this.manager.session.prevented=!0,x.preventDefault()},u}();function Ux(u,f){for(;u;){if(u===f)return!0;u=u.parentNode}return!1}function zC(u){var f=u.length;if(1===f)return{x:Ce(u[0].clientX),y:Ce(u[0].clientY)};for(var w=0,x=0,C=0;C<f;)w+=u[C].clientX,x+=u[C].clientY,C++;return{x:Ce(w/f),y:Ce(x/f)}}function BC(u){for(var f=[],w=0;w<u.pointers.length;)f[w]={clientX:Ce(u.pointers[w].clientX),clientY:Ce(u.pointers[w].clientY)},w++;return{timeStamp:De(),pointers:f,center:zC(f),deltaX:u.deltaX,deltaY:u.deltaY}}function vw(u,f,w){w||(w=AC);var x=f[w[0]]-u[w[0]],C=f[w[1]]-u[w[1]];return Math.sqrt(x*x+C*C)}function Yx(u,f,w){return w||(w=AC),180*Math.atan2(f[w[1]]-u[w[1]],f[w[0]]-u[w[0]])/Math.PI}function $C(u,f){return u===f?1:Me(u)>=Me(f)?u<0?2:4:f<0?8:16}function NC(u,f,w){return{x:f/u||0,y:w/u||0}}function rk(u,f){var w=u.session,x=f.pointers,C=x.length;w.firstInput||(w.firstInput=BC(f)),C>1&&!w.firstMultiple?w.firstMultiple=BC(f):1===C&&(w.firstMultiple=!1);var E=w.firstInput,F=w.firstMultiple,P=F?F.center:E.center,L=f.center=zC(x);f.timeStamp=De(),f.deltaTime=f.timeStamp-E.timeStamp,f.angle=Yx(P,L),f.distance=vw(P,L),function ek(u,f){var w=f.center,x=u.offsetDelta||{},C=u.prevDelta||{},E=u.prevInput||{};(1===f.eventType||4===E.eventType)&&(C=u.prevDelta={x:E.deltaX||0,y:E.deltaY||0},x=u.offsetDelta={x:w.x,y:w.y}),f.deltaX=C.x+(w.x-x.x),f.deltaY=C.y+(w.y-x.y)}(w,f),f.offsetDirection=$C(f.deltaX,f.deltaY);var H=NC(f.deltaTime,f.deltaX,f.deltaY);f.overallVelocityX=H.x,f.overallVelocityY=H.y,f.overallVelocity=Me(H.x)>Me(H.y)?H.x:H.y,f.scale=F?function tk(u,f){return vw(f[0],f[1],pw)/vw(u[0],u[1],pw)}(F.pointers,x):1,f.rotation=F?function ik(u,f){return Yx(f[1],f[0],pw)+Yx(u[1],u[0],pw)}(F.pointers,x):0,f.maxPointers=w.prevInput?f.pointers.length>w.prevInput.maxPointers?f.pointers.length:w.prevInput.maxPointers:f.pointers.length,function nk(u,f){var C,E,F,P,w=u.lastInterval||f,x=f.timeStamp-w.timeStamp;if(8!==f.eventType&&(x>25||void 0===w.velocity)){var L=f.deltaX-w.deltaX,H=f.deltaY-w.deltaY,G=NC(x,L,H);E=G.x,F=G.y,C=Me(G.x)>Me(G.y)?G.x:G.y,P=$C(L,H),u.lastInterval=f}else C=w.velocity,E=w.velocityX,F=w.velocityY,P=w.direction;f.velocity=C,f.velocityX=E,f.velocityY=F,f.direction=P}(w,f);var ee,G=u.element,q=f.srcEvent;Ux(ee=q.composedPath?q.composedPath()[0]:q.path?q.path[0]:q.target,G)&&(G=ee),f.target=G}function ok(u,f,w){var x=w.pointers.length,C=w.changedPointers.length,E=1&f&&x-C==0,F=12&f&&x-C==0;w.isFirst=!!E,w.isFinal=!!F,E&&(u.session={}),w.eventType=f,rk(u,w),u.emit("hammer.input",w),u.recognize(w),u.session.prevInput=w}function zy(u){return u.trim().split(/\s+/g)}function By(u,f,w){Aa(zy(f),function(x){u.addEventListener(x,w,!1)})}function $y(u,f,w){Aa(zy(f),function(x){u.removeEventListener(x,w,!1)})}function jC(u){var f=u.ownerDocument||u;return f.defaultView||f.parentWindow||window}var kf=function(){function u(w,x){var C=this;this.manager=w,this.callback=x,this.element=w.element,this.target=w.options.inputTarget,this.domHandler=function(E){fw(w.options.enable,[w])&&C.handler(E)},this.init()}var f=u.prototype;return f.handler=function(){},f.init=function(){this.evEl&&By(this.element,this.evEl,this.domHandler),this.evTarget&&By(this.target,this.evTarget,this.domHandler),this.evWin&&By(jC(this.element),this.evWin,this.domHandler)},f.destroy=function(){this.evEl&&$y(this.element,this.evEl,this.domHandler),this.evTarget&&$y(this.target,this.evTarget,this.domHandler),this.evWin&&$y(jC(this.element),this.evWin,this.domHandler)},u}();function Ed(u,f,w){if(u.indexOf&&!w)return u.indexOf(f);for(var x=0;x<u.length;){if(w&&u[x][w]==f||!w&&u[x]===f)return x;x++}return-1}var HC={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},VC={2:xt,3:"pen",4:ge,5:"kinect"},Yn="pointerdown",KC="pointermove pointerup pointercancel";Re.MSPointerEvent&&!Re.PointerEvent&&(Yn="MSPointerDown",KC="MSPointerMove MSPointerUp MSPointerCancel");var qx=function(u){function f(){var x,C=f.prototype;return C.evEl=Yn,C.evWin=KC,(x=u.apply(this,arguments)||this).store=x.manager.session.pointerEvents=[],x}return M(f,u),f.prototype.handler=function(C){var E=this.store,F=!1,P=C.type.toLowerCase().replace("ms",""),L=HC[P],H=VC[C.pointerType]||C.pointerType,G=H===xt,q=Ed(E,C.pointerId,"pointerId");1&L&&(0===C.button||G)?q<0&&(E.push(C),q=E.length-1):12&L&&(F=!0),!(q<0)&&(E[q]=C,this.callback(this.manager,L,{pointers:E,changedPointers:[C],pointerType:H,srcEvent:C}),F&&E.splice(q,1))},f}(kf);function Ny(u){return Array.prototype.slice.call(u,0)}function gw(u,f,w){for(var x=[],C=[],E=0;E<u.length;){var F=f?u[E][f]:u[E];Ed(C,F)<0&&x.push(u[E]),C[E]=F,E++}return w&&(x=f?x.sort(function(P,L){return P[f]>L[f]}):x.sort()),x}var sk={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ak="touchstart touchmove touchend touchcancel",Qx=function(u){function f(){var x;return f.prototype.evTarget=ak,(x=u.apply(this,arguments)||this).targetIds={},x}return M(f,u),f.prototype.handler=function(C){var E=sk[C.type],F=lk.call(this,C,E);F&&this.callback(this.manager,E,{pointers:F[0],changedPointers:F[1],pointerType:xt,srcEvent:C})},f}(kf);function lk(u,f){var w=Ny(u.touches),x=this.targetIds;if(3&f&&1===w.length)return x[w[0].identifier]=!0,[w,w];var C,E,F=Ny(u.changedTouches),P=[],L=this.target;if(E=w.filter(function(H){return Ux(H.target,L)}),1===f)for(C=0;C<E.length;)x[E[C].identifier]=!0,C++;for(C=0;C<F.length;)x[F[C].identifier]&&P.push(F[C]),12&f&&delete x[F[C].identifier],C++;return P.length?[gw(E.concat(P),"identifier",!0),P]:void 0}var ck={mousedown:1,mousemove:2,mouseup:4},uk="mousedown",WC="mousemove mouseup",Zx=function(u){function f(){var x,C=f.prototype;return C.evEl=uk,C.evWin=WC,(x=u.apply(this,arguments)||this).pressed=!1,x}return M(f,u),f.prototype.handler=function(C){var E=ck[C.type];1&E&&0===C.button&&(this.pressed=!0),2&E&&1!==C.which&&(E=4),this.pressed&&(4&E&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[C],changedPointers:[C],pointerType:ge,srcEvent:C}))},f}(kf);function GC(u){var w=u.changedPointers[0];if(w.identifier===this.primaryTouch){var x={x:w.clientX,y:w.clientY},C=this.lastTouches;this.lastTouches.push(x),setTimeout(function(){var P=C.indexOf(x);P>-1&&C.splice(P,1)},2500)}}function UC(u,f){1&u?(this.primaryTouch=f.changedPointers[0].identifier,GC.call(this,f)):12&u&&GC.call(this,f)}function hk(u){for(var f=u.srcEvent.clientX,w=u.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var C=this.lastTouches[x],E=Math.abs(f-C.x),F=Math.abs(w-C.y);if(E<=25&&F<=25)return!0}return!1}var YC=function(){return function(f){function w(C,E){var F;return(F=f.call(this,C,E)||this).handler=function(P,L,H){var q=H.pointerType===ge;if(!(q&&H.sourceCapabilities&&H.sourceCapabilities.firesTouchEvents)){if(H.pointerType===xt)UC.call(A(A(F)),L,H);else if(q&&hk.call(A(A(F)),H))return;F.callback(P,L,H)}},F.touch=new Qx(F.manager,F.handler),F.mouse=new Zx(F.manager,F.handler),F.primaryTouch=null,F.lastTouches=[],F}return M(w,f),w.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},w}(kf)}();function Od(u,f,w){return!!Array.isArray(u)&&(Aa(u,w[f],w),!0)}var fk=1;function yw(u,f){var w=f.manager;return w?w.get(u):u}function qC(u){return 16&u?"cancel":8&u?"end":4&u?"move":2&u?"start":""}var Hy=function(){function u(w){void 0===w&&(w={}),this.options=I({enable:!0},w),this.id=function vk(){return fk++}(),this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var f=u.prototype;return f.set=function(x){return j(this.options,x),this.manager&&this.manager.touchAction.update(),this},f.recognizeWith=function(x){if(Od(x,"recognizeWith",this))return this;var C=this.simultaneous;return C[(x=yw(x,this)).id]||(C[x.id]=x,x.recognizeWith(this)),this},f.dropRecognizeWith=function(x){return Od(x,"dropRecognizeWith",this)||(x=yw(x,this),delete this.simultaneous[x.id]),this},f.requireFailure=function(x){if(Od(x,"requireFailure",this))return this;var C=this.requireFail;return-1===Ed(C,x=yw(x,this))&&(C.push(x),x.requireFailure(this)),this},f.dropRequireFailure=function(x){if(Od(x,"dropRequireFailure",this))return this;x=yw(x,this);var C=Ed(this.requireFail,x);return C>-1&&this.requireFail.splice(C,1),this},f.hasRequireFailures=function(){return this.requireFail.length>0},f.canRecognizeWith=function(x){return!!this.simultaneous[x.id]},f.emit=function(x){var C=this,E=this.state;function F(P){C.manager.emit(P,x)}E<8&&F(C.options.event+qC(E)),F(C.options.event),x.additionalEvent&&F(x.additionalEvent),E>=8&&F(C.options.event+qC(E))},f.tryEmit=function(x){if(this.canEmit())return this.emit(x);this.state=32},f.canEmit=function(){for(var x=0;x<this.requireFail.length;){if(!(33&this.requireFail[x].state))return!1;x++}return!0},f.recognize=function(x){var C=j({},x);if(!fw(this.options.enable,[this,C]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(C),30&this.state&&this.tryEmit(C)},f.process=function(x){},f.getTouchAction=function(){},f.reset=function(){},u}(),Jx=function(u){function f(x){var C;return void 0===x&&(x={}),(C=u.call(this,I({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},x))||this).pTime=!1,C.pCenter=!1,C._timer=null,C._input=null,C.count=0,C}M(f,u);var w=f.prototype;return w.getTouchAction=function(){return[bn]},w.process=function(C){var E=this,F=this.options,P=C.pointers.length===F.pointers,L=C.distance<F.threshold,H=C.deltaTime<F.time;if(this.reset(),1&C.eventType&&0===this.count)return this.failTimeout();if(L&&H&&P){if(4!==C.eventType)return this.failTimeout();var G=!this.pTime||C.timeStamp-this.pTime<F.interval,q=!this.pCenter||vw(this.pCenter,C.center)<F.posThreshold;if(this.pTime=C.timeStamp,this.pCenter=C.center,q&&G?this.count+=1:this.count=1,this._input=C,0==this.count%F.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){E.state=8,E.tryEmit()},F.interval),2):8}return 32},w.failTimeout=function(){var C=this;return this._timer=setTimeout(function(){C.state=32},this.options.interval),32},w.reset=function(){clearTimeout(this._timer)},w.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},f}(Hy),Id=function(u){function f(x){return void 0===x&&(x={}),u.call(this,I({pointers:1},x))||this}M(f,u);var w=f.prototype;return w.attrTest=function(C){var E=this.options.pointers;return 0===E||C.pointers.length===E},w.process=function(C){var E=this.state,F=C.eventType,P=6&E,L=this.attrTest(C);return P&&(8&F||!L)?16|E:P||L?4&F?8|E:2&E?4|E:2:32},f}(Hy);function Xx(u){return 16===u?"down":8===u?"up":2===u?"left":4===u?"right":""}var bw=function(u){function f(x){var C;return void 0===x&&(x={}),(C=u.call(this,I({event:"pan",threshold:10,pointers:1,direction:30},x))||this).pX=null,C.pY=null,C}M(f,u);var w=f.prototype;return w.getTouchAction=function(){var C=this.options.direction,E=[];return 6&C&&E.push(Wi),24&C&&E.push(Fi),E},w.directionTest=function(C){var E=this.options,F=!0,P=C.distance,L=C.direction,H=C.deltaX,G=C.deltaY;return L&E.direction||(6&E.direction?(L=0===H?1:H<0?2:4,F=H!==this.pX,P=Math.abs(C.deltaX)):(L=0===G?1:G<0?8:16,F=G!==this.pY,P=Math.abs(C.deltaY))),C.direction=L,F&&P>E.threshold&&L&E.direction},w.attrTest=function(C){return Id.prototype.attrTest.call(this,C)&&(2&this.state||!(2&this.state)&&this.directionTest(C))},w.emit=function(C){this.pX=C.deltaX,this.pY=C.deltaY;var E=Xx(C.direction);E&&(C.additionalEvent=this.options.event+E),u.prototype.emit.call(this,C)},f}(Id),eC=function(u){function f(x){return void 0===x&&(x={}),u.call(this,I({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},x))||this}M(f,u);var w=f.prototype;return w.getTouchAction=function(){return bw.prototype.getTouchAction.call(this)},w.attrTest=function(C){var F,E=this.options.direction;return 30&E?F=C.overallVelocity:6&E?F=C.overallVelocityX:24&E&&(F=C.overallVelocityY),u.prototype.attrTest.call(this,C)&&E&C.offsetDirection&&C.distance>this.options.threshold&&C.maxPointers===this.options.pointers&&Me(F)>this.options.velocity&&4&C.eventType},w.emit=function(C){var E=Xx(C.offsetDirection);E&&this.manager.emit(this.options.event+E,C),this.manager.emit(this.options.event,C)},f}(Id),tC=function(u){function f(x){return void 0===x&&(x={}),u.call(this,I({event:"pinch",threshold:0,pointers:2},x))||this}M(f,u);var w=f.prototype;return w.getTouchAction=function(){return[ri]},w.attrTest=function(C){return u.prototype.attrTest.call(this,C)&&(Math.abs(C.scale-1)>this.options.threshold||2&this.state)},w.emit=function(C){1!==C.scale&&(C.additionalEvent=this.options.event+(C.scale<1?"in":"out")),u.prototype.emit.call(this,C)},f}(Id),iC=function(u){function f(x){return void 0===x&&(x={}),u.call(this,I({event:"rotate",threshold:0,pointers:2},x))||this}M(f,u);var w=f.prototype;return w.getTouchAction=function(){return[ri]},w.attrTest=function(C){return u.prototype.attrTest.call(this,C)&&(Math.abs(C.rotation)>this.options.threshold||2&this.state)},f}(Id),QC=function(u){function f(x){var C;return void 0===x&&(x={}),(C=u.call(this,I({event:"press",pointers:1,time:251,threshold:9},x))||this)._timer=null,C._input=null,C}M(f,u);var w=f.prototype;return w.getTouchAction=function(){return["auto"]},w.process=function(C){var E=this,F=this.options,P=C.pointers.length===F.pointers,L=C.distance<F.threshold,H=C.deltaTime>F.time;if(this._input=C,!L||!P||12&C.eventType&&!H)this.reset();else if(1&C.eventType)this.reset(),this._timer=setTimeout(function(){E.state=8,E.tryEmit()},F.time);else if(4&C.eventType)return 8;return 32},w.reset=function(){clearTimeout(this._timer)},w.emit=function(C){8===this.state&&(C&&4&C.eventType?this.manager.emit(this.options.event+"up",C):(this._input.timeStamp=De(),this.manager.emit(this.options.event,this._input)))},f}(Hy),_w={domEvents:!1,touchAction:Vt,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ZC=[[iC,{enable:!1}],[tC,{enable:!1},["rotate"]],[eC,{direction:6}],[bw,{direction:6},["swipe"]],[Jx],[Jx,{event:"doubletap",taps:2},["tap"]],[QC]];function nC(u,f){var x,w=u.element;w.style&&(Aa(u.options.cssProps,function(C,E){x=Be(w.style,E),f?(u.oldCssProps[x]=w.style[x],w.style[x]=C):w.style[x]=u.oldCssProps[x]||""}),f||(u.oldCssProps={}))}var eT=function(){function u(w,x){var C=this;this.options=j({},_w,x||{}),this.options.inputTarget=this.options.inputTarget||w,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=w,this.input=function pk(u){return new(u.options.inputClass||(Tf?qx:kd?Qx:Ra?YC:Zx))(u,ok)}(this),this.touchAction=new LC(this,this.options.touchAction),nC(this,!0),Aa(this.options.recognizers,function(E){var F=C.add(new E[0](E[1]));E[2]&&F.recognizeWith(E[2]),E[3]&&F.requireFailure(E[3])},this)}var f=u.prototype;return f.set=function(x){return j(this.options,x),x.touchAction&&this.touchAction.update(),x.inputTarget&&(this.input.destroy(),this.input.target=x.inputTarget,this.input.init()),this},f.stop=function(x){this.session.stopped=x?2:1},f.recognize=function(x){var C=this.session;if(!C.stopped){this.touchAction.preventDefaults(x);var E,F=this.recognizers,P=C.curRecognizer;(!P||P&&8&P.state)&&(C.curRecognizer=null,P=null);for(var L=0;L<F.length;)E=F[L],2===C.stopped||P&&E!==P&&!E.canRecognizeWith(P)?E.reset():E.recognize(x),!P&&14&E.state&&(C.curRecognizer=E,P=E),L++}},f.get=function(x){if(x instanceof Hy)return x;for(var C=this.recognizers,E=0;E<C.length;E++)if(C[E].options.event===x)return C[E];return null},f.add=function(x){if(Od(x,"add",this))return this;var C=this.get(x.options.event);return C&&this.remove(C),this.recognizers.push(x),x.manager=this,this.touchAction.update(),x},f.remove=function(x){if(Od(x,"remove",this))return this;var C=this.get(x);if(x){var E=this.recognizers,F=Ed(E,C);-1!==F&&(E.splice(F,1),this.touchAction.update())}return this},f.on=function(x,C){if(void 0===x||void 0===C)return this;var E=this.handlers;return Aa(zy(x),function(F){E[F]=E[F]||[],E[F].push(C)}),this},f.off=function(x,C){if(void 0===x)return this;var E=this.handlers;return Aa(zy(x),function(F){C?E[F]&&E[F].splice(Ed(E[F],C),1):delete E[F]}),this},f.emit=function(x,C){this.options.domEvents&&function gk(u,f){var w=document.createEvent("Event");w.initEvent(u,!0,!0),w.gesture=f,f.target.dispatchEvent(w)}(x,C);var E=this.handlers[x]&&this.handlers[x].slice();if(E&&E.length){C.type=x,C.preventDefault=function(){C.srcEvent.preventDefault()};for(var F=0;F<E.length;)E[F](C),F++}},f.destroy=function(){this.element&&nC(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},u}(),mk={touchstart:1,touchmove:2,touchend:4,touchcancel:8},tT="touchstart",yk="touchstart touchmove touchend touchcancel",iT=function(u){function f(){var x,C=f.prototype;return C.evTarget=tT,C.evWin=yk,(x=u.apply(this,arguments)||this).started=!1,x}return M(f,u),f.prototype.handler=function(C){var E=mk[C.type];if(1===E&&(this.started=!0),this.started){var F=Ef.call(this,C,E);12&E&&F[0].length-F[1].length==0&&(this.started=!1),this.callback(this.manager,E,{pointers:F[0],changedPointers:F[1],pointerType:xt,srcEvent:C})}},f}(kf);function Ef(u,f){var w=Ny(u.touches),x=Ny(u.changedTouches);return 12&f&&(w=gw(w.concat(x),"identifier",!0)),[w,x]}function nT(u,f,w){var x="DEPRECATED METHOD: "+f+"\n"+w+" AT \n";return function(){var C=new Error("get-stack-trace"),E=C&&C.stack?C.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",F=window.console&&(window.console.warn||window.console.log);return F&&F.call(window.console,x,E),u.apply(this,arguments)}}var rC=nT(function(u,f,w){for(var x=Object.keys(f),C=0;C<x.length;)(!w||w&&void 0===u[x[C]])&&(u[x[C]]=f[x[C]]),C++;return u},"extend","Use `assign`."),bk=nT(function(u,f){return rC(u,f,!0)},"merge","Use `assign`.");function _k(u,f,w){var C,x=f.prototype;(C=u.prototype=Object.create(x)).constructor=u,C._super=x,w&&j(C,w)}function ww(u,f){return function(){return u.apply(f,arguments)}}var xw=function(){var u=function(w,x){return void 0===x&&(x={}),new eT(w,I({recognizers:ZC.concat()},x))};return u.VERSION="2.0.17-rc",u.DIRECTION_ALL=30,u.DIRECTION_DOWN=16,u.DIRECTION_LEFT=2,u.DIRECTION_RIGHT=4,u.DIRECTION_UP=8,u.DIRECTION_HORIZONTAL=6,u.DIRECTION_VERTICAL=24,u.DIRECTION_NONE=1,u.DIRECTION_DOWN=16,u.INPUT_START=1,u.INPUT_MOVE=2,u.INPUT_END=4,u.INPUT_CANCEL=8,u.STATE_POSSIBLE=1,u.STATE_BEGAN=2,u.STATE_CHANGED=4,u.STATE_ENDED=8,u.STATE_RECOGNIZED=8,u.STATE_CANCELLED=16,u.STATE_FAILED=32,u.Manager=eT,u.Input=kf,u.TouchAction=LC,u.TouchInput=Qx,u.MouseInput=Zx,u.PointerEventInput=qx,u.TouchMouseInput=YC,u.SingleTouchInput=iT,u.Recognizer=Hy,u.AttrRecognizer=Id,u.Tap=Jx,u.Pan=bw,u.Swipe=eC,u.Pinch=tC,u.Rotate=iC,u.Press=QC,u.on=By,u.off=$y,u.each=Aa,u.merge=bk,u.extend=rC,u.bindFn=ww,u.assign=j,u.inherit=_k,u.bindFn=ww,u.prefixed=Be,u.toArray=Ny,u.inArray=Ed,u.uniqueArray=gw,u.splitStr=zy,u.boolOrFn=fw,u.hasParent=Ux,u.addEventListeners=By,u.removeEventListeners=$y,u.defaults=j({},_w,{preset:ZC}),u}();function rT(u,f){var w=typeof xr<"u"&&Hl(u)||u["@@iterator"];if(!w){if(en(u)||(w=function xk(u,f){var w;if(u){if("string"==typeof u)return oT(u,f);var x=ld(w=Object.prototype.toString.call(u)).call(w,8,-1);if("Object"===x&&u.constructor&&(x=u.constructor.name),"Map"===x||"Set"===x)return $l(u);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return oT(u,f)}}(u))||f&&u&&"number"==typeof u.length){w&&(u=w);var x=0,C=function(){};return{s:C,n:function(){return x>=u.length?{done:!0}:{done:!1,value:u[x++]}},e:function(H){throw H},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,E=!0,F=!1;return{s:function(){w=w.call(u)},n:function(){var H=w.next();return E=H.done,H},e:function(H){F=!0,P=H},f:function(){try{!E&&null!=w.return&&w.return()}finally{if(F)throw P}}}}function oT(u,f){(null==f||f>u.length)&&(f=u.length);for(var w=0,x=new Array(f);w<f;w++)x[w]=u[w];return x}var Vy=xr("DELETE");function sT(){var u=Cw.apply(void 0,arguments);return lT(u),u}function Cw(){for(var u=arguments.length,f=new Array(u),w=0;w<u;w++)f[w]=arguments[w];if(f.length<2)return f[0];var x;if(f.length>2)return Cw.apply(void 0,Zp(x=[sT(f[0],f[1])]).call(x,Li(ld(f).call(f,2))));var P,C=f[0],E=f[1],F=rT(Yr(E));try{for(F.s();!(P=F.n()).done;){var L=P.value;Object.prototype.propertyIsEnumerable.call(E,L)&&(E[L]===Vy?delete C[L]:C[L]=null===C[L]||null===E[L]||"object"!==Ti(C[L])||"object"!==Ti(E[L])||en(C[L])||en(E[L])?aT(E[L]):Cw(C[L],E[L]))}}catch(H){F.e(H)}finally{F.f()}return C}function aT(u){return en(u)?Ai(u).call(u,function(f){return aT(f)}):"object"===Ti(u)&&null!==u?Cw({},u):u}function lT(u){for(var f=0,w=Vo(u);f<w.length;f++){var x=w[f];u[x]===Vy?delete u[x]:"object"===Ti(u[x])&&null!==u[x]&&lT(u[x])}}var rn=typeof window<"u"?window.Hammer||xw:function(){return function Tk(){var u=function(){};return{on:u,off:u,destroy:u,emit:u,get:function(){return{set:u}}}}()};function Jo(u){var w,f=this;this._cleanupQueue=[],this.active=!1,this._dom={container:u,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){f._dom.overlay.parentNode.removeChild(f._dom.overlay)});var x=rn(this._dom.overlay);x.on("tap",Ar(w=this._onTapOverlay).call(w,this)),this._cleanupQueue.push(function(){x.destroy()});var C=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ko(C).call(C,function(E){x.on(E,function(F){F.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(E){(function Ky(u,f){for(;u;){if(u===f)return!0;u=u.parentNode}return!1})(E.target,u)||f.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",f._onClick)})),this._escListener=function(E){("key"in E?"Escape"===E.key:27===E.keyCode)&&f.deactivate()}}S(Jo.prototype),Jo.current=null,Jo.prototype.destroy=function(){var u,f;this.deactivate();var x,w=rT(function(u){var f=u.reverse;return u===kr||k0(kr,u)&&f===kr.reverse?nx:f}(u=cf(f=this._cleanupQueue).call(f,0)).call(u));try{for(w.s();!(x=w.n()).done;)(0,x.value)()}catch(E){w.e(E)}finally{w.f()}},Jo.prototype.activate=function(){Jo.current&&Jo.current.deactivate(),Jo.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Jo.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Jo.prototype._onTapOverlay=function(u){this.activate(),u.srcEvent.stopPropagation()};var kk=dl,Sk=Mr,Ek=ie.TypeError,cT=Ze,oC=Dr,Tw=Pr,sC=function(u){if(kk(u))return u;throw Ek(Sk(u)+" is not a constructor")},Dk=Cn,uT=hi,Mk=Nt,aC=ke,lC=_i("Reflect","construct"),Fk=Object.prototype,dT=[].push,hT=aC(function(){function u(){}return!(lC(function(){},[],u)instanceof u)}),hc=!aC(function(){lC(function(){})}),pT=hT||hc;cT({target:"Reflect",stat:!0,forced:pT,sham:pT},{construct:function(f,w){sC(f),Dk(w);var x=arguments.length<3?f:sC(arguments[2]);if(hc&&!hT)return lC(f,w,x);if(f==x){switch(w.length){case 0:return new f;case 1:return new f(w[0]);case 2:return new f(w[0],w[1]);case 3:return new f(w[0],w[1],w[2]);case 4:return new f(w[0],w[1],w[2],w[3])}var C=[null];return oC(dT,C,w),new(oC(Tw,f,C))}var E=x.prototype,F=Mk(uT(E)?E:Fk),P=oC(f,F,w);return uT(P)?P:F}});var pc=St.Reflect.construct;function Or(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}var zk=yf;Ze({target:"Object",stat:!0},{setPrototypeOf:Hb});var yT=St.Object.setPrototypeOf;function dC(u,f){return(dC=yT||function(x,C){return x.__proto__=C,x})(u,f)}function hC(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");u.prototype=zk(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Xa(u,"prototype",{writable:!1}),f&&dC(u,f)}function Gy(u,f){if(f&&("object"===Ti(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return Or(u)}var pC=H0;function Of(u){return(Of=yT?pC:function(w){return w.__proto__||pC(w)})(u)}var If={exports:{}};!function(u){var f=function(w){var E,x=Object.prototype,C=x.hasOwnProperty,F="function"==typeof Symbol?Symbol:{},P=F.iterator||"@@iterator",L=F.asyncIterator||"@@asyncIterator",H=F.toStringTag||"@@toStringTag";function G(Oe,be,ze){return Object.defineProperty(Oe,be,{value:ze,enumerable:!0,configurable:!0,writable:!0}),Oe[be]}try{G({},"")}catch{G=function(be,ze,ct){return be[ze]=ct}}function q(Oe,be,ze,ct){var Gi=Object.create((be&&be.prototype instanceof Jt?be:Jt).prototype),eo=new $S(ct||[]);return Gi._invoke=function Xy(Oe,be,ze){var ct=le;return function(Gi,eo){if(ct===et)throw new Error("Generator is already running");if(ct===lt){if("throw"===Gi)throw eo;return rE()}for(ze.method=Gi,ze.arg=eo;;){var to=ze.delegate;if(to){var As=Rf(to,ze);if(As){if(As===Ke)continue;return As}}if("next"===ze.method)ze.sent=ze._sent=ze.arg;else if("throw"===ze.method){if(ct===le)throw ct=lt,ze.arg;ze.dispatchException(ze.arg)}else"return"===ze.method&&ze.abrupt("return",ze.arg);ct=et;var io=ee(Oe,be,ze);if("normal"===io.type){if(ct=ze.done?lt:Ve,io.arg===Ke)continue;return{value:io.arg,done:ze.done}}"throw"===io.type&&(ct=lt,ze.method="throw",ze.arg=io.arg)}}}(Oe,ze,eo),Gi}function ee(Oe,be,ze){try{return{type:"normal",arg:Oe.call(be,ze)}}catch(ct){return{type:"throw",arg:ct}}}w.wrap=q;var le="suspendedStart",Ve="suspendedYield",et="executing",lt="completed",Ke={};function Jt(){}function on(){}function qt(){}var Fn={};G(Fn,P,function(){return this});var qn=Object.getPrototypeOf,$a=qn&&qn(qn(NS([])));$a&&$a!==x&&C.call($a,P)&&(Fn=$a);var Qn=qt.prototype=Jt.prototype=Object.create(Fn);function Ff(Oe){["next","throw","return"].forEach(function(be){G(Oe,be,function(ze){return this._invoke(be,ze)})})}function Fd(Oe,be){function ze(Gi,eo,to,As){var io=ee(Oe[Gi],Oe,eo);if("throw"!==io.type){var jS=io.arg,PC=jS.value;return PC&&"object"==typeof PC&&C.call(PC,"__await")?be.resolve(PC.__await).then(function(eb){ze("next",eb,to,As)},function(eb){ze("throw",eb,to,As)}):be.resolve(PC).then(function(eb){jS.value=eb,to(jS)},function(eb){return ze("throw",eb,to,As)})}As(io.arg)}var ct;this._invoke=function tt(Gi,eo){function to(){return new be(function(As,io){ze(Gi,eo,As,io)})}return ct=ct?ct.then(to,to):to()}}function Rf(Oe,be){var ze=Oe.iterator[be.method];if(ze===E){if(be.delegate=null,"throw"===be.method){if(Oe.iterator.return&&(be.method="return",be.arg=E,Rf(Oe,be),"throw"===be.method))return Ke;be.method="throw",be.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ke}var ct=ee(ze,Oe.iterator,be.arg);if("throw"===ct.type)return be.method="throw",be.arg=ct.arg,be.delegate=null,Ke;var tt=ct.arg;return tt?tt.done?(be[Oe.resultName]=tt.value,be.next=Oe.nextLoc,"return"!==be.method&&(be.method="next",be.arg=E),be.delegate=null,Ke):tt:(be.method="throw",be.arg=new TypeError("iterator result is not an object"),be.delegate=null,Ke)}function BS(Oe){var be={tryLoc:Oe[0]};1 in Oe&&(be.catchLoc=Oe[1]),2 in Oe&&(be.finallyLoc=Oe[2],be.afterLoc=Oe[3]),this.tryEntries.push(be)}function Mw(Oe){var be=Oe.completion||{};be.type="normal",delete be.arg,Oe.completion=be}function $S(Oe){this.tryEntries=[{tryLoc:"root"}],Oe.forEach(BS,this),this.reset(!0)}function NS(Oe){if(Oe){var be=Oe[P];if(be)return be.call(Oe);if("function"==typeof Oe.next)return Oe;if(!isNaN(Oe.length)){var ze=-1,ct=function tt(){for(;++ze<Oe.length;)if(C.call(Oe,ze))return tt.value=Oe[ze],tt.done=!1,tt;return tt.value=E,tt.done=!0,tt};return ct.next=ct}}return{next:rE}}function rE(){return{value:E,done:!0}}return on.prototype=qt,G(Qn,"constructor",qt),G(qt,"constructor",on),on.displayName=G(qt,H,"GeneratorFunction"),w.isGeneratorFunction=function(Oe){var be="function"==typeof Oe&&Oe.constructor;return!!be&&(be===on||"GeneratorFunction"===(be.displayName||be.name))},w.mark=function(Oe){return Object.setPrototypeOf?Object.setPrototypeOf(Oe,qt):(Oe.__proto__=qt,G(Oe,H,"GeneratorFunction")),Oe.prototype=Object.create(Qn),Oe},w.awrap=function(Oe){return{__await:Oe}},Ff(Fd.prototype),G(Fd.prototype,L,function(){return this}),w.AsyncIterator=Fd,w.async=function(Oe,be,ze,ct,tt){void 0===tt&&(tt=Promise);var Gi=new Fd(q(Oe,be,ze,ct),tt);return w.isGeneratorFunction(be)?Gi:Gi.next().then(function(eo){return eo.done?eo.value:Gi.next()})},Ff(Qn),G(Qn,H,"Generator"),G(Qn,P,function(){return this}),G(Qn,"toString",function(){return"[object Generator]"}),w.keys=function(Oe){var be=[];for(var ze in Oe)be.push(ze);return be.reverse(),function ct(){for(;be.length;){var tt=be.pop();if(tt in Oe)return ct.value=tt,ct.done=!1,ct}return ct.done=!0,ct}},w.values=NS,$S.prototype={constructor:$S,reset:function(Oe){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(Mw),!Oe)for(var be in this)"t"===be.charAt(0)&&C.call(this,be)&&!isNaN(+be.slice(1))&&(this[be]=E)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if("throw"===be.type)throw be.arg;return this.rval},dispatchException:function(Oe){if(this.done)throw Oe;var be=this;function ze(As,io){return Gi.type="throw",Gi.arg=Oe,be.next=As,io&&(be.method="next",be.arg=E),!!io}for(var ct=this.tryEntries.length-1;ct>=0;--ct){var tt=this.tryEntries[ct],Gi=tt.completion;if("root"===tt.tryLoc)return ze("end");if(tt.tryLoc<=this.prev){var eo=C.call(tt,"catchLoc"),to=C.call(tt,"finallyLoc");if(eo&&to){if(this.prev<tt.catchLoc)return ze(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return ze(tt.finallyLoc)}else if(eo){if(this.prev<tt.catchLoc)return ze(tt.catchLoc,!0)}else{if(!to)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return ze(tt.finallyLoc)}}}},abrupt:function(Oe,be){for(var ze=this.tryEntries.length-1;ze>=0;--ze){var ct=this.tryEntries[ze];if(ct.tryLoc<=this.prev&&C.call(ct,"finallyLoc")&&this.prev<ct.finallyLoc){var tt=ct;break}}tt&&("break"===Oe||"continue"===Oe)&&tt.tryLoc<=be&&be<=tt.finallyLoc&&(tt=null);var Gi=tt?tt.completion:{};return Gi.type=Oe,Gi.arg=be,tt?(this.method="next",this.next=tt.finallyLoc,Ke):this.complete(Gi)},complete:function(Oe,be){if("throw"===Oe.type)throw Oe.arg;return"break"===Oe.type||"continue"===Oe.type?this.next=Oe.arg:"return"===Oe.type?(this.rval=this.arg=Oe.arg,this.method="return",this.next="end"):"normal"===Oe.type&&be&&(this.next=be),Ke},finish:function(Oe){for(var be=this.tryEntries.length-1;be>=0;--be){var ze=this.tryEntries[be];if(ze.finallyLoc===Oe)return this.complete(ze.completion,ze.afterLoc),Mw(ze),Ke}},catch:function(Oe){for(var be=this.tryEntries.length-1;be>=0;--be){var ze=this.tryEntries[be];if(ze.tryLoc===Oe){var ct=ze.completion;if("throw"===ct.type){var tt=ct.arg;Mw(ze)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(Oe,be,ze){return this.delegate={iterator:NS(Oe),resultName:be,nextLoc:ze},"next"===this.method&&(this.arg=E),Ke}},w}(u.exports);try{regeneratorRuntime=f}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}}(If);var Dn=If.exports,Df={exports:{}},_T=ke(function(){if("function"==typeof ArrayBuffer){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}),Xr=hi,fc=di,za=_T,Md=Object.isExtensible,Qt=ke(function(){Md(1)})||za?function(f){return!(!Xr(f)||za&&"ArrayBuffer"==fc(f))&&(!Md||Md(f))}:Md,vC=!ke(function(){return Object.isExtensible(Object.preventExtensions({}))}),wT=Ze,xT=Ae,CT=sa,Kk=hi,Dw=Si,TT=Yi.f,kT=zu,ST=Sp,gC=Qt,Wk=vC,ET=!1,Ba=po("meta"),OT=0,yC=function(u){TT(u,Ba,{value:{objectID:"O"+OT++,weakData:{}}})},DT=Df.exports={enable:function(){DT.enable=function(){},ET=!0;var u=kT.f,f=xT([].splice),w={};w[Ba]=1,u(w).length&&(kT.f=function(x){for(var C=u(x),E=0,F=C.length;E<F;E++)if(C[E]===Ba){f(C,E,1);break}return C},wT({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ST.f}))},fastKey:function(u,f){if(!Kk(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!Dw(u,Ba)){if(!gC(u))return"F";if(!f)return"E";yC(u)}return u[Ba].objectID},getWeakData:function(u,f){if(!Dw(u,Ba)){if(!gC(u))return!0;if(!f)return!1;yC(u)}return u[Ba].weakData},onFreeze:function(u){return Wk&&ET&&gC(u)&&!Dw(u,Ba)&&yC(u),u}};CT[Ba]=!0;var Qk=ts,Zk=cn,MT=Cn,bC=Mr,Jk=Du,Xk=Oi,_C=Wt,eS=ya,FT=Fu,wC=Ll,vc=ie.TypeError,Yy=function(u,f){this.stopped=u,this.result=f},RT=Yy.prototype,PT=function(u,f,w){var L,H,G,q,ee,le,Ve,C=!(!w||!w.AS_ENTRIES),E=!(!w||!w.IS_ITERATOR),F=!(!w||!w.INTERRUPTED),P=Qk(f,w&&w.that),et=function(Ke){return L&&wC(L,"normal",Ke),new Yy(!0,Ke)},lt=function(Ke){return C?(MT(Ke),F?P(Ke[0],Ke[1],et):P(Ke[0],Ke[1])):F?P(Ke,et):P(Ke)};if(E)L=u;else{if(!(H=FT(u)))throw vc(bC(u)+" is not iterable");if(Jk(H)){for(G=0,q=Xk(u);q>G;G++)if((ee=lt(u[G]))&&_C(RT,ee))return ee;return new Yy(!1)}L=eS(u,H)}for(le=L.next;!(Ve=Zk(le,L)).done;){try{ee=lt(Ve.value)}catch(Ke){wC(L,"throw",Ke)}if("object"==typeof ee&&ee&&_C(RT,ee))return ee}return new Yy(!1)},iS=Wt,AT=ie.TypeError,LT=function(u,f){if(iS(f,u))return u;throw AT("Incorrect invocation")},nS=Ze,rS=ie,xC=Df.exports,oS=ke,CC=mo,sS=PT,aS=LT,lS=Lt,cS=hi,uS=ku,zT=Yi.f,dS=na.forEach,hS=Kt,$T=hs.set,pS=hs.getterFor,NT=function(u,f,w){var H,x=-1!==u.indexOf("Map"),C=-1!==u.indexOf("Weak"),E=x?"set":"add",F=rS[u],P=F&&F.prototype,L={};if(hS&&lS(F)&&(C||P.forEach&&!oS(function(){(new F).entries().next()}))){var G=(H=f(function(ee,le){$T(aS(ee,G),{type:u,collection:new F}),null!=le&&sS(le,ee[E],{that:ee,AS_ENTRIES:x})})).prototype,q=pS(u);dS(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(ee){var le="add"==ee||"set"==ee;ee in P&&(!C||"clear"!=ee)&&CC(G,ee,function(Ve,et){var lt=q(this).collection;if(!le&&C&&!cS(Ve))return"get"==ee&&void 0;var Ke=lt[ee](0===Ve?0:Ve,et);return le?this:Ke})}),C||zT(G,"size",{configurable:!0,get:function(){return q(this).collection.size}})}else H=w.getConstructor(f,u,x,E),xC.enable();return uS(H,u,!1,!0),L[u]=H,nS({global:!0,forced:!0},L),C||w.setStrong(H,u,x),H},fS=tp,TC=_i,gS=Yi,HT=Kt,qy=ei("species"),KT=Yi.f,mS=Nt,WT=function(u,f,w){for(var x in f)w&&w.unsafe&&u[x]?u[x]=f[x]:fS(u,x,f[x],w);return u},yS=ts,bS=LT,_S=PT,wS=Ro,Qy=Kt,SC=Df.exports.fastKey,EC=hs.set,OC=hs.getterFor,IC={getConstructor:function(u,f,w,x){var C=u(function(H,G){bS(H,E),EC(H,{type:f,index:mS(null),first:void 0,last:void 0,size:0}),Qy||(H.size=0),null!=G&&_S(G,H[x],{that:H,AS_ENTRIES:w})}),E=C.prototype,F=OC(f),P=function(H,G,q){var Ve,et,ee=F(H),le=L(H,G);return le?le.value=q:(ee.last=le={index:et=SC(G,!0),key:G,value:q,previous:Ve=ee.last,next:void 0,removed:!1},ee.first||(ee.first=le),Ve&&(Ve.next=le),Qy?ee.size++:H.size++,"F"!==et&&(ee.index[et]=le)),H},L=function(H,G){var le,q=F(H),ee=SC(G);if("F"!==ee)return q.index[ee];for(le=q.first;le;le=le.next)if(le.key==G)return le};return WT(E,{clear:function(){for(var q=F(this),ee=q.index,le=q.first;le;)le.removed=!0,le.previous&&(le.previous=le.previous.next=void 0),delete ee[le.index],le=le.next;q.first=q.last=void 0,Qy?q.size=0:this.size=0},delete:function(H){var G=this,q=F(G),ee=L(G,H);if(ee){var le=ee.next,Ve=ee.previous;delete q.index[ee.index],ee.removed=!0,Ve&&(Ve.next=le),le&&(le.previous=Ve),q.first==ee&&(q.first=le),q.last==ee&&(q.last=Ve),Qy?q.size--:G.size--}return!!ee},forEach:function(G){for(var le,q=F(this),ee=yS(G,arguments.length>1?arguments[1]:void 0);le=le?le.next:q.first;)for(ee(le.value,le.key,this);le&&le.removed;)le=le.previous},has:function(G){return!!L(this,G)}}),WT(E,w?{get:function(G){var q=L(this,G);return q&&q.value},set:function(G,q){return P(this,0===G?0:G,q)}}:{add:function(G){return P(this,G=0===G?0:G,G)}}),Qy&&KT(E,"size",{get:function(){return F(this).size}}),C},setStrong:function(u,f,w){var x=f+" Iterator",C=OC(f),E=OC(x);wS(u,f,function(F,P){EC(this,{type:x,target:F,state:C(F),kind:P,last:void 0})},function(){for(var F=E(this),P=F.kind,L=F.last;L&&L.removed;)L=L.previous;return F.target&&(F.last=L=L?L.next:F.state.first)?"keys"==P?{value:L.key,done:!1}:"values"==P?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:(F.target=void 0,{value:void 0,done:!0})},w?"entries":"values",!w,!0),function(u){var f=TC(u);HT&&f&&!f[qy]&&(0,gS.f)(f,qy,{configurable:!0,get:function(){return this}})}(f)}};NT("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},IC);var _e=St.Map,Zy=na.some;Ze({target:"Array",proto:!0,forced:!ta("some")},{some:function(f){return Zy(this,f,arguments.length>1?arguments[1]:void 0)}});var YT=ti("Array").some,FC=Wt,qT=YT,RC=Array.prototype,e=ti("Array").keys,o=zr,s=Si,c=Wt,v=e,m=Array.prototype,T={DOMTokenList:!0,NodeList:!0},D=function(u){var f=u.keys;return u===m||c(m,u)&&f===m.keys||s(T,o(u))?v:f},R=om,B=Math.floor,N=function(u,f){var w=u.length,x=B(w/2);return w<8?V(u,f):Q(u,N(R(u,0,x),f),N(R(u,x),f),f)},V=function(u,f){for(var C,E,w=u.length,x=1;x<w;){for(E=x,C=u[x];E&&f(u[E-1],C)>0;)u[E]=u[--E];E!==x++&&(u[E]=C)}return u},Q=function(u,f,w,x){for(var C=f.length,E=w.length,F=0,P=0;F<C||P<E;)u[F+P]=F<C&&P<E?x(f[F],w[P])<=0?f[F++]:w[P++]:F<C?f[F++]:w[P++];return u},W=N,X=so.match(/firefox\/(\d+)/i),ue=!!X&&+X[1],Ie=/MSIE|Trident/.test(so),he=so.match(/AppleWebKit\/(\d+)\./),Ue=Ze,qe=Ae,Fe=Fr,st=zt,pt=Oi,yt=ji,Ft=ke,Zt=W,Ir=ta,HS=ue,oE=Ie,VS=js,KS=!!he&&+he[1],Mf=[],WS=qe(Mf.sort),sE=qe(Mf.push),aE=Ft(function(){Mf.sort(void 0)}),lE=Ft(function(){Mf.sort(null)}),cE=Ir("sort"),GS=!Ft(function(){if(VS)return VS<70;if(!(HS&&HS>3)){if(oE)return!0;if(KS)return KS<603;var f,w,x,C,u="";for(f=65;f<76;f++){switch(w=String.fromCharCode(f),f){case 66:case 69:case 70:case 72:x=3;break;case 68:case 71:x=4;break;default:x=2}for(C=0;C<47;C++)Mf.push({k:w+C,v:x})}for(Mf.sort(function(E,F){return F.v-E.v}),C=0;C<Mf.length;C++)w=Mf[C].k.charAt(0),u.charAt(u.length-1)!==w&&(u+=w);return"DGBEFHACIJK"!==u}});Ue({target:"Array",proto:!0,forced:aE||!lE||!cE||!GS},{sort:function(f){void 0!==f&&Fe(f);var w=st(this);if(GS)return void 0===f?WS(w):WS(w,f);var E,F,x=[],C=pt(w);for(F=0;F<C;F++)F in w&&sE(x,w[F]);for(Zt(x,function(u){return function(f,w){return void 0===w?-1:void 0===f?1:void 0!==u?+u(f,w)||0:yt(f)>yt(w)?1:-1}}(f)),E=x.length,F=0;F<E;)w[F]=x[F++];for(;F<C;)delete w[F++];return w}});var QT,pE=ti("Array").sort,fE=Wt,vE=pE,IS=Array.prototype,DS=function(u){var f=u.sort;return u===IS||fE(IS,u)&&f===IS.sort?vE:f},_E=ti("Array").values,CE=zr,TE=Si,kE=Wt,SE=_E,MS=Array.prototype,EE={DOMTokenList:!0,NodeList:!0},US=function(u){var f=u.values;return u===MS||kE(MS,u)&&f===MS.values||TE(EE,CE(u))?SE:f},Jy=Wm,DE=ti("Array").entries,RE=zr,PE=Si,AE=Wt,LE=DE,FS=Array.prototype,zE={DOMTokenList:!0,NodeList:!0},NE=new Uint8Array(16);function jE(){if(!QT&&!(QT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return QT(NE)}var HE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VE(u){return"string"==typeof u&&HE.test(u)}for(var Mn=[],RS=0;RS<256;++RS)Mn.push((RS+256).toString(16).substr(1));function WE(u,f,w){var x=(u=u||{}).random||(u.rng||jE)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,f){w=w||0;for(var C=0;C<16;++C)f[w+C]=x[C];return f}return function KE(u){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,w=(Mn[u[f+0]]+Mn[u[f+1]]+Mn[u[f+2]]+Mn[u[f+3]]+"-"+Mn[u[f+4]]+Mn[u[f+5]]+"-"+Mn[u[f+6]]+Mn[u[f+7]]+"-"+Mn[u[f+8]]+Mn[u[f+9]]+"-"+Mn[u[f+10]]+Mn[u[f+11]]+Mn[u[f+12]]+Mn[u[f+13]]+Mn[u[f+14]]+Mn[u[f+15]]).toLowerCase();if(!VE(w))throw TypeError("Stringified UUID is invalid");return w}(x)}function PS(u){return"string"==typeof u||"number"==typeof u}var YS=function(){function u(f){we(this,u),We(this,"delay",void 0),We(this,"max",void 0),We(this,"_queue",[]),We(this,"_timeout",null),We(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(f)}return Rr(u,[{key:"setOptions",value:function(w){w&&typeof w.delay<"u"&&(this.delay=w.delay),w&&typeof w.max<"u"&&(this.max=w.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var w=this._extended.object,x=this._extended.methods,C=0;C<x.length;C++){var E=x[C];E.original?w[E.name]=E.original:delete w[E.name]}this._extended=null}}},{key:"replace",value:function(w,x){var C=this,E=w[x];if(!E)throw new Error("Method "+x+" undefined");w[x]=function(){for(var F=arguments.length,P=new Array(F),L=0;L<F;L++)P[L]=arguments[L];C.queue({args:P,fn:E,context:this})}}},{key:"queue",value:function(w){this._queue.push("function"==typeof w?{fn:w}:w),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var w=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Cf(function(){w.flush()},this.delay))}},{key:"flush",value:function(){var w,x;Ko(w=cf(x=this._queue).call(x,0)).call(w,function(C){C.fn.apply(C.context||C.fn,C.args||[])})}}],[{key:"extend",value:function(w,x){var C=new u(x);if(void 0!==w.flush)throw new Error("Target object already has a property flush");w.flush=function(){C.flush()};var E=[{name:"flush",original:void 0}];if(x&&x.replace)for(var F=0;F<x.replace.length;F++){var P=x.replace[F];E.push({name:P,original:w[P]}),C.replace(w,P)}return C._extended={object:w,methods:E},C}}]),u}(),qS=function(){function u(){we(this,u),We(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),We(this,"subscribe",u.prototype.on),We(this,"unsubscribe",u.prototype.off)}return Rr(u,[{key:"_trigger",value:function(w,x,C){var E,F;if("*"===w)throw new Error("Cannot trigger event *");Ko(E=Zp(F=[]).call(F,Li(this._subscribers[w]),Li(this._subscribers["*"]))).call(E,function(P){P(w,x,C??null)})}},{key:"on",value:function(w,x){"function"==typeof x&&this._subscribers[w].push(x)}},{key:"off",value:function(w,x){var C;this._subscribers[w]=wi(C=this._subscribers[w]).call(C,function(E){return E!==x})}}]),u}();NT("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},IC);var QS,ZT=St.Set,AS=ya;function gc(u,f){var w=typeof xr<"u"&&Hl(u)||u["@@iterator"];if(!w){if(en(u)||(w=function sO(u,f){var w;if(u){if("string"==typeof u)return ZS(u,f);var x=ld(w=Object.prototype.toString.call(u)).call(w,8,-1);if("Object"===x&&u.constructor&&(x=u.constructor.name),"Map"===x||"Set"===x)return $l(u);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return ZS(u,f)}}(u))||f&&u&&"number"==typeof u.length){w&&(u=w);var x=0,C=function(){};return{s:C,n:function(){return x>=u.length?{done:!0}:{done:!1,value:u[x++]}},e:function(H){throw H},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,E=!0,F=!1;return{s:function(){w=w.call(u)},n:function(){var H=w.next();return E=H.done,H},e:function(H){F=!0,P=H},f:function(){try{!E&&null!=w.return&&w.return()}finally{if(F)throw P}}}}function ZS(u,f){(null==f||f>u.length)&&(f=u.length);for(var w=0,x=new Array(f);w<f;w++)x[w]=u[w];return x}QS=Jy;var LS=function(){function u(f){we(this,u),We(this,"_pairs",void 0),this._pairs=f}return Rr(u,[{key:QS,value:Dn.mark(function f(){var w,x,C,E,F;return Dn.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:w=gc(this._pairs),L.prev=1,w.s();case 3:if((x=w.n()).done){L.next=9;break}return C=ni(x.value,2),E=C[0],F=C[1],L.next=7,[E,F];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),w.e(L.t0);case 14:return L.prev=14,w.f(),L.finish(14);case 17:case"end":return L.stop()}},f,this,[[1,11,14,17]])})},{key:"entries",value:Dn.mark(function f(){var w,x,C,E,F;return Dn.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:w=gc(this._pairs),L.prev=1,w.s();case 3:if((x=w.n()).done){L.next=9;break}return C=ni(x.value,2),E=C[0],F=C[1],L.next=7,[E,F];case 7:L.next=3;break;case 9:L.next=14;break;case 11:L.prev=11,L.t0=L.catch(1),w.e(L.t0);case 14:return L.prev=14,w.f(),L.finish(14);case 17:case"end":return L.stop()}},f,this,[[1,11,14,17]])})},{key:"keys",value:Dn.mark(function f(){var w,x,C,E;return Dn.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:w=gc(this._pairs),P.prev=1,w.s();case 3:if((x=w.n()).done){P.next=9;break}return C=ni(x.value,1),E=C[0],P.next=7,E;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),w.e(P.t0);case 14:return P.prev=14,w.f(),P.finish(14);case 17:case"end":return P.stop()}},f,this,[[1,11,14,17]])})},{key:"values",value:Dn.mark(function f(){var w,x,C,E;return Dn.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:w=gc(this._pairs),P.prev=1,w.s();case 3:if((x=w.n()).done){P.next=9;break}return C=ni(x.value,2),E=C[1],P.next=7,E;case 7:P.next=3;break;case 9:P.next=14;break;case 11:P.prev=11,P.t0=P.catch(1),w.e(P.t0);case 14:return P.prev=14,w.f(),P.finish(14);case 17:case"end":return P.stop()}},f,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var w;return Ai(w=Li(this._pairs)).call(w,function(x){return x[0]})}},{key:"toItemArray",value:function(){var w;return Ai(w=Li(this._pairs)).call(w,function(x){return x[1]})}},{key:"toEntryArray",value:function(){return Li(this._pairs)}},{key:"toObjectMap",value:function(){var C,w=Sy(null),x=gc(this._pairs);try{for(x.s();!(C=x.n()).done;){var E=ni(C.value,2);w[E[0]]=E[1]}}catch(L){x.e(L)}finally{x.f()}return w}},{key:"toMap",value:function(){return new _e(this._pairs)}},{key:"toIdSet",value:function(){return new ZT(this.toIdArray())}},{key:"toItemSet",value:function(){return new ZT(this.toItemArray())}},{key:"cache",value:function(){return new u(Li(this._pairs))}},{key:"distinct",value:function(w){var E,x=new ZT,C=gc(this._pairs);try{for(C.s();!(E=C.n()).done;){var F=ni(E.value,2);x.add(w(F[1],F[0]))}}catch(H){C.e(H)}finally{C.f()}return x}},{key:"filter",value:function(w){var x=this._pairs;return new u(We({},Jy,Dn.mark(function C(){var E,F,P,L,H;return Dn.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:E=gc(x),q.prev=1,E.s();case 3:if((F=E.n()).done){q.next=10;break}if(P=ni(F.value,2),!w(H=P[1],L=P[0])){q.next=8;break}return q.next=8,[L,H];case 8:q.next=3;break;case 10:q.next=15;break;case 12:q.prev=12,q.t0=q.catch(1),E.e(q.t0);case 15:return q.prev=15,E.f(),q.finish(15);case 18:case"end":return q.stop()}},C,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(w){var C,x=gc(this._pairs);try{for(x.s();!(C=x.n()).done;){var E=ni(C.value,2);w(E[1],E[0])}}catch(L){x.e(L)}finally{x.f()}}},{key:"map",value:function(w){var x=this._pairs;return new u(We({},Jy,Dn.mark(function C(){var E,F,P,L,H;return Dn.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:E=gc(x),q.prev=1,E.s();case 3:if((F=E.n()).done){q.next=9;break}return P=ni(F.value,2),L=P[0],H=P[1],q.next=7,[L,w(H,L)];case 7:q.next=3;break;case 9:q.next=14;break;case 11:q.prev=11,q.t0=q.catch(1),E.e(q.t0);case 14:return q.prev=14,E.f(),q.finish(14);case 17:case"end":return q.stop()}},C,null,[[1,11,14,17]])})))}},{key:"max",value:function(w){var x=AS(this._pairs),C=x.next();if(C.done)return null;for(var E=C.value[1],F=w(C.value[1],C.value[0]);!(C=x.next()).done;){var P=ni(C.value,2),H=P[1],G=w(H,P[0]);G>F&&(F=G,E=H)}return E}},{key:"min",value:function(w){var x=AS(this._pairs),C=x.next();if(C.done)return null;for(var E=C.value[1],F=w(C.value[1],C.value[0]);!(C=x.next()).done;){var P=ni(C.value,2),H=P[1],G=w(H,P[0]);G<F&&(F=G,E=H)}return E}},{key:"reduce",value:function(w,x){var E,C=gc(this._pairs);try{for(C.s();!(E=C.n()).done;){var F=ni(E.value,2);x=w(x,F[1],F[0])}}catch(H){C.e(H)}finally{C.f()}return x}},{key:"sort",value:function(w){var x=this;return new u(We({},Jy,function(){var C;return AS(DS(C=Li(x._pairs)).call(C,function(E,F){var P=ni(E,2),L=P[0],H=P[1],G=ni(F,2);return w(H,G[1],L,G[0])}))}))}}]),u}();function JS(u,f){var w=Vo(u);if(Ap){var x=Ap(u);f&&(x=wi(x).call(x,function(C){return km(u,C).enumerable})),w.push.apply(w,x)}return w}function XS(u){for(var f=1;f<arguments.length;f++){var w,x,C=null!=arguments[f]?arguments[f]:{};f%2?Ko(w=JS(Object(C),!0)).call(w,function(E){We(u,E,C[E])}):W_?E1(u,W_(C)):Ko(x=JS(Object(C))).call(x,function(E){Bp(u,E,km(C,E))})}return u}function zS(u,f){var w=typeof xr<"u"&&Hl(u)||u["@@iterator"];if(!w){if(en(u)||(w=function aO(u,f){var w;if(u){if("string"==typeof u)return eE(u,f);var x=ld(w=Object.prototype.toString.call(u)).call(w,8,-1);if("Object"===x&&u.constructor&&(x=u.constructor.name),"Map"===x||"Set"===x)return $l(u);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return eE(u,f)}}(u))||f&&u&&"number"==typeof u.length){w&&(u=w);var x=0,C=function(){};return{s:C,n:function(){return x>=u.length?{done:!0}:{done:!1,value:u[x++]}},e:function(H){throw H},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,E=!0,F=!1;return{s:function(){w=w.call(u)},n:function(){var H=w.next();return E=H.done,H},e:function(H){F=!0,P=H},f:function(){try{!E&&null!=w.return&&w.return()}finally{if(F)throw P}}}}function eE(u,f){(null==f||f>u.length)&&(f=u.length);for(var w=0,x=new Array(f);w<f;w++)x[w]=u[w];return x}function lO(u){var f=function cO(){if(typeof Reflect>"u"||!pc||pc.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pc(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,x=Of(u);if(f){var E=Of(this).constructor;C=pc(x,arguments,E)}else C=x.apply(this,arguments);return Gy(this,C)}}var tE=function(u){hC(w,u);var f=lO(w);function w(x,C){var E;return we(this,w),We(Or(E=f.call(this)),"flush",void 0),We(Or(E),"length",void 0),We(Or(E),"_options",void 0),We(Or(E),"_data",void 0),We(Or(E),"_idProp",void 0),We(Or(E),"_queue",null),x&&!en(x)&&(C=x,x=[]),E._options=C||{},E._data=new _e,E.length=0,E._idProp=E._options.fieldId||"id",x&&x.length&&E.add(x),E.setOptions(C),E}return Rr(w,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(C){C&&void 0!==C.queue&&(!1===C.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=YS.extend(this,{replace:["add","update","remove"]})),C.queue&&"object"===Ti(C.queue)&&this._queue.setOptions(C.queue)))}},{key:"add",value:function(C,E){var L,F=this,P=[];if(en(C)){var H=Ai(C).call(C,function(ee){return ee[F._idProp]});if(function(u){var f=u.some;return u===RC||FC(RC,u)&&f===RC.some?qT:f}(H).call(H,function(ee){return F._data.has(ee)}))throw new Error("A duplicate id was found in the parameter array.");for(var G=0,q=C.length;G<q;G++)L=this._addItem(C[G]),P.push(L)}else{if(!C||"object"!==Ti(C))throw new Error("Unknown dataType");L=this._addItem(C),P.push(L)}return P.length&&this._trigger("add",{items:P},E),P}},{key:"update",value:function(C,E){var F=this,P=[],L=[],H=[],G=[],q=this._idProp,ee=function(Ke){var Jt=Ke[q];if(null!=Jt&&F._data.has(Jt)){var on=Ke,qt=uy({},F._data.get(Jt)),Fn=F._updateItem(on);L.push(Fn),G.push(on),H.push(qt)}else{var qn=F._addItem(Ke);P.push(qn)}};if(en(C))for(var le=0,Ve=C.length;le<Ve;le++)C[le]&&"object"===Ti(C[le])?ee(C[le]):console.warn("Ignoring input item, which is not an object at index "+le);else{if(!C||"object"!==Ti(C))throw new Error("Unknown dataType");ee(C)}return P.length&&this._trigger("add",{items:P},E),L.length&&this._trigger("update",{items:L,oldData:H,data:G},E),Zp(P).call(P,L)}},{key:"updateOnly",value:function(C,E){var F,P=this;en(C)||(C=[C]);var L=Ai(F=Ai(C).call(C,function(G){var q=P._data.get(G[P._idProp]);if(null==q)throw new Error("Updating non-existent items is not allowed.");return{oldData:q,update:G}})).call(F,function(G){var q=G.oldData,le=q[P._idProp],Ve=function Ck(u){for(var f,w=arguments.length,x=new Array(w>1?w-1:0),C=1;C<w;C++)x[C-1]=arguments[C];return sT.apply(void 0,Zp(f=[{},u]).call(f,x))}(q,G.update);return P._data.set(le,Ve),{id:le,oldData:q,updatedData:Ve}});if(L.length){var H={items:Ai(L).call(L,function(G){return G.id}),oldData:Ai(L).call(L,function(G){return G.oldData}),data:Ai(L).call(L,function(G){return G.updatedData})};return this._trigger("update",H,E),H.items}return[]}},{key:"get",value:function(C,E){var F=void 0,P=void 0,L=void 0;PS(C)?(F=C,L=E):en(C)?(P=C,L=E):L=C;var Rf,H=L&&"Object"===L.returnType?"Object":"Array",G=L&&wi(L),q=[],ee=void 0,le=void 0;if(null!=F)(ee=this._data.get(F))&&G&&!G(ee)&&(ee=void 0);else if(null!=P)for(var et=0,lt=P.length;et<lt;et++)null!=(ee=this._data.get(P[et]))&&(!G||G(ee))&&q.push(ee);else for(var Ke,Jt=0,on=(le=Li(D(Ke=this._data).call(Ke))).length;Jt<on;Jt++)null!=(ee=this._data.get(le[Jt]))&&(!G||G(ee))&&q.push(ee);if(L&&L.order&&null==F&&this._sort(q,L.order),L&&L.fields){var qt=L.fields;if(null!=F&&null!=ee)ee=this._filterFields(ee,qt);else for(var Fn=0,qn=q.length;Fn<qn;Fn++)q[Fn]=this._filterFields(q[Fn],qt)}if("Object"==H){for(var $a={},Qn=0,Ff=q.length;Qn<Ff;Qn++){var Fd=q[Qn];$a[Fd[this._idProp]]=Fd}return $a}return null!=F?null!==(Rf=ee)&&void 0!==Rf?Rf:null:q}},{key:"getIds",value:function(C){var E=this._data,F=C&&wi(C),P=C&&C.order,L=Li(D(E).call(E)),H=[];if(F)if(P){for(var G=[],q=0,ee=L.length;q<ee;q++){var Ve=this._data.get(L[q]);null!=Ve&&F(Ve)&&G.push(Ve)}this._sort(G,P);for(var et=0,lt=G.length;et<lt;et++)H.push(G[et][this._idProp])}else for(var Ke=0,Jt=L.length;Ke<Jt;Ke++){var qt=this._data.get(L[Ke]);null!=qt&&F(qt)&&H.push(qt[this._idProp])}else if(P){for(var Fn=[],qn=0,$a=L.length;qn<$a;qn++)Fn.push(E.get(L[qn]));this._sort(Fn,P);for(var Ff=0,Fd=Fn.length;Ff<Fd;Ff++)H.push(Fn[Ff][this._idProp])}else for(var Xy=0,Rf=L.length;Xy<Rf;Xy++){var Mw=E.get(L[Xy]);null!=Mw&&H.push(Mw[this._idProp])}return H}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(C,E){var F=E&&wi(E),P=this._data,L=Li(D(P).call(P));if(E&&E.order)for(var H=this.get(E),G=0,q=H.length;G<q;G++){var ee=H[G];C(ee,ee[this._idProp])}else for(var Ve=0,et=L.length;Ve<et;Ve++){var lt=L[Ve],Ke=this._data.get(lt);null!=Ke&&(!F||F(Ke))&&C(Ke,lt)}}},{key:"map",value:function(C,E){for(var F=E&&wi(E),P=[],L=this._data,H=Li(D(L).call(L)),G=0,q=H.length;G<q;G++){var ee=H[G],le=this._data.get(ee);null!=le&&(!F||F(le))&&P.push(C(le,ee))}return E&&E.order&&this._sort(P,E.order),P}},{key:"_filterFields",value:function(C,E){var F;return C&&mh(F=en(E)?E:Vo(E)).call(F,function(P,L){return P[L]=C[L],P},{})}},{key:"_sort",value:function(C,E){if("string"==typeof E){var F=E;DS(C).call(C,function(P,L){var H=P[F],G=L[F];return H>G?1:H<G?-1:0})}else{if("function"!=typeof E)throw new TypeError("Order must be a function or a string");DS(C).call(C,E)}}},{key:"remove",value:function(C,E){for(var F=[],P=[],L=en(C)?C:[C],H=0,G=L.length;H<G;H++){var q=this._remove(L[H]);if(q){var ee=q[this._idProp];null!=ee&&(F.push(ee),P.push(q))}}return F.length&&this._trigger("remove",{items:F,oldData:P},E),F}},{key:"_remove",value:function(C){var E;if(PS(C)?E=C:C&&"object"===Ti(C)&&(E=C[this._idProp]),null!=E&&this._data.has(E)){var F=this._data.get(E)||null;return this._data.delete(E),--this.length,F}return null}},{key:"clear",value:function(C){for(var E,F=Li(D(E=this._data).call(E)),P=[],L=0,H=F.length;L<H;L++)P.push(this._data.get(F[L]));return this._data.clear(),this.length=0,this._trigger("remove",{items:F,oldData:P},C),F}},{key:"max",value:function(C){var E,H,F=null,P=null,L=zS(US(E=this._data).call(E));try{for(L.s();!(H=L.n()).done;){var G=H.value,q=G[C];"number"==typeof q&&(null==P||q>P)&&(F=G,P=q)}}catch(ee){L.e(ee)}finally{L.f()}return F||null}},{key:"min",value:function(C){var E,H,F=null,P=null,L=zS(US(E=this._data).call(E));try{for(L.s();!(H=L.n()).done;){var G=H.value,q=G[C];"number"==typeof q&&(null==P||q<P)&&(F=G,P=q)}}catch(ee){L.e(ee)}finally{L.f()}return F||null}},{key:"distinct",value:function(C){for(var E=this._data,F=Li(D(E).call(E)),P=[],L=0,H=0,G=F.length;H<G;H++){for(var le=E.get(F[H])[C],Ve=!1,et=0;et<L;et++)if(P[et]==le){Ve=!0;break}!Ve&&void 0!==le&&(P[L]=le,L++)}return P}},{key:"_addItem",value:function(C){var E=function uO(u,f){return null==u[f]&&(u[f]=WE()),u}(C,this._idProp),F=E[this._idProp];if(this._data.has(F))throw new Error("Cannot add item: item with id "+F+" already exists");return this._data.set(F,E),++this.length,F}},{key:"_updateItem",value:function(C){var E=C[this._idProp];if(null==E)throw new Error("Cannot update item: item has no id (item: "+Wx(C)+")");var F=this._data.get(E);if(!F)throw new Error("Cannot update item: no item with id "+E+" found");return this._data.set(E,XS(XS({},F),C)),E}},{key:"stream",value:function(C){if(C){var E=this._data;return new LS(We({},Jy,Dn.mark(function P(){var L,H,G,q;return Dn.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:L=zS(C),le.prev=1,L.s();case 3:if((H=L.n()).done){le.next=11;break}if(null==(q=E.get(G=H.value))){le.next=9;break}return le.next=9,[G,q];case 9:le.next=3;break;case 11:le.next=16;break;case 13:le.prev=13,le.t0=le.catch(1),L.e(le.t0);case 16:return le.prev=16,L.f(),le.finish(16);case 19:case"end":return le.stop()}},P,null,[[1,13,16,19]])})))}var F;return new LS(We({},Jy,Ar(F=function(u){var f=u.entries;return u===FS||AE(FS,u)&&f===FS.entries||PE(zE,RE(u))?LE:f}(this._data)).call(F,this._data)))}}]),w}(qS);function dO(u,f){var w=typeof xr<"u"&&Hl(u)||u["@@iterator"];if(!w){if(en(u)||(w=function hO(u,f){var w;if(u){if("string"==typeof u)return iE(u,f);var x=ld(w=Object.prototype.toString.call(u)).call(w,8,-1);if("Object"===x&&u.constructor&&(x=u.constructor.name),"Map"===x||"Set"===x)return $l(u);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return iE(u,f)}}(u))||f&&u&&"number"==typeof u.length){w&&(u=w);var x=0,C=function(){};return{s:C,n:function(){return x>=u.length?{done:!0}:{done:!1,value:u[x++]}},e:function(H){throw H},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,E=!0,F=!1;return{s:function(){w=w.call(u)},n:function(){var H=w.next();return E=H.done,H},e:function(H){F=!0,P=H},f:function(){try{!E&&null!=w.return&&w.return()}finally{if(F)throw P}}}}function iE(u,f){(null==f||f>u.length)&&(f=u.length);for(var w=0,x=new Array(f);w<f;w++)x[w]=u[w];return x}function pO(u){var f=function fO(){if(typeof Reflect>"u"||!pc||pc.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(pc(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,x=Of(u);if(f){var E=Of(this).constructor;C=pc(x,arguments,E)}else C=x.apply(this,arguments);return Gy(this,C)}}var vO=function(u){hC(w,u);var f=pO(w);function w(x,C){var E,F;return we(this,w),We(Or(F=f.call(this)),"length",0),We(Or(F),"_listener",void 0),We(Or(F),"_data",void 0),We(Or(F),"_ids",new ZT),We(Or(F),"_options",void 0),F._options=C||{},F._listener=Ar(E=F._onEvent).call(E,Or(F)),F.setData(x),F}return Rr(w,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(C){if(this._data){this._data.off&&this._data.off("*",this._listener);var E=this._data.getIds({filter:wi(this._options)}),F=this._data.get(E);this._ids.clear(),this.length=0,this._trigger("remove",{items:E,oldData:F})}if(null!=C){this._data=C;for(var P=this._data.getIds({filter:wi(this._options)}),L=0,H=P.length;L<H;L++)this._ids.add(P[L]);this.length=P.length,this._trigger("add",{items:P})}else this._data=new tE;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var C=this._data.getIds({filter:wi(this._options)}),E=Li(this._ids),F={},P=[],L=[],H=[],G=0,q=C.length;G<q;G++){var ee=C[G];F[ee]=!0,this._ids.has(ee)||(P.push(ee),this._ids.add(ee))}for(var le=0,Ve=E.length;le<Ve;le++){var et=E[le],lt=this._data.get(et);null==lt?console.error("If you see this, report it please."):F[et]||(L.push(et),H.push(lt),this._ids.delete(et))}this.length+=P.length-L.length,P.length&&this._trigger("add",{items:P}),L.length&&this._trigger("remove",{items:L,oldData:H})}},{key:"get",value:function(C,E){if(null==this._data)return null;var P,F=null;PS(C)||en(C)?(F=C,P=E):P=C;var L=uy({},this._options,P),H=wi(this._options),G=P&&wi(P);return H&&G&&(L.filter=function(q){return H(q)&&G(q)}),null==F?this._data.get(L):this._data.get(F,L)}},{key:"getIds",value:function(C){if(this._data.length){var E=wi(this._options),F=null!=C?wi(C):null;return this._data.getIds({filter:F?E?function(H){return E(H)&&F(H)}:F:E,order:C&&C.order})}return[]}},{key:"forEach",value:function(C,E){if(this._data){var F,H,P=wi(this._options),L=E&&wi(E);H=L?P?function(q){return P(q)&&L(q)}:L:P,Ko(F=this._data).call(F,C,{filter:H,order:E&&E.order})}}},{key:"map",value:function(C,E){if(this._data){var F,H,P=wi(this._options),L=E&&wi(E);return H=L?P?function(q){return P(q)&&L(q)}:L:P,Ai(F=this._data).call(F,C,{filter:H,order:E&&E.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(C){var E;return this._data.stream(C||We({},Jy,Ar(E=D(this._ids)).call(E,this._ids)))}},{key:"dispose",value:function(){var C;null!==(C=this._data)&&void 0!==C&&C.off&&this._data.off("*",this._listener);var L,E="This data view has already been disposed of.",F={get:function(){throw new Error(E)},set:function(){throw new Error(E)},configurable:!1},P=dO(Yr(w.prototype));try{for(P.s();!(L=P.n()).done;)Bp(this,L.value,F)}catch(G){P.e(G)}finally{P.f()}}},{key:"_onEvent",value:function(C,E,F){if(E&&E.items&&this._data){var P=E.items,L=[],H=[],G=[],q=[],ee=[],le=[];switch(C){case"add":for(var Ve=0,et=P.length;Ve<et;Ve++){var lt=P[Ve];this.get(lt)&&(this._ids.add(lt),L.push(lt))}break;case"update":for(var Jt=0,on=P.length;Jt<on;Jt++){var qt=P[Jt];this.get(qt)?this._ids.has(qt)?(H.push(qt),ee.push(E.data[Jt]),q.push(E.oldData[Jt])):(this._ids.add(qt),L.push(qt)):this._ids.has(qt)&&(this._ids.delete(qt),G.push(qt),le.push(E.oldData[Jt]))}break;case"remove":for(var qn=0,$a=P.length;qn<$a;qn++){var Qn=P[qn];this._ids.has(Qn)&&(this._ids.delete(Qn),G.push(Qn),le.push(E.oldData[qn]))}}this.length+=L.length-G.length,L.length&&this._trigger("add",{items:L},F),H.length&&this._trigger("update",{items:H,oldData:q,data:ee},F),G.length&&this._trigger("remove",{items:G,oldData:le},F)}}}]),w}(qS);function nE(u,f){return"object"===Ti(f)&&null!==f&&u===f.idProp&&"function"==typeof f.add&&"function"==typeof f.clear&&"function"==typeof f.distinct&&"function"==typeof Ko(f)&&"function"==typeof f.get&&"function"==typeof f.getDataSet&&"function"==typeof f.getIds&&"number"==typeof f.length&&"function"==typeof Ai(f)&&"function"==typeof f.max&&"function"==typeof f.min&&"function"==typeof f.off&&"function"==typeof f.on&&"function"==typeof f.remove&&"function"==typeof f.setOptions&&"function"==typeof f.stream&&"function"==typeof f.update&&"function"==typeof f.updateOnly}ft.DELETE=Vy,ft.DataSet=tE,ft.DataStream=LS,ft.DataView=vO,ft.Queue=YS,ft.createNewDataPipeFrom=function mg(u){return new cu(u)},ft.isDataSetLike=nE,ft.isDataViewLike=function gO(u,f){return"object"===Ti(f)&&null!==f&&u===f.idProp&&"function"==typeof Ko(f)&&"function"==typeof f.get&&"function"==typeof f.getDataSet&&"function"==typeof f.getIds&&"number"==typeof f.length&&"function"==typeof Ai(f)&&"function"==typeof f.off&&"function"==typeof f.on&&"function"==typeof f.stream&&nE(u,f.getDataSet())},Object.defineProperty(ft,"__esModule",{value:!0})}(Rd)},1914:function(JT,Rd){!function(ft){function we(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ls={exports:{}},Ge=function(d){return d&&d.Math==Math&&d},ie=Ge("object"==typeof globalThis&&globalThis)||Ge("object"==typeof window&&window)||Ge("object"==typeof self&&self)||Ge("object"==typeof si&&si)||function(){return this}()||Function("return this")(),ke=function(d){try{return!!d()}catch{return!0}},Zn=!ke(function(){var d=function(){}.bind();return"function"!=typeof d||d.hasOwnProperty("prototype")}),mc=Function.prototype,zs=mc.apply,Na=mc.call,sn="object"==typeof Reflect&&Reflect.apply||(Zn?Na.bind(zs):function(){return Na.apply(zs,arguments)}),Dr=Zn,an=Function.prototype,se=an.call,Bi=Dr&&an.bind.bind(se,se),me=Dr?function(d){return d&&Bi(d)}:function(d){return d&&function(){return se.apply(d,arguments)}},Ae=function(d){return"function"==typeof d},Lt={},rt=!ke(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Kt=Function.prototype.call,ai=Zn?Kt.bind(Kt):function(){return Kt.apply(Kt,arguments)},ln={},cn={}.propertyIsEnumerable,no=Object.getOwnPropertyDescriptor,Pd=no&&!cn.call({1:2},1);ln.f=Pd?function(d){var g=no(this,d);return!!g&&g.enumerable}:cn;var ki,ro,$i=function(d,g){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:g}},ja=me,Af=ja({}.toString),Lf=ja("".slice),di=function(d){return Lf(Af(d),8,-1)},Bf=ke,Ad=di,Bs=ie.Object,yc=me("".split),oo=Bf(function(){return!Bs("z").propertyIsEnumerable(0)})?function(d){return"String"==Ad(d)?yc(d,""):Bs(d)}:Bs,Ha=ie.TypeError,Jn=function(d){if(null==d)throw Ha("Can't call method on "+d);return d},$f=oo,$s=Jn,Xt=function(d){return $f($s(d))},Nf=Ae,Xe=function(d){return"object"==typeof d?null!==d:Nf(d)},$e={},hi=$e,St=ie,bc=Ae,Ns=function(d){return bc(d)?d:void 0},bi=function(d,g){return arguments.length<2?Ns(hi[d])||Ns(St[d]):hi[d]&&hi[d][g]||St[d]&&St[d][g]},ot=me({}.isPrototypeOf),_i=bi("navigator","userAgent")||"",Wt=_i,wc=ie.process,so=ie.Deno,Va=wc&&wc.versions||so&&so.version,Xo=Va&&Va.v8;Xo&&(ro=(ki=Xo.split("."))[0]>0&&ki[0]<4?1:+(ki[0]+ki[1])),!ro&&Wt&&(!(ki=Wt.match(/Edge\/(\d+)/))||ki[1]>=74)&&(ki=Wt.match(/Chrome\/(\d+)/))&&(ro=+ki[1]);var Rn=ro,Ka=Rn,es=!!Object.getOwnPropertySymbols&&!ke(function(){var d=Symbol();return!String(d)||!(Object(d)instanceof Symbol)||!Symbol.sham&&Ka&&Ka<41}),Ui=es&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Wa=bi,js=Ae,zd=ot,xc=ie.Object,Hs=Ui?function(d){return"symbol"==typeof d}:function(d){var g=Wa("Symbol");return js(g)&&zd(g.prototype,xc(d))},Bd=ie.String,ao=function(d){try{return Bd(d)}catch{return"Object"}},Hf=Ae,Vf=ao,Kf=ie.TypeError,un=function(d){if(Hf(d))return d;throw Kf(Vf(d)+" is not a function")},Wf=un,lo=function(d,g){var y=d[g];return null==y?void 0:Wf(y)},Vs=ai,Ks=Ae,Mr=Xe,Gf=ie.TypeError,co={exports:{}},Cc=ie,$d=Object.defineProperty,Tc="__core-js_shared__",uo=ie[Tc]||function(d,g){try{$d(Cc,d,{value:g,configurable:!0,writable:!0})}catch{Cc[d]=g}return g}(Tc,{}),kc=uo;(co.exports=function(d,g){return kc[d]||(kc[d]=void 0!==g?g:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ws=Jn,Sc=ie.Object,Rt=function(d){return Sc(Ws(d))},Uf=Rt,Yf=me({}.hasOwnProperty),_t=Object.hasOwn||function(d,g){return Yf(Uf(d),g)},Nd=me,qf=0,Qf=Math.random(),jd=Nd(1..toString),ho=function(d){return"Symbol("+(void 0===d?"":d)+")_"+jd(++qf+Qf,36)},Hd=ie,Gs=_t,Vd=ho,Ec=es,Oc=Ui,Xn=(0,co.exports)("wks"),zt=Hd.Symbol,Ic=zt&&zt.for,Jf=Oc?zt:zt&&zt.withoutSetter||Vd,ut=function(d){if(!Gs(Xn,d)||!Ec&&"string"!=typeof Xn[d]){var g="Symbol."+d;Xn[d]=Ec&&Gs(zt,d)?zt[d]:Oc&&Ic?Ic(g):Jf(g)}return Xn[d]},Si=ai,Dc=Xe,Mc=Hs,Xf=lo,tv=ie.TypeError,iv=ut("toPrimitive"),Kd=function(d,g){if(!Dc(d)||Mc(d))return d;var y,_=Xf(d,iv);if(_){if(void 0===g&&(g="default"),y=Si(_,d,g),!Dc(y)||Mc(y))return y;throw tv("Can't convert object to primitive value")}return void 0===g&&(g="number"),function(d,g){var y,_;if("string"===g&&Ks(y=d.toString)&&!Mr(_=Vs(y,d))||Ks(y=d.valueOf)&&!Mr(_=Vs(y,d))||"string"!==g&&Ks(y=d.toString)&&!Mr(_=Vs(y,d)))return _;throw Gf("Can't convert object to primitive value")}(d,g)},nv=Hs,dn=function(d){var g=Kd(d,"string");return nv(g)?g:g+""},Ga=Xe,hn=ie.document,fo=Ga(hn)&&Ga(hn.createElement),Ua=function(d){return fo?hn.createElement(d):{}},rv=Ua,ei=!rt&&!ke(function(){return 7!=Object.defineProperty(rv("div"),"a",{get:function(){return 7}}).a}),sv=ai,Wd=ln,Gd=$i,av=Xt,lv=dn,cv=_t,uv=ei,Fc=Object.getOwnPropertyDescriptor;Lt.f=rt?Fc:function(d,g){if(d=av(d),g=lv(g),uv)try{return Fc(d,g)}catch{}if(cv(d,g))return Gd(!sv(Wd.f,d,g),d[g])};var dv=ke,hv=Ae,pv=/#|\.prototype\./,pn=function(d,g){var y=Yd[Ud(d)];return y==fv||y!=Rc&&(hv(g)?dv(g):!!g)},Ud=pn.normalize=function(d){return String(d).replace(pv,".").toLowerCase()},Yd=pn.data={},Rc=pn.NATIVE="N",fv=pn.POLYFILL="P",qd=pn,Qd=un,vv=Zn,gv=me(me.bind),wn=function(d,g){return Qd(d),void 0===g?d:vv?gv(d,g):function(){return d.apply(g,arguments)}},$t={},Pc=rt&&ke(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),mv=Xe,yv=ie.String,bv=ie.TypeError,Yt=function(d){if(mv(d))return d;throw bv(yv(d)+" is not an object")},Lc=ei,vo=Yt,zc=dn,Us=ie.TypeError,Ys=Object.defineProperty,xv=Object.getOwnPropertyDescriptor;$t.f=rt?Pc?function(d,g,y){if(vo(d),g=zc(g),vo(y),"function"==typeof d&&"prototype"===g&&"value"in y&&"writable"in y&&!y.writable){var _=xv(d,g);_&&_.writable&&(d[g]=y.value,y={configurable:"configurable"in y?y.configurable:_.configurable,enumerable:"enumerable"in y?y.enumerable:_.enumerable,writable:!1})}return Ys(d,g,y)}:Ys:function(d,g,y){if(vo(d),g=zc(g),vo(y),Lc)try{return Ys(d,g,y)}catch{}if("get"in y||"set"in y)throw Us("Accessors not supported");return"value"in y&&(d[g]=y.value),d};var Zd=$t,Sv=$i,xn=rt?function(d,g,y){return Zd.f(d,g,Sv(1,y))}:function(d,g,y){return d[g]=y,d},go=ie,ts=sn,Yi=me,Ev=Ae,Ov=Lt.f,Jd=qd,fn=$e,Ya=wn,Ni=xn,Bc=_t,Cn=function(d){var g=function(y,_,S){if(this instanceof g){switch(arguments.length){case 0:return new d;case 1:return new d(y);case 2:return new d(y,_)}return new d(y,_,S)}return ts(d,this,arguments)};return g.prototype=d.prototype,g},xe=function(d,g){var y,_,S,I,M,A,$,j,J=d.target,Z=d.global,pe=d.stat,Ce=d.proto,Me=Z?go:pe?go[J]:(go[J]||{}).prototype,De=Z?fn:fn[J]||Ni(fn,J,{})[J],Be=De.prototype;for(S in g)y=!Jd(Z?S:J+(pe?".":"#")+S,d.forced)&&Me&&Bc(Me,S),M=De[S],y&&(A=d.noTargetGet?(j=Ov(Me,S))&&j.value:Me[S]),I=y&&A?A:g[S],y&&typeof M==typeof I||($=d.bind&&y?Ya(I,go):d.wrap&&y?Cn(I):Ce&&Ev(I)?Yi(I):I,(d.sham||I&&I.sham||M&&M.sham)&&Ni($,"sham",!0),Ni(De,S,$),Ce&&(Bc(fn,_=J+"Prototype")||Ni(fn,_,{}),Ni(fn[_],S,I),d.real&&Be&&!Be[S]&&Ni(Be,S,I)))},qs=$t.f;xe({target:"Object",stat:!0,forced:Object.defineProperty!==qs,sham:!rt},{defineProperty:qs});var Qs=$e.Object,eh=Ls.exports=function(d,g,y){return Qs.defineProperty(d,g,y)};Qs.defineProperty.sham&&(eh.sham=!0);var th=Ls.exports,Pn=th;function Zs(d,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Pn(d,_.key,_)}}function er(d,g,y){return g&&Zs(d.prototype,g),y&&Zs(d,y),Pn(d,"prototype",{writable:!1}),d}function dt(d,g,y){return g in d?Pn(d,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[g]=y,d}var Ei=me([].slice),ih=me,qa=un,Dv=Xe,mo=_t,yo=Ei,Js=Zn,Qa=ie.Function,Mv=ih([].concat),Fv=ih([].join),$c={},bo=function(d,g,y){if(!mo($c,g)){for(var _=[],S=0;S<g;S++)_[S]="a["+S+"]";$c[g]=Qa("C,a","return new C("+Fv(_,",")+")")}return $c[g](d,y)},Nc=Js?Qa.bind:function(d){var g=qa(this),y=g.prototype,_=yo(arguments,1),S=function(){var I=Mv(_,yo(arguments));return this instanceof S?bo(g,I.length,I):g.apply(d,I)};return Dv(y)&&(S.prototype=y),S};xe({target:"Function",proto:!0,forced:Function.bind!==Nc},{bind:Nc});var nh=$e,li=function(d){return nh[d+"Prototype"]},Ze=li("Function").bind,jc=ot,Rv=Ze,Za=Function.prototype,_o=function(d){var g=d.bind;return d===Za||jc(Za,d)&&g===Za.bind?Rv:g},rh=Math.ceil,Hc=Math.floor,Ja=function(d){var g=+d;return g!=g||0===g?0:(g>0?Hc:rh)(g)},oh=Ja,Pv=Math.min,mi=function(d){return function(d){return d>0?Pv(oh(d),9007199254740991):0}(d.length)},sh=un,Xa=Rt,ah=oo,Rr=mi,We=ie.TypeError,Xs=function(d){return function(g,y,_,S){sh(y);var I=Xa(g),M=ah(I),A=Rr(I),$=d?A-1:0,j=d?-1:1;if(_<2)for(;;){if($ in M){S=M[$],$+=j;break}if($+=j,d?$<0:A<=$)throw We("Reduce of empty array with no initial value")}for(;d?$>=0:A>$;$+=j)$ in M&&(S=y(S,M[$],$,I));return S}},ea={left:Xs(!1),right:Xs(!0)},Lv=ke,is=function(d,g){var y=[][d];return!!y&&Lv(function(){y.call(null,g||function(){return 1},1)})},tb="process"==di(ie.process),zv=ea.left,Bv=Rn,lh=tb;xe({target:"Array",proto:!0,forced:!is("reduce")||!lh&&Bv>79&&Bv<83},{reduce:function(d){var g=arguments.length;return zv(this,d,g,g>1?arguments[1]:void 0)}});var ib=li("Array").reduce,$v=ot,ch=ib,uh=Array.prototype,el=function(d){var g=d.reduce;return d===uh||$v(uh,d)&&g===uh.reduce?ch:g},Nv=di,Pr=Array.isArray||function(d){return"Array"==Nv(d)},yi={};yi[ut("toStringTag")]="z";var Vc="[object z]"===String(yi),jv=ie,ti=Vc,Kc=Ae,tl=di,ye=ut("toStringTag"),Wc=jv.Object,il="Arguments"==tl(function(){return arguments}()),An=ti?tl:function(d){var g,y,_;return void 0===d?"Undefined":null===d?"Null":"string"==typeof(y=function(S,I){try{return S[I]}catch{}}(g=Wc(d),ye))?y:il?tl(g):"Object"==(_=tl(g))&&Kc(g.callee)?"Arguments":_},dh=Ae,nl=uo,Ar=me(Function.toString);dh(nl.inspectSource)||(nl.inspectSource=function(d){return Ar(d)});var Gc=nl.inspectSource,hh=me,ir=ke,rl=Ae,Hv=An,nb=Gc,Vv=function(){},Oi=[],Kv=bi("Reflect","construct"),ph=/^\s*(?:class|function)\b/,rb=hh(ph.exec),ns=!ph.exec(Vv),ol=function(d){if(!rl(d))return!1;try{return Kv(Vv,Oi,d),!0}catch{return!1}},Wv=function(d){if(!rl(d))return!1;switch(Hv(d)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ns||!!rb(ph,nb(d))}catch{return!0}};Wv.sham=!0;var Tn=!Kv||ir(function(){var d;return ol(ol.call)||!ol(Object)||!ol(function(){d=!0})||d})?Wv:ol,Uc=ie,sl=Pr,ta=Tn,Gv=Xe,Uv=ut("species"),Yc=Uc.Array,ia=function(d,g){return new(function(d){var g;return sl(d)&&(ta(g=d.constructor)&&(g===Yc||sl(g.prototype))||Gv(g)&&null===(g=g[Uv]))&&(g=void 0),void 0===g?Yc:g}(d))(0===g?0:g)},qv=wn,fh=oo,qc=Rt,ob=mi,al=ia,nr=me([].push),kn=function(d){var g=1==d,y=2==d,_=3==d,S=4==d,I=6==d,M=7==d,A=5==d||I;return function($,j,J,Z){for(var pe,Ce,Me=qc($),De=fh(Me),Be=qv(j,J),Re=ob(De),it=0,At=Z||al,It=g?At($,Re):y||M?At($,0):void 0;Re>it;it++)if((A||it in De)&&(Ce=Be(pe=De[it],it,Me),d))if(g)It[it]=Ce;else if(Ce)switch(d){case 3:return!0;case 5:return pe;case 6:return it;case 2:nr(It,pe)}else switch(d){case 4:return!1;case 7:nr(It,pe)}return I?-1:_||S?S:It}},wo={forEach:kn(0),map:kn(1),filter:kn(2),some:kn(3),every:kn(4),find:kn(5),findIndex:kn(6),filterReject:kn(7)},Qv=ke,Qc=Rn,vh=ut("species"),rs=function(d){return Qc>=51||!Qv(function(){var g=[];return(g.constructor={})[vh]=function(){return{foo:1}},1!==g[d](Boolean).foo})},gh=wo.filter;xe({target:"Array",proto:!0,forced:!rs("filter")},{filter:function(d){return gh(this,d,arguments.length>1?arguments[1]:void 0)}});var mh=li("Array").filter,yh=ot,rr=mh,Zc=Array.prototype,pi=function(d){var g=d.filter;return d===Zc||yh(Zc,d)&&g===Zc.filter?rr:g},ll=wo.map;xe({target:"Array",proto:!0,forced:!rs("map")},{map:function(d){return ll(this,d,arguments.length>1?arguments[1]:void 0)}});var Jc=li("Array").map,sb=ot,Xc=Jc,os=Array.prototype,Pi=function(d){var g=d.map;return d===os||sb(os,d)&&g===os.map?Xc:g},Zv=Pr,Jv=mi,bh=wn,ab=ie.TypeError,Lr=function(d,g,y,_,S,I,M,A){for(var $,j,J=S,Z=0,pe=!!M&&bh(M,A);Z<_;){if(Z in y){if($=pe?pe(y[Z],Z,g):y[Z],I>0&&Zv($))j=Jv($),J=Lr(d,g,$,j,J,I-1)-1;else{if(J>=9007199254740991)throw ab("Exceed the acceptable array length");d[J]=$}J++}Z++}return J},zr=Lr,_h=un,lb=Rt,xo=mi,or=ia;xe({target:"Array",proto:!0},{flatMap:function(d){var g,y=lb(this),_=xo(y);return _h(d),(g=or(y,0)).length=zr(g,y,y,_,0,1,d,arguments.length>1?arguments[1]:void 0),g}});var cl,Br,ul,eu=li("Array").flatMap,cb=ot,Xv=eu,tu=Array.prototype,eg=function(){function d(g,y,_){var S,I,M;we(this,d),dt(this,"_source",void 0),dt(this,"_transformers",void 0),dt(this,"_target",void 0),dt(this,"_listeners",{add:_o(S=this._add).call(S,this),remove:_o(I=this._remove).call(I,this),update:_o(M=this._update).call(M,this)}),this._source=g,this._transformers=y,this._target=_}return er(d,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(g){var y;return el(y=this._transformers).call(y,function(_,S){return S(_)},g)}},{key:"_add",value:function(g,y){null!=y&&this._target.add(this._transformItems(this._source.get(y.items)))}},{key:"_update",value:function(g,y){null!=y&&this._target.update(this._transformItems(this._source.get(y.items)))}},{key:"_remove",value:function(g,y){null!=y&&this._target.remove(this._transformItems(y.oldData))}}]),d}(),tg=function(){function d(g){we(this,d),dt(this,"_source",void 0),dt(this,"_transformers",[]),this._source=g}return er(d,[{key:"filter",value:function(g){return this._transformers.push(function(y){return pi(y).call(y,g)}),this}},{key:"map",value:function(g){return this._transformers.push(function(y){return Pi(y).call(y,g)}),this}},{key:"flatMap",value:function(g){return this._transformers.push(function(y){return function(d){var g=d.flatMap;return d===tu||cb(tu,d)&&g===tu.flatMap?Xv:g}(y).call(y,g)}),this}},{key:"to",value:function(g){return new eg(this._source,this._transformers,g)}}]),d}(),iu=An,ig=ie.String,Co=function(d){if("Symbol"===iu(d))throw TypeError("Cannot convert a Symbol value to a string");return ig(d)},Ln=me,xh=Ja,dl=Co,ng=Jn,nu=Ln("".charAt),Ch=Ln("".charCodeAt),rg=Ln("".slice),Th=function(d){return function(g,y){var _,S,I=dl(ng(g)),M=xh(y),A=I.length;return M<0||M>=A?d?"":void 0:(_=Ch(I,M))<55296||_>56319||M+1===A||(S=Ch(I,M+1))<56320||S>57343?d?nu(I,M):_:d?rg(I,M,M+2):S-56320+(_-55296<<10)+65536}},kh={codeAt:Th(!1),charAt:Th(!0)},Sh=Gc,Eh=ie.WeakMap,ss=Ae(Eh)&&/native code/.test(Sh(Eh)),Oh=ho,Ih=(0,co.exports)("keys"),sr=function(d){return Ih[d]||(Ih[d]=Oh(d))},as={},ar=me,na=Xe,ub=xn,ou=_t,db=sr,ko=as,sg="Object already initialized",ra=ie.TypeError;if(ss||uo.state){var ls=uo.state||(uo.state=new(0,ie.WeakMap)),pb=ar(ls.get),Dh=ar(ls.has),fb=ar(ls.set);cl=function(d,g){if(Dh(ls,d))throw new ra(sg);return g.facade=d,fb(ls,d,g),g},Br=function(d){return pb(ls,d)||{}},ul=function(d){return Dh(ls,d)}}else{var So=db("state");ko[So]=!0,cl=function(d,g){if(ou(d,So))throw new ra(sg);return g.facade=d,ub(d,So,g),g},Br=function(d){return ou(d,So)?d[So]:{}},ul=function(d){return ou(d,So)}}var lr={set:cl,get:Br,has:ul,enforce:function(d){return ul(d)?Br(d):cl(d,{})},getterFor:function(d){return function(g){var y;if(!na(g)||(y=Br(g)).type!==d)throw ra("Incompatible receiver, "+d+" required");return y}}},Mh=rt,lg=Function.prototype,wi=Mh&&Object.getOwnPropertyDescriptor,Fh=_t(lg,"name"),cg={EXISTS:Fh,PROPER:Fh&&"something"===function(){}.name,CONFIGURABLE:Fh&&(!Mh||Mh&&wi(lg,"name").configurable)},su={},vb=Ja,gb=Math.max,ug=Math.min,$r=function(d,g){var y=vb(d);return y<0?gb(y+g,0):ug(y,g)},cs=Xt,au=$r,dg=mi,Rh=function(d){return function(g,y,_){var S,I=cs(g),M=dg(I),A=au(_,M);if(d&&y!=y){for(;M>A;)if((S=I[A++])!=S)return!0}else for(;M>A;A++)if((d||A in I)&&I[A]===y)return d||A||0;return!d&&-1}},lu={includes:Rh(!0),indexOf:Rh(!1)},Ai=_t,hg=Xt,Ph=lu.indexOf,pg=as,Ah=me([].push),Lh=function(d,g){var y,_=hg(d),S=0,I=[];for(y in _)!Ai(pg,y)&&Ai(_,y)&&Ah(I,y);for(;g.length>S;)Ai(_,y=g[S++])&&(~Ph(I,y)||Ah(I,y));return I},fl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mb=Lh,fg=fl,vl=Object.keys||function(d){return mb(d,fg)},vg=$t,bb=Yt,_b=Xt,gg=vl;su.f=rt&&!Pc?Object.defineProperties:function(d,g){bb(d);for(var y,_=_b(g),S=gg(g),I=S.length,M=0;I>M;)vg.f(d,y=S[M++],_[y]);return d};var gl,Bh=bi("document","documentElement"),oa=Yt,$h=su,Nh=fl,ml=as,jh=Bh,mg=Ua,yl=sr("IE_PROTO"),cu=function(){},Hh=function(d){return"<script>"+d+"<\/script>"},uu=function(d){d.write(Hh("")),d.close();var g=d.parentWindow.Object;return d=null,g},bl=function(){try{gl=new ActiveXObject("htmlfile")}catch{}var d,g;bl=typeof document<"u"?document.domain&&gl?uu(gl):((g=mg("iframe")).style.display="none",jh.appendChild(g),g.src=String("javascript:"),(d=g.contentWindow.document).open(),d.write(Hh("document.F=Object")),d.close(),d.F):uu(gl);for(var y=Nh.length;y--;)delete bl.prototype[Nh[y]];return bl()};ml[yl]=!0;var ji,_l,Vh,us=Object.create||function(d,g){var y;return null!==d?(cu.prototype=oa(d),y=new cu,cu.prototype=null,y[yl]=d):y=bl(),void 0===g?y:$h.f(y,g)},du=!ke(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype}),wb=ie,hu=_t,yg=Ae,Kh=Rt,xb=du,bg=sr("IE_PROTO"),pu=wb.Object,_g=pu.prototype,wl=xb?pu.getPrototypeOf:function(d){var g=Kh(d);if(hu(g,bg))return g[bg];var y=g.constructor;return yg(y)&&g instanceof y?y.prototype:g instanceof pu?_g:null},Cb=xn,xl=function(d,g,y,_){_&&_.enumerable?d[g]=y:Cb(d,g,y)},Tb=ke,wg=Ae,Cl=us,sa=wl,xg=xl,aa=ut("iterator"),fu=!1;[].keys&&("next"in(Vh=[].keys())?(_l=sa(sa(Vh)))!==Object.prototype&&(ji=_l):fu=!0);var kb=null==ji||Tb(function(){var d={};return ji[aa].call(d)!==d});wg((ji=kb?{}:Cl(ji))[aa])||xg(ji,aa,function(){return this});var ds={IteratorPrototype:ji,BUGGY_SAFARI_ITERATORS:fu},Tl=An,Cg=Vc,Sb=$t.f,Wh=xn,Eo=_t,Eb=Vc?{}.toString:function(){return"[object "+Tl(this)+"]"},ca=ut("toStringTag"),cr=function(d,g,y,_){if(d){var S=y?d:d.prototype;Eo(S,ca)||Sb(S,ca,{configurable:!0,value:g}),_&&!Cg&&Wh(S,"toString",Eb)}},ur={},kl=ds.IteratorPrototype,Tg=us,Oo=$i,kg=cr,Gh=ur,Sg=function(){return this},hs=Ae,vu=ie.String,Eg=ie.TypeError,Uh=me,Ob=Yt,Og=Object.setPrototypeOf||("__proto__"in{}?function(){var d,g=!1,y={};try{(d=Uh(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(y,[]),g=y instanceof Array}catch{}return function(_,S){return Ob(_),function(d){if("object"==typeof d||hs(d))return d;throw Eg("Can't set "+vu(d)+" as a prototype")}(S),g?d(_,S):_.__proto__=S,_}}():void 0),Ib=xe,mu=ai,Db=wl,Ig=cr,bu=xl,Do=ur,Dg=cg.PROPER,ua=ds.BUGGY_SAFARI_ITERATORS,_u=ut("iterator"),Mo="values",dr="entries",xu=function(){return this},Sl=function(d,g,y,_,S,I,M){!function(d,g,y,_){var S=g+" Iterator";d.prototype=Tg(kl,{next:Oo(+!_,y)}),kg(d,S,!1,!0),Gh[S]=Sg}(y,g,_);var A,$,j,J=function(Re){if(Re===S&&De)return De;if(!ua&&Re in Ce)return Ce[Re];switch(Re){case"keys":case Mo:case dr:return function(){return new y(this,Re)}}return function(){return new y(this)}},Z=g+" Iterator",pe=!1,Ce=d.prototype,Me=Ce[_u]||Ce["@@iterator"]||S&&Ce[S],De=!ua&&Me||J(S),Be="Array"==g&&Ce.entries||Me;if(Be&&(A=Db(Be.call(new d)))!==Object.prototype&&A.next&&(Ig(A,Z,!0,!0),Do[Z]=xu),Dg&&S==Mo&&Me&&Me.name!==Mo&&(pe=!0,De=function(){return mu(Me,this)}),S)if($={values:J(Mo),keys:I?De:J("keys"),entries:J(dr)},M)for(j in $)(ua||pe||!(j in Ce))&&bu(Ce,j,$[j]);else Ib({target:g,proto:!0,forced:ua||pe},$);return M&&Ce[_u]!==De&&bu(Ce,_u,De,{name:S}),Do[g]=De,$},Yh=kh.charAt,Mg=Co,qh=Sl,Ol="String Iterator",Fg=lr.set,Rg=lr.getterFor(Ol);qh(String,"String",function(d){Fg(this,{type:Ol,string:Mg(d),index:0})},function(){var d,g=Rg(this),y=g.string,_=g.index;return _>=y.length?{value:void 0,done:!0}:(d=Yh(y,_),g.index+=d.length,{value:d,done:!1})});var Il=ai,Pg=Yt,Mb=lo,Qh=function(d,g,y){var _,S;Pg(d);try{if(!(_=Mb(d,"return"))){if("throw"===g)throw y;return y}_=Il(_,d)}catch(I){S=!0,_=I}if("throw"===g)throw y;if(S)throw _;return Pg(_),y},Ag=Yt,Zh=Qh,Jh=ur,Cu=ut("iterator"),p=Array.prototype,k=function(d){return void 0!==d&&(Jh.Array===d||p[Cu]===d)},i=dn,l=$t,h=$i,b=function(d,g,y){var _=i(g);_ in d?l.f(d,_,h(0,y)):d[_]=y},z=An,K=lo,te=ur,fe=ut("iterator"),ve=function(d){if(null!=d)return K(d,fe)||K(d,"@@iterator")||te[z(d)]},Pe=ai,Je=un,He=Yt,wt=ao,at=ve,Qe=ie.TypeError,Tt=function(d,g){var y=arguments.length<2?at(d):g;if(Je(y))return He(Pe(y,d));throw Qe(wt(d)+" is not iterable")},Bt=wn,Nt=ai,xi=Rt,qi=function(d,g,y,_){try{return _?g(Ag(y)[0],y[1]):g(y)}catch(S){Zh(d,"throw",S)}},zn=k,Dl=Tn,Dt=mi,vn=b,ps=Tt,Fw=ve,Lg=ie.Array,Xh=ut("iterator"),zg=!1;try{var Bg=0,ep={next:function(){return{done:!!Bg++}},return:function(){zg=!0}};ep[Xh]=function(){return this},Array.from(ep,function(){throw 2})}catch{}xe({target:"Array",stat:!0,forced:!function(d,g){if(!zg)return!1;var y=!1;try{var _={};_[Xh]=function(){return{next:function(){return{done:y=!0}}}},function(d){Array.from(d)}(_)}catch{}return y}()},{from:function(d){var g=xi(d),y=Dl(this),_=arguments.length,S=_>1?arguments[1]:void 0,I=void 0!==S;I&&(S=Bt(S,_>2?arguments[2]:void 0));var M,A,$,j,J,Z,pe=Fw(g),Ce=0;if(!pe||this==Lg&&zn(pe))for(M=Dt(g),A=y?new this(M):Lg(M);M>Ce;Ce++)Z=I?S(g[Ce],Ce):g[Ce],vn(A,Ce,Z);else for(J=(j=ps(g,pe)).next,A=y?new this:[];!($=Nt(J,j)).done;Ce++)Z=I?qi(j,S,[$.value,Ce],!0):$.value,vn(A,Ce,Z);return A.length=Ce,A}});var Fb=$e.Array.from,ip=Fb,Rb=Xt,$g=ur,hr=Sl,fs="Array Iterator",pr=lr.set,Ng=lr.getterFor(fs);hr(Array,"Array",function(d,g){pr(this,{type:fs,target:Rb(d),index:0,kind:g})},function(){var d=Ng(this),g=d.target,y=d.kind,_=d.index++;return!g||_>=g.length?(d.target=void 0,{value:void 0,done:!0}):"keys"==y?{value:_,done:!1}:"values"==y?{value:g[_],done:!1}:{value:[_,g[_]],done:!1}},"values"),$g.Arguments=$g.Array;var jg=ve,Pb=ie,Ml=An,da=xn,np=ur,fi=ut("toStringTag");for(var Hg in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Ab=Pb[Hg],Vg=Ab&&Ab.prototype;Vg&&Ml(Vg)!==fi&&da(Vg,fi,Hg),np[Hg]=np.Array}var Fl=jg,ha={},rp=Lh,ku=fl.concat("length","prototype");ha.f=Object.getOwnPropertyNames||function(d){return rp(d,ku)};var fr={},op=$r,Lb=mi,Kg=b,Su=ie.Array,zb=Math.max,Bb=function(d,g,y){for(var _=Lb(d),S=op(g,_),I=op(void 0===y?_:y,_),M=Su(zb(I-S,0)),A=0;S<I;S++,A++)Kg(M,A,d[S]);return M.length=A,M},$b=di,sp=Xt,Wg=ha.f,Nb=Bb,jb="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];fr.f=function(d){return jb&&"Window"==$b(d)?function(g){try{return Wg(g)}catch{return Nb(jb)}}(d):Wg(sp(d))};var Eu={};Eu.f=Object.getOwnPropertySymbols;var ap={};ap.f=ut;var Rl=$e,Hb=_t,Vb=ap,Kb=$t.f,vi=function(d){var g=Rl.Symbol||(Rl.Symbol={});Hb(g,d)||Kb(g,d,{value:Vb.f(d)})},Pl=xe,Ug=ie,Wb=bi,Ou=sn,Ii=ai,Iu=me,pa=rt,fa=es,va=ke,Et=_t,Nr=Pr,jr=Ae,Yg=Xe,qg=ot,Ro=Hs,lp=Yt,vs=Rt,Al=Xt,Qg=dn,cp=Co,vr=$i,Po=us,up=vl,dp=ha,Gb=fr,Ll=Eu,hp=Lt,pp=$t,fp=su,vp=ln,Ub=Ei,gp=xl,zl=co.exports,Du=as,Yb=ho,qb=ut,gs=ap,ga=vi,Pw=cr,Zg=lr,mp=wo.forEach,Qi=sr("hidden"),Mu="Symbol",Fu=qb("toPrimitive"),Qb=Zg.set,Zb=Zg.getterFor(Mu),Bn=Object.prototype,Hi=Ug.Symbol,ma=Hi&&Hi.prototype,Jb=Ug.TypeError,Jg=Ug.QObject,ya=Wb("JSON","stringify"),Xb=hp.f,Ao=pp.f,e_=Gb.f,Aw=vp.f,t_=Iu([].push),Lo=zl("symbols"),$n=zl("op-symbols"),yp=zl("string-to-symbol-registry"),bp=zl("symbol-to-string-registry"),Lw=zl("wks"),_p=!Jg||!Jg.prototype||!Jg.prototype.findChild,Ru=pa&&va(function(){return 7!=Po(Ao({},"a",{get:function(){return Ao(this,"a",{value:7}).a}})).a})?function(d,g,y){var _=Xb(Bn,g);_&&delete Bn[g],Ao(d,g,y),_&&d!==Bn&&Ao(Bn,g,_)}:Ao,Xg=function(d,g){var y=Lo[d]=Po(ma);return Qb(y,{type:Mu,tag:d,description:g}),pa||(y.description=g),y},ba=function(d,g,y){d===Bn&&ba($n,g,y),lp(d);var _=Qg(g);return lp(y),Et(Lo,_)?(y.enumerable?(Et(d,Qi)&&d[Qi][_]&&(d[Qi][_]=!1),y=Po(y,{enumerable:vr(0,!1)})):(Et(d,Qi)||Ao(d,Qi,vr(1,{})),d[Qi][_]=!0),Ru(d,_,y)):Ao(d,_,y)},Pu=function(d,g){lp(d);var y=Al(g),_=up(y).concat(xp(y));return mp(_,function(S){pa&&!Ii(em,y,S)||ba(d,S,y[S])}),d},em=function(d){var g=Qg(d),y=Ii(Aw,this,g);return!(this===Bn&&Et(Lo,g)&&!Et($n,g))&&(!(y||!Et(this,g)||!Et(Lo,g)||Et(this,Qi)&&this[Qi][g])||y)},i_=function(d,g){var y=Al(d),_=Qg(g);if(y!==Bn||!Et(Lo,_)||Et($n,_)){var S=Xb(y,_);return!S||!Et(Lo,_)||Et(y,Qi)&&y[Qi][_]||(S.enumerable=!0),S}},wp=function(d){var g=e_(Al(d)),y=[];return mp(g,function(_){Et(Lo,_)||Et(Du,_)||t_(y,_)}),y},xp=function(d){var g=d===Bn,y=e_(g?$n:Al(d)),_=[];return mp(y,function(S){!Et(Lo,S)||g&&!Et(Bn,S)||t_(_,Lo[S])}),_};if(fa||(Hi=function(){if(qg(ma,this))throw Jb("Symbol is not a constructor");var d=arguments.length&&void 0!==arguments[0]?cp(arguments[0]):void 0,g=Yb(d),y=function(_){this===Bn&&Ii(y,$n,_),Et(this,Qi)&&Et(this[Qi],g)&&(this[Qi][g]=!1),Ru(this,g,vr(1,_))};return pa&&_p&&Ru(Bn,g,{configurable:!0,set:y}),Xg(g,d)},gp(ma=Hi.prototype,"toString",function(){return Zb(this).tag}),gp(Hi,"withoutSetter",function(d){return Xg(Yb(d),d)}),vp.f=em,pp.f=ba,fp.f=Pu,hp.f=i_,dp.f=Gb.f=wp,Ll.f=xp,gs.f=function(d){return Xg(qb(d),d)},pa&&Ao(ma,"description",{configurable:!0,get:function(){return Zb(this).description}})),Pl({global:!0,wrap:!0,forced:!fa,sham:!fa},{Symbol:Hi}),mp(up(Lw),function(d){ga(d)}),Pl({target:Mu,stat:!0,forced:!fa},{for:function(d){var g=cp(d);if(Et(yp,g))return yp[g];var y=Hi(g);return yp[g]=y,bp[y]=g,y},keyFor:function(d){if(!Ro(d))throw Jb(d+" is not a symbol");if(Et(bp,d))return bp[d]},useSetter:function(){_p=!0},useSimple:function(){_p=!1}}),Pl({target:"Object",stat:!0,forced:!fa,sham:!pa},{create:function(d,g){return void 0===g?Po(d):Pu(Po(d),g)},defineProperty:ba,defineProperties:Pu,getOwnPropertyDescriptor:i_}),Pl({target:"Object",stat:!0,forced:!fa},{getOwnPropertyNames:wp,getOwnPropertySymbols:xp}),Pl({target:"Object",stat:!0,forced:va(function(){Ll.f(1)})},{getOwnPropertySymbols:function(d){return Ll.f(vs(d))}}),ya&&Pl({target:"JSON",stat:!0,forced:!fa||va(function(){var d=Hi();return"[null]"!=ya([d])||"{}"!=ya({a:d})||"{}"!=ya(Object(d))})},{stringify:function(d,g,y){var _=Ub(arguments),S=g;if((Yg(g)||void 0!==d)&&!Ro(d))return Nr(g)||(g=function(I,M){if(jr(S)&&(M=Ii(S,this,I,M)),!Ro(M))return M}),_[1]=g,Ou(ya,null,_)}}),!ma[Fu]){var n_=ma.valueOf;gp(ma,Fu,function(d){return Ii(n_,this)})}Pw(Hi,Mu),Du[Qi]=!0;var Au=$e.Object.getOwnPropertySymbols,Te={exports:{}},Cp=xe,Se=Xt,Bl=Lt.f,$l=rt,o_=ke(function(){Bl(1)});Cp({target:"Object",stat:!0,forced:!$l||o_,sham:!$l},{getOwnPropertyDescriptor:function(d,g){return Bl(Se(d),g)}});var tm=$e.Object,s_=Te.exports=function(d,g){return tm.getOwnPropertyDescriptor(d,g)};tm.getOwnPropertyDescriptor.sham&&(s_.sham=!0);var a_=Te.exports,Nl=bi,Bw=ha,$w=Eu,Nw=Yt,jw=me([].concat),l_=Nl("Reflect","ownKeys")||function(d){var g=Bw.f(Nw(d)),y=$w.f;return y?jw(g,y(d)):g},Hw=l_,Vw=Xt,c_=Lt,Kw=b;xe({target:"Object",stat:!0,sham:!rt},{getOwnPropertyDescriptors:function(d){for(var g,y,_=Vw(d),S=c_.f,I=Hw(_),M={},A=0;I.length>A;)void 0!==(y=S(_,g=I[A++]))&&Kw(M,g,y);return M}});var im=$e.Object.getOwnPropertyDescriptors,u_={exports:{}},kp=su.f;xe({target:"Object",stat:!0,forced:Object.defineProperties!==kp,sham:!rt},{defineProperties:kp});var Lu=$e.Object,Ww=u_.exports=function(d,g){return Lu.defineProperties(d,g)};Lu.defineProperties.sham&&(Ww.sham=!0);var Gw=u_.exports,d_=th;xe({target:"Array",stat:!0},{isArray:Pr});var rm=$e.Array.isArray,h_=rm,jl=xe,Hl=ie,zu=ke,p_=Pr,Uw=Xe,Yw=Rt,Sp=mi,f_=b,v_=ia,qw=rs,Qw=Rn,g_=ut("isConcatSpreadable"),m_=9007199254740991,om="Maximum allowed index exceeded",Ep=Hl.TypeError,Zw=Qw>=51||!zu(function(){var d=[];return d[g_]=!1,d.concat()[0]!==d}),y_=qw("concat"),Jw=function(d){if(!Uw(d))return!1;var g=d[g_];return void 0!==g?!!g:p_(d)};jl({target:"Array",proto:!0,forced:!Zw||!y_},{concat:function(d){var g,y,_,S,I,M=Yw(this),A=v_(M,0),$=0;for(g=-1,_=arguments.length;g<_;g++)if(Jw(I=-1===g?M:arguments[g])){if($+(S=Sp(I))>m_)throw Ep(om);for(y=0;y<S;y++,$++)y in I&&f_(A,$,I[y])}else{if($>=m_)throw Ep(om);f_(A,$++,I)}return A.length=$,A}}),vi("asyncIterator"),vi("hasInstance"),vi("isConcatSpreadable"),vi("iterator"),vi("match"),vi("matchAll"),vi("replace"),vi("search"),vi("species"),vi("split"),vi("toPrimitive"),vi("toStringTag"),vi("unscopables"),cr(ie.JSON,"JSON",!0);var sm=$e.Symbol,am=sm;vi("asyncDispose"),vi("dispose"),vi("matcher"),vi("metadata"),vi("observable"),vi("patternMatch"),vi("replaceAll");var zo=am,Bu=xe,Xw=ie,Op=Pr,lm=Tn,b_=Xe,ii=$r,gi=mi,Ot=Xt,Nn=b,Bo=ut,e1=Ei,$u=rs("slice"),t1=Bo("species"),Hr=Xw.Array,_a=Math.max;Bu({target:"Array",proto:!0,forced:!$u},{slice:function(d,g){var y,_,S,I=Ot(this),M=gi(I),A=ii(d,M),$=ii(void 0===g?M:g,M);if(Op(I)&&((lm(y=I.constructor)&&(y===Hr||Op(y.prototype))||b_(y)&&null===(y=y[t1]))&&(y=void 0),y===Hr||void 0===y))return e1(I,A,$);for(_=new(void 0===y?Hr:y)(_a($-A,0)),S=0;A<$;A++,S++)A in I&&Nn(_,S,I[A]);return _.length=S,_}});var Nu=li("Array").slice,gt=ot,Pt=Nu,cm=Array.prototype,__=function(d){var g=d.slice;return d===cm||gt(cm,d)&&g===cm.slice?Pt:g},n1=__,Ip=Fb;function wa(d,g){(null==g||g>d.length)&&(g=d.length);for(var y=0,_=new Array(g);y<g;y++)_[y]=d[y];return _}function w_(d,g){var y;if(d){if("string"==typeof d)return wa(d,g);var _=n1(y=Object.prototype.toString.call(d)).call(y,8,-1);return"Object"===_&&d.constructor&&(_=d.constructor.name),"Map"===_||"Set"===_?Ip(d):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?wa(d,g):void 0}}function ci(d,g){return function(y){if(h_(y))return y}(d)||function(y,_){var S=null==y?null:void 0!==zo&&Fl(y)||y["@@iterator"];if(null!=S){var I,M,A=[],$=!0,j=!1;try{for(S=S.call(y);!($=(I=S.next()).done)&&(A.push(I.value),!_||A.length!==_);$=!0);}catch(J){j=!0,M=J}finally{try{$||null==S.return||S.return()}finally{if(j)throw M}}return A}}(d,g)||w_(d,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dp=ap.f("iterator"),um=Dp;function mt(d){return(mt="function"==typeof zo&&"symbol"==typeof um?function(g){return typeof g}:function(g){return g&&"function"==typeof zo&&g.constructor===zo&&g!==zo.prototype?"symbol":typeof g})(d)}function Ci(d){return function(g){if(h_(g))return wa(g)}(d)||function(g){if(void 0!==zo&&null!=Fl(g)||null!=g["@@iterator"])return Ip(g)}(d)||w_(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vl=sm,x_=li("Array").concat,C_=ot,Kl=x_,Mp=Array.prototype,Vr=function(d){var g=d.concat;return d===Mp||C_(Mp,d)&&g===Mp.concat?Kl:g},ju=__;xe({target:"Reflect",stat:!0},{ownKeys:l_});var Fp=$e.Reflect.ownKeys,Zi=rm,dm=Rt,Wl=vl;xe({target:"Object",stat:!0,forced:ke(function(){Wl(1)})},{keys:function(d){return Wl(dm(d))}});var hm=$e.Object.keys,T_=xe,pm=ie.Date,jt=me(pm.prototype.getTime);T_({target:"Date",stat:!0},{now:function(){return jt(new pm)}});var r1=wo.forEach,k_=is("forEach")?[].forEach:function(d){return r1(this,d,arguments.length>1?arguments[1]:void 0)};xe({target:"Array",proto:!0,forced:[].forEach!=k_},{forEach:k_});var S_=li("Array").forEach,Hu=An,gn=_t,Pp=ot,Vu=S_,Gl=Array.prototype,o1={DOMTokenList:!0,NodeList:!0},Ji=function(d){var g=d.forEach;return d===Gl||Pp(Gl,d)&&g===Gl.forEach||gn(o1,Hu(d))?Vu:g},gr=xe,$o=Pr,ms=me([].reverse),fm=[1,2];gr({target:"Array",proto:!0,forced:String(fm)===String(fm.reverse())},{reverse:function(){return $o(this)&&(this.length=this.length),ms(this)}});var vm=li("Array").reverse,Ku=ot,E_=vm,Kr=Array.prototype,s1=xe,I_=ie,No=$r,Wu=Ja,gm=mi,mm=Rt,a1=ia,ym=b,Gu=rs("splice"),bm=I_.TypeError,jn=Math.max,_m=Math.min,l1=9007199254740991,D_="Maximum allowed length exceeded";s1({target:"Array",proto:!0,forced:!Gu},{splice:function(d,g){var y,_,S,I,M,A,$=mm(this),j=gm($),J=No(d,j),Z=arguments.length;if(0===Z?y=_=0:1===Z?(y=0,_=j-J):(y=Z-2,_=_m(jn(Wu(g),0),j-J)),j+y-_>l1)throw bm(D_);for(S=a1($,_),I=0;I<_;I++)(M=J+I)in $&&ym(S,I,$[M]);if(S.length=_,y<_){for(I=J;I<j-_;I++)A=I+y,(M=I+_)in $?$[A]=$[M]:delete $[A];for(I=j;I>j-_+y;I--)delete $[I-1]}else if(y>_)for(I=j-_;I>J;I--)A=I+y-1,(M=I+_-1)in $?$[A]=$[M]:delete $[A];for(I=0;I<y;I++)$[I+J]=arguments[I+2];return $.length=j-_+y,S}});var M_=li("Array").splice,F_=ot,wm=M_,xm=Array.prototype,R_=function(d){var g=d.splice;return d===xm||F_(xm,d)&&g===xm.splice?wm:g},P_=rt,u1=ai,A_=ke,Ap=vl,L_=Eu,d1=ln,z_=Rt,h1=oo,xa=Object.assign,Uu=Object.defineProperty,Cm=me([].concat),p1=!xa||A_(function(){if(P_&&1!==xa({b:1},xa(Uu({},"a",{enumerable:!0,get:function(){Uu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var d={},g={},y=Symbol(),_="abcdefghijklmnopqrst";return d[y]=7,_.split("").forEach(function(S){g[S]=S}),7!=xa({},d)[y]||Ap(xa({},g)).join("")!=_})?function(d,g){for(var y=z_(d),_=arguments.length,S=1,I=L_.f,M=d1.f;_>S;)for(var A,$=h1(arguments[S++]),j=I?Cm(Ap($),I($)):Ap($),J=j.length,Z=0;J>Z;)A=j[Z++],P_&&!u1(M,$,A)||(y[A]=$[A]);return y}:xa;xe({target:"Object",stat:!0,forced:Object.assign!==p1},{assign:p1});var Tm=$e.Object.assign,B_=lu.includes;xe({target:"Array",proto:!0},{includes:function(d){return B_(this,d,arguments.length>1?arguments[1]:void 0)}}),li("Array");var f1=Xe,$_=di,km=ut("match"),g1=ie.TypeError,m1=ut("match"),y1=xe,Sm=function(d){if(function(d){var g;return f1(d)&&(void 0!==(g=d[km])?!!g:"RegExp"==$_(d))}(d))throw g1("The method doesn't accept regular expressions");return d},b1=Jn,Vi=Co,N_=me("".indexOf);y1({target:"String",proto:!0,forced:!function(d){var g=/./;try{"/./"[d](g)}catch{try{return g[m1]=!1,"/./"[d](g)}catch{}}return!1}("includes")},{includes:function(d){return!!~N_(Vi(b1(this)),Vi(Sm(d)),arguments.length>1?arguments[1]:void 0)}}),li("String");var w1=Rt,j_=wl,x1=du;xe({target:"Object",stat:!0,forced:ke(function(){j_(1)}),sham:!x1},{getPrototypeOf:function(d){return j_(w1(d))}});var C1=$e.Object.getPrototypeOf,H_=rt,V_=me,K_=vl,T1=Xt,W_=V_(ln.f),Em=V_([].push),Yu=function(d){return function(g){for(var y,_=T1(g),S=K_(_),I=S.length,M=0,A=[];I>M;)y=S[M++],H_&&!W_(_,y)||Em(A,d?[y,_[y]]:_[y]);return A}},k1=(Yu(!0),Yu(!1));xe({target:"Object",stat:!0},{values:function(d){return k1(d)}});var Om="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Im=Jn,Lp=Co,Dm=me("".replace),zp="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",S1=RegExp("^"+zp+zp+"*"),E1=RegExp(zp+zp+"*$"),Bp=function(d){return function(g){var y=Lp(Im(g));return 1&d&&(y=Dm(y,S1,"")),2&d&&(y=Dm(y,E1,"")),y}},Mm={start:Bp(1),end:Bp(2),trim:Bp(3)},G_=ke,Y_=Co,q_=Mm.trim,Fm=Om,Xi=ie.parseInt,Q_=ie.Symbol,Z_=Q_&&Q_.iterator,Rm=/^[+-]?0x/i,Pm=me(Rm.exec),Am=8!==Xi(Fm+"08")||22!==Xi(Fm+"0x16")||Z_&&!G_(function(){Xi(Object(Z_))})?function(d,g){var y=q_(Y_(d));return Xi(y,g>>>0||(Pm(Rm,y)?16:10))}:Xi;xe({global:!0,forced:parseInt!=Am},{parseInt:Am});var O1=xe,I1=lu.indexOf,D1=is,Lm=me([].indexOf),$p=!!Lm&&1/Lm([1],1,-0)<0,M1=D1("indexOf");O1({target:"Array",proto:!0,forced:$p||!M1},{indexOf:function(d){var g=arguments.length>1?arguments[1]:void 0;return $p?Lm(this,d,g)||0:I1(this,d,g)}}),li("Array");var d,kt=cg.PROPER,J_=Om,X_=Mm.trim;xe({target:"String",proto:!0,forced:(d="trim",ke(function(){return!!J_[d]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[d]()||kt&&J_[d].name!==d}))},{trim:function(){return X_(this)}}),li("String"),xe({target:"Object",stat:!0,sham:!rt},{create:us});var R1=$e.Object,zm=function(d,g){return R1.create(d,g)},Bm=zm,ys=xe,P1=sn,qu=me,Qu=ke,A1=ie.Array,Np=bi("JSON","stringify"),Ca=qu(/./.exec),Zu=qu("".charAt),t0=qu("".charCodeAt),L1=qu("".replace),z1=qu(1..toString),B1=/[\uD800-\uDFFF]/g,n0=/^[\uD800-\uDBFF]$/,$m=/^[\uDC00-\uDFFF]$/,r0=function(d,g,y){var _=Zu(y,g-1),S=Zu(y,g+1);return Ca(n0,d)&&!Ca($m,S)||Ca($m,d)&&!Ca(n0,_)?"\\u"+z1(t0(d,0),16):d},$1=Qu(function(){return'"\\udf06\\ud834"'!==Np("\udf06\ud834")||'"\\udead"'!==Np("\udead")});Np&&ys({target:"JSON",stat:!0,forced:$1},{stringify:function(d,g,y){for(var _=0,S=arguments.length,I=A1(S);_<S;_++)I[_]=arguments[_];var M=P1(Np,null,I);return"string"==typeof M?L1(M,B1,r0):M}});var Nm=$e,jm=sn;Nm.JSON||(Nm.JSON={stringify:JSON.stringify});var j1=function(d,g,y){return jm(Nm.JSON.stringify,null,arguments)},Ju=ie.TypeError,H1=xe,Hm=ie,jp=sn,V1=Ae,K1=Ei,W1=function(d,g){if(d<g)throw Ju("Not enough arguments");return d},G1=/MSIE .\./.test(_i),U1=Hm.Function,o0=function(d){return function(g,y){var _=W1(arguments.length,1)>2,S=V1(g)?g:U1(g),I=_?K1(arguments,2):void 0;return d(_?function(){jp(S,this,I)}:S,y)}};H1({global:!0,bind:!0,forced:G1},{setTimeout:o0(Hm.setTimeout),setInterval:o0(Hm.setInterval)});var s0=$e.setTimeout,Wr=Rt,a0=$r,l0=mi;xe({target:"Array",proto:!0},{fill:function(d){for(var g=Wr(this),y=l0(g),_=arguments.length,S=a0(_>1?arguments[1]:void 0,y),I=_>2?arguments[2]:void 0,M=void 0===I?y:a0(I,y);M>S;)g[S++]=d;return g}}),li("Array");var Ta={exports:{}};!function(d){function g(y){if(y)return function(_){for(var S in g.prototype)_[S]=g.prototype[S];return _}(y)}d.exports=g,g.prototype.on=g.prototype.addEventListener=function(y,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+y]=this._callbacks["$"+y]||[]).push(_),this},g.prototype.once=function(y,_){function S(){this.off(y,S),_.apply(this,arguments)}return S.fn=_,this.on(y,S),this},g.prototype.off=g.prototype.removeListener=g.prototype.removeAllListeners=g.prototype.removeEventListener=function(y,_){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var S,I=this._callbacks["$"+y];if(!I)return this;if(1==arguments.length)return delete this._callbacks["$"+y],this;for(var M=0;M<I.length;M++)if((S=I[M])===_||S.fn===_){I.splice(M,1);break}return 0===I.length&&delete this._callbacks["$"+y],this},g.prototype.emit=function(y){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),S=this._callbacks["$"+y],I=1;I<arguments.length;I++)_[I-1]=arguments[I];if(S){I=0;for(var M=(S=S.slice(0)).length;I<M;++I)S[I].apply(this,_)}return this},g.prototype.listeners=function(y){return this._callbacks=this._callbacks||{},this._callbacks["$"+y]||[]},g.prototype.hasListeners=function(y){return!!this.listeners(y).length}}(Ta);var Vm,q1=Ta.exports;function yr(){return yr=Object.assign||function(d){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(d[_]=y[_])}return d},yr.apply(this,arguments)}function Sn(d,g){d.prototype=Object.create(g.prototype),d.prototype.constructor=d,d.__proto__=g}function Yl(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}Vm="function"!=typeof Object.assign?function(d){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),y=1;y<arguments.length;y++){var _=arguments[y];if(null!=_)for(var S in _)_.hasOwnProperty(S)&&(g[S]=_[S])}return g}:Object.assign;var bs,Hn=Vm,Vn=["","webkit","Moz","MS","ms","o"],Kn=typeof document>"u"?{style:{}}:document.createElement("div"),jo=Math.round,mn=Math.abs,Ho=Date.now;function Xu(d,g){for(var y,_,S=g[0].toUpperCase()+g.slice(1),I=0;I<Vn.length;){if((_=(y=Vn[I])?y+S:g)in d)return _;I++}}bs=typeof window>"u"?{}:window;var c0=Xu(Kn.style,"touchAction"),ka=void 0!==c0,Gr="compute",ql="manipulation",Sa="none",ed="pan-x",td="pan-y",Ea=function(){if(!ka)return!1;var d={},g=bs.CSS&&bs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(y){return d[y]=!g||bs.CSS.supports("touch-action",y)}),d}(),Vp="ontouchstart"in bs,Ql=void 0!==Xu(bs,"PointerEvent"),id=Vp&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),_s="touch",Zl="mouse",u0=["x","y"],ws=["clientX","clientY"];function br(d,g,y){var _;if(d)if(d.forEach)d.forEach(g,y);else if(void 0!==d.length)for(_=0;_<d.length;)g.call(y,d[_],_,d),_++;else for(_ in d)d.hasOwnProperty(_)&&g.call(y,d[_],_,d)}function xs(d,g){return"function"==typeof d?d.apply(g&&g[0]||void 0,g):d}function Ur(d,g){return d.indexOf(g)>-1}var Wp=function(){function d(y,_){this.manager=y,this.set(_)}var g=d.prototype;return g.set=function(y){y===Gr&&(y=this.compute()),ka&&this.manager.element.style&&Ea[y]&&(this.manager.element.style[c0]=y),this.actions=y.toLowerCase().trim()},g.update=function(){this.set(this.manager.options.touchAction)},g.compute=function(){var y=[];return br(this.manager.recognizers,function(_){xs(_.options.enable,[_])&&(y=y.concat(_.getTouchAction()))}),function(_){if(Ur(_,Sa))return Sa;var S=Ur(_,ed),I=Ur(_,td);return S&&I?Sa:S||I?S?ed:td:Ur(_,ql)?ql:"auto"}(y.join(" "))},g.preventDefaults=function(y){var _=y.srcEvent,S=y.offsetDirection;if(this.manager.session.prevented)_.preventDefault();else{var I=this.actions,M=Ur(I,Sa)&&!Ea.none,A=Ur(I,td)&&!Ea["pan-y"],$=Ur(I,ed)&&!Ea["pan-x"];if(M&&1===y.pointers.length&&y.distance<2&&y.deltaTime<250)return;if(!$||!A)return M||A&&6&S||$&&24&S?this.preventSrc(_):void 0}},g.preventSrc=function(y){this.manager.session.prevented=!0,y.preventDefault()},d}();function Cs(d,g){for(;d;){if(d===g)return!0;d=d.parentNode}return!1}function _r(d){var g=d.length;if(1===g)return{x:jo(d[0].clientX),y:jo(d[0].clientY)};for(var y=0,_=0,S=0;S<g;)y+=d[S].clientX,_+=d[S].clientY,S++;return{x:jo(y/g),y:jo(_/g)}}function nd(d){for(var g=[],y=0;y<d.pointers.length;)g[y]={clientX:jo(d.pointers[y].clientX),clientY:jo(d.pointers[y].clientY)},y++;return{timeStamp:Ho(),pointers:g,center:_r(g),deltaX:d.deltaX,deltaY:d.deltaY}}function ni(d,g,y){y||(y=u0);var _=g[y[0]]-d[y[0]],S=g[y[1]]-d[y[1]];return Math.sqrt(_*_+S*S)}function Gp(d,g,y){return y||(y=u0),180*Math.atan2(g[y[1]]-d[y[1]],g[y[0]]-d[y[0]])/Math.PI}function Up(d,g){return d===g?1:mn(d)>=mn(g)?d<0?2:4:g<0?8:16}function Km(d,g,y){return{x:g/d||0,y:y/d||0}}function Yp(d,g,y){var _=y.pointers.length,S=y.changedPointers.length,I=1&g&&_-S==0,M=12&g&&_-S==0;y.isFirst=!!I,y.isFinal=!!M,I&&(d.session={}),y.eventType=g,function Wm(d,g){var y=d.session,_=g.pointers,S=_.length;y.firstInput||(y.firstInput=nd(g)),S>1&&!y.firstMultiple?y.firstMultiple=nd(g):1===S&&(y.firstMultiple=!1);var De,Be,Re,it,At,It,I=y.firstInput,M=y.firstMultiple,A=M?M.center:I.center,$=g.center=_r(_);g.timeStamp=Ho(),g.deltaTime=g.timeStamp-I.timeStamp,g.angle=Gp(A,$),g.distance=ni(A,$),Re=(Be=g).center,it=(De=y).offsetDelta||{},At=De.prevDelta||{},It=De.prevInput||{},1!==Be.eventType&&4!==It.eventType||(At=De.prevDelta={x:It.deltaX||0,y:It.deltaY||0},it=De.offsetDelta={x:Re.x,y:Re.y}),Be.deltaX=At.x+(Re.x-it.x),Be.deltaY=At.y+(Re.y-it.y),g.offsetDirection=Up(g.deltaX,g.deltaY);var j,J,Z=Km(g.deltaTime,g.deltaX,g.deltaY);g.overallVelocityX=Z.x,g.overallVelocityY=Z.y,g.overallVelocity=mn(Z.x)>mn(Z.y)?Z.x:Z.y,g.scale=M?(j=M.pointers,ni((J=_)[0],J[1],ws)/ni(j[0],j[1],ws)):1,g.rotation=M?function(De,Be){return Gp(Be[1],Be[0],ws)+Gp(De[1],De[0],ws)}(M.pointers,_):0,g.maxPointers=y.prevInput?g.pointers.length>y.prevInput.maxPointers?g.pointers.length:y.prevInput.maxPointers:g.pointers.length,function(De,Be){var Re,it,At,It,Vt=De.lastInterval||Be,On=Be.timeStamp-Vt.timeStamp;if(8!==Be.eventType&&(On>25||void 0===Vt.velocity)){var bn=Be.deltaX-Vt.deltaX,ri=Be.deltaY-Vt.deltaY,Fi=Km(On,bn,ri);it=Fi.x,At=Fi.y,Re=mn(Fi.x)>mn(Fi.y)?Fi.x:Fi.y,It=Up(bn,ri),De.lastInterval=Be}else Re=Vt.velocity,it=Vt.velocityX,At=Vt.velocityY,It=Vt.direction;Be.velocity=Re,Be.velocityX=it,Be.velocityY=At,Be.direction=It}(y,g);var pe,Ce=d.element,Me=g.srcEvent;Cs(pe=Me.composedPath?Me.composedPath()[0]:Me.path?Me.path[0]:Me.target,Ce)&&(Ce=pe),g.target=Ce}(d,y),d.emit("hammer.input",y),d.recognize(y),d.session.prevInput=y}function Oa(d){return d.trim().split(/\s+/g)}function Xl(d,g,y){br(Oa(g),function(_){d.addEventListener(_,y,!1)})}function ec(d,g,y){br(Oa(g),function(_){d.removeEventListener(_,y,!1)})}function d0(d){var g=d.ownerDocument||d;return g.defaultView||g.parentWindow||window}var Ti=function(){function d(y,_){var S=this;this.manager=y,this.callback=_,this.element=y.element,this.target=y.options.inputTarget,this.domHandler=function(I){xs(y.options.enable,[y])&&S.handler(I)},this.init()}var g=d.prototype;return g.handler=function(){},g.init=function(){this.evEl&&Xl(this.element,this.evEl,this.domHandler),this.evTarget&&Xl(this.target,this.evTarget,this.domHandler),this.evWin&&Xl(d0(this.element),this.evWin,this.domHandler)},g.destroy=function(){this.evEl&&ec(this.element,this.evEl,this.domHandler),this.evTarget&&ec(this.target,this.evTarget,this.domHandler),this.evWin&&ec(d0(this.element),this.evWin,this.domHandler)},d}();function wr(d,g,y){if(d.indexOf&&!y)return d.indexOf(g);for(var _=0;_<d.length;){if(y&&d[_][y]==g||!y&&d[_]===g)return _;_++}return-1}var rd={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},od={2:_s,3:"pen",4:Zl,5:"kinect"},Li="pointerdown",xr="pointermove pointerup pointercancel";bs.MSPointerEvent&&!bs.PointerEvent&&(Li="MSPointerDown",xr="MSPointerMove MSPointerUp MSPointerCancel");var Ts=function(d){function g(){var y,_=g.prototype;return _.evEl=Li,_.evWin=xr,(y=d.apply(this,arguments)||this).store=y.manager.session.pointerEvents=[],y}return Sn(g,d),g.prototype.handler=function(y){var _=this.store,S=!1,I=y.type.toLowerCase().replace("ms",""),M=rd[I],A=od[y.pointerType]||y.pointerType,$=A===_s,j=wr(_,y.pointerId,"pointerId");1&M&&(0===y.button||$)?j<0&&(_.push(y),j=_.length-1):12&M&&(S=!0),j<0||(_[j]=y,this.callback(this.manager,M,{pointers:_,changedPointers:[y],pointerType:A,srcEvent:y}),S&&_.splice(j,1))},g}(Ti);function sd(d){return Array.prototype.slice.call(d,0)}function Gm(d,g,y){for(var _=[],S=[],I=0;I<d.length;){var M=g?d[I][g]:d[I];wr(S,M)<0&&_.push(d[I]),S[I]=M,I++}return y&&(_=g?_.sort(function(A,$){return A[g]>$[g]}):_.sort()),_}var h0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},qp="touchstart touchmove touchend touchcancel",Qp=function(d){function g(){var y;return g.prototype.evTarget=qp,(y=d.apply(this,arguments)||this).targetIds={},y}return Sn(g,d),g.prototype.handler=function(y){var _=h0[y.type],S=ad.call(this,y,_);S&&this.callback(this.manager,_,{pointers:S[0],changedPointers:S[1],pointerType:_s,srcEvent:y})},g}(Ti);function ad(d,g){var y,_,S=sd(d.touches),I=this.targetIds;if(3&g&&1===S.length)return I[S[0].identifier]=!0,[S,S];var M=sd(d.changedTouches),A=[],$=this.target;if(_=S.filter(function(j){return Cs(j.target,$)}),1===g)for(y=0;y<_.length;)I[_[y].identifier]=!0,y++;for(y=0;y<M.length;)I[M[y].identifier]&&A.push(M[y]),12&g&&delete I[M[y].identifier],y++;return A.length?[Gm(_.concat(A),"identifier",!0),A]:void 0}var Um={mousedown:1,mousemove:2,mouseup:4},Zp="mousedown",ld="mousemove mouseup",cd=function(d){function g(){var y,_=g.prototype;return _.evEl=Zp,_.evWin=ld,(y=d.apply(this,arguments)||this).pressed=!1,y}return Sn(g,d),g.prototype.handler=function(y){var _=Um[y.type];1&_&&0===y.button&&(this.pressed=!0),2&_&&1!==y.which&&(_=4),this.pressed&&(4&_&&(this.pressed=!1),this.callback(this.manager,_,{pointers:[y],changedPointers:[y],pointerType:Zl,srcEvent:y}))},g}(Ti);function p0(d){var g=d.changedPointers[0];if(g.identifier===this.primaryTouch){var y={x:g.clientX,y:g.clientY},_=this.lastTouches;this.lastTouches.push(y),setTimeout(function(){var S=_.indexOf(y);S>-1&&_.splice(S,1)},2500)}}function Q1(d,g){1&d?(this.primaryTouch=g.changedPointers[0].identifier,p0.call(this,g)):12&d&&p0.call(this,g)}function Z1(d){for(var g=d.srcEvent.clientX,y=d.srcEvent.clientY,_=0;_<this.lastTouches.length;_++){var S=this.lastTouches[_],I=Math.abs(g-S.x),M=Math.abs(y-S.y);if(I<=25&&M<=25)return!0}return!1}var f0=function(d){function g(y,_){var S;return(S=d.call(this,y,_)||this).handler=function(I,M,A){var j=A.pointerType===Zl;if(!(j&&A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents)){if(A.pointerType===_s)Q1.call(Yl(Yl(S)),M,A);else if(j&&Z1.call(Yl(Yl(S)),A))return;S.callback(I,M,A)}},S.touch=new Qp(S.manager,S.handler),S.mouse=new cd(S.manager,S.handler),S.primaryTouch=null,S.lastTouches=[],S}return Sn(g,d),g.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},g}(Ti);function ks(d,g,y){return!!Array.isArray(d)&&(br(d,y[g],y),!0)}var en=1;function Jp(d,g){var y=g.manager;return y?y.get(d):d}function Ym(d){return 16&d?"cancel":8&d?"end":4&d?"move":2&d?"start":""}var Cr=function(){function d(y){void 0===y&&(y={}),this.options=yr({enable:!0},y),this.id=en++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var g=d.prototype;return g.set=function(y){return Hn(this.options,y),this.manager&&this.manager.touchAction.update(),this},g.recognizeWith=function(y){if(ks(y,"recognizeWith",this))return this;var _=this.simultaneous;return _[(y=Jp(y,this)).id]||(_[y.id]=y,y.recognizeWith(this)),this},g.dropRecognizeWith=function(y){return ks(y,"dropRecognizeWith",this)||(y=Jp(y,this),delete this.simultaneous[y.id]),this},g.requireFailure=function(y){if(ks(y,"requireFailure",this))return this;var _=this.requireFail;return-1===wr(_,y=Jp(y,this))&&(_.push(y),y.requireFailure(this)),this},g.dropRequireFailure=function(y){if(ks(y,"dropRequireFailure",this))return this;y=Jp(y,this);var _=wr(this.requireFail,y);return _>-1&&this.requireFail.splice(_,1),this},g.hasRequireFailures=function(){return this.requireFail.length>0},g.canRecognizeWith=function(y){return!!this.simultaneous[y.id]},g.emit=function(y){var _=this,S=this.state;function I(M){_.manager.emit(M,y)}S<8&&I(_.options.event+Ym(S)),I(_.options.event),y.additionalEvent&&I(y.additionalEvent),S>=8&&I(_.options.event+Ym(S))},g.tryEmit=function(y){if(this.canEmit())return this.emit(y);this.state=32},g.canEmit=function(){for(var y=0;y<this.requireFail.length;){if(!(33&this.requireFail[y].state))return!1;y++}return!0},g.recognize=function(y){var _=Hn({},y);if(!xs(this.options.enable,[this,_]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(_),30&this.state&&this.tryEmit(_)},g.process=function(y){},g.getTouchAction=function(){},g.reset=function(){},d}(),qr=function(d){function g(_){var S;return void 0===_&&(_={}),(S=d.call(this,yr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},_))||this).pTime=!1,S.pCenter=!1,S._timer=null,S._input=null,S.count=0,S}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){return[ql]},y.process=function(_){var S=this,I=this.options,M=_.pointers.length===I.pointers,A=_.distance<I.threshold,$=_.deltaTime<I.time;if(this.reset(),1&_.eventType&&0===this.count)return this.failTimeout();if(A&&$&&M){if(4!==_.eventType)return this.failTimeout();var j=!this.pTime||_.timeStamp-this.pTime<I.interval,J=!this.pCenter||ni(this.pCenter,_.center)<I.posThreshold;if(this.pTime=_.timeStamp,this.pCenter=_.center,J&&j?this.count+=1:this.count=1,this._input=_,this.count%I.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){S.state=8,S.tryEmit()},I.interval),2):8}return 32},y.failTimeout=function(){var _=this;return this._timer=setTimeout(function(){_.state=32},this.options.interval),32},y.reset=function(){clearTimeout(this._timer)},y.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},g}(Cr),tc=function(d){function g(_){return void 0===_&&(_={}),d.call(this,yr({pointers:1},_))||this}Sn(g,d);var y=g.prototype;return y.attrTest=function(_){var S=this.options.pointers;return 0===S||_.pointers.length===S},y.process=function(_){var S=this.state,I=_.eventType,M=6&S,A=this.attrTest(_);return M&&(8&I||!A)?16|S:M||A?4&I?8|S:2&S?4|S:2:32},g}(Cr);function ud(d){return 16===d?"down":8===d?"up":2===d?"left":4===d?"right":""}var Xp=function(d){function g(_){var S;return void 0===_&&(_={}),(S=d.call(this,yr({event:"pan",threshold:10,pointers:1,direction:30},_))||this).pX=null,S.pY=null,S}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){var _=this.options.direction,S=[];return 6&_&&S.push(td),24&_&&S.push(ed),S},y.directionTest=function(_){var S=this.options,I=!0,M=_.distance,A=_.direction,$=_.deltaX,j=_.deltaY;return A&S.direction||(6&S.direction?(A=0===$?1:$<0?2:4,I=$!==this.pX,M=Math.abs(_.deltaX)):(A=0===j?1:j<0?8:16,I=j!==this.pY,M=Math.abs(_.deltaY))),_.direction=A,I&&M>S.threshold&&A&S.direction},y.attrTest=function(_){return tc.prototype.attrTest.call(this,_)&&(2&this.state||!(2&this.state)&&this.directionTest(_))},y.emit=function(_){this.pX=_.deltaX,this.pY=_.deltaY;var S=ud(_.direction);S&&(_.additionalEvent=this.options.event+S),d.prototype.emit.call(this,_)},g}(tc),ic=function(d){function g(_){return void 0===_&&(_={}),d.call(this,yr({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},_))||this}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){return Xp.prototype.getTouchAction.call(this)},y.attrTest=function(_){var S,I=this.options.direction;return 30&I?S=_.overallVelocity:6&I?S=_.overallVelocityX:24&I&&(S=_.overallVelocityY),d.prototype.attrTest.call(this,_)&&I&_.offsetDirection&&_.distance>this.options.threshold&&_.maxPointers===this.options.pointers&&mn(S)>this.options.velocity&&4&_.eventType},y.emit=function(_){var S=ud(_.offsetDirection);S&&this.manager.emit(this.options.event+S,_),this.manager.emit(this.options.event,_)},g}(tc),ef=function(d){function g(_){return void 0===_&&(_={}),d.call(this,yr({event:"pinch",threshold:0,pointers:2},_))||this}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){return[Sa]},y.attrTest=function(_){return d.prototype.attrTest.call(this,_)&&(Math.abs(_.scale-1)>this.options.threshold||2&this.state)},y.emit=function(_){1!==_.scale&&(_.additionalEvent=this.options.event+(_.scale<1?"in":"out")),d.prototype.emit.call(this,_)},g}(tc),Vo=function(d){function g(_){return void 0===_&&(_={}),d.call(this,yr({event:"rotate",threshold:0,pointers:2},_))||this}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){return[Sa]},y.attrTest=function(_){return d.prototype.attrTest.call(this,_)&&(Math.abs(_.rotation)>this.options.threshold||2&this.state)},g}(tc),qm=function(d){function g(_){var S;return void 0===_&&(_={}),(S=d.call(this,yr({event:"press",pointers:1,time:251,threshold:9},_))||this)._timer=null,S._input=null,S}Sn(g,d);var y=g.prototype;return y.getTouchAction=function(){return["auto"]},y.process=function(_){var S=this,I=this.options,M=_.pointers.length===I.pointers,A=_.distance<I.threshold,$=_.deltaTime>I.time;if(this._input=_,!A||!M||12&_.eventType&&!$)this.reset();else if(1&_.eventType)this.reset(),this._timer=setTimeout(function(){S.state=8,S.tryEmit()},I.time);else if(4&_.eventType)return 8;return 32},y.reset=function(){clearTimeout(this._timer)},y.emit=function(_){8===this.state&&(_&&4&_.eventType?this.manager.emit(this.options.event+"up",_):(this._input.timeStamp=Ho(),this.manager.emit(this.options.event,this._input)))},g}(Cr),tf={domEvents:!1,touchAction:Gr,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Qm=[[Vo,{enable:!1}],[ef,{enable:!1},["rotate"]],[ic,{direction:6}],[Xp,{direction:6},["swipe"]],[qr],[qr,{event:"doubletap",taps:2},["tap"]],[qm]];function nf(d,g){var y,_=d.element;_.style&&(br(d.options.cssProps,function(S,I){y=Xu(_.style,I),g?(d.oldCssProps[y]=_.style[y],_.style[y]=S):_.style[y]=d.oldCssProps[y]||""}),g||(d.oldCssProps={}))}var Zm=function(){function d(y,_){var I=this;this.options=Hn({},tf,_||{}),this.options.inputTarget=this.options.inputTarget||y,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=y,this.input=new(this.options.inputClass||(Ql?Ts:id?Qp:Vp?f0:cd))(this,Yp),this.touchAction=new Wp(this,this.options.touchAction),nf(this,!0),br(this.options.recognizers,function(M){var A=I.add(new M[0](M[1]));M[2]&&A.recognizeWith(M[2]),M[3]&&A.requireFailure(M[3])},this)}var g=d.prototype;return g.set=function(y){return Hn(this.options,y),y.touchAction&&this.touchAction.update(),y.inputTarget&&(this.input.destroy(),this.input.target=y.inputTarget,this.input.init()),this},g.stop=function(y){this.session.stopped=y?2:1},g.recognize=function(y){var _=this.session;if(!_.stopped){var S;this.touchAction.preventDefaults(y);var I=this.recognizers,M=_.curRecognizer;(!M||M&&8&M.state)&&(_.curRecognizer=null,M=null);for(var A=0;A<I.length;)S=I[A],2===_.stopped||M&&S!==M&&!S.canRecognizeWith(M)?S.reset():S.recognize(y),!M&&14&S.state&&(_.curRecognizer=S,M=S),A++}},g.get=function(y){if(y instanceof Cr)return y;for(var _=this.recognizers,S=0;S<_.length;S++)if(_[S].options.event===y)return _[S];return null},g.add=function(y){if(ks(y,"add",this))return this;var _=this.get(y.options.event);return _&&this.remove(_),this.recognizers.push(y),y.manager=this,this.touchAction.update(),y},g.remove=function(y){if(ks(y,"remove",this))return this;var _=this.get(y);if(y){var S=this.recognizers,I=wr(S,_);-1!==I&&(S.splice(I,1),this.touchAction.update())}return this},g.on=function(y,_){if(void 0===y||void 0===_)return this;var S=this.handlers;return br(Oa(y),function(I){S[I]=S[I]||[],S[I].push(_)}),this},g.off=function(y,_){if(void 0===y)return this;var S=this.handlers;return br(Oa(y),function(I){_?S[I]&&S[I].splice(wr(S[I],_),1):delete S[I]}),this},g.emit=function(y,_){var M,A,$;this.options.domEvents&&(M=y,A=_,($=document.createEvent("Event")).initEvent(M,!0,!0),$.gesture=A,A.target.dispatchEvent($));var S=this.handlers[y]&&this.handlers[y].slice();if(S&&S.length){_.type=y,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var I=0;I<S.length;)S[I](_),I++}},g.destroy=function(){this.element&&nf(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},d}(),v0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},g0="touchstart",m0="touchstart touchmove touchend touchcancel",y0=function(d){function g(){var y,_=g.prototype;return _.evTarget=g0,_.evWin=m0,(y=d.apply(this,arguments)||this).started=!1,y}return Sn(g,d),g.prototype.handler=function(y){var _=v0[y.type];if(1===_&&(this.started=!0),this.started){var S=b0.call(this,y,_);12&_&&S[0].length-S[1].length==0&&(this.started=!1),this.callback(this.manager,_,{pointers:S[0],changedPointers:S[1],pointerType:_s,srcEvent:y})}},g}(Ti);function b0(d,g){var y=sd(d.touches),_=sd(d.changedTouches);return 12&g&&(y=Gm(y.concat(_),"identifier",!0)),[y,_]}function _0(d,g,y){var _="DEPRECATED METHOD: "+g+"\n"+y+" AT \n";return function(){var S=new Error("get-stack-trace"),I=S&&S.stack?S.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",M=window.console&&(window.console.warn||window.console.log);return M&&M.call(window.console,_,I),d.apply(this,arguments)}}var Jm=_0(function(d,g,y){for(var _=Object.keys(g),S=0;S<_.length;)(!y||y&&void 0===d[_[S]])&&(d[_[S]]=g[_[S]]),S++;return d},"extend","Use `assign`."),J1=_0(function(d,g){return Jm(d,g,!0)},"merge","Use `assign`.");function X1(d,g,y){var _,S=g.prototype;(_=d.prototype=Object.create(S)).constructor=d,_._super=S,y&&Hn(_,y)}function w0(d,g){return function(){return d.apply(g,arguments)}}var x0=function(){var d=function(g,y){return void 0===y&&(y={}),new Zm(g,yr({recognizers:Qm.concat()},y))};return d.VERSION="2.0.17-rc",d.DIRECTION_ALL=30,d.DIRECTION_DOWN=16,d.DIRECTION_LEFT=2,d.DIRECTION_RIGHT=4,d.DIRECTION_UP=8,d.DIRECTION_HORIZONTAL=6,d.DIRECTION_VERTICAL=24,d.DIRECTION_NONE=1,d.DIRECTION_DOWN=16,d.INPUT_START=1,d.INPUT_MOVE=2,d.INPUT_END=4,d.INPUT_CANCEL=8,d.STATE_POSSIBLE=1,d.STATE_BEGAN=2,d.STATE_CHANGED=4,d.STATE_ENDED=8,d.STATE_RECOGNIZED=8,d.STATE_CANCELLED=16,d.STATE_FAILED=32,d.Manager=Zm,d.Input=Ti,d.TouchAction=Wp,d.TouchInput=Qp,d.MouseInput=cd,d.PointerEventInput=Ts,d.TouchMouseInput=f0,d.SingleTouchInput=y0,d.Recognizer=Cr,d.AttrRecognizer=tc,d.Tap=qr,d.Pan=Xp,d.Swipe=ic,d.Pinch=ef,d.Rotate=Vo,d.Press=qm,d.on=Xl,d.off=ec,d.each=br,d.merge=J1,d.extend=Jm,d.bindFn=w0,d.assign=Hn,d.inherit=X1,d.bindFn=w0,d.prefixed=Xu,d.toArray=sd,d.inArray=wr,d.uniqueArray=Gm,d.splitStr=Oa,d.boolOrFn=xs,d.hasParent=Cs,d.addEventListeners=Xl,d.removeEventListeners=ec,d.defaults=Hn({},tf,{preset:Qm}),d}();function Xm(d,g){var y=void 0!==Vl&&Fl(d)||d["@@iterator"];if(!y){if(Zi(d)||(y=function($,j){var J;if($){if("string"==typeof $)return C0($,j);var Z=ju(J=Object.prototype.toString.call($)).call(J,8,-1);if("Object"===Z&&$.constructor&&(Z=$.constructor.name),"Map"===Z||"Set"===Z)return ip($);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return C0($,j)}}(d))||g&&d&&"number"==typeof d.length){y&&(d=y);var _=0,S=function(){};return{s:S,n:function(){return _>=d.length?{done:!0}:{done:!1,value:d[_++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,M=!0,A=!1;return{s:function(){y=y.call(d)},n:function(){var $=y.next();return M=$.done,$},e:function($){A=!0,I=$},f:function(){try{M||null==y.return||y.return()}finally{if(A)throw I}}}}function C0(d,g){(null==g||g>d.length)&&(g=d.length);for(var y=0,_=new Array(g);y<g;y++)_[y]=d[y];return _}var ey=Vl("DELETE");function ty(){var d=nc.apply(void 0,arguments);return iy(d),d}function nc(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];if(g.length<2)return g[0];var _;if(g.length>2)return nc.apply(void 0,Vr(_=[ty(g[0],g[1])]).call(_,Ci(ju(g).call(g,2))));var S,I=g[0],M=g[1],A=Xm(Fp(M));try{for(A.s();!(S=A.n()).done;){var $=S.value;Object.prototype.propertyIsEnumerable.call(M,$)&&(M[$]===ey?delete I[$]:I[$]=null===I[$]||null===M[$]||"object"!==mt(I[$])||"object"!==mt(M[$])||Zi(I[$])||Zi(M[$])?T0(M[$]):nc(I[$],M[$]))}}catch(j){A.e(j)}finally{A.f()}return I}function T0(d){return Zi(d)?Pi(d).call(d,function(g){return T0(g)}):"object"===mt(d)&&null!==d?nc({},d):d}function iy(d){for(var g=0,y=hm(d);g<y.length;g++){var _=y[g];d[_]===ey?delete d[_]:"object"===mt(d[_])&&null!==d[_]&&iy(d[_])}}var Ko=typeof window<"u"?window.Hammer||x0:function(){return function(){var d=function(){};return{on:d,off:d,destroy:d,emit:d,get:function(){return{set:d}}}}()};function Wn(d){var g,y=this;this._cleanupQueue=[],this.active=!1,this._dom={container:d,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){y._dom.overlay.parentNode.removeChild(y._dom.overlay)});var _=Ko(this._dom.overlay);_.on("tap",_o(g=this._onTapOverlay).call(g,this)),this._cleanupQueue.push(function(){_.destroy()});var S=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ji(S).call(S,function(I){_.on(I,function(M){M.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(I){(function(M,A){for(;M;){if(M===A)return!0;M=M.parentNode}return!1})(I.target,d)||y.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",y._onClick)})),this._escListener=function(I){("key"in I?"Escape"===I.key:27===I.keyCode)&&y.deactivate()}}q1(Wn.prototype),Wn.current=null,Wn.prototype.destroy=function(){var d,g;this.deactivate();var y,_=Xm(function(d){var g=d.reverse;return d===Kr||Ku(Kr,d)&&g===Kr.reverse?E_:g}(d=R_(g=this._cleanupQueue).call(g,0)).call(d));try{for(_.s();!(y=_.n()).done;)(0,y.value)()}catch(S){_.e(S)}finally{_.f()}},Wn.prototype.activate=function(){Wn.current&&Wn.current.deactivate(),Wn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Wn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Wn.prototype._onTapOverlay=function(d){this.activate(),d.srcEvent.stopPropagation()};var ex=Tn,tx=ao,ny=ie.TypeError,Tr=xe,ry=sn,ix=Nc,k0=function(d){if(ex(d))return d;throw ny(tx(d)+" is not a constructor")},nx=Yt,kr=Xe,Ss=us,oy=ke,Wo=bi("Reflect","construct"),S0=Object.prototype,rc=[].push,dd=oy(function(){function d(){}return!(Wo(function(){},[],d)instanceof d)}),Ht=!oy(function(){Wo(function(){})}),hd=dd||Ht;Tr({target:"Reflect",stat:!0,forced:hd,sham:hd},{construct:function(d,g){k0(d),nx(g);var y=arguments.length<3?d:k0(arguments[2]);if(Ht&&!dd)return Wo(d,g,y);if(d==y){switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3])}var _=[null];return ry(rc,_,g),new(ry(ix,d,_))}var S=y.prototype,I=Ss(kr(S)?S:S0),M=ry(d,I,g);return kr(M)?M:I}});var Es=$e.Reflect.construct;function En(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}var vt=zm;xe({target:"Object",stat:!0},{setPrototypeOf:Og});var rf=$e.Object.setPrototypeOf;function yn(d,g){return(yn=rf||function(y,_){return y.__proto__=_,y})(d,g)}function sy(d,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");d.prototype=vt(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Pn(d,"prototype",{writable:!1}),g&&yn(d,g)}function of(d,g){if(g&&("object"===mt(g)||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return En(d)}var oc=C1;function Go(d){return(Go=rf?oc:function(g){return g.__proto__||oc(g)})(d)}var sf={exports:{}};!function(d){var g=function(y){var _,S=Object.prototype,I=S.hasOwnProperty,M="function"==typeof Symbol?Symbol:{},A=M.iterator||"@@iterator",$=M.asyncIterator||"@@asyncIterator",j=M.toStringTag||"@@toStringTag";function J(ce,ge,de){return Object.defineProperty(ce,ge,{value:de,enumerable:!0,configurable:!0,writable:!0}),ce[ge]}try{J({},"")}catch{J=function(ge,de,nt){return ge[de]=nt}}function Z(ce,ge,de,nt){var Ut,Un,Mt,zi,oi=Object.create((ge&&ge.prototype instanceof it?ge:it).prototype),Ct=new Tf(nt||[]);return oi._invoke=(Ut=ce,Un=de,Mt=Ct,zi=Ce,function(_n,Pa){if(zi===De)throw new Error("Generator is already running");if(zi===Be){if("throw"===_n)throw Pa;return xt()}for(Mt.method=_n,Mt.arg=Pa;;){var Ri=Mt.delegate;if(Ri){var Zr=Rs(Ri,Mt);if(Zr){if(Zr===Re)continue;return Zr}}if("next"===Mt.method)Mt.sent=Mt._sent=Mt.arg;else if("throw"===Mt.method){if(zi===Ce)throw zi=Be,Mt.arg;Mt.dispatchException(Mt.arg)}else"return"===Mt.method&&Mt.abrupt("return",Mt.arg);zi=De;var uc=pe(Ut,Un,Mt);if("normal"===uc.type){if(zi=Mt.done?Be:Me,uc.arg===Re)continue;return{value:uc.arg,done:Mt.done}}"throw"===uc.type&&(zi=Be,Mt.method="throw",Mt.arg=uc.arg)}}),oi}function pe(ce,ge,de){try{return{type:"normal",arg:ce.call(ge,de)}}catch(nt){return{type:"throw",arg:nt}}}y.wrap=Z;var Ce="suspendedStart",Me="suspendedYield",De="executing",Be="completed",Re={};function it(){}function At(){}function It(){}var Vt={};J(Vt,A,function(){return this});var On=Object.getPrototypeOf,bn=On&&On(On(kd([])));bn&&bn!==S&&I.call(bn,A)&&(Vt=bn);var ri=It.prototype=it.prototype=Object.create(Vt);function Fi(ce){["next","throw","return"].forEach(function(ge){J(ce,ge,function(de){return this._invoke(ge,de)})})}function Wi(ce,ge){function de(Le,oi,Ct,Ut){var Un=pe(ce[Le],ce,oi);if("throw"!==Un.type){var Mt=Un.arg,zi=Mt.value;return zi&&"object"==typeof zi&&I.call(zi,"__await")?ge.resolve(zi.__await).then(function(_n){de("next",_n,Ct,Ut)},function(_n){de("throw",_n,Ct,Ut)}):ge.resolve(zi).then(function(_n){Mt.value=_n,Ct(Mt)},function(_n){return de("throw",_n,Ct,Ut)})}Ut(Un.arg)}var nt;this._invoke=function(Le,oi){function Ct(){return new ge(function(Ut,Un){de(Le,oi,Ut,Un)})}return nt=nt?nt.then(Ct,Ct):Ct()}}function Rs(ce,ge){var de=ce.iterator[ge.method];if(de===_){if(ge.delegate=null,"throw"===ge.method){if(ce.iterator.return&&(ge.method="return",ge.arg=_,Rs(ce,ge),"throw"===ge.method))return Re;ge.method="throw",ge.arg=new TypeError("The iterator does not provide a 'throw' method")}return Re}var nt=pe(de,ce.iterator,ge.arg);if("throw"===nt.type)return ge.method="throw",ge.arg=nt.arg,ge.delegate=null,Re;var Le=nt.arg;return Le?Le.done?(ge[ce.resultName]=Le.value,ge.next=ce.nextLoc,"return"!==ge.method&&(ge.method="next",ge.arg=_),ge.delegate=null,Re):Le:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,Re)}function ae(ce){var ge={tryLoc:ce[0]};1 in ce&&(ge.catchLoc=ce[1]),2 in ce&&(ge.finallyLoc=ce[2],ge.afterLoc=ce[3]),this.tryEntries.push(ge)}function Ra(ce){var ge=ce.completion||{};ge.type="normal",delete ge.arg,ce.completion=ge}function Tf(ce){this.tryEntries=[{tryLoc:"root"}],ce.forEach(ae,this),this.reset(!0)}function kd(ce){if(ce){var ge=ce[A];if(ge)return ge.call(ce);if("function"==typeof ce.next)return ce;if(!isNaN(ce.length)){var de=-1,nt=function Le(){for(;++de<ce.length;)if(I.call(ce,de))return Le.value=ce[de],Le.done=!1,Le;return Le.value=_,Le.done=!0,Le};return nt.next=nt}}return{next:xt}}function xt(){return{value:_,done:!0}}return At.prototype=It,J(ri,"constructor",It),J(It,"constructor",At),At.displayName=J(It,j,"GeneratorFunction"),y.isGeneratorFunction=function(ce){var ge="function"==typeof ce&&ce.constructor;return!!ge&&(ge===At||"GeneratorFunction"===(ge.displayName||ge.name))},y.mark=function(ce){return Object.setPrototypeOf?Object.setPrototypeOf(ce,It):(ce.__proto__=It,J(ce,j,"GeneratorFunction")),ce.prototype=Object.create(ri),ce},y.awrap=function(ce){return{__await:ce}},Fi(Wi.prototype),J(Wi.prototype,$,function(){return this}),y.AsyncIterator=Wi,y.async=function(ce,ge,de,nt,Le){void 0===Le&&(Le=Promise);var oi=new Wi(Z(ce,ge,de,nt),Le);return y.isGeneratorFunction(ge)?oi:oi.next().then(function(Ct){return Ct.done?Ct.value:oi.next()})},Fi(ri),J(ri,j,"Generator"),J(ri,A,function(){return this}),J(ri,"toString",function(){return"[object Generator]"}),y.keys=function(ce){var ge=[];for(var de in ce)ge.push(de);return ge.reverse(),function nt(){for(;ge.length;){var Le=ge.pop();if(Le in ce)return nt.value=Le,nt.done=!1,nt}return nt.done=!0,nt}},y.values=kd,Tf.prototype={constructor:Tf,reset:function(ce){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(Ra),!ce)for(var ge in this)"t"===ge.charAt(0)&&I.call(this,ge)&&!isNaN(+ge.slice(1))&&(this[ge]=_)},stop:function(){this.done=!0;var ce=this.tryEntries[0].completion;if("throw"===ce.type)throw ce.arg;return this.rval},dispatchException:function(ce){if(this.done)throw ce;var ge=this;function de(Un,Mt){return oi.type="throw",oi.arg=ce,ge.next=Un,Mt&&(ge.method="next",ge.arg=_),!!Mt}for(var nt=this.tryEntries.length-1;nt>=0;--nt){var Le=this.tryEntries[nt],oi=Le.completion;if("root"===Le.tryLoc)return de("end");if(Le.tryLoc<=this.prev){var Ct=I.call(Le,"catchLoc"),Ut=I.call(Le,"finallyLoc");if(Ct&&Ut){if(this.prev<Le.catchLoc)return de(Le.catchLoc,!0);if(this.prev<Le.finallyLoc)return de(Le.finallyLoc)}else if(Ct){if(this.prev<Le.catchLoc)return de(Le.catchLoc,!0)}else{if(!Ut)throw new Error("try statement without catch or finally");if(this.prev<Le.finallyLoc)return de(Le.finallyLoc)}}}},abrupt:function(ce,ge){for(var de=this.tryEntries.length-1;de>=0;--de){var nt=this.tryEntries[de];if(nt.tryLoc<=this.prev&&I.call(nt,"finallyLoc")&&this.prev<nt.finallyLoc){var Le=nt;break}}Le&&("break"===ce||"continue"===ce)&&Le.tryLoc<=ge&&ge<=Le.finallyLoc&&(Le=null);var oi=Le?Le.completion:{};return oi.type=ce,oi.arg=ge,Le?(this.method="next",this.next=Le.finallyLoc,Re):this.complete(oi)},complete:function(ce,ge){if("throw"===ce.type)throw ce.arg;return"break"===ce.type||"continue"===ce.type?this.next=ce.arg:"return"===ce.type?(this.rval=this.arg=ce.arg,this.method="return",this.next="end"):"normal"===ce.type&&ge&&(this.next=ge),Re},finish:function(ce){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var de=this.tryEntries[ge];if(de.finallyLoc===ce)return this.complete(de.completion,de.afterLoc),Ra(de),Re}},catch:function(ce){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var de=this.tryEntries[ge];if(de.tryLoc===ce){var nt=de.completion;if("throw"===nt.type){var Le=nt.arg;Ra(de)}return Le}}throw new Error("illegal catch attempt")},delegateYield:function(ce,ge,de){return this.delegate={iterator:kd(ce),resultName:ge,nextLoc:de},"next"===this.method&&(this.arg=_),Re}},y}(d.exports);try{regeneratorRuntime=g}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}}(sf);var tn=sf.exports,af={exports:{}},rx=ke(function(){if("function"==typeof ArrayBuffer){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}}),Gn=Xe,ay=di,Uo=rx,lf=Object.isExtensible,ox=ke(function(){lf(1)})||Uo?function(d){return!!Gn(d)&&(!Uo||"ArrayBuffer"!=ay(d))&&(!lf||lf(d))}:lf,cf=!ke(function(){return Object.isExtensible(Object.preventExtensions({}))}),ly=xe,sx=me,ax=as,pd=Xe,Ia=_t,lx=$t.f,E0=ha,cx=fr,Is=ox,sc=cf,uf=!1,Yo=ho("meta"),O0=0,df=function(d){lx(d,Yo,{value:{objectID:"O"+O0++,weakData:{}}})},hf=af.exports={enable:function(){hf.enable=function(){},uf=!0;var d=E0.f,g=sx([].splice),y={};y[Yo]=1,d(y).length&&(E0.f=function(_){for(var S=d(_),I=0,M=S.length;I<M;I++)if(S[I]===Yo){g(S,I,1);break}return S},ly({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:cx.f}))},fastKey:function(d,g){if(!pd(d))return"symbol"==typeof d?d:("string"==typeof d?"S":"P")+d;if(!Ia(d,Yo)){if(!Is(d))return"F";if(!g)return"E";df(d)}return d[Yo].objectID},getWeakData:function(d,g){if(!Ia(d,Yo)){if(!Is(d))return!0;if(!g)return!1;df(d)}return d[Yo].weakData},onFreeze:function(d){return sc&&uf&&Is(d)&&!Ia(d,Yo)&&df(d),d}};ax[Yo]=!0;var I0=wn,cy=ai,qo=Yt,ux=ao,uy=k,Ds=mi,Da=ot,ht=Tt,Ye=ve,nn=Qh,Di=ie.TypeError,Qo=function(d,g){this.stopped=d,this.result=g},dy=Qo.prototype,Zo=function(d,g,y){var _,S,I,M,A,$,j,Z=!(!y||!y.AS_ENTRIES),pe=!(!y||!y.IS_ITERATOR),Ce=!(!y||!y.INTERRUPTED),Me=I0(g,y&&y.that),De=function(Re){return _&&nn(_,"normal",Re),new Qo(!0,Re)},Be=function(Re){return Z?(qo(Re),Ce?Me(Re[0],Re[1],De):Me(Re[0],Re[1])):Ce?Me(Re,De):Me(Re)};if(pe)_=d;else{if(!(S=Ye(d)))throw Di(ux(d)+" is not iterable");if(uy(S)){for(I=0,M=Ds(d);M>I;I++)if((A=Be(d[I]))&&Da(dy,A))return A;return new Qo(!1)}_=ht(d,S)}for($=_.next;!(j=cy($,_)).done;){try{A=Be(j.value)}catch(Re){nn(_,"throw",Re)}if("object"==typeof A&&A&&Da(dy,A))return A}return new Qo(!1)},dx=ot,D0=ie.TypeError,M0=function(d,g){if(dx(g,d))return d;throw D0("Incorrect invocation")},F0=xe,Gt=ie,R0=af.exports,hx=ke,P0=xn,A0=Zo,fd=M0,Ki=Ae,L0=Xe,z0=cr,B0=$t.f,hy=wo.forEach,px=rt,py=lr.set,$0=lr.getterFor,N0=function(d,g,y){var _,S=-1!==d.indexOf("Map"),I=-1!==d.indexOf("Weak"),M=S?"set":"add",A=Gt[d],$=A&&A.prototype,j={};if(px&&Ki(A)&&(I||$.forEach&&!hx(function(){(new A).entries().next()}))){var J=(_=g(function(pe,Ce){py(fd(pe,J),{type:d,collection:new A}),null!=Ce&&A0(Ce,pe[M],{that:pe,AS_ENTRIES:S})})).prototype,Z=$0(d);hy(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(pe){var Ce="add"==pe||"set"==pe;!(pe in $)||I&&"clear"==pe||P0(J,pe,function(Me,De){var Be=Z(this).collection;if(!Ce&&I&&!L0(Me))return"get"==pe&&void 0;var Re=Be[pe](0===Me?0:Me,De);return Ce?this:Re})}),I||B0(J,"size",{configurable:!0,get:function(){return Z(this).collection.size}})}else _=y.getConstructor(g,d,S,M),R0.enable();return z0(_,d,!1,!0),j[d]=_,F0({global:!0,forced:!0},j),I||y.setStrong(_,d,S),_},fx=xl,j0=bi,vd=$t,vx=rt,H0=ut("species"),gx=$t.f,V0=us,fy=function(d,g,y){for(var _ in g)y&&y.unsafe&&d[_]?d[_]=g[_]:fx(d,_,g[_],y);return d},pf=wn,K0=M0,mx=Zo,yx=Sl,gd=rt,G0=af.exports.fastKey,ff=lr.set,vy=lr.getterFor,md={getConstructor:function(d,g,y,_){var S=d(function(j,J){K0(j,I),ff(j,{type:g,index:V0(null),first:void 0,last:void 0,size:0}),gd||(j.size=0),null!=J&&mx(J,j[_],{that:j,AS_ENTRIES:y})}),I=S.prototype,M=vy(g),A=function(j,J,Z){var pe,Ce,Me=M(j),De=$(j,J);return De?De.value=Z:(Me.last=De={index:Ce=G0(J,!0),key:J,value:Z,previous:pe=Me.last,next:void 0,removed:!1},Me.first||(Me.first=De),pe&&(pe.next=De),gd?Me.size++:j.size++,"F"!==Ce&&(Me.index[Ce]=De)),j},$=function(j,J){var Z,pe=M(j),Ce=G0(J);if("F"!==Ce)return pe.index[Ce];for(Z=pe.first;Z;Z=Z.next)if(Z.key==J)return Z};return fy(I,{clear:function(){for(var j=M(this),J=j.index,Z=j.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete J[Z.index],Z=Z.next;j.first=j.last=void 0,gd?j.size=0:this.size=0},delete:function(j){var J=this,Z=M(J),pe=$(J,j);if(pe){var Ce=pe.next,Me=pe.previous;delete Z.index[pe.index],pe.removed=!0,Me&&(Me.next=Ce),Ce&&(Ce.previous=Me),Z.first==pe&&(Z.first=Ce),Z.last==pe&&(Z.last=Me),gd?Z.size--:J.size--}return!!pe},forEach:function(j){for(var J,Z=M(this),pe=pf(j,arguments.length>1?arguments[1]:void 0);J=J?J.next:Z.first;)for(pe(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(j){return!!$(this,j)}}),fy(I,y?{get:function(j){var J=$(this,j);return J&&J.value},set:function(j,J){return A(this,0===j?0:j,J)}}:{add:function(j){return A(this,j=0===j?0:j,j)}}),gd&&gx(I,"size",{get:function(){return M(this).size}}),S},setStrong:function(d,g,y){var _=g+" Iterator",S=vy(g),I=vy(_);yx(d,g,function(M,A){ff(this,{type:_,target:M,state:S(M),kind:A,last:void 0})},function(){for(var M=I(this),A=M.kind,$=M.last;$&&$.removed;)$=$.previous;return M.target&&(M.last=$=$?$.next:M.state.first)?"keys"==A?{value:$.key,done:!1}:"values"==A?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}:(M.target=void 0,{value:void 0,done:!0})},y?"entries":"values",!y,!0),function(d){var g=j0(d);vx&&g&&!g[H0]&&(0,vd.f)(g,H0,{configurable:!0,get:function(){return this}})}(g)}};N0("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},md);var U0=$e.Map,gy=wo.some;xe({target:"Array",proto:!0,forced:!is("some")},{some:function(d){return gy(this,d,arguments.length>1?arguments[1]:void 0)}});var bx=li("Array").some,Y0=ot,Qr=bx,ac=Array.prototype,_x=li("Array").keys,yy=An,q0=_t,Q0=ot,wx=_x,by=Array.prototype,xx={DOMTokenList:!0,NodeList:!0},Ms=function(d){var g=d.keys;return d===by||Q0(by,d)&&g===by.keys||q0(xx,yy(d))?wx:g},_y=Bb,yd=Math.floor,bd=function(d,g){var y=d.length,_=yd(y/2);return y<8?Z0(d,g):_d(d,bd(_y(d,0,_),g),bd(_y(d,_),g),g)},Z0=function(d,g){for(var y,_,S=d.length,I=1;I<S;){for(_=I,y=d[I];_&&g(d[_-1],y)>0;)d[_]=d[--_];_!==I++&&(d[_]=y)}return d},_d=function(d,g,y,_){for(var S=g.length,I=y.length,M=0,A=0;M<S||A<I;)d[M+A]=M<S&&A<I?_(g[M],y[A])<=0?g[M++]:y[A++]:M<S?g[M++]:y[A++];return d},J0=bd,vf=_i.match(/firefox\/(\d+)/i),Cx=!!vf&&+vf[1],Tx=/MSIE|Trident/.test(_i),wd=_i.match(/AppleWebKit\/(\d+)\./),Sx=xe,X0=me,Ex=un,Ox=Rt,wy=mi,xy=Co,Cy=ke,Ix=J0,Dx=is,ew=Cx,tw=Tx,Ty=Rn,iw=!!wd&&+wd[1],Fs=[],gf=X0(Fs.sort),Mx=X0(Fs.push),ky=Cy(function(){Fs.sort(void 0)}),Fx=Cy(function(){Fs.sort(null)}),Rx=Dx("sort"),nw=!Cy(function(){if(Ty)return Ty<70;if(!(ew&&ew>3)){if(tw)return!0;if(iw)return iw<603;var d,g,y,_,S="";for(d=65;d<76;d++){switch(g=String.fromCharCode(d),d){case 66:case 69:case 70:case 72:y=3;break;case 68:case 71:y=4;break;default:y=2}for(_=0;_<47;_++)Fs.push({k:g+_,v:y})}for(Fs.sort(function(I,M){return M.v-I.v}),_=0;_<Fs.length;_++)g=Fs[_].k.charAt(0),S.charAt(S.length-1)!==g&&(S+=g);return"DGBEFHACIJK"!==S}});Sx({target:"Array",proto:!0,forced:ky||!Fx||!Rx||!nw},{sort:function(d){void 0!==d&&Ex(d);var g=Ox(this);if(nw)return void 0===d?gf(g):gf(g,d);var y,_,S=[],I=wy(g);for(_=0;_<I;_++)_ in g&&Mx(S,g[_]);for(Ix(S,function(M){return function(A,$){return void 0===$?-1:void 0===A?1:void 0!==M?+M(A,$)||0:xy(A)>xy($)?1:-1}}(d)),y=S.length,_=0;_<y;)g[_]=S[_++];for(;_<I;)delete g[_++];return g}});var mf,Px=li("Array").sort,Ax=ot,rw=Px,yf=Array.prototype,Sy=function(d){var g=d.sort;return d===yf||Ax(yf,d)&&g===yf.sort?rw:g},Lx=li("Array").values,zx=An,Bx=_t,xd=ot,lc=Lx,bf=Array.prototype,Ey={DOMTokenList:!0,NodeList:!0},cc=function(d){var g=d.values;return d===bf||xd(bf,d)&&g===bf.values||Bx(Ey,zx(d))?lc:g},Sr=Dp,ow=li("Array").entries,Oy=An,$x=_t,Nx=ot,Ma=ow,_f=Array.prototype,sw={DOMTokenList:!0,NodeList:!0},Hx=new Uint8Array(16);function Cd(){if(!mf&&!(mf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mf(Hx)}var Vx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kx(d){return"string"==typeof d&&Vx.test(d)}for(var Mi=[],Iy=0;Iy<256;++Iy)Mi.push((Iy+256).toString(16).substr(1));function Wx(d,g,y){var _=(d=d||{}).random||(d.rng||Cd)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,g){y=y||0;for(var S=0;S<16;++S)g[y+S]=_[S];return g}return function(I){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=(Mi[I[M+0]]+Mi[I[M+1]]+Mi[I[M+2]]+Mi[I[M+3]]+"-"+Mi[I[M+4]]+Mi[I[M+5]]+"-"+Mi[I[M+6]]+Mi[I[M+7]]+"-"+Mi[I[M+8]]+Mi[I[M+9]]+"-"+Mi[I[M+10]]+Mi[I[M+11]]+Mi[I[M+12]]+Mi[I[M+13]]+Mi[I[M+14]]+Mi[I[M+15]]).toLowerCase();if(!Kx(A))throw TypeError("Stringified UUID is invalid");return A}(_)}function Dy(d){return"string"==typeof d||"number"==typeof d}var aw=function(){function d(g){we(this,d),dt(this,"delay",void 0),dt(this,"max",void 0),dt(this,"_queue",[]),dt(this,"_timeout",null),dt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(g)}return er(d,[{key:"setOptions",value:function(g){g&&void 0!==g.delay&&(this.delay=g.delay),g&&void 0!==g.max&&(this.max=g.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var g=this._extended.object,y=this._extended.methods,_=0;_<y.length;_++){var S=y[_];S.original?g[S.name]=S.original:delete g[S.name]}this._extended=null}}},{key:"replace",value:function(g,y){var _=this,S=g[y];if(!S)throw new Error("Method "+y+" undefined");g[y]=function(){for(var I=arguments.length,M=new Array(I),A=0;A<I;A++)M[A]=arguments[A];_.queue({args:M,fn:S,context:this})}}},{key:"queue",value:function(g){this._queue.push("function"==typeof g?{fn:g}:g),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var g=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=s0(function(){g.flush()},this.delay))}},{key:"flush",value:function(){var g,y;Ji(g=R_(y=this._queue).call(y,0)).call(g,function(_){_.fn.apply(_.context||_.fn,_.args||[])})}}],[{key:"extend",value:function(g,y){var _=new d(y);if(void 0!==g.flush)throw new Error("Target object already has a property flush");g.flush=function(){_.flush()};var S=[{name:"flush",original:void 0}];if(y&&y.replace)for(var I=0;I<y.replace.length;I++){var M=y.replace[I];S.push({name:M,original:g[M]}),_.replace(g,M)}return _._extended={object:g,methods:S},_}}]),d}(),Td=function(){function d(){we(this,d),dt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),dt(this,"subscribe",d.prototype.on),dt(this,"unsubscribe",d.prototype.off)}return er(d,[{key:"_trigger",value:function(g,y,_){var S,I;if("*"===g)throw new Error("Cannot trigger event *");Ji(S=Vr(I=[]).call(I,Ci(this._subscribers[g]),Ci(this._subscribers["*"]))).call(S,function(M){M(g,y,_??null)})}},{key:"on",value:function(g,y){"function"==typeof y&&this._subscribers[g].push(y)}},{key:"off",value:function(g,y){var _;this._subscribers[g]=pi(_=this._subscribers[g]).call(_,function(S){return S!==y})}}]),d}();N0("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},md);var My,Fa=$e.Set,wf=Tt;function Er(d,g){var y=void 0!==Vl&&Fl(d)||d["@@iterator"];if(!y){if(Zi(d)||(y=function($,j){var J;if($){if("string"==typeof $)return lw($,j);var Z=ju(J=Object.prototype.toString.call($)).call(J,8,-1);if("Object"===Z&&$.constructor&&(Z=$.constructor.name),"Map"===Z||"Set"===Z)return ip($);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return lw($,j)}}(d))||g&&d&&"number"==typeof d.length){y&&(d=y);var _=0,S=function(){};return{s:S,n:function(){return _>=d.length?{done:!0}:{done:!1,value:d[_++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,M=!0,A=!1;return{s:function(){y=y.call(d)},n:function(){var $=y.next();return M=$.done,$},e:function($){A=!0,I=$},f:function(){try{M||null==y.return||y.return()}finally{if(A)throw I}}}}function lw(d,g){(null==g||g>d.length)&&(g=d.length);for(var y=0,_=new Array(g);y<g;y++)_[y]=d[y];return _}My=Sr;var Fy=function(){function d(g){we(this,d),dt(this,"_pairs",void 0),this._pairs=g}return er(d,[{key:My,value:tn.mark(function g(){var y,_,S,I,M;return tn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:y=Er(this._pairs),A.prev=1,y.s();case 3:if((_=y.n()).done){A.next=9;break}return S=ci(_.value,2),I=S[0],M=S[1],A.next=7,[I,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),y.e(A.t0);case 14:return A.prev=14,y.f(),A.finish(14);case 17:case"end":return A.stop()}},g,this,[[1,11,14,17]])})},{key:"entries",value:tn.mark(function g(){var y,_,S,I,M;return tn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:y=Er(this._pairs),A.prev=1,y.s();case 3:if((_=y.n()).done){A.next=9;break}return S=ci(_.value,2),I=S[0],M=S[1],A.next=7,[I,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),y.e(A.t0);case 14:return A.prev=14,y.f(),A.finish(14);case 17:case"end":return A.stop()}},g,this,[[1,11,14,17]])})},{key:"keys",value:tn.mark(function g(){var y,_,S,I;return tn.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:y=Er(this._pairs),M.prev=1,y.s();case 3:if((_=y.n()).done){M.next=9;break}return S=ci(_.value,1),I=S[0],M.next=7,I;case 7:M.next=3;break;case 9:M.next=14;break;case 11:M.prev=11,M.t0=M.catch(1),y.e(M.t0);case 14:return M.prev=14,y.f(),M.finish(14);case 17:case"end":return M.stop()}},g,this,[[1,11,14,17]])})},{key:"values",value:tn.mark(function g(){var y,_,S,I;return tn.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:y=Er(this._pairs),M.prev=1,y.s();case 3:if((_=y.n()).done){M.next=9;break}return S=ci(_.value,2),I=S[1],M.next=7,I;case 7:M.next=3;break;case 9:M.next=14;break;case 11:M.prev=11,M.t0=M.catch(1),y.e(M.t0);case 14:return M.prev=14,y.f(),M.finish(14);case 17:case"end":return M.stop()}},g,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var g;return Pi(g=Ci(this._pairs)).call(g,function(y){return y[0]})}},{key:"toItemArray",value:function(){var g;return Pi(g=Ci(this._pairs)).call(g,function(y){return y[1]})}},{key:"toEntryArray",value:function(){return Ci(this._pairs)}},{key:"toObjectMap",value:function(){var g,y=Bm(null),_=Er(this._pairs);try{for(_.s();!(g=_.n()).done;){var S=ci(g.value,2);y[S[0]]=S[1]}}catch(A){_.e(A)}finally{_.f()}return y}},{key:"toMap",value:function(){return new U0(this._pairs)}},{key:"toIdSet",value:function(){return new Fa(this.toIdArray())}},{key:"toItemSet",value:function(){return new Fa(this.toItemArray())}},{key:"cache",value:function(){return new d(Ci(this._pairs))}},{key:"distinct",value:function(g){var y,_=new Fa,S=Er(this._pairs);try{for(S.s();!(y=S.n()).done;){var I=ci(y.value,2);_.add(g(I[1],I[0]))}}catch($){S.e($)}finally{S.f()}return _}},{key:"filter",value:function(g){var y=this._pairs;return new d(dt({},Sr,tn.mark(function _(){var S,I,M,A,$;return tn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:S=Er(y),j.prev=1,S.s();case 3:if((I=S.n()).done){j.next=10;break}if(M=ci(I.value,2),!g($=M[1],A=M[0])){j.next=8;break}return j.next=8,[A,$];case 8:j.next=3;break;case 10:j.next=15;break;case 12:j.prev=12,j.t0=j.catch(1),S.e(j.t0);case 15:return j.prev=15,S.f(),j.finish(15);case 18:case"end":return j.stop()}},_,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(g){var y,_=Er(this._pairs);try{for(_.s();!(y=_.n()).done;){var S=ci(y.value,2);g(S[1],S[0])}}catch(M){_.e(M)}finally{_.f()}}},{key:"map",value:function(g){var y=this._pairs;return new d(dt({},Sr,tn.mark(function _(){var S,I,M,A,$;return tn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:S=Er(y),j.prev=1,S.s();case 3:if((I=S.n()).done){j.next=9;break}return M=ci(I.value,2),A=M[0],$=M[1],j.next=7,[A,g($,A)];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),S.e(j.t0);case 14:return j.prev=14,S.f(),j.finish(14);case 17:case"end":return j.stop()}},_,null,[[1,11,14,17]])})))}},{key:"max",value:function(g){var y=wf(this._pairs),_=y.next();if(_.done)return null;for(var S=_.value[1],I=g(_.value[1],_.value[0]);!(_=y.next()).done;){var M=ci(_.value,2),$=M[1],j=g($,M[0]);j>I&&(I=j,S=$)}return S}},{key:"min",value:function(g){var y=wf(this._pairs),_=y.next();if(_.done)return null;for(var S=_.value[1],I=g(_.value[1],_.value[0]);!(_=y.next()).done;){var M=ci(_.value,2),$=M[1],j=g($,M[0]);j<I&&(I=j,S=$)}return S}},{key:"reduce",value:function(g,y){var _,S=Er(this._pairs);try{for(S.s();!(_=S.n()).done;){var I=ci(_.value,2);y=g(y,I[1],I[0])}}catch(A){S.e(A)}finally{S.f()}return y}},{key:"sort",value:function(g){var y=this;return new d(dt({},Sr,function(){var _;return wf(Sy(_=Ci(y._pairs)).call(_,function(S,I){var M=ci(S,2),A=M[0],$=M[1],j=ci(I,2);return g($,j[1],A,j[0])}))}))}}]),d}();function cw(d,g){var y=hm(d);if(Au){var _=Au(d);g&&(_=pi(_).call(_,function(S){return a_(d,S).enumerable})),y.push.apply(y,_)}return y}function uw(d){for(var g=1;g<arguments.length;g++){var y,_,S=null!=arguments[g]?arguments[g]:{};g%2?Ji(y=cw(Object(S),!0)).call(y,function(I){dt(d,I,S[I])}):im?Gw(d,im(S)):Ji(_=cw(Object(S))).call(_,function(I){d_(d,I,a_(S,I))})}return d}function Ry(d,g){var y=void 0!==Vl&&Fl(d)||d["@@iterator"];if(!y){if(Zi(d)||(y=function($,j){var J;if($){if("string"==typeof $)return Py($,j);var Z=ju(J=Object.prototype.toString.call($)).call(J,8,-1);if("Object"===Z&&$.constructor&&(Z=$.constructor.name),"Map"===Z||"Set"===Z)return ip($);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return Py($,j)}}(d))||g&&d&&"number"==typeof d.length){y&&(d=y);var _=0,S=function(){};return{s:S,n:function(){return _>=d.length?{done:!0}:{done:!1,value:d[_++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,M=!0,A=!1;return{s:function(){y=y.call(d)},n:function(){var $=y.next();return M=$.done,$},e:function($){A=!0,I=$},f:function(){try{M||null==y.return||y.return()}finally{if(A)throw I}}}}function Py(d,g){(null==g||g>d.length)&&(g=d.length);for(var y=0,_=new Array(g);y<g;y++)_[y]=d[y];return _}var xf=function(d){sy(y,d);var g=function Ay(d){var g=function(){if(typeof Reflect>"u"||!Es||Es.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Es(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,_=Go(d);if(g){var S=Go(this).constructor;y=Es(_,arguments,S)}else y=_.apply(this,arguments);return of(this,y)}}(y);function y(_,S){var I;return we(this,y),dt(En(I=g.call(this)),"flush",void 0),dt(En(I),"length",void 0),dt(En(I),"_options",void 0),dt(En(I),"_data",void 0),dt(En(I),"_idProp",void 0),dt(En(I),"_queue",null),_&&!Zi(_)&&(S=_,_=[]),I._options=S||{},I._data=new U0,I.length=0,I._idProp=I._options.fieldId||"id",_&&_.length&&I.add(_),I.setOptions(S),I}return er(y,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(_){_&&void 0!==_.queue&&(!1===_.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=aw.extend(this,{replace:["add","update","remove"]})),_.queue&&"object"===mt(_.queue)&&this._queue.setOptions(_.queue)))}},{key:"add",value:function(_,S){var I,M=this,A=[];if(Zi(_)){var $=Pi(_).call(_,function(Z){return Z[M._idProp]});if(function(d){var g=d.some;return d===ac||Y0(ac,d)&&g===ac.some?Qr:g}($).call($,function(Z){return M._data.has(Z)}))throw new Error("A duplicate id was found in the parameter array.");for(var j=0,J=_.length;j<J;j++)I=this._addItem(_[j]),A.push(I)}else{if(!_||"object"!==mt(_))throw new Error("Unknown dataType");I=this._addItem(_),A.push(I)}return A.length&&this._trigger("add",{items:A},S),A}},{key:"update",value:function(_,S){var I=this,M=[],A=[],$=[],j=[],J=this._idProp,Z=function(De){var Be=De[J];if(null!=Be&&I._data.has(Be)){var Re=De,it=Tm({},I._data.get(Be)),At=I._updateItem(Re);A.push(At),j.push(Re),$.push(it)}else{var It=I._addItem(De);M.push(It)}};if(Zi(_))for(var pe=0,Ce=_.length;pe<Ce;pe++)_[pe]&&"object"===mt(_[pe])?Z(_[pe]):console.warn("Ignoring input item, which is not an object at index "+pe);else{if(!_||"object"!==mt(_))throw new Error("Unknown dataType");Z(_)}return M.length&&this._trigger("add",{items:M},S),A.length&&this._trigger("update",{items:A,oldData:$,data:j},S),Vr(M).call(M,A)}},{key:"updateOnly",value:function(_,S){var I,M=this;Zi(_)||(_=[_]);var A=Pi(I=Pi(_).call(_,function(j){var J=M._data.get(j[M._idProp]);if(null==J)throw new Error("Updating non-existent items is not allowed.");return{oldData:J,update:j}})).call(I,function(j){var J=j.oldData,pe=J[M._idProp],Ce=function(Me){for(var De,Be=arguments.length,Re=new Array(Be>1?Be-1:0),it=1;it<Be;it++)Re[it-1]=arguments[it];return ty.apply(void 0,Vr(De=[{},Me]).call(De,Re))}(J,j.update);return M._data.set(pe,Ce),{id:pe,oldData:J,updatedData:Ce}});if(A.length){var $={items:Pi(A).call(A,function(j){return j.id}),oldData:Pi(A).call(A,function(j){return j.oldData}),data:Pi(A).call(A,function(j){return j.updatedData})};return this._trigger("update",$,S),$.items}return[]}},{key:"get",value:function(_,S){var I=void 0,M=void 0,A=void 0;Dy(_)?(I=_,A=S):Zi(_)?(M=_,A=S):A=_;var $,j=A&&"Object"===A.returnType?"Object":"Array",J=A&&pi(A),Z=[],pe=void 0,Ce=void 0;if(null!=I)(pe=this._data.get(I))&&J&&!J(pe)&&(pe=void 0);else if(null!=M)for(var De=0,Be=M.length;De<Be;De++)null==(pe=this._data.get(M[De]))||J&&!J(pe)||Z.push(pe);else for(var Re,it=0,At=(Ce=Ci(Ms(Re=this._data).call(Re))).length;it<At;it++)null==(pe=this._data.get(Ce[it]))||J&&!J(pe)||Z.push(pe);if(A&&A.order&&null==I&&this._sort(Z,A.order),A&&A.fields){var It=A.fields;if(null!=I&&null!=pe)pe=this._filterFields(pe,It);else for(var Vt=0,On=Z.length;Vt<On;Vt++)Z[Vt]=this._filterFields(Z[Vt],It)}if("Object"==j){for(var bn={},ri=0,Fi=Z.length;ri<Fi;ri++){var Wi=Z[ri];bn[Wi[this._idProp]]=Wi}return bn}return null!=I?null!==($=pe)&&void 0!==$?$:null:Z}},{key:"getIds",value:function(_){var S=this._data,I=_&&pi(_),M=_&&_.order,A=Ci(Ms(S).call(S)),$=[];if(I)if(M){for(var j=[],J=0,Z=A.length;J<Z;J++){var Ce=this._data.get(A[J]);null!=Ce&&I(Ce)&&j.push(Ce)}this._sort(j,M);for(var Me=0,De=j.length;Me<De;Me++)$.push(j[Me][this._idProp])}else for(var Be=0,Re=A.length;Be<Re;Be++){var At=this._data.get(A[Be]);null!=At&&I(At)&&$.push(At[this._idProp])}else if(M){for(var It=[],Vt=0,On=A.length;Vt<On;Vt++)It.push(S.get(A[Vt]));this._sort(It,M);for(var ri=0,Fi=It.length;ri<Fi;ri++)$.push(It[ri][this._idProp])}else for(var Wi=0,Rs=A.length;Wi<Rs;Wi++){var Ra=S.get(A[Wi]);null!=Ra&&$.push(Ra[this._idProp])}return $}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(_,S){var I=S&&pi(S),M=this._data,A=Ci(Ms(M).call(M));if(S&&S.order)for(var $=this.get(S),j=0,J=$.length;j<J;j++){var Z=$[j];_(Z,Z[this._idProp])}else for(var pe=0,Ce=A.length;pe<Ce;pe++){var Me=A[pe],De=this._data.get(Me);null==De||I&&!I(De)||_(De,Me)}}},{key:"map",value:function(_,S){for(var I=S&&pi(S),M=[],A=this._data,$=Ci(Ms(A).call(A)),j=0,J=$.length;j<J;j++){var Z=$[j],pe=this._data.get(Z);null==pe||I&&!I(pe)||M.push(_(pe,Z))}return S&&S.order&&this._sort(M,S.order),M}},{key:"_filterFields",value:function(_,S){var I;return _&&el(I=Zi(S)?S:hm(S)).call(I,function(M,A){return M[A]=_[A],M},{})}},{key:"_sort",value:function(_,S){if("string"==typeof S){var I=S;Sy(_).call(_,function(M,A){var $=M[I],j=A[I];return $>j?1:$<j?-1:0})}else{if("function"!=typeof S)throw new TypeError("Order must be a function or a string");Sy(_).call(_,S)}}},{key:"remove",value:function(_,S){for(var I=[],M=[],A=Zi(_)?_:[_],$=0,j=A.length;$<j;$++){var J=this._remove(A[$]);if(J){var Z=J[this._idProp];null!=Z&&(I.push(Z),M.push(J))}}return I.length&&this._trigger("remove",{items:I,oldData:M},S),I}},{key:"_remove",value:function(_){var S;if(Dy(_)?S=_:_&&"object"===mt(_)&&(S=_[this._idProp]),null!=S&&this._data.has(S)){var I=this._data.get(S)||null;return this._data.delete(S),--this.length,I}return null}},{key:"clear",value:function(_){for(var S,I=Ci(Ms(S=this._data).call(S)),M=[],A=0,$=I.length;A<$;A++)M.push(this._data.get(I[A]));return this._data.clear(),this.length=0,this._trigger("remove",{items:I,oldData:M},_),I}},{key:"max",value:function(_){var S,I,M=null,A=null,$=Ry(cc(S=this._data).call(S));try{for($.s();!(I=$.n()).done;){var j=I.value,J=j[_];"number"==typeof J&&(null==A||J>A)&&(M=j,A=J)}}catch(Z){$.e(Z)}finally{$.f()}return M||null}},{key:"min",value:function(_){var S,I,M=null,A=null,$=Ry(cc(S=this._data).call(S));try{for($.s();!(I=$.n()).done;){var j=I.value,J=j[_];"number"==typeof J&&(null==A||J<A)&&(M=j,A=J)}}catch(Z){$.e(Z)}finally{$.f()}return M||null}},{key:"distinct",value:function(_){for(var S=this._data,I=Ci(Ms(S).call(S)),M=[],A=0,$=0,j=I.length;$<j;$++){for(var Z=S.get(I[$])[_],pe=!1,Ce=0;Ce<A;Ce++)if(M[Ce]==Z){pe=!0;break}pe||void 0===Z||(M[A]=Z,A++)}return M}},{key:"_addItem",value:function(_){var M,A,S=(null==(M=_)[A=this._idProp]&&(M[A]=Wx()),M),I=S[this._idProp];if(this._data.has(I))throw new Error("Cannot add item: item with id "+I+" already exists");return this._data.set(I,S),++this.length,I}},{key:"_updateItem",value:function(_){var S=_[this._idProp];if(null==S)throw new Error("Cannot update item: item has no id (item: "+j1(_)+")");var I=this._data.get(S);if(!I)throw new Error("Cannot update item: no item with id "+S+" found");return this._data.set(S,uw(uw({},I),_)),S}},{key:"stream",value:function(_){if(_){var S=this._data;return new Fy(dt({},Sr,tn.mark(function M(){var A,$,j,J;return tn.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:A=Ry(_),Z.prev=1,A.s();case 3:if(($=A.n()).done){Z.next=11;break}if(null==(J=S.get(j=$.value))){Z.next=9;break}return Z.next=9,[j,J];case 9:Z.next=3;break;case 11:Z.next=16;break;case 13:Z.prev=13,Z.t0=Z.catch(1),A.e(Z.t0);case 16:return Z.prev=16,A.f(),Z.finish(16);case 19:case"end":return Z.stop()}},M,null,[[1,13,16,19]])})))}var I;return new Fy(dt({},Sr,_o(I=function(d){var g=d.entries;return d===_f||Nx(_f,d)&&g===_f.entries||$x(sw,Oy(d))?Ma:g}(this._data)).call(I,this._data)))}}]),y}(Td);function Ly(d,g){(null==g||g>d.length)&&(g=d.length);for(var y=0,_=new Array(g);y<g;y++)_[y]=d[y];return _}var Gx=function(d){sy(y,d);var g=function dw(d){var g=function(){if(typeof Reflect>"u"||!Es||Es.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Es(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,_=Go(d);if(g){var S=Go(this).constructor;y=Es(_,arguments,S)}else y=_.apply(this,arguments);return of(this,y)}}(y);function y(_,S){var I,M;return we(this,y),dt(En(M=g.call(this)),"length",0),dt(En(M),"_listener",void 0),dt(En(M),"_data",void 0),dt(En(M),"_ids",new Fa),dt(En(M),"_options",void 0),M._options=S||{},M._listener=_o(I=M._onEvent).call(I,En(M)),M.setData(_),M}return er(y,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(_){if(this._data){this._data.off&&this._data.off("*",this._listener);var S=this._data.getIds({filter:pi(this._options)}),I=this._data.get(S);this._ids.clear(),this.length=0,this._trigger("remove",{items:S,oldData:I})}if(null!=_){this._data=_;for(var M=this._data.getIds({filter:pi(this._options)}),A=0,$=M.length;A<$;A++)this._ids.add(M[A]);this.length=M.length,this._trigger("add",{items:M})}else this._data=new xf;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var _=this._data.getIds({filter:pi(this._options)}),S=Ci(this._ids),I={},M=[],A=[],$=[],j=0,J=_.length;j<J;j++){var Z=_[j];I[Z]=!0,this._ids.has(Z)||(M.push(Z),this._ids.add(Z))}for(var pe=0,Ce=S.length;pe<Ce;pe++){var Me=S[pe],De=this._data.get(Me);null==De?console.error("If you see this, report it please."):I[Me]||(A.push(Me),$.push(De),this._ids.delete(Me))}this.length+=M.length-A.length,M.length&&this._trigger("add",{items:M}),A.length&&this._trigger("remove",{items:A,oldData:$})}},{key:"get",value:function(_,S){if(null==this._data)return null;var I,M=null;Dy(_)||Zi(_)?(M=_,I=S):I=_;var A=Tm({},this._options,I),$=pi(this._options),j=I&&pi(I);return $&&j&&(A.filter=function(J){return $(J)&&j(J)}),null==M?this._data.get(A):this._data.get(M,A)}},{key:"getIds",value:function(_){if(this._data.length){var I=pi(this._options),M=null!=_?pi(_):null;return this._data.getIds({filter:M?I?function(A){return I(A)&&M(A)}:M:I,order:_&&_.order})}return[]}},{key:"forEach",value:function(_,S){if(this._data){var I,M,A=pi(this._options),$=S&&pi(S);M=$?A?function(j){return A(j)&&$(j)}:$:A,Ji(I=this._data).call(I,_,{filter:M,order:S&&S.order})}}},{key:"map",value:function(_,S){if(this._data){var I,M,A=pi(this._options),$=S&&pi(S);return M=$?A?function(j){return A(j)&&$(j)}:$:A,Pi(I=this._data).call(I,_,{filter:M,order:S&&S.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(_){var S;return this._data.stream(_||dt({},Sr,_o(S=Ms(this._ids)).call(S,this._ids)))}},{key:"dispose",value:function(){var _;null!==(_=this._data)&&void 0!==_&&_.off&&this._data.off("*",this._listener);var S,I="This data view has already been disposed of.",M={get:function(){throw new Error(I)},set:function(){throw new Error(I)},configurable:!1},A=function Cf(d,g){var y=void 0!==Vl&&Fl(d)||d["@@iterator"];if(!y){if(Zi(d)||(y=function($,j){var J;if($){if("string"==typeof $)return Ly($,j);var Z=ju(J=Object.prototype.toString.call($)).call(J,8,-1);if("Object"===Z&&$.constructor&&(Z=$.constructor.name),"Map"===Z||"Set"===Z)return ip($);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return Ly($,j)}}(d))||g&&d&&"number"==typeof d.length){y&&(d=y);var _=0,S=function(){};return{s:S,n:function(){return _>=d.length?{done:!0}:{done:!1,value:d[_++]}},e:function($){throw $},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,M=!0,A=!1;return{s:function(){y=y.call(d)},n:function(){var $=y.next();return M=$.done,$},e:function($){A=!0,I=$},f:function(){try{M||null==y.return||y.return()}finally{if(A)throw I}}}}(Fp(y.prototype));try{for(A.s();!(S=A.n()).done;)d_(this,S.value,M)}catch(j){A.e(j)}finally{A.f()}}},{key:"_onEvent",value:function(_,S,I){if(S&&S.items&&this._data){var M=S.items,A=[],$=[],j=[],J=[],Z=[],pe=[];switch(_){case"add":for(var Ce=0,Me=M.length;Ce<Me;Ce++){var De=M[Ce];this.get(De)&&(this._ids.add(De),A.push(De))}break;case"update":for(var Be=0,Re=M.length;Be<Re;Be++){var it=M[Be];this.get(it)?this._ids.has(it)?($.push(it),Z.push(S.data[Be]),J.push(S.oldData[Be])):(this._ids.add(it),A.push(it)):this._ids.has(it)&&(this._ids.delete(it),j.push(it),pe.push(S.oldData[Be]))}break;case"remove":for(var At=0,It=M.length;At<It;At++){var Vt=M[At];this._ids.has(Vt)&&(this._ids.delete(Vt),j.push(Vt),pe.push(S.oldData[At]))}}this.length+=A.length-j.length,A.length&&this._trigger("add",{items:A},I),$.length&&this._trigger("update",{items:$,oldData:J,data:Z},I),j.length&&this._trigger("remove",{items:j,oldData:pe},I)}}}]),y}(Td);function hw(d,g){return"object"===mt(g)&&null!==g&&d===g.idProp&&"function"==typeof g.add&&"function"==typeof g.clear&&"function"==typeof g.distinct&&"function"==typeof Ji(g)&&"function"==typeof g.get&&"function"==typeof g.getDataSet&&"function"==typeof g.getIds&&"number"==typeof g.length&&"function"==typeof Pi(g)&&"function"==typeof g.max&&"function"==typeof g.min&&"function"==typeof g.off&&"function"==typeof g.on&&"function"==typeof g.remove&&"function"==typeof g.setOptions&&"function"==typeof g.stream&&"function"==typeof g.update&&"function"==typeof g.updateOnly}ft.DELETE=ey,ft.DataSet=xf,ft.DataStream=Fy,ft.DataView=Gx,ft.Queue=aw,ft.createNewDataPipeFrom=function(d){return new tg(d)},ft.isDataSetLike=hw,ft.isDataViewLike=function(d,g){return"object"===mt(g)&&null!==g&&d===g.idProp&&"function"==typeof Ji(g)&&"function"==typeof g.get&&"function"==typeof g.getDataSet&&"function"==typeof g.getIds&&"number"==typeof g.length&&"function"==typeof Pi(g)&&"function"==typeof g.off&&"function"==typeof g.on&&"function"==typeof g.stream&&hw(d,g.getDataSet())},Object.defineProperty(ft,"__esModule",{value:!0})}(Rd)},1282:function(JT,Rd,ft){!function(we,si){var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge=function(r){return r&&r.Math==Math&&r},ie=Ge("object"==typeof globalThis&&globalThis)||Ge("object"==typeof window&&window)||Ge("object"==typeof self&&self)||Ge("object"==typeof Ls&&Ls)||function(){return this}()||Function("return this")(),ke=function(r){try{return!!r()}catch{return!0}},Zn=!ke(function(){var r=function(){}.bind();return"function"!=typeof r||r.hasOwnProperty("prototype")}),mc=Function.prototype,zs=mc.apply,Na=mc.call,sn="object"==typeof Reflect&&Reflect.apply||(Zn?Na.bind(zs):function(){return Na.apply(zs,arguments)}),Dr=Zn,an=Function.prototype,se=an.call,Bi=Dr&&an.bind.bind(se,se),me=Dr?function(r){return r&&Bi(r)}:function(r){return r&&function(){return se.apply(r,arguments)}},Ae=function(r){return"function"==typeof r},Lt={},rt=!ke(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Kt=Function.prototype.call,ai=Zn?Kt.bind(Kt):function(){return Kt.apply(Kt,arguments)},ln={},cn={}.propertyIsEnumerable,no=Object.getOwnPropertyDescriptor,Pd=no&&!cn.call({1:2},1);ln.f=Pd?function(r){var e=no(this,r);return!!e&&e.enumerable}:cn;var ki,ro,$i=function(r,e){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:e}},ja=me,Af=ja({}.toString),Lf=ja("".slice),di=function(r){return Lf(Af(r),8,-1)},Bf=ke,Ad=di,Bs=ie.Object,yc=me("".split),oo=Bf(function(){return!Bs("z").propertyIsEnumerable(0)})?function(r){return"String"==Ad(r)?yc(r,""):Bs(r)}:Bs,Ha=ie.TypeError,Jn=function(r){if(null==r)throw Ha("Can't call method on "+r);return r},$f=oo,$s=Jn,Xt=function(r){return $f($s(r))},Nf=Ae,Xe=function(r){return"object"==typeof r?null!==r:Nf(r)},$e={},hi=$e,St=ie,bc=Ae,Ns=function(r){return bc(r)?r:void 0},bi=function(r,e){return arguments.length<2?Ns(hi[r])||Ns(St[r]):hi[r]&&hi[r][e]||St[r]&&St[r][e]},ot=me({}.isPrototypeOf),_i=bi("navigator","userAgent")||"",Wt=_i,wc=ie.process,so=ie.Deno,Va=wc&&wc.versions||so&&so.version,Xo=Va&&Va.v8;Xo&&(ro=(ki=Xo.split("."))[0]>0&&ki[0]<4?1:+(ki[0]+ki[1])),!ro&&Wt&&(!(ki=Wt.match(/Edge\/(\d+)/))||ki[1]>=74)&&(ki=Wt.match(/Chrome\/(\d+)/))&&(ro=+ki[1]);var Rn=ro,Ka=Rn,es=!!Object.getOwnPropertySymbols&&!ke(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&Ka&&Ka<41}),Ui=es&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Wa=bi,js=Ae,zd=ot,xc=ie.Object,Hs=Ui?function(r){return"symbol"==typeof r}:function(r){var e=Wa("Symbol");return js(e)&&zd(e.prototype,xc(r))},Bd=ie.String,ao=function(r){try{return Bd(r)}catch{return"Object"}},Hf=Ae,Vf=ao,Kf=ie.TypeError,un=function(r){if(Hf(r))return r;throw Kf(Vf(r)+" is not a function")},Wf=un,lo=function(r,e){var t=r[e];return null==t?void 0:Wf(t)},Vs=ai,Ks=Ae,Mr=Xe,Gf=ie.TypeError,co={exports:{}},Cc=ie,$d=Object.defineProperty,Tc="__core-js_shared__",uo=ie[Tc]||function(r,e){try{$d(Cc,r,{value:e,configurable:!0,writable:!0})}catch{Cc[r]=e}return e}(Tc,{}),kc=uo;(co.exports=function(r,e){return kc[r]||(kc[r]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ws=Jn,Sc=ie.Object,Rt=function(r){return Sc(Ws(r))},Uf=Rt,Yf=me({}.hasOwnProperty),_t=Object.hasOwn||function(r,e){return Yf(Uf(r),e)},Nd=me,qf=0,Qf=Math.random(),jd=Nd(1..toString),ho=function(r){return"Symbol("+(void 0===r?"":r)+")_"+jd(++qf+Qf,36)},Hd=ie,Gs=_t,Vd=ho,Ec=es,Oc=Ui,Xn=(0,co.exports)("wks"),zt=Hd.Symbol,Ic=zt&&zt.for,Jf=Oc?zt:zt&&zt.withoutSetter||Vd,ut=function(r){if(!Gs(Xn,r)||!Ec&&"string"!=typeof Xn[r]){var e="Symbol."+r;Xn[r]=Ec&&Gs(zt,r)?zt[r]:Oc&&Ic?Ic(e):Jf(e)}return Xn[r]},Si=ai,Dc=Xe,Mc=Hs,Xf=lo,tv=ie.TypeError,iv=ut("toPrimitive"),Kd=function(r,e){if(!Dc(r)||Mc(r))return r;var t,n=Xf(r,iv);if(n){if(void 0===e&&(e="default"),t=Si(n,r,e),!Dc(t)||Mc(t))return t;throw tv("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(r,e){var t,n;if("string"===e&&Ks(t=r.toString)&&!Mr(n=Vs(t,r))||Ks(t=r.valueOf)&&!Mr(n=Vs(t,r))||"string"!==e&&Ks(t=r.toString)&&!Mr(n=Vs(t,r)))return n;throw Gf("Can't convert object to primitive value")}(r,e)},nv=Hs,dn=function(r){var e=Kd(r,"string");return nv(e)?e:e+""},Ga=Xe,hn=ie.document,fo=Ga(hn)&&Ga(hn.createElement),Ua=function(r){return fo?hn.createElement(r):{}},rv=Ua,ei=!rt&&!ke(function(){return 7!=Object.defineProperty(rv("div"),"a",{get:function(){return 7}}).a}),sv=ai,Wd=ln,Gd=$i,av=Xt,lv=dn,cv=_t,uv=ei,Fc=Object.getOwnPropertyDescriptor;Lt.f=rt?Fc:function(r,e){if(r=av(r),e=lv(e),uv)try{return Fc(r,e)}catch{}if(cv(r,e))return Gd(!sv(Wd.f,r,e),r[e])};var dv=ke,hv=Ae,pv=/#|\.prototype\./,pn=function(r,e){var t=Yd[Ud(r)];return t==fv||t!=Rc&&(hv(e)?dv(e):!!e)},Ud=pn.normalize=function(r){return String(r).replace(pv,".").toLowerCase()},Yd=pn.data={},Rc=pn.NATIVE="N",fv=pn.POLYFILL="P",qd=pn,Qd=un,vv=Zn,gv=me(me.bind),wn=function(r,e){return Qd(r),void 0===e?r:vv?gv(r,e):function(){return r.apply(e,arguments)}},$t={},Pc=rt&&ke(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),mv=Xe,yv=ie.String,bv=ie.TypeError,Yt=function(r){if(mv(r))return r;throw bv(yv(r)+" is not an object")},Lc=ei,vo=Yt,zc=dn,Us=ie.TypeError,Ys=Object.defineProperty,xv=Object.getOwnPropertyDescriptor;$t.f=rt?Pc?function(r,e,t){if(vo(r),e=zc(e),vo(t),"function"==typeof r&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var n=xv(r,e);n&&n.writable&&(r[e]=t.value,t={configurable:"configurable"in t?t.configurable:n.configurable,enumerable:"enumerable"in t?t.enumerable:n.enumerable,writable:!1})}return Ys(r,e,t)}:Ys:function(r,e,t){if(vo(r),e=zc(e),vo(t),Lc)try{return Ys(r,e,t)}catch{}if("get"in t||"set"in t)throw Us("Accessors not supported");return"value"in t&&(r[e]=t.value),r};var Zd=$t,Sv=$i,xn=rt?function(r,e,t){return Zd.f(r,e,Sv(1,t))}:function(r,e,t){return r[e]=t,r},go=ie,ts=sn,Yi=me,Ev=Ae,Ov=Lt.f,Jd=qd,fn=$e,Ya=wn,Ni=xn,Bc=_t,Cn=function(r){var e=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,n)}return new r(t,n,o)}return ts(r,this,arguments)};return e.prototype=r.prototype,e},xe=function(r,e){var t,n,o,s,c,v,m,T,O=r.target,D=r.global,R=r.stat,B=r.proto,N=D?go:R?go[O]:(go[O]||{}).prototype,V=D?fn:fn[O]||Ni(fn,O,{})[O],Q=V.prototype;for(o in e)t=!Jd(D?o:O+(R?".":"#")+o,r.forced)&&N&&Bc(N,o),c=V[o],t&&(v=r.noTargetGet?(T=Ov(N,o))&&T.value:N[o]),s=t&&v?v:e[o],t&&typeof c==typeof s||(m=r.bind&&t?Ya(s,go):r.wrap&&t?Cn(s):B&&Ev(s)?Yi(s):s,(r.sham||s&&s.sham||c&&c.sham)&&Ni(m,"sham",!0),Ni(V,o,m),B&&(Bc(fn,n=O+"Prototype")||Ni(fn,n,{}),Ni(fn[n],o,s),r.real&&Q&&!Q[o]&&Ni(Q,o,s)))},Xd=Math.ceil,Iv=Math.floor,qs=function(r){var e=+r;return e!=e||0===e?0:(e>0?Iv:Xd)(e)},Qs=qs,eh=Math.max,th=Math.min,Pn=function(r,e){var t=Qs(r);return t<0?eh(t+e,0):th(t,e)},Zs=qs,er=Math.min,Ei=function(r){return function(r){return r>0?er(Zs(r),9007199254740991):0}(r.length)},ih=Xt,qa=Pn,Dv=Ei,mo=function(r){return function(e,t,n){var o,s=ih(e),c=Dv(s),v=qa(n,c);if(r&&t!=t){for(;c>v;)if((o=s[v++])!=o)return!0}else for(;c>v;v++)if((r||v in s)&&s[v]===t)return r||v||0;return!r&&-1}},yo={includes:mo(!0),indexOf:mo(!1)},Js={},Qa=_t,Mv=Xt,Fv=yo.indexOf,$c=Js,bo=me([].push),Nc=function(r,e){var t,n=Mv(r),o=0,s=[];for(t in n)!Qa($c,t)&&Qa(n,t)&&bo(s,t);for(;e.length>o;)Qa(n,t=e[o++])&&(~Fv(s,t)||bo(s,t));return s},tr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nh=Nc,li=tr,Ze=Object.keys||function(r){return nh(r,li)},jc={};jc.f=Object.getOwnPropertySymbols;var Rv=rt,_o=ai,rh=ke,Hc=Ze,Ja=jc,oh=ln,Pv=Rt,Av=oo,mi=Object.assign,sh=Object.defineProperty,Xa=me([].concat),ah=!mi||rh(function(){if(Rv&&1!==mi({b:1},mi(sh({},"a",{enumerable:!0,get:function(){sh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var r={},e={},t=Symbol(),n="abcdefghijklmnopqrst";return r[t]=7,n.split("").forEach(function(o){e[o]=o}),7!=mi({},r)[t]||Hc(mi({},e)).join("")!=n})?function(r,e){for(var t=Pv(r),n=arguments.length,o=1,s=Ja.f,c=oh.f;n>o;)for(var v,m=Av(arguments[o++]),T=s?Xa(Hc(m),s(m)):Hc(m),O=T.length,D=0;O>D;)v=T[D++],Rv&&!_o(c,m,v)||(t[v]=m[v]);return t}:mi;xe({target:"Object",stat:!0,forced:Object.assign!==ah},{assign:ah});var We=$e.Object.assign,Xs=me([].slice),ea=me,Lv=un,is=Xe,tb=_t,zv=Xs,Bv=Zn,lh=ie.Function,ib=ea([].concat),$v=ea([].join),ch={},uh=function(r,e,t){if(!tb(ch,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";ch[e]=lh("C,a","return new C("+$v(n,",")+")")}return ch[e](r,t)},el=Bv?lh.bind:function(r){var e=Lv(this),t=e.prototype,n=zv(arguments,1),o=function(){var s=ib(n,zv(arguments));return this instanceof o?uh(e,s.length,s):e.apply(r,s)};return is(t)&&(o.prototype=t),o};xe({target:"Function",proto:!0,forced:Function.bind!==el},{bind:el});var Pr=$e,yi=function(r){return Pr[r+"Prototype"]},Vc=yi("Function").bind,jv=ot,ti=Vc,Kc=Function.prototype,ye=function(r){var e=r.bind;return r===Kc||jv(Kc,r)&&e===Kc.bind?ti:e};function Wc(r,e,t,n){r.beginPath(),r.arc(e,t,n,0,2*Math.PI,!1),r.closePath()}function il(r,e,t,n,o,s){var c=Math.PI/180;n-2*s<0&&(s=n/2),o-2*s<0&&(s=o/2),r.beginPath(),r.moveTo(e+s,t),r.lineTo(e+n-s,t),r.arc(e+n-s,t+s,s,270*c,360*c,!1),r.lineTo(e+n,t+o-s),r.arc(e+n-s,t+o-s,s,0,90*c,!1),r.lineTo(e+s,t+o),r.arc(e+s,t+o-s,s,90*c,180*c,!1),r.lineTo(e,t+s),r.arc(e+s,t+s,s,180*c,270*c,!1),r.closePath()}function An(r,e,t,n,o){var s=.5522848,c=n/2*s,v=o/2*s,m=e+n,T=t+o,O=e+n/2,D=t+o/2;r.beginPath(),r.moveTo(e,D),r.bezierCurveTo(e,D-v,O-c,t,O,t),r.bezierCurveTo(O+c,t,m,D-v,m,D),r.bezierCurveTo(m,D+v,O+c,T,O,T),r.bezierCurveTo(O-c,T,e,D+v,e,D),r.closePath()}function dh(r,e,t,n,o){var s=.3333333333333333*o,c=.5522848,v=n/2*c,m=s/2*c,T=e+n,O=t+s,D=e+n/2,R=t+s/2,B=t+(o-s/2),N=t+o;r.beginPath(),r.moveTo(T,R),r.bezierCurveTo(T,R+m,D+v,O,D,O),r.bezierCurveTo(D-v,O,e,R+m,e,R),r.bezierCurveTo(e,R-m,D-v,t,D,t),r.bezierCurveTo(D+v,t,T,R-m,T,R),r.lineTo(T,B),r.bezierCurveTo(T,B+m,D+v,N,D,N),r.bezierCurveTo(D-v,N,e,B+m,e,B),r.lineTo(e,R)}function nl(r,e,t,n,o,s){r.beginPath(),r.moveTo(e,t);for(var c=s.length,v=n-e,m=o-t,T=m/v,O=Math.sqrt(v*v+m*m),D=0,R=!0,B=0,N=+s[0];O>=.1;)(N=+s[D++%c])>O&&(N=O),B=Math.sqrt(N*N/(1+T*T)),e+=B=v<0?-B:B,t+=T*B,!0===R?r.lineTo(e,t):r.moveTo(e,t),O-=N,R=!R}var Ar={circle:Wc,dashedLine:nl,database:dh,diamond:function(r,e,t,n){r.beginPath(),r.lineTo(e,t+n),r.lineTo(e+n,t),r.lineTo(e,t-n),r.lineTo(e-n,t),r.closePath()},ellipse:An,ellipse_vis:An,hexagon:function(r,e,t,n){r.beginPath();var o=2*Math.PI/6;r.moveTo(e+n,t);for(var s=1;s<6;s++)r.lineTo(e+n*Math.cos(o*s),t+n*Math.sin(o*s));r.closePath()},roundRect:il,square:function(r,e,t,n){r.beginPath(),r.rect(e-n,t-n,2*n,2*n),r.closePath()},star:function(r,e,t,n){r.beginPath(),t+=.1*(n*=.82);for(var o=0;o<10;o++){var s=o%2==0?1.3*n:.5*n;r.lineTo(e+s*Math.sin(2*o*Math.PI/10),t-s*Math.cos(2*o*Math.PI/10))}r.closePath()},triangle:function(r,e,t,n){r.beginPath(),t+=.275*(n*=1.15);var o=2*n,s=o/2,c=Math.sqrt(3)/6*o,v=Math.sqrt(o*o-s*s);r.moveTo(e,t-(v-c)),r.lineTo(e+s,t+c),r.lineTo(e-s,t+c),r.lineTo(e,t-(v-c)),r.closePath()},triangleDown:function(r,e,t,n){r.beginPath(),t-=.275*(n*=1.15);var o=2*n,s=o/2,c=Math.sqrt(3)/6*o,v=Math.sqrt(o*o-s*s);r.moveTo(e,t+(v-c)),r.lineTo(e+s,t-c),r.lineTo(e-s,t-c),r.lineTo(e,t+(v-c)),r.closePath()}},Gc={exports:{}};!function(r){function e(t){if(t)return function(n){for(var o in e.prototype)n[o]=e.prototype[o];return n}(t)}r.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this},e.prototype.once=function(t,n){function o(){this.off(t,o),n.apply(this,arguments)}return o.fn=n,this.on(t,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o,s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var c=0;c<s.length;c++)if((o=s[c])===n||o.fn===n){s.splice(c,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+t],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(o){s=0;for(var c=(o=o.slice(0)).length;s<c;++s)o[s].apply(this,n)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Gc);var hh=Gc.exports,ir={};ir[ut("toStringTag")]="z";var rl="[object z]"===String(ir),Hv=ie,nb=rl,Vv=Ae,Oi=di,Kv=ut("toStringTag"),ph=Hv.Object,rb="Arguments"==Oi(function(){return arguments}()),ns=nb?Oi:function(r){var e,t,n;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(t=function(o,s){try{return o[s]}catch{}}(e=ph(r),Kv))?t:rb?Oi(e):"Object"==(n=Oi(e))&&Vv(e.callee)?"Arguments":n},ol=ns,Wv=ie.String,Tn=function(r){if("Symbol"===ol(r))throw TypeError("Cannot convert a Symbol value to a string");return Wv(r)},Uc=me,sl=qs,ta=Tn,Gv=Jn,Uv=Uc("".charAt),Yc=Uc("".charCodeAt),Yv=Uc("".slice),ia=function(r){return function(e,t){var n,o,s=ta(Gv(e)),c=sl(t),v=s.length;return c<0||c>=v?r?"":void 0:(n=Yc(s,c))<55296||n>56319||c+1===v||(o=Yc(s,c+1))<56320||o>57343?r?Uv(s,c):n:r?Yv(s,c,c+2):o-56320+(n-55296<<10)+65536}},qv={codeAt:ia(!1),charAt:ia(!0)},fh=Ae,qc=uo,ob=me(Function.toString);fh(qc.inspectSource)||(qc.inspectSource=function(r){return ob(r)});var al,nr,kn,wo=qc.inspectSource,Qc=wo,vh=ie.WeakMap,rs=Ae(vh)&&/native code/.test(Qc(vh)),mh=ho,yh=(0,co.exports)("keys"),rr=function(r){return yh[r]||(yh[r]=mh(r))},ll=me,Jc=Xe,sb=xn,Xc=_t,Pi=rr,Zv=Js,Jv="Object already initialized",bh=ie.TypeError;if(rs||uo.state){var Lr=uo.state||(uo.state=new(0,ie.WeakMap)),zr=ll(Lr.get),_h=ll(Lr.has),lb=ll(Lr.set);al=function(r,e){if(_h(Lr,r))throw new bh(Jv);return e.facade=r,lb(Lr,r,e),e},nr=function(r){return zr(Lr,r)||{}},kn=function(r){return _h(Lr,r)}}else{var xo=Pi("state");Zv[xo]=!0,al=function(r,e){if(Xc(r,xo))throw new bh(Jv);return e.facade=r,sb(r,xo,e),e},nr=function(r){return Xc(r,xo)?r[xo]:{}},kn=function(r){return Xc(r,xo)}}var or={set:al,get:nr,has:kn,enforce:function(r){return kn(r)?nr(r):al(r,{})},getterFor:function(r){return function(e){var t;if(!Jc(e)||(t=nr(e)).type!==r)throw bh("Incompatible receiver, "+r+" required");return t}}},eu=rt,Xv=Function.prototype,tu=eu&&Object.getOwnPropertyDescriptor,wh=_t(Xv,"name"),cl={EXISTS:wh,PROPER:wh&&"something"===function(){}.name,CONFIGURABLE:wh&&(!eu||eu&&tu(Xv,"name").configurable)},Br={},tg=$t,iu=Yt,ig=Xt,Co=Ze;Br.f=rt&&!Pc?Object.defineProperties:function(r,e){iu(r);for(var t,n=ig(e),o=Co(e),s=o.length,c=0;s>c;)tg.f(r,t=o[c++],n[t]);return r};var Ln,xh=bi("document","documentElement"),dl=Yt,ng=Br,nu=tr,Ch=Js,rg=xh,Th=Ua,kh=rr("IE_PROTO"),hl=function(){},Sh=function(r){return"<script>"+r+"<\/script>"},Eh=function(r){r.write(Sh("")),r.close();var e=r.parentWindow.Object;return r=null,e},ss=function(){try{Ln=new ActiveXObject("htmlfile")}catch{}var r,e;ss=typeof document<"u"?document.domain&&Ln?Eh(Ln):((e=Th("iframe")).style.display="none",rg.appendChild(e),e.src=String("javascript:"),(r=e.contentWindow.document).open(),r.write(Sh("document.F=Object")),r.close(),r.F):Eh(Ln);for(var t=nu.length;t--;)delete ss.prototype[nu[t]];return ss()};Ch[kh]=!0;var To,Oh,Ih,sr=Object.create||function(r,e){var t;return null!==r?(hl.prototype=dl(r),t=new hl,hl.prototype=null,t[kh]=r):t=ss(),void 0===e?t:ng.f(t,e)},as=!ke(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),og=ie,ru=_t,ar=Ae,na=Rt,ub=as,ou=rr("IE_PROTO"),pl=og.Object,db=pl.prototype,ko=ub?pl.getPrototypeOf:function(r){var e=na(r);if(ru(e,ou))return e[ou];var t=e.constructor;return ar(t)&&e instanceof t?t.prototype:e instanceof pl?db:null},sg=xn,ra=function(r,e,t,n){n&&n.enumerable?r[e]=t:sg(r,e,t)},hb=ke,ls=Ae,pb=sr,Dh=ko,fb=ra,So=ut("iterator"),lr=!1;[].keys&&("next"in(Ih=[].keys())?(Oh=Dh(Dh(Ih)))!==Object.prototype&&(To=Oh):lr=!0);var Mh=null==To||hb(function(){var r={};return To[So].call(r)!==r});ls((To=Mh?{}:pb(To))[So])||fb(To,So,function(){return this});var ag={IteratorPrototype:To,BUGGY_SAFARI_ITERATORS:lr},lg=ns,Fh=rl,cg=$t.f,su=xn,vb=_t,gb=rl?{}.toString:function(){return"[object "+lg(this)+"]"},ug=ut("toStringTag"),$r=function(r,e,t,n){if(r){var o=t?r:r.prototype;vb(o,ug)||cg(o,ug,{configurable:!0,value:e}),n&&!Fh&&su(o,"toString",gb)}},cs={},au=ag.IteratorPrototype,dg=sr,Rh=$i,lu=$r,Ai=cs,hg=function(){return this},pg=Ae,Ah=ie.String,Lh=ie.TypeError,fl=me,mb=Yt,vl=Object.setPrototypeOf||("__proto__"in{}?function(){var r,e=!1,t={};try{(r=fl(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch{}return function(n,o){return mb(n),function(r){if("object"==typeof r||pg(r))return r;throw Lh("Can't set "+Ah(r)+" as a prototype")}(o),e?r(n,o):n.__proto__=o,n}}():void 0),yb=xe,zh=ai,bb=ko,_b=$r,gg=ra,gl=cs,Bh=cl.PROPER,oa=ag.BUGGY_SAFARI_ITERATORS,$h=ut("iterator"),ml="values",jh="entries",mg=function(){return this},yl=function(r,e,t,n,o,s,c){!function(r,e,t,n){var o=e+" Iterator";r.prototype=dg(au,{next:Rh(+!n,t)}),lu(r,o,!1,!0),Ai[o]=hg}(t,e,n);var v,m,T,O=function(W){if(W===o&&V)return V;if(!oa&&W in B)return B[W];switch(W){case"keys":case ml:case jh:return function(){return new t(this,W)}}return function(){return new t(this)}},D=e+" Iterator",R=!1,B=r.prototype,N=B[$h]||B["@@iterator"]||o&&B[o],V=!oa&&N||O(o),Q="Array"==e&&B.entries||N;if(Q&&(v=bb(Q.call(new r)))!==Object.prototype&&v.next&&(_b(v,D,!0,!0),gl[D]=mg),Bh&&o==ml&&N&&N.name!==ml&&(R=!0,V=function(){return zh(N,this)}),o)if(m={values:O(ml),keys:s?V:O("keys"),entries:O(jh)},c)for(T in m)(oa||R||!(T in B))&&gg(B,T,m[T]);else yb({target:e,proto:!0,forced:oa||R},m);return c&&B[$h]!==V&&gg(B,$h,V,{name:o}),gl[e]=V,m},cu=qv.charAt,Hh=Tn,bl=yl,ji="String Iterator",_l=or.set,Vh=or.getterFor(ji);bl(String,"String",function(r){_l(this,{type:ji,string:Hh(r),index:0})},function(){var r,e=Vh(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(r=cu(t,n),e.index+=r.length,{value:r,done:!1})});var us=ai,du=Yt,wb=lo,hu=function(r,e,t){var n,o;du(r);try{if(!(n=wb(r,"return"))){if("throw"===e)throw t;return t}n=us(n,r)}catch(s){o=!0,n=s}if("throw"===e)throw t;if(o)throw n;return du(n),t},yg=Yt,Kh=hu,xb=cs,bg=ut("iterator"),pu=Array.prototype,_g=function(r){return void 0!==r&&(xb.Array===r||pu[bg]===r)},wl=me,Cb=ke,xl=Ae,Tb=ns,wg=wo,Cl=function(){},sa=[],xg=bi("Reflect","construct"),aa=/^\s*(?:class|function)\b/,fu=wl(aa.exec),kb=!aa.exec(Cl),ds=function(r){if(!xl(r))return!1;try{return xg(Cl,sa,r),!0}catch{return!1}},Tl=function(r){if(!xl(r))return!1;switch(Tb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return kb||!!fu(aa,wg(r))}catch{return!0}};Tl.sham=!0;var la=!xg||Cb(function(){var r;return ds(ds.call)||!ds(Object)||!ds(function(){r=!0})||r})?Tl:ds,Cg=dn,Sb=$t,Wh=$i,Eo=function(r,e,t){var n=Cg(e);n in r?Sb.f(r,n,Wh(0,t)):r[n]=t},Eb=ns,ca=lo,cr=cs,ur=ut("iterator"),kl=function(r){if(null!=r)return ca(r,ur)||ca(r,"@@iterator")||cr[Eb(r)]},Tg=ai,Oo=un,kg=Yt,Gh=ao,Sg=kl,Io=ie.TypeError,hs=function(r,e){var t=arguments.length<2?Sg(r):e;if(Oo(t))return kg(Tg(t,r));throw Io(Gh(r)+" is not iterable")},vu=wn,Eg=ai,Uh=Rt,Ob=function(r,e,t,n){try{return n?e(yg(t)[0],t[1]):e(t)}catch(o){Kh(r,"throw",o)}},gu=_g,Og=la,Ib=Ei,mu=Eo,yu=hs,Db=kl,Ig=ie.Array,bu=ut("iterator"),Do=!1;try{var Dg=0,ua={next:function(){return{done:!!Dg++}},return:function(){Do=!0}};ua[bu]=function(){return this},Array.from(ua,function(){throw 2})}catch{}xe({target:"Array",stat:!0,forced:!function(r,e){if(!Do)return!1;var t=!1;try{var n={};n[bu]=function(){return{next:function(){return{done:t=!0}}}},function(r){Array.from(r)}(n)}catch{}return t}()},{from:function(r){var e=Uh(r),t=Og(this),n=arguments.length,o=n>1?arguments[1]:void 0,s=void 0!==o;s&&(o=vu(o,n>2?arguments[2]:void 0));var c,v,m,T,O,D,R=Db(e),B=0;if(!R||this==Ig&&gu(R))for(c=Ib(e),v=t?new this(c):Ig(c);c>B;B++)D=s?o(e[B],B):e[B],mu(v,B,D);else for(O=(T=yu(e,R)).next,v=t?new this:[];!(m=Eg(O,T)).done;B++)D=s?Ob(T,o,[m.value,B],!0):m.value,mu(v,B,D);return v.length=B,v}});var Mo=$e.Array.from,dr=Mo,xu=Xt,Sl=cs,Mg=yl,El="Array Iterator",qh=or.set,Ol=or.getterFor(El);Mg(Array,"Array",function(r,e){qh(this,{type:El,target:xu(r),index:0,kind:e})},function(){var r=Ol(this),e=r.target,t=r.kind,n=r.index++;return!e||n>=e.length?(r.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:n,done:!1}:"values"==t?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),Sl.Arguments=Sl.Array;var Fg=kl,Il=ie,Pg=ns,Mb=xn,Qh=cs,Ag=ut("toStringTag");for(var Zh in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Jh=Il[Zh],Cu=Jh&&Jh.prototype;Cu&&Pg(Cu)!==Ag&&Mb(Cu,Ag,Zh),Qh[Zh]=Qh.Array}var p=Fg,k=di,i=Array.isArray||function(r){return"Array"==k(r)},l={},h=Nc,b=tr.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(r){return h(r,b)};var z={},K=Pn,te=Ei,fe=Eo,ve=ie.Array,Pe=Math.max,Je=function(r,e,t){for(var n=te(r),o=K(e,n),s=K(void 0===t?n:t,n),c=ve(Pe(s-o,0)),v=0;o<s;o++,v++)fe(c,v,r[o]);return c.length=v,c},He=di,wt=Xt,at=l.f,Qe=Je,Tt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];z.f=function(r){return Tt&&"Window"==He(r)?function(e){try{return at(e)}catch{return Qe(Tt)}}(r):at(wt(r))};var Bt={};Bt.f=ut;var xi=$e,qi=_t,zn=Bt,Dl=$t.f,Dt=function(r){var e=xi.Symbol||(xi.Symbol={});qi(e,r)||Dl(e,r,{value:zn.f(r)})},vn=ie,ps=i,Fw=la,Lg=Xe,Xh=ut("species"),zg=vn.Array,ep=function(r,e){return new(function(r){var e;return ps(r)&&(Fw(e=r.constructor)&&(e===zg||ps(e.prototype))||Lg(e)&&null===(e=e[Xh]))&&(e=void 0),void 0===e?zg:e}(r))(0===e?0:e)},tp=wn,Rw=oo,Fb=Rt,ip=Ei,Rb=ep,$g=me([].push),Fo=function(r){var e=1==r,t=2==r,n=3==r,o=4==r,s=6==r,c=7==r,v=5==r||s;return function(m,T,O,D){for(var R,B,N=Fb(m),V=Rw(N),Q=tp(T,O),W=ip(V),U=0,X=D||Rb,ue=e?X(m,W):t||c?X(m,0):void 0;W>U;U++)if((v||U in V)&&(B=Q(R=V[U],U,N),r))if(e)ue[U]=B;else if(B)switch(r){case 3:return!0;case 5:return R;case 6:return U;case 2:$g(ue,R)}else switch(r){case 4:return!1;case 7:$g(ue,R)}return s?-1:n||o?o:ue}},hr={forEach:Fo(0),map:Fo(1),filter:Fo(2),some:Fo(3),every:Fo(4),find:Fo(5),findIndex:Fo(6),filterReject:Fo(7)},fs=xe,pr=ie,Ng=bi,jg=sn,Tu=ai,Pb=me,Ml=rt,da=es,np=ke,fi=_t,Hg=i,Ab=Ae,Vg=Xe,Fl=ot,ha=Hs,rp=Yt,ku=Rt,fr=Xt,op=dn,Lb=Tn,Kg=$i,Su=sr,zb=Ze,Bb=l,$b=z,sp=jc,Wg=Lt,Nb=$t,jb=Br,Eu=ln,ap=Xs,Gg=ra,Rl=co.exports,Hb=Js,Vb=ho,Kb=ut,vi=Bt,Pl=Dt,Ug=$r,Wb=or,Ou=hr.forEach,Ii=rr("hidden"),Iu="Symbol",pa=Kb("toPrimitive"),fa=Wb.set,va=Wb.getterFor(Iu),Et=Object.prototype,Nr=pr.Symbol,jr=Nr&&Nr.prototype,Yg=pr.TypeError,qg=pr.QObject,Ro=Ng("JSON","stringify"),lp=Wg.f,vs=Nb.f,Al=$b.f,Qg=Eu.f,cp=Pb([].push),vr=Rl("symbols"),Po=Rl("op-symbols"),up=Rl("string-to-symbol-registry"),dp=Rl("symbol-to-string-registry"),Gb=Rl("wks"),Ll=!qg||!qg.prototype||!qg.prototype.findChild,hp=Ml&&np(function(){return 7!=Su(vs({},"a",{get:function(){return vs(this,"a",{value:7}).a}})).a})?function(r,e,t){var n=lp(Et,e);n&&delete Et[e],vs(r,e,t),n&&r!==Et&&vs(Et,e,n)}:vs,pp=function(r,e){var t=vr[r]=Su(jr);return fa(t,{type:Iu,tag:r,description:e}),Ml||(t.description=e),t},fp=function(r,e,t){r===Et&&fp(Po,e,t),rp(r);var n=op(e);return rp(t),fi(vr,n)?(t.enumerable?(fi(r,Ii)&&r[Ii][n]&&(r[Ii][n]=!1),t=Su(t,{enumerable:Kg(0,!1)})):(fi(r,Ii)||vs(r,Ii,Kg(1,{})),r[Ii][n]=!0),hp(r,n,t)):vs(r,n,t)},vp=function(r,e){rp(r);var t=fr(e),n=zb(t).concat(Du(t));return Ou(n,function(o){Ml&&!Tu(Ub,t,o)||fp(r,o,t[o])}),r},Ub=function(r){var e=op(r),t=Tu(Qg,this,e);return!(this===Et&&fi(vr,e)&&!fi(Po,e))&&(!(t||!fi(this,e)||!fi(vr,e)||fi(this,Ii)&&this[Ii][e])||t)},gp=function(r,e){var t=fr(r),n=op(e);if(t!==Et||!fi(vr,n)||fi(Po,n)){var o=lp(t,n);return!o||!fi(vr,n)||fi(t,Ii)&&t[Ii][n]||(o.enumerable=!0),o}},zl=function(r){var e=Al(fr(r)),t=[];return Ou(e,function(n){fi(vr,n)||fi(Hb,n)||cp(t,n)}),t},Du=function(r){var e=r===Et,t=Al(e?Po:fr(r)),n=[];return Ou(t,function(o){!fi(vr,o)||e&&!fi(Et,o)||cp(n,vr[o])}),n};if(da||(Nr=function(){if(Fl(jr,this))throw Yg("Symbol is not a constructor");var r=arguments.length&&void 0!==arguments[0]?Lb(arguments[0]):void 0,e=Vb(r),t=function(n){this===Et&&Tu(t,Po,n),fi(this,Ii)&&fi(this[Ii],e)&&(this[Ii][e]=!1),hp(this,e,Kg(1,n))};return Ml&&Ll&&hp(Et,e,{configurable:!0,set:t}),pp(e,r)},Gg(jr=Nr.prototype,"toString",function(){return va(this).tag}),Gg(Nr,"withoutSetter",function(r){return pp(Vb(r),r)}),Eu.f=Ub,Nb.f=fp,jb.f=vp,Wg.f=gp,Bb.f=$b.f=zl,sp.f=Du,vi.f=function(r){return pp(Kb(r),r)},Ml&&vs(jr,"description",{configurable:!0,get:function(){return va(this).description}})),fs({global:!0,wrap:!0,forced:!da,sham:!da},{Symbol:Nr}),Ou(zb(Gb),function(r){Pl(r)}),fs({target:Iu,stat:!0,forced:!da},{for:function(r){var e=Lb(r);if(fi(up,e))return up[e];var t=Nr(e);return up[e]=t,dp[t]=e,t},keyFor:function(r){if(!ha(r))throw Yg(r+" is not a symbol");if(fi(dp,r))return dp[r]},useSetter:function(){Ll=!0},useSimple:function(){Ll=!1}}),fs({target:"Object",stat:!0,forced:!da,sham:!Ml},{create:function(r,e){return void 0===e?Su(r):vp(Su(r),e)},defineProperty:fp,defineProperties:vp,getOwnPropertyDescriptor:gp}),fs({target:"Object",stat:!0,forced:!da},{getOwnPropertyNames:zl,getOwnPropertySymbols:Du}),fs({target:"Object",stat:!0,forced:np(function(){sp.f(1)})},{getOwnPropertySymbols:function(r){return sp.f(ku(r))}}),Ro&&fs({target:"JSON",stat:!0,forced:!da||np(function(){var r=Nr();return"[null]"!=Ro([r])||"{}"!=Ro({a:r})||"{}"!=Ro(Object(r))})},{stringify:function(r,e,t){var n=ap(arguments),o=e;if((Vg(e)||void 0!==r)&&!ha(r))return Hg(e)||(e=function(s,c){if(Ab(o)&&(c=Tu(o,this,s,c)),!ha(c))return c}),n[1]=e,jg(Ro,null,n)}}),!jr[pa]){var qb=jr.valueOf;Gg(jr,pa,function(r){return Tu(qb,this)})}Ug(Nr,Iu),Hb[Ii]=!0;var gs=$e.Object.getOwnPropertySymbols,ga={exports:{}},Pw=xe,mp=Xt,Qi=Lt.f,Mu=rt,Fu=ke(function(){Qi(1)});Pw({target:"Object",stat:!0,forced:!Mu||Fu,sham:!Mu},{getOwnPropertyDescriptor:function(r,e){return Qi(mp(r),e)}});var Qb=$e.Object,Zb=ga.exports=function(r,e){return Qb.getOwnPropertyDescriptor(r,e)};Qb.getOwnPropertyDescriptor.sham&&(Zb.sham=!0);var Bn=ga.exports,Hi=Bn,ma=bi,Jb=l,Jg=jc,ya=Yt,Xb=me([].concat),Ao=ma("Reflect","ownKeys")||function(r){var e=Jb.f(ya(r)),t=Jg.f;return t?Xb(e,t(r)):e},e_=Ao,Aw=Xt,t_=Lt,Lo=Eo;xe({target:"Object",stat:!0,sham:!rt},{getOwnPropertyDescriptors:function(r){for(var e,t,n=Aw(r),o=t_.f,s=e_(n),c={},v=0;s.length>v;)void 0!==(t=o(n,e=s[v++]))&&Lo(c,e,t);return c}});var $n=$e.Object.getOwnPropertyDescriptors,yp={exports:{}},_p=Br.f;xe({target:"Object",stat:!0,forced:Object.defineProperties!==_p,sham:!rt},{defineProperties:_p});var Ru=$e.Object,Xg=yp.exports=function(r,e){return Ru.defineProperties(r,e)};Ru.defineProperties.sham&&(Xg.sham=!0);var ba=yp.exports,Pu={exports:{}},wp=$t.f;xe({target:"Object",stat:!0,forced:Object.defineProperty!==wp,sham:!rt},{defineProperty:wp});var xp=$e.Object,zw=Pu.exports=function(r,e,t){return xp.defineProperty(r,e,t)};xp.defineProperty.sham&&(zw.sham=!0);var n_=Pu.exports,Au=n_;function Te(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Cp=n_;function r_(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Cp(r,n.key,n)}}function Se(r,e,t){return e&&r_(r.prototype,e),t&&r_(r,t),Cp(r,"prototype",{writable:!1}),r}function Bl(r,e,t){return e in r?Cp(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}xe({target:"Array",stat:!0},{isArray:i});var $l=$e.Array.isArray,o_=$l,tm=ke,s_=Rn,a_=ut("species"),Nl=function(r){return s_>=51||!tm(function(){var e=[];return(e.constructor={})[a_]=function(){return{foo:1}},1!==e[r](Boolean).foo})},Bw=xe,$w=ie,Nw=ke,jw=i,l_=Xe,Hw=Rt,Vw=Ei,c_=Eo,Kw=ep,im=Nl,u_=Rn,nm=ut("isConcatSpreadable"),Tp=9007199254740991,kp="Maximum allowed index exceeded",Lu=$w.TypeError,Ww=u_>=51||!Nw(function(){var r=[];return r[nm]=!1,r.concat()[0]!==r}),Gw=im("concat"),d_=function(r){if(!l_(r))return!1;var e=r[nm];return void 0!==e?!!e:jw(r)};Bw({target:"Array",proto:!0,forced:!Ww||!Gw},{concat:function(r){var e,t,n,o,s,c=Hw(this),v=Kw(c,0),m=0;for(e=-1,n=arguments.length;e<n;e++)if(d_(s=-1===e?c:arguments[e])){if(m+(o=Vw(s))>Tp)throw Lu(kp);for(t=0;t<o;t++,m++)t in s&&c_(v,m,s[t])}else{if(m>=Tp)throw Lu(kp);c_(v,m++,s)}return v.length=m,v}}),Dt("asyncIterator"),Dt("hasInstance"),Dt("isConcatSpreadable"),Dt("iterator"),Dt("match"),Dt("matchAll"),Dt("replace"),Dt("search"),Dt("species"),Dt("split"),Dt("toPrimitive"),Dt("toStringTag"),Dt("unscopables"),$r(ie.JSON,"JSON",!0);var rm=$e.Symbol,h_=rm;Dt("asyncDispose"),Dt("dispose"),Dt("matcher"),Dt("metadata"),Dt("observable"),Dt("patternMatch"),Dt("replaceAll");var jl=h_,Hl=xe,zu=ie,p_=i,Uw=la,Yw=Xe,Sp=Pn,f_=Ei,v_=Xt,qw=Eo,Qw=ut,g_=Xs,m_=Nl("slice"),om=Qw("species"),Ep=zu.Array,Zw=Math.max;Hl({target:"Array",proto:!0,forced:!m_},{slice:function(r,e){var t,n,o,s=v_(this),c=f_(s),v=Sp(r,c),m=Sp(void 0===e?c:e,c);if(p_(s)&&((Uw(t=s.constructor)&&(t===Ep||p_(t.prototype))||Yw(t)&&null===(t=t[om]))&&(t=void 0),t===Ep||void 0===t))return g_(s,v,m);for(n=new(void 0===t?Ep:t)(Zw(m-v,0)),o=0;v<m;v++,o++)v in s&&qw(n,o,s[v]);return n.length=o,n}});var y_=yi("Array").slice,Jw=ot,sm=y_,am=Array.prototype,Bu=function(r){var e=r.slice;return r===am||Jw(am,r)&&e===am.slice?sm:e},Xw=Bu,Op=Mo;function lm(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function b_(r,e){var t;if(r){if("string"==typeof r)return lm(r,e);var n=Xw(t=Object.prototype.toString.call(r)).call(t,8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Op(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(r,e):void 0}}function ii(r,e){return function(t){if(o_(t))return t}(r)||function(t,n){var o=null==t?null:void 0!==jl&&p(t)||t["@@iterator"];if(null!=o){var s,c,v=[],m=!0,T=!1;try{for(o=o.call(t);!(m=(s=o.next()).done)&&(v.push(s.value),!n||v.length!==n);m=!0);}catch(O){T=!0,c=O}finally{try{m||null==o.return||o.return()}finally{if(T)throw c}}return v}}(r,e)||b_(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gi=Bt.f("iterator");function Ot(r){return(Ot="function"==typeof jl&&"symbol"==typeof gi?function(e){return typeof e}:function(e){return e&&"function"==typeof jl&&e.constructor===jl&&e!==jl.prototype?"symbol":typeof e})(r)}function Nn(r){return function(e){if(o_(e))return lm(e)}(r)||function(e){if(void 0!==jl&&null!=p(e)||null!=e["@@iterator"])return Op(e)}(r)||b_(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bo=rm,e1=yi("Array").concat,$u=ot,t1=e1,Hr=Array.prototype,Nu=function(r){var e=r.concat;return r===Hr||$u(Hr,r)&&e===Hr.concat?t1:e},gt=Bu;xe({target:"Reflect",stat:!0},{ownKeys:Ao});var Pt=$l,cm=hr.map;xe({target:"Array",proto:!0,forced:!Nl("map")},{map:function(r){return cm(this,r,arguments.length>1?arguments[1]:void 0)}});var __=yi("Array").map,n1=ot,Ip=__,wa=Array.prototype,ci=function(r){var e=r.map;return r===wa||n1(wa,r)&&e===wa.map?Ip:e},Dp=Rt,um=Ze;xe({target:"Object",stat:!0,forced:ke(function(){um(1)})},{keys:function(r){return um(Dp(r))}});var mt=$e.Object.keys,Ci=xe,x_=ie.Date,C_=me(x_.prototype.getTime);Ci({target:"Date",stat:!0},{now:function(){return C_(new x_)}});var Kl=$e.Date.now,Mp=ke,Vr=function(r,e){var t=[][r];return!!t&&Mp(function(){t.call(null,e||function(){return 1},1)})},ju=hr.forEach,Fp=Vr("forEach")?[].forEach:function(r){return ju(this,r,arguments.length>1?arguments[1]:void 0)};xe({target:"Array",proto:!0,forced:[].forEach!=Fp},{forEach:Fp});var Zi=yi("Array").forEach,dm=ns,Wl=_t,hm=ot,T_=Zi,Rp=Array.prototype,pm={DOMTokenList:!0,NodeList:!0},jt=function(r){var e=r.forEach;return r===Rp||hm(Rp,r)&&e===Rp.forEach||Wl(pm,dm(r))?T_:e},r1=xe,k_=i,S_=me([].reverse),Hu=[1,2];r1({target:"Array",proto:!0,forced:String(Hu)===String(Hu.reverse())},{reverse:function(){return k_(this)&&(this.length=this.length),S_(this)}});var gn=yi("Array").reverse,Pp=ot,Vu=gn,Gl=Array.prototype,Ji=function(r){var e=r.reverse;return r===Gl||Pp(Gl,r)&&e===Gl.reverse?Vu:e},gr=xe,$o=ie,ms=Pn,fm=qs,vm=Ei,Ku=Rt,E_=ep,Kr=Eo,O_=Nl("splice"),s1=$o.TypeError,I_=Math.max,No=Math.min,Wu=9007199254740991,gm="Maximum allowed length exceeded";gr({target:"Array",proto:!0,forced:!O_},{splice:function(r,e){var t,n,o,s,c,v,m=Ku(this),T=vm(m),O=ms(r,T),D=arguments.length;if(0===D?t=n=0:1===D?(t=0,n=T-O):(t=D-2,n=No(I_(fm(e),0),T-O)),T+t-n>Wu)throw s1(gm);for(o=E_(m,n),s=0;s<n;s++)(c=O+s)in m&&Kr(o,s,m[c]);if(o.length=n,t<n){for(s=O;s<T-n;s++)v=s+t,(c=s+n)in m?m[v]=m[c]:delete m[v];for(s=T;s>T-n+t;s--)delete m[s-1]}else if(t>n)for(s=T-n;s>O;s--)v=s+t-1,(c=s+n-1)in m?m[v]=m[c]:delete m[v];for(s=0;s<t;s++)m[s+O]=arguments[s+2];return m.length=T-n+t,o}});var mm=yi("Array").splice,a1=ot,ym=mm,Gu=Array.prototype,jn=function(r){var e=r.splice;return r===Gu||a1(Gu,r)&&e===Gu.splice?ym:e},_m=yo.includes;xe({target:"Array",proto:!0},{includes:function(r){return _m(this,r,arguments.length>1?arguments[1]:void 0)}});var l1=yi("Array").includes,D_=Xe,M_=di,F_=ut("match"),xm=ie.TypeError,R_=ut("match"),P_=xe,c1=function(r){if(function(r){var e;return D_(r)&&(void 0!==(e=r[F_])?!!e:"RegExp"==M_(r))}(r))throw xm("The method doesn't accept regular expressions");return r},u1=Jn,A_=Tn,L_=me("".indexOf);P_({target:"String",proto:!0,forced:!function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[R_]=!1,"/./"[r](e)}catch{}}return!1}("includes")},{includes:function(r){return!!~L_(A_(u1(this)),A_(c1(r)),arguments.length>1?arguments[1]:void 0)}});var d1=yi("String").includes,z_=ot,h1=l1,xa=d1,Uu=Array.prototype,Cm=String.prototype,mr=function(r){var e=r.includes;return r===Uu||z_(Uu,r)&&e===Uu.includes?h1:"string"==typeof r||r===Cm||z_(Cm,r)&&e===Cm.includes?xa:e},Tm=Rt,B_=ko,f1=as;xe({target:"Object",stat:!0,forced:ke(function(){B_(1)}),sham:!f1},{getPrototypeOf:function(r){return B_(Tm(r))}});var $_=$e.Object.getPrototypeOf,km=$_,v1=hr.filter;xe({target:"Array",proto:!0,forced:!Nl("filter")},{filter:function(r){return v1(this,r,arguments.length>1?arguments[1]:void 0)}});var g1=yi("Array").filter,m1=ot,y1=g1,Sm=Array.prototype,Vi=function(r){var e=r.filter;return r===Sm||m1(Sm,r)&&e===Sm.filter?y1:e},_1=rt,N_=me,w1=Ze,j_=Xt,x1=N_(ln.f),C1=N_([].push),H_=function(r){return function(e){for(var t,n=j_(e),o=w1(n),s=o.length,c=0,v=[];s>c;)t=o[c++],_1&&!x1(n,t)||C1(v,r?[t,n[t]]:n[t]);return v}},V_=(H_(!0),H_(!1));xe({target:"Object",stat:!0},{values:function(r){return V_(r)}});var K_="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",T1=Jn,W_=Tn,Em=me("".replace),Yu="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",k1=RegExp("^"+Yu+Yu+"*"),Om=RegExp(Yu+Yu+"*$"),Im=function(r){return function(e){var t=W_(T1(e));return 1&r&&(t=Em(t,k1,"")),2&r&&(t=Em(t,Om,"")),t}},Lp={start:Im(1),end:Im(2),trim:Im(3)},zp=ke,E1=Tn,Bp=Lp.trim,Mm=K_,Ul=ie.parseInt,G_=ie.Symbol,U_=G_&&G_.iterator,Y_=/^[+-]?0x/i,q_=me(Y_.exec),Fm=8!==Ul(Mm+"08")||22!==Ul(Mm+"0x16")||U_&&!zp(function(){Ul(Object(U_))})?function(r,e){var t=Bp(E1(r));return Ul(t,e>>>0||(q_(Y_,t)?16:10))}:Ul;xe({global:!0,forced:parseInt!=Fm},{parseInt:Fm});var Xi=$e.parseInt,Q_=xe,Z_=yo.indexOf,Rm=Vr,Pm=me([].indexOf),Am=!!Pm&&1/Pm([1],1,-0)<0,O1=Rm("indexOf");Q_({target:"Array",proto:!0,forced:Am||!O1},{indexOf:function(r){var e=arguments.length>1?arguments[1]:void 0;return Am?Pm(this,r,e)||0:Z_(this,r,e)}});var r,I1=yi("Array").indexOf,D1=ot,Lm=I1,$p=Array.prototype,kt=function(r){var e=r.indexOf;return r===$p||D1($p,r)&&e===$p.indexOf?Lm:e},F1=cl.PROPER,X_=K_,R1=Lp.trim;xe({target:"String",proto:!0,forced:(r="trim",ke(function(){return!!X_[r]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[r]()||F1&&X_[r].name!==r}))},{trim:function(){return R1(this)}}),yi("String"),xe({target:"Object",stat:!0,sham:!rt},{create:sr});var zm=$e.Object,Bm=function(r,e){return zm.create(r,e)},ys=Bm,e0=xe,qu=sn,Qu=me,A1=ke,Np=ie.Array,Ca=bi("JSON","stringify"),Zu=Qu(/./.exec),t0=Qu("".charAt),L1=Qu("".charCodeAt),z1=Qu("".replace),B1=Qu(1..toString),n0=/[\uD800-\uDFFF]/g,$m=/^[\uD800-\uDBFF]$/,r0=/^[\uDC00-\uDFFF]$/,$1=function(r,e,t){var n=t0(t,e-1),o=t0(t,e+1);return Zu($m,r)&&!Zu(r0,o)||Zu(r0,r)&&!Zu($m,n)?"\\u"+B1(L1(r,0),16):r},Nm=A1(function(){return'"\\udf06\\ud834"'!==Ca("\udf06\ud834")||'"\\udead"'!==Ca("\udead")});Ca&&e0({target:"JSON",stat:!0,forced:Nm},{stringify:function(r,e,t){for(var n=0,o=arguments.length,s=Np(o);n<o;n++)s[n]=arguments[n];var c=qu(Ca,null,s);return"string"==typeof c?z1(c,n0,$1):c}});var jm=$e,N1=sn;jm.JSON||(jm.JSON={stringify:JSON.stringify});var Ju=function(r,e,t){return N1(jm.JSON.stringify,null,arguments)},H1=ie.TypeError,Hm=xe,jp=ie,V1=sn,K1=Ae,W1=Xs,G1=function(r,e){if(r<e)throw H1("Not enough arguments");return r},U1=/MSIE .\./.test(_i),o0=jp.Function,s0=function(r){return function(e,t){var n=G1(arguments.length,1)>2,o=K1(e)?e:o0(e),s=n?W1(arguments,2):void 0;return r(n?function(){V1(o,this,s)}:o,t)}};Hm({global:!0,bind:!0,forced:U1},{setTimeout:s0(jp.setTimeout),setInterval:s0(jp.setInterval)});var Wr=$e.setTimeout,a0=Rt,l0=Pn,Y1=Ei;xe({target:"Array",proto:!0},{fill:function(r){for(var e=a0(this),t=Y1(e),n=arguments.length,o=l0(n>1?arguments[1]:void 0,t),s=n>2?arguments[2]:void 0,c=void 0===s?t:l0(s,t);c>o;)e[o++]=r;return e}});var Vm,q1=yi("Array").fill,yr=ot,Sn=q1,Yl=Array.prototype,Hn=function(r){var e=r.fill;return r===Yl||yr(Yl,r)&&e===Yl.fill?Sn:e};function Vn(){return Vn=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Vn.apply(this,arguments)}function Kn(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function jo(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}Vm="function"!=typeof Object.assign?function(r){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var mn,Ho=Vm,Xu=["","webkit","Moz","MS","ms","o"],c0=typeof document>"u"?{style:{}}:document.createElement("div"),ka=Math.round,Gr=Math.abs,Hp=Date.now;function ql(r,e){for(var t,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<Xu.length;){if((n=(t=Xu[s])?t+o:e)in r)return n;s++}}mn=typeof window>"u"?{}:window;var Sa=ql(c0.style,"touchAction"),ed=void 0!==Sa,td="compute",Vp="manipulation",Ql="none",id="pan-x",_s="pan-y",Zl=function(){if(!ed)return!1;var r={},e=mn.CSS&&mn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return r[t]=!e||mn.CSS.supports("touch-action",t)}),r}(),Jl="ontouchstart"in mn,Kp=void 0!==ql(mn,"PointerEvent"),u0=Jl&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ws="touch",br="mouse",Wp=["x","y"],Cs=["clientX","clientY"];function _r(r,e,t){var n;if(r)if(r.forEach)r.forEach(e,t);else if(void 0!==r.length)for(n=0;n<r.length;)e.call(t,r[n],n,r),n++;else for(n in r)r.hasOwnProperty(n)&&e.call(t,r[n],n,r)}function nd(r,e){return"function"==typeof r?r.apply(e&&e[0]||void 0,e):r}function ni(r,e){return r.indexOf(e)>-1}var Gp=function(){function r(t,n){this.manager=t,this.set(n)}var e=r.prototype;return e.set=function(t){t===td&&(t=this.compute()),ed&&this.manager.element.style&&Zl[t]&&(this.manager.element.style[Sa]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return _r(this.manager.recognizers,function(n){nd(n.options.enable,[n])&&(t=t.concat(n.getTouchAction()))}),function(n){if(ni(n,Ql))return Ql;var o=ni(n,id),s=ni(n,_s);return o&&s?Ql:o||s?o?id:_s:ni(n,Vp)?Vp:"auto"}(t.join(" "))},e.preventDefaults=function(t){var n=t.srcEvent,o=t.offsetDirection;if(this.manager.session.prevented)n.preventDefault();else{var s=this.actions,c=ni(s,Ql)&&!Zl.none,v=ni(s,_s)&&!Zl["pan-y"],m=ni(s,id)&&!Zl["pan-x"];if(c&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!m||!v)return c||v&&6&o||m&&24&o?this.preventSrc(n):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},r}();function Up(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function Km(r){var e=r.length;if(1===e)return{x:ka(r[0].clientX),y:ka(r[0].clientY)};for(var t=0,n=0,o=0;o<e;)t+=r[o].clientX,n+=r[o].clientY,o++;return{x:ka(t/e),y:ka(n/e)}}function Wm(r){for(var e=[],t=0;t<r.pointers.length;)e[t]={clientX:ka(r.pointers[t].clientX),clientY:ka(r.pointers[t].clientY)},t++;return{timeStamp:Hp(),pointers:e,center:Km(e),deltaX:r.deltaX,deltaY:r.deltaY}}function Yp(r,e,t){t||(t=Wp);var n=e[t[0]]-r[t[0]],o=e[t[1]]-r[t[1]];return Math.sqrt(n*n+o*o)}function Oa(r,e,t){return t||(t=Wp),180*Math.atan2(e[t[1]]-r[t[1]],e[t[0]]-r[t[0]])/Math.PI}function Xl(r,e){return r===e?1:Gr(r)>=Gr(e)?r<0?2:4:e<0?8:16}function ec(r,e,t){return{x:e/r||0,y:t/r||0}}function Ti(r,e,t){var n=t.pointers.length,o=t.changedPointers.length,s=1&e&&n-o==0,c=12&e&&n-o==0;t.isFirst=!!s,t.isFinal=!!c,s&&(r.session={}),t.eventType=e,function d0(r,e){var t=r.session,n=e.pointers,o=n.length;t.firstInput||(t.firstInput=Wm(e)),o>1&&!t.firstMultiple?t.firstMultiple=Wm(e):1===o&&(t.firstMultiple=!1);var V,Q,W,U,X,ue,s=t.firstInput,c=t.firstMultiple,v=c?c.center:s.center,m=e.center=Km(n);e.timeStamp=Hp(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Oa(v,m),e.distance=Yp(v,m),W=(Q=e).center,U=(V=t).offsetDelta||{},X=V.prevDelta||{},ue=V.prevInput||{},1!==Q.eventType&&4!==ue.eventType||(X=V.prevDelta={x:ue.deltaX||0,y:ue.deltaY||0},U=V.offsetDelta={x:W.x,y:W.y}),Q.deltaX=X.x+(W.x-U.x),Q.deltaY=X.y+(W.y-U.y),e.offsetDirection=Xl(e.deltaX,e.deltaY);var T,O,D=ec(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=D.x,e.overallVelocityY=D.y,e.overallVelocity=Gr(D.x)>Gr(D.y)?D.x:D.y,e.scale=c?(T=c.pointers,Yp((O=n)[0],O[1],Cs)/Yp(T[0],T[1],Cs)):1,e.rotation=c?function(V,Q){return Oa(Q[1],Q[0],Cs)+Oa(V[1],V[0],Cs)}(c.pointers,n):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(V,Q){var W,U,X,ue,re=V.lastInterval||Q,Ie=Q.timeStamp-re.timeStamp;if(8!==Q.eventType&&(Ie>25||void 0===re.velocity)){var ne=Q.deltaX-re.deltaX,he=Q.deltaY-re.deltaY,Y=ec(Ie,ne,he);U=Y.x,X=Y.y,W=Gr(Y.x)>Gr(Y.y)?Y.x:Y.y,ue=Xl(ne,he),V.lastInterval=Q}else W=re.velocity,U=re.velocityX,X=re.velocityY,ue=re.direction;Q.velocity=W,Q.velocityX=U,Q.velocityY=X,Q.direction=ue}(t,e);var R,B=r.element,N=e.srcEvent;Up(R=N.composedPath?N.composedPath()[0]:N.path?N.path[0]:N.target,B)&&(B=R),e.target=B}(r,t),r.emit("hammer.input",t),r.recognize(t),r.session.prevInput=t}function wr(r){return r.trim().split(/\s+/g)}function rd(r,e,t){_r(wr(e),function(n){r.addEventListener(n,t,!1)})}function od(r,e,t){_r(wr(e),function(n){r.removeEventListener(n,t,!1)})}function Li(r){var e=r.ownerDocument||r;return e.defaultView||e.parentWindow||window}var xr=function(){function r(t,n){var o=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){nd(t.options.enable,[t])&&o.handler(s)},this.init()}var e=r.prototype;return e.handler=function(){},e.init=function(){this.evEl&&rd(this.element,this.evEl,this.domHandler),this.evTarget&&rd(this.target,this.evTarget,this.domHandler),this.evWin&&rd(Li(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&od(this.element,this.evEl,this.domHandler),this.evTarget&&od(this.target,this.evTarget,this.domHandler),this.evWin&&od(Li(this.element),this.evWin,this.domHandler)},r}();function Ts(r,e,t){if(r.indexOf&&!t)return r.indexOf(e);for(var n=0;n<r.length;){if(t&&r[n][t]==e||!t&&r[n]===e)return n;n++}return-1}var sd={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Gm={2:ws,3:"pen",4:br,5:"kinect"},h0="pointerdown",qp="pointermove pointerup pointercancel";mn.MSPointerEvent&&!mn.PointerEvent&&(h0="MSPointerDown",qp="MSPointerMove MSPointerUp MSPointerCancel");var Qp=function(r){function e(){var t,n=e.prototype;return n.evEl=h0,n.evWin=qp,(t=r.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Kn(e,r),e.prototype.handler=function(t){var n=this.store,o=!1,s=t.type.toLowerCase().replace("ms",""),c=sd[s],v=Gm[t.pointerType]||t.pointerType,m=v===ws,T=Ts(n,t.pointerId,"pointerId");1&c&&(0===t.button||m)?T<0&&(n.push(t),T=n.length-1):12&c&&(o=!0),T<0||(n[T]=t,this.callback(this.manager,c,{pointers:n,changedPointers:[t],pointerType:v,srcEvent:t}),o&&n.splice(T,1))},e}(xr);function ad(r){return Array.prototype.slice.call(r,0)}function Um(r,e,t){for(var n=[],o=[],s=0;s<r.length;){var c=e?r[s][e]:r[s];Ts(o,c)<0&&n.push(r[s]),o[s]=c,s++}return t&&(n=e?n.sort(function(v,m){return v[e]>m[e]}):n.sort()),n}var Zp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ld="touchstart touchmove touchend touchcancel",cd=function(r){function e(){var t;return e.prototype.evTarget=ld,(t=r.apply(this,arguments)||this).targetIds={},t}return Kn(e,r),e.prototype.handler=function(t){var n=Zp[t.type],o=p0.call(this,t,n);o&&this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:ws,srcEvent:t})},e}(xr);function p0(r,e){var t,n,o=ad(r.touches),s=this.targetIds;if(3&e&&1===o.length)return s[o[0].identifier]=!0,[o,o];var c=ad(r.changedTouches),v=[],m=this.target;if(n=o.filter(function(T){return Up(T.target,m)}),1===e)for(t=0;t<n.length;)s[n[t].identifier]=!0,t++;for(t=0;t<c.length;)s[c[t].identifier]&&v.push(c[t]),12&e&&delete s[c[t].identifier],t++;return v.length?[Um(n.concat(v),"identifier",!0),v]:void 0}var Q1={mousedown:1,mousemove:2,mouseup:4},Z1="mousedown",f0="mousemove mouseup",ks=function(r){function e(){var t,n=e.prototype;return n.evEl=Z1,n.evWin=f0,(t=r.apply(this,arguments)||this).pressed=!1,t}return Kn(e,r),e.prototype.handler=function(t){var n=Q1[t.type];1&n&&0===t.button&&(this.pressed=!0),2&n&&1!==t.which&&(n=4),this.pressed&&(4&n&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:br,srcEvent:t}))},e}(xr);function Yr(r){var e=r.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var o=n.indexOf(t);o>-1&&n.splice(o,1)},2500)}}function en(r,e){1&r?(this.primaryTouch=e.changedPointers[0].identifier,Yr.call(this,e)):12&r&&Yr.call(this,e)}function Jp(r){for(var e=r.srcEvent.clientX,t=r.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],s=Math.abs(e-o.x),c=Math.abs(t-o.y);if(s<=25&&c<=25)return!0}return!1}var Ym=function(r){function e(t,n){var o;return(o=r.call(this,t,n)||this).handler=function(s,c,v){var T=v.pointerType===br;if(!(T&&v.sourceCapabilities&&v.sourceCapabilities.firesTouchEvents)){if(v.pointerType===ws)en.call(jo(jo(o)),c,v);else if(T&&Jp.call(jo(jo(o)),v))return;o.callback(s,c,v)}},o.touch=new cd(o.manager,o.handler),o.mouse=new ks(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return Kn(e,r),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(xr);function Cr(r,e,t){return!!Array.isArray(r)&&(_r(r,t[e],t),!0)}var tc=1;function ud(r,e){var t=e.manager;return t?t.get(r):r}function Xp(r){return 16&r?"cancel":8&r?"end":4&r?"move":2&r?"start":""}var ic=function(){function r(t){void 0===t&&(t={}),this.options=Vn({enable:!0},t),this.id=tc++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=r.prototype;return e.set=function(t){return Ho(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Cr(t,"recognizeWith",this))return this;var n=this.simultaneous;return n[(t=ud(t,this)).id]||(n[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Cr(t,"dropRecognizeWith",this)||(t=ud(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Cr(t,"requireFailure",this))return this;var n=this.requireFail;return-1===Ts(n,t=ud(t,this))&&(n.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Cr(t,"dropRequireFailure",this))return this;t=ud(t,this);var n=Ts(this.requireFail,t);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var n=this,o=this.state;function s(c){n.manager.emit(c,t)}o<8&&s(n.options.event+Xp(o)),s(n.options.event),t.additionalEvent&&s(t.additionalEvent),o>=8&&s(n.options.event+Xp(o))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var n=Ho({},t);if(!nd(this.options.enable,[this,n]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(n),30&this.state&&this.tryEmit(n)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},r}(),ef=function(r){function e(n){var o;return void 0===n&&(n={}),(o=r.call(this,Vn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this).pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Vp]},t.process=function(n){var o=this,s=this.options,c=n.pointers.length===s.pointers,v=n.distance<s.threshold,m=n.deltaTime<s.time;if(this.reset(),1&n.eventType&&0===this.count)return this.failTimeout();if(v&&m&&c){if(4!==n.eventType)return this.failTimeout();var T=!this.pTime||n.timeStamp-this.pTime<s.interval,O=!this.pCenter||Yp(this.pCenter,n.center)<s.posThreshold;if(this.pTime=n.timeStamp,this.pCenter=n.center,O&&T?this.count+=1:this.count=1,this._input=n,this.count%s.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=8,o.tryEmit()},s.interval),2):8}return 32},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=32},this.options.interval),32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ic),Vo=function(r){function e(n){return void 0===n&&(n={}),r.call(this,Vn({pointers:1},n))||this}Kn(e,r);var t=e.prototype;return t.attrTest=function(n){var o=this.options.pointers;return 0===o||n.pointers.length===o},t.process=function(n){var o=this.state,s=n.eventType,c=6&o,v=this.attrTest(n);return c&&(8&s||!v)?16|o:c||v?4&s?8|o:2&o?4|o:2:32},e}(ic);function qm(r){return 16===r?"down":8===r?"up":2===r?"left":4===r?"right":""}var tf=function(r){function e(n){var o;return void 0===n&&(n={}),(o=r.call(this,Vn({event:"pan",threshold:10,pointers:1,direction:30},n))||this).pX=null,o.pY=null,o}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,o=[];return 6&n&&o.push(_s),24&n&&o.push(id),o},t.directionTest=function(n){var o=this.options,s=!0,c=n.distance,v=n.direction,m=n.deltaX,T=n.deltaY;return v&o.direction||(6&o.direction?(v=0===m?1:m<0?2:4,s=m!==this.pX,c=Math.abs(n.deltaX)):(v=0===T?1:T<0?8:16,s=T!==this.pY,c=Math.abs(n.deltaY))),n.direction=v,s&&c>o.threshold&&v&o.direction},t.attrTest=function(n){return Vo.prototype.attrTest.call(this,n)&&(2&this.state||!(2&this.state)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=qm(n.direction);o&&(n.additionalEvent=this.options.event+o),r.prototype.emit.call(this,n)},e}(Vo),Qm=function(r){function e(n){return void 0===n&&(n={}),r.call(this,Vn({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},n))||this}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){return tf.prototype.getTouchAction.call(this)},t.attrTest=function(n){var o,s=this.options.direction;return 30&s?o=n.overallVelocity:6&s?o=n.overallVelocityX:24&s&&(o=n.overallVelocityY),r.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Gr(o)>this.options.velocity&&4&n.eventType},t.emit=function(n){var o=qm(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(Vo),nf=function(r){function e(n){return void 0===n&&(n={}),r.call(this,Vn({event:"pinch",threshold:0,pointers:2},n))||this}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Ql]},t.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||2&this.state)},t.emit=function(n){1!==n.scale&&(n.additionalEvent=this.options.event+(n.scale<1?"in":"out")),r.prototype.emit.call(this,n)},e}(Vo),Zm=function(r){function e(n){return void 0===n&&(n={}),r.call(this,Vn({event:"rotate",threshold:0,pointers:2},n))||this}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){return[Ql]},t.attrTest=function(n){return r.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||2&this.state)},e}(Vo),v0=function(r){function e(n){var o;return void 0===n&&(n={}),(o=r.call(this,Vn({event:"press",pointers:1,time:251,threshold:9},n))||this)._timer=null,o._input=null,o}Kn(e,r);var t=e.prototype;return t.getTouchAction=function(){return["auto"]},t.process=function(n){var o=this,s=this.options,c=n.pointers.length===s.pointers,v=n.distance<s.threshold,m=n.deltaTime>s.time;if(this._input=n,!v||!c||12&n.eventType&&!m)this.reset();else if(1&n.eventType)this.reset(),this._timer=setTimeout(function(){o.state=8,o.tryEmit()},s.time);else if(4&n.eventType)return 8;return 32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){8===this.state&&(n&&4&n.eventType?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Hp(),this.manager.emit(this.options.event,this._input)))},e}(ic),g0={domEvents:!1,touchAction:td,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},m0=[[Zm,{enable:!1}],[nf,{enable:!1},["rotate"]],[Qm,{direction:6}],[tf,{direction:6},["swipe"]],[ef],[ef,{event:"doubletap",taps:2},["tap"]],[v0]];function y0(r,e){var t,n=r.element;n.style&&(_r(r.options.cssProps,function(o,s){t=ql(n.style,s),e?(r.oldCssProps[t]=n.style[t],n.style[t]=o):n.style[t]=r.oldCssProps[t]||""}),e||(r.oldCssProps={}))}var b0=function(){function r(t,n){var s=this;this.options=Ho({},g0,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(Kp?Qp:u0?cd:Jl?Ym:ks))(this,Ti),this.touchAction=new Gp(this,this.options.touchAction),y0(this,!0),_r(this.options.recognizers,function(c){var v=s.add(new c[0](c[1]));c[2]&&v.recognizeWith(c[2]),c[3]&&v.requireFailure(c[3])},this)}var e=r.prototype;return e.set=function(t){return Ho(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var n=this.session;if(!n.stopped){var o;this.touchAction.preventDefaults(t);var s=this.recognizers,c=n.curRecognizer;(!c||c&&8&c.state)&&(n.curRecognizer=null,c=null);for(var v=0;v<s.length;)o=s[v],2===n.stopped||c&&o!==c&&!o.canRecognizeWith(c)?o.reset():o.recognize(t),!c&&14&o.state&&(n.curRecognizer=o,c=o),v++}},e.get=function(t){if(t instanceof ic)return t;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===t)return n[o];return null},e.add=function(t){if(Cr(t,"add",this))return this;var n=this.get(t.options.event);return n&&this.remove(n),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Cr(t,"remove",this))return this;var n=this.get(t);if(t){var o=this.recognizers,s=Ts(o,n);-1!==s&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(t,n){if(void 0===t||void 0===n)return this;var o=this.handlers;return _r(wr(t),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(t,n){if(void 0===t)return this;var o=this.handlers;return _r(wr(t),function(s){n?o[s]&&o[s].splice(Ts(o[s],n),1):delete o[s]}),this},e.emit=function(t,n){var c,v,m;this.options.domEvents&&(c=t,v=n,(m=document.createEvent("Event")).initEvent(c,!0,!0),m.gesture=v,v.target.dispatchEvent(m));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&y0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),_0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Jm="touchstart",J1="touchstart touchmove touchend touchcancel",X1=function(r){function e(){var t,n=e.prototype;return n.evTarget=Jm,n.evWin=J1,(t=r.apply(this,arguments)||this).started=!1,t}return Kn(e,r),e.prototype.handler=function(t){var n=_0[t.type];if(1===n&&(this.started=!0),this.started){var o=w0.call(this,t,n);12&n&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:ws,srcEvent:t})}},e}(xr);function w0(r,e){var t=ad(r.touches),n=ad(r.changedTouches);return 12&e&&(t=Um(t.concat(n),"identifier",!0)),[t,n]}function x0(r,e,t){var n="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var o=new Error("get-stack-trace"),s=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",c=window.console&&(window.console.warn||window.console.log);return c&&c.call(window.console,n,s),r.apply(this,arguments)}}var Xm=x0(function(r,e,t){for(var n=Object.keys(e),o=0;o<n.length;)(!t||t&&void 0===r[n[o]])&&(r[n[o]]=e[n[o]]),o++;return r},"extend","Use `assign`."),C0=x0(function(r,e){return Xm(r,e,!0)},"merge","Use `assign`.");function ey(r,e,t){var n,o=e.prototype;(n=r.prototype=Object.create(o)).constructor=r,n._super=o,t&&Ho(n,t)}function ty(r,e){return function(){return r.apply(e,arguments)}}var T0=function(){var r=function(e,t){return void 0===t&&(t={}),new b0(e,Vn({recognizers:m0.concat()},t))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=30,r.DIRECTION_DOWN=16,r.DIRECTION_LEFT=2,r.DIRECTION_RIGHT=4,r.DIRECTION_UP=8,r.DIRECTION_HORIZONTAL=6,r.DIRECTION_VERTICAL=24,r.DIRECTION_NONE=1,r.DIRECTION_DOWN=16,r.INPUT_START=1,r.INPUT_MOVE=2,r.INPUT_END=4,r.INPUT_CANCEL=8,r.STATE_POSSIBLE=1,r.STATE_BEGAN=2,r.STATE_CHANGED=4,r.STATE_ENDED=8,r.STATE_RECOGNIZED=8,r.STATE_CANCELLED=16,r.STATE_FAILED=32,r.Manager=b0,r.Input=xr,r.TouchAction=Gp,r.TouchInput=cd,r.MouseInput=ks,r.PointerEventInput=Qp,r.TouchMouseInput=Ym,r.SingleTouchInput=X1,r.Recognizer=ic,r.AttrRecognizer=Vo,r.Tap=ef,r.Pan=tf,r.Swipe=Qm,r.Pinch=nf,r.Rotate=Zm,r.Press=v0,r.on=rd,r.off=od,r.each=_r,r.merge=C0,r.extend=Xm,r.bindFn=ty,r.assign=Ho,r.inherit=ey,r.bindFn=ty,r.prefixed=ql,r.toArray=ad,r.inArray=Ts,r.uniqueArray=Um,r.splitStr=wr,r.boolOrFn=nd,r.hasParent=Up,r.addEventListeners=rd,r.removeEventListeners=od,r.defaults=Ho({},g0,{preset:m0}),r}();function iy(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return Ko(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return Ko(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}function Ko(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Wn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ex(e.length?e:[Kl()])}function ex(r){var e=function(){for(var m=tx(),T=m(" "),O=m(" "),D=m(" "),R=0;R<arguments.length;R++)(T-=m(R<0||arguments.length<=R?void 0:arguments[R]))<0&&(T+=1),(O-=m(R<0||arguments.length<=R?void 0:arguments[R]))<0&&(O+=1),(D-=m(R<0||arguments.length<=R?void 0:arguments[R]))<0&&(D+=1);return[T,O,D]}(r),t=ii(e,3),n=t[0],o=t[1],s=t[2],c=1,v=function(){var m=2091639*n+2.3283064365386963e-10*c;return n=o,o=s,s=m-(c=0|m)};return v.uint32=function(){return 4294967296*v()},v.fract53=function(){return v()+11102230246251565e-32*(2097152*v()|0)},v.algorithm="Alea",v.seed=r,v.version="0.9",v}function tx(){var r=4022871197;return function(e){for(var t=e.toString(),n=0;n<t.length;n++){var o=.02519603282416938*(r+=t.charCodeAt(n));o-=r=o>>>0,r=(o*=r)>>>0,r+=4294967296*(o-=r)}return 2.3283064365386963e-10*(r>>>0)}}Bo("DELETE");var ny=typeof window<"u"?window.Hammer||T0:function(){return function(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}()};function Tr(r){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var n=ny(this._dom.overlay);n.on("tap",ye(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){n.destroy()});var o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];jt(o).call(o,function(s){n.on(s,function(c){c.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(s){(function(c,v){for(;c;){if(c===v)return!0;c=c.parentNode}return!1})(s.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(s){("key"in s?"Escape"===s.key:27===s.keyCode)&&t.deactivate()}}hh(Tr.prototype),Tr.current=null,Tr.prototype.destroy=function(){var r,e;this.deactivate();var t,n=iy(Ji(r=jn(e=this._cleanupQueue).call(e,0)).call(r));try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(o){n.e(o)}finally{n.f()}},Tr.prototype.activate=function(){Tr.current&&Tr.current.deactivate(),Tr.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Tr.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Tr.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};var ry=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ix=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,k0=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,nx=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function kr(r){if(r)for(;!0===r.hasChildNodes();){var e=r.firstChild;e&&(kr(e),r.removeChild(e))}}function Ss(r){return r instanceof String||"string"==typeof r}function oy(r){return"object"===Ot(r)&&null!==r}function Wo(r,e,t,n){var o=!1;!0===n&&(o=null===e[t]&&void 0!==r[t]),o?delete r[t]:r[t]=e[t]}function S0(r,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in r)if(void 0!==e[n])if(null===e[n]||"object"!==Ot(e[n]))Wo(r,e,n,t);else{var o=r[n],s=e[n];oy(o)&&oy(s)&&S0(o,s,t)}}function rc(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Pt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var o=0;o<r.length;o++){var s=r[o];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)void 0===e[s]&&(e[s]={}),e[s].constructor===Object?Ht(e[s],t[s],!1,n):Wo(e,t,s,n);else{if(Pt(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Wo(e,t,s,n)}}return e}function dd(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Pt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&!mr(r).call(r,o))if(t[o]&&t[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?Ht(e[o],t[o]):Wo(e,t,o,n);else if(Pt(t[o])){e[o]=[];for(var s=0;s<t[o].length;s++)e[o].push(t[o][s])}else Wo(e,t,o,n);return e}function Ht(r,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)||!0===t)if("object"===Ot(e[o])&&null!==e[o]&&km(e[o])===Object.prototype)void 0===r[o]?r[o]=Ht({},e[o],t):"object"===Ot(r[o])&&null!==r[o]&&km(r[o])===Object.prototype?Ht(r[o],e[o],t):Wo(r,e,o,n);else if(Pt(e[o])){var s;r[o]=gt(s=e[o]).call(s)}else Wo(r,e,o,n);return r}function hd(r,e){var t;return Nu(t=[]).call(t,Nn(r),[e])}function Es(r){return gt(r).call(r)}function En(r){return r.getBoundingClientRect().top}function vt(r,e){if(Pt(r))for(var t=r.length,n=0;n<t;n++)e(r[n],n,r);else for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e(r[o],o,r)}function rf(r){var e;switch(r.length){case 3:case 4:return(e=ix.exec(r))?{r:Xi(e[1]+e[1],16),g:Xi(e[2]+e[2],16),b:Xi(e[3]+e[3],16)}:null;case 6:case 7:return(e=ry.exec(r))?{r:Xi(e[1],16),g:Xi(e[2],16),b:Xi(e[3],16)}:null;default:return null}}function yn(r,e){if(mr(r).call(r,"rgba"))return r;if(mr(r).call(r,"rgb")){var t=r.substr(kt(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var n=rf(r);return null==n?r:"rgba("+n.r+","+n.g+","+n.b+","+e+")"}function sy(r,e,t){var n;return"#"+gt(n=((1<<24)+(r<<16)+(e<<8)+t).toString(16)).call(n,1)}function of(r,e){if(Ss(r)){var t=r;if(af(t)){var n,o=ci(n=t.substr(4).substr(0,t.length-5).split(",")).call(n,function(O){return Xi(O)});t=sy(o[0],o[1],o[2])}if(!0===tn(t)){var s=function(O){var D=rf(O);if(!D)throw new TypeError("'".concat(O,"' is not a valid color."));return oc(D.r,D.g,D.b)}(t),c={h:s.h,s:.8*s.s,v:Math.min(1,1.02*s.v)},v={h:s.h,s:Math.min(1,1.25*s.s),v:.8*s.v},m=sf(v.h,v.s,v.v),T=sf(c.h,c.s,c.v);return{background:t,border:m,highlight:{background:T,border:m},hover:{background:T,border:m}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:r.background||e.background,border:r.border||e.border,highlight:Ss(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||e.highlight.background,border:r.highlight&&r.highlight.border||e.highlight.border},hover:Ss(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||e.hover.border,background:r.hover&&r.hover.background||e.hover.background}}:{background:r.background||void 0,border:r.border||void 0,highlight:Ss(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:Ss(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}}}function oc(r,e,t){r/=255,e/=255,t/=255;var n=Math.min(r,Math.min(e,t)),o=Math.max(r,Math.max(e,t));return n===o?{h:0,s:0,v:n}:{h:60*((r===n?3:t===n?1:5)-(r===n?e-t:t===n?r-e:t-r)/(o-n))/360,s:(o-n)/o,v:o}}function Go(r,e,t){var n,o,s,c=Math.floor(6*r),v=6*r-c,m=t*(1-e),T=t*(1-v*e),O=t*(1-(1-v)*e);switch(c%6){case 0:n=t,o=O,s=m;break;case 1:n=T,o=t,s=m;break;case 2:n=m,o=t,s=O;break;case 3:n=m,o=T,s=t;break;case 4:n=O,o=m,s=t;break;case 5:n=t,o=m,s=T}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*s)}}function sf(r,e,t){var n=Go(r,e,t);return sy(n.r,n.g,n.b)}function tn(r){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r)}function af(r){return k0.test(r)}function rx(r){return nx.test(r)}function Os(r){if(null===r||"object"!==Ot(r))return null;if(r instanceof Element)return r;var e=ys(r);for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&"object"==Ot(r[t])&&(e[t]=Os(r[t]));return e}function Gn(r,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(B){return null!=B},s=function(B){return null!==B&&"object"===Ot(B)},c=function(B){for(var N in B)if(Object.prototype.hasOwnProperty.call(B,N))return!1;return!0};if(!s(r))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!o(t))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");var v=function(B,N,V){s(B[V])||(B[V]={});var Q=N[V],W=B[V];for(var U in Q)Object.prototype.hasOwnProperty.call(Q,U)&&(W[U]=Q[U])},m=e[t],O=s(n)&&!c(n)?n[t]:void 0,D=O?O.enabled:void 0;if(void 0!==m){if("boolean"==typeof m)return s(r[t])||(r[t]={}),void(r[t].enabled=m);if(null===m&&!s(r[t])){if(!o(O))return;r[t]=ys(O)}if(s(m)){var R=!0;void 0!==m.enabled?R=m.enabled:void 0!==D&&(R=O.enabled),v(r,e,t),r[t].enabled=R}}}var ay={linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:(4-2*r)*r-1},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};function Uo(r,e){var t;Pt(e)||(e=[e]);var n,o=iy(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s){t=s[e[0]];for(var c=1;c<e.length;c++)t&&(t=t[e[c]]);if(void 0!==t)break}}}catch(v){o.e(v)}finally{o.f()}return t}var lf={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ox=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Te(this,r),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Se(r,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return lf[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n,o=this._isColorString(e);if(void 0!==o&&(e=o),!0===Ss(e)){if(!0===af(e)){var s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(!0===rx(e)){var c=e.substr(5).substr(0,e.length-6).split(",");n={r:c[0],g:c[1],b:c[2],a:c[3]}}else if(!0===tn(e)){var v=rf(e);n={r:v.r,g:v.g,b:v.b,a:1}}}else e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&(n={r:e.r,g:e.g,b:e.b,a:void 0!==e.a?e.a:"1.0"});if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ju(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=We({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Wr(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=We({},e)),this.color=e;var n=oc(e.r,e.g,e.b),o=2*Math.PI,s=this.r*n.s,c=this.centerCoordinates.x+s*Math.sin(o*n.h),v=this.centerCoordinates.y+s*Math.cos(o*n.h);this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=v-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=oc(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=Go(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=oc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),n.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Hn(n).call(n),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,n,o;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var c=document.createElement("DIV");c.style.color="red",c.style.fontWeight="bold",c.style.padding="10px",c.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(c)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var v=this;this.opacityRange.onchange=function(){v._setOpacity(this.value)},this.opacityRange.oninput=function(){v._setOpacity(this.value)},this.brightnessRange.onchange=function(){v._setBrightness(this.value)},this.brightnessRange.oninput=function(){v._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ye(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ye(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ye(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ye(o=this._loadLast).call(o,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new ny(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,n,o,s,c=this.colorPickerCanvas.clientWidth,v=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,c,v),this.centerCoordinates={x:.5*c,y:.5*v},this.r=.49*c;var m,T=2*Math.PI/360,O=1/this.r;for(o=0;o<360;o++)for(s=0;s<this.r;s++)t=this.centerCoordinates.x+s*Math.sin(T*o),n=this.centerCoordinates.y+s*Math.cos(T*o),m=Go(.002777777777777778*o,s*O,1),e.fillStyle="rgb("+m.r+","+m.g+","+m.b+")",e.fillRect(t-.5,n-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,c,v)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),s=.5*this.colorPickerDiv.clientHeight,c=.5*this.colorPickerDiv.clientWidth,v=e.center.x-t.left-c,m=e.center.y-t.top-s,T=Math.atan2(v,m),O=.98*Math.min(Math.sqrt(v*v+m*m),c),D=Math.cos(T)*O+s,R=Math.sin(T)*O+c;this.colorPickerSelector.style.top=D-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=R-.5*this.colorPickerSelector.clientWidth+"px";var B=T/(2*Math.PI);B=B<0?B+1:B;var N=O/this.r,V=oc(this.color.r,this.color.g,this.color.b);V.h=B,V.s=N;var Q=Go(V.h,V.s,V.v);Q.a=this.color.a,this.color=Q,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function cf(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var n=document.createElement(e[0]);return n.appendChild(cf.apply(void 0,Nn(gt(e).call(e,1)))),n}var ly,sx=function(){function r(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Te(this,r),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},We(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ox(o),this.wrapper=void 0}return Se(r,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(Pt(e))this.options.filter=e.join();else if("object"===Ot(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Vi(e)&&(this.options.filter=Vi(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Vi(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Vi(this.options),t=0,n=!1;for(var o in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,o)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===kt(e).call(e,o)||(n=!0),!1!==n&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return jt(o).call(o,function(c){t.appendChild(c)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");if(o.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===n){for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(cf("i","b",e))}else o.innerText=e+":";return o}},{key:"_makeDropdown",value:function(e,t,n){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var s=0;void 0!==t&&-1!==kt(e).call(e,t)&&(s=kt(e).call(e,t));for(var c=0;c<e.length;c++){var v=document.createElement("option");v.value=e[c],c===s&&(v.selected="selected"),v.innerText=e[c],o.appendChild(v)}var m=this;o.onchange=function(){m._update(this.value,n)};var T=this._makeLabel(n[n.length-1],n);this._makeItem(n,T,o)}},{key:"_makeRange",value:function(e,t,n){var o=e[0],s=e[1],c=e[2],v=e[3],m=document.createElement("input");m.className="vis-configuration vis-config-range";try{m.type="range",m.min=s,m.max=c}catch{}m.step=v;var T="",O=0;if(void 0!==t){var D=1.2;t<0&&t*D<s?(m.min=Math.ceil(t*D),O=m.min,T="range increased"):t/D<s&&(m.min=Math.ceil(t/D),O=m.min,T="range increased"),t*D>c&&1!==c&&(m.max=Math.ceil(t*D),O=m.max,T="range increased"),m.value=t}else m.value=o;var R=document.createElement("input");R.className="vis-configuration vis-config-rangeinput",R.value=m.value;var B=this;m.onchange=function(){R.value=this.value,B._update(Number(this.value),n)},m.oninput=function(){R.value=this.value};var N=this._makeLabel(n[n.length-1],n),V=this._makeItem(n,N,m,R);""!==T&&this.popupHistory[V]!==O&&(this.popupHistory[V]=O,this._setupPopup(T,V))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerText=e,o.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Wr(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Wr(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=e,void 0!==t&&(o.checked=t,t!==e&&("object"===Ot(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var s=this;o.onchange=function(){s._update(this.checked,n)};var c=this._makeLabel(n[n.length-1],n);this._makeItem(n,c,o)}},{key:"_makeTextInput",value:function(e,t,n){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var s=this;o.onchange=function(){s._update(this.value,n)};var c=this._makeLabel(n[n.length-1],n);this._makeItem(n,c,o)}},{key:"_makeColorField",value:function(e,t,n){var o=this,s=e[1],c=document.createElement("div");"none"!==(t=void 0===t?s:t)?(c.className="vis-configuration vis-config-colorBlock",c.style.backgroundColor=t):c.className="vis-configuration vis-config-colorBlock none",t=void 0===t?s:t,c.onclick=function(){o._showColorPicker(t,c,n)};var v=this._makeLabel(n[n.length-1],n);this._makeItem(n,v,c)}},{key:"_showColorPicker",value:function(e,t,n){var o=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(s){var c="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";t.style.backgroundColor=c,o._update(c,n)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){o._showColorPicker(e,t,n)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,s=Vi(this.options),c=!1;for(var v in e)if(Object.prototype.hasOwnProperty.call(e,v)){o=!0;var m=e[v],T=hd(t,v);if("function"==typeof s&&!1===(o=s(v,t))&&!Pt(m)&&"string"!=typeof m&&"boolean"!=typeof m&&m instanceof Object&&(this.allowCreation=!1,o=this._handleObject(m,T,!0),this.allowCreation=!1===n),!1!==o){c=!0;var O=this._getValue(T);if(Pt(m))this._handleArray(m,O,T);else if("string"==typeof m)this._makeTextInput(m,O,T);else if("boolean"==typeof m)this._makeCheckbox(m,O,T);else if(m instanceof Object){if(!this.hideOption(t,v,this.moduleOptions))if(void 0!==m.enabled){var D=hd(T,"enabled"),R=this._getValue(D);if(!0===R){var B=this._makeLabel(v,T,!0);this._makeItem(T,B),c=this._handleObject(m,T)||c}else this._makeCheckbox(m,R,T)}else{var N=this._makeLabel(v,T,!0);this._makeItem(T,N),c=this._handleObject(m,T)||c}}else console.error("dont know how to handle",m,v,T)}}return c}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n;e="false"!==(e="true"===e||e)&&e;for(var s=0;s<t.length;s++)"global"!==t[s]&&(void 0===o[t[s]]&&(o[t[s]]={}),s!==t.length-1?o=o[t[s]]:o[t[s]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(cf("pre","const options = "+Ju(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),r}(),ax=function(){function r(e,t){Te(this,r),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Se(r,[{key:"setPosition",value:function(e,t){this.x=Xi(e),this.y=Xi(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,c=0,v=0;if("flip"==this.overflowMethod){var m=!1,T=!0;this.y-t<this.padding&&(T=!1),this.x+n>s-this.padding&&(m=!0),c=m?this.x-n:this.x,v=T?this.y-t:this.y}else(v=this.y-t)+t+this.padding>o&&(v=o-t-this.padding),v<this.padding&&(v=this.padding),(c=this.x)+n+this.padding>s&&(c=s-n-this.padding),c<this.padding&&(c=this.padding);this.frame.style.left=c+"px",this.frame.style.top=v+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),pd=!1,Ia="background: #FFeeee; color: #dd0000",lx=function(){function r(){Te(this,r)}return Se(r,null,[{key:"validate",value:function(e,t,n){pd=!1,ly=t;var o=t;return void 0!==n&&(o=t[n]),r.parse(e,o,[]),pd}},{key:"parse",value:function(e,t,n){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.check(o,e,t,n)}},{key:"check",value:function(e,t,n,o){if(void 0!==n[e]||void 0!==n.__any__){var s=e,c=!0;void 0===n[e]&&void 0!==n.__any__&&(s="__any__",c="object"===r.getType(t[e]));var v=n[s];c&&void 0!==v.__type__&&(v=v.__type__),r.checkFields(e,t,n,s,v,o)}else r.getSuggestion(e,n,o)}},{key:"checkFields",value:function(e,t,n,o,s,c){var v=function(O){console.error("%c"+O+r.printLocation(c,e),Ia)},m=r.getType(t[e]),T=s[m];void 0!==T?"array"===r.getType(T)&&-1===kt(T).call(T,t[e])?(v('Invalid option detected in "'+e+'". Allowed values are:'+r.print(T)+' not "'+t[e]+'". '),pd=!0):"object"===m&&"__any__"!==o&&(c=hd(c,e),r.parse(t[e],n[o],c)):void 0===s.any&&(v('Invalid type received for "'+e+'". Expected: '+r.print(mt(s))+". Received ["+m+'] "'+t[e]+'"'),pd=!0)}},{key:"getType",value:function(e){var t=Ot(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Pt(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,t,n){var o,s=r.findInOptions(e,t,n,!1),c=r.findInOptions(e,ly,[],!0);o=void 0!==s.indexMatch?" in "+r.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':c.distance<=4&&s.distance>c.distance?" in "+r.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(c.path,c.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+r.printLocation(s.path,e):". Did you mean one of these: "+r.print(mt(t))+r.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+o,Ia),pd=!0}},{key:"findInOptions",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,c="",v=[],m=e.toLowerCase(),T=void 0;for(var O in t){var D=void 0;if(void 0!==t[O].__type__&&!0===o){var R=r.findInOptions(e,t[O],hd(n,O));s>R.distance&&(c=R.closestMatch,v=R.path,s=R.distance,T=R.indexMatch)}else{var B;-1!==kt(B=O.toLowerCase()).call(B,m)&&(T=O),s>(D=r.levenshteinDistance(e,O))&&(c=O,v=Es(n),s=D)}}return{closestMatch:c,path:v,distance:s,indexMatch:T}}},{key:"printLocation",value:function(e,t){for(var o="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",s=0;s<e.length;s++){for(var c=0;c<s+1;c++)o+="  ";o+=e[s]+": {\n"}for(var v=0;v<e.length+1;v++)o+="  ";o+=t+"\n";for(var m=0;m<e.length+1;m++){for(var T=0;T<e.length-m;T++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(e){return Ju(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,o,s=[];for(n=0;n<=t.length;n++)s[n]=[n];for(o=0;o<=e.length;o++)s[0][o]=o;for(n=1;n<=t.length;n++)for(o=1;o<=e.length;o++)s[n][o]=t.charAt(n-1)==e.charAt(o-1)?s[n-1][o-1]:Math.min(s[n-1][o-1]+1,Math.min(s[n][o-1]+1,s[n-1][o]+1));return s[t.length][e.length]}}]),r}(),E0=Tr,cx=sx,Is=ny,sc=ax,uf=Ia,Yo=lx;function O0(r){return Ds=r,function(){var e={};if(Da=0,ht=Ds.charAt(0),Gt(),"strict"===Ye&&(e.strict=!0,Gt()),"graph"!==Ye&&"digraph"!==Ye||(e.type=Ye,Gt()),nn===qo&&(e.id=Ye,Gt()),"{"!=Ye)throw Ki("Angle bracket { expected");if(Gt(),R0(e),"}"!=Ye)throw Ki("Angle bracket } expected");if(Gt(),""!==Ye)throw Ki("End of file expected");return Gt(),delete e.node,delete e.edge,delete e.graph,e}()}var df={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},hf=ys(df);hf.color="color.color",hf.style="dashes";var qo=2,uy={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ds="",Da=0,ht="",Ye="",nn=0;function Di(){Da++,ht=Ds.charAt(Da)}function Qo(){return Ds.charAt(Da+1)}function dy(r){var e=r.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Zo(r,e){if(r||(r={}),e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function dx(r,e,t){for(var n=e.split("."),o=r;n.length;){var s=n.shift();n.length?(o[s]||(o[s]={}),o=o[s]):o[s]=t}}function D0(r,e){for(var t,n,o=null,s=[r],c=r;c.parent;)s.push(c.parent),c=c.parent;if(c.nodes)for(t=0,n=c.nodes.length;t<n;t++)if(e.id===c.nodes[t].id){o=c.nodes[t];break}for(o||(o={id:e.id},r.node&&(o.attr=Zo(o.attr,r.node))),t=s.length-1;t>=0;t--){var v,m=s[t];m.nodes||(m.nodes=[]),-1===kt(v=m.nodes).call(v,o)&&m.nodes.push(o)}e.attr&&(o.attr=Zo(o.attr,e.attr))}function M0(r,e){if(r.edges||(r.edges=[]),r.edges.push(e),r.edge){var t=Zo({},r.edge);e.attr=Zo(t,e.attr)}}function F0(r,e,t,n,o){var s={from:e,to:t,type:n};return r.edge&&(s.attr=Zo({},r.edge)),s.attr=Zo(s.attr||{},o),null!=o&&o.hasOwnProperty("arrows")&&null!=o.arrows&&(s.arrows={to:{enabled:!0,type:o.arrows.type}},o.arrows=null),s}function Gt(){for(nn=0,Ye="";" "===ht||"\t"===ht||"\n"===ht||"\r"===ht;)Di();do{var r=!1;if("#"===ht){for(var e=Da-1;" "===Ds.charAt(e)||"\t"===Ds.charAt(e);)e--;if("\n"===Ds.charAt(e)||""===Ds.charAt(e)){for(;""!=ht&&"\n"!=ht;)Di();r=!0}}if("/"===ht&&"/"===Qo()){for(;""!=ht&&"\n"!=ht;)Di();r=!0}if("/"===ht&&"*"===Qo()){for(;""!=ht;){if("*"===ht&&"/"===Qo()){Di(),Di();break}Di()}r=!0}for(;" "===ht||"\t"===ht||"\n"===ht||"\r"===ht;)Di()}while(r);if(""!==ht){var t=ht+Qo();if(uy[t])return nn=1,Ye=t,Di(),void Di();if(uy[ht])return nn=1,Ye=ht,void Di();if(dy(ht)||"-"===ht){for(Ye+=ht,Di();dy(ht);)Ye+=ht,Di();return"false"===Ye?Ye=!1:"true"===Ye?Ye=!0:isNaN(Number(Ye))||(Ye=Number(Ye)),void(nn=qo)}if('"'===ht){for(Di();""!=ht&&('"'!=ht||'"'===ht&&'"'===Qo());)'"'===ht?(Ye+=ht,Di()):"\\"===ht&&"n"===Qo()?(Ye+="\n",Di()):Ye+=ht,Di();if('"'!=ht)throw Ki('End of string " expected');return Di(),void(nn=qo)}for(nn=3;""!=ht;)Ye+=ht,Di();throw new SyntaxError('Syntax error in part "'+L0(Ye,30)+'"')}nn=1}function R0(r){for(;""!==Ye&&"}"!=Ye;)hx(r),";"===Ye&&Gt()}function hx(r){var o,e=P0(r);if(e)A0(r,e);else if(o=r,!("node"===Ye?(Gt(),o.node=fd(),"node"):"edge"===Ye?(Gt(),o.edge=fd(),"edge"):"graph"===Ye&&(Gt(),o.graph=fd(),"graph"))){if(nn!=qo)throw Ki("Identifier expected");var n=Ye;if(Gt(),"="===Ye){if(Gt(),nn!=qo)throw Ki("Identifier expected");r[n]=Ye,Gt()}else!function(o,s){var c={id:s},v=fd();v&&(c.attr=v),D0(o,c),A0(o,s)}(r,n)}}function P0(r){var e=null;if("subgraph"===Ye&&((e={}).type="subgraph",Gt(),nn===qo&&(e.id=Ye,Gt())),"{"===Ye){if(Gt(),e||(e={}),e.parent=r,e.node=r.node,e.edge=r.edge,e.graph=r.graph,R0(e),"}"!=Ye)throw Ki("Angle bracket } expected");Gt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(e)}return e}function A0(r,e){for(;"->"===Ye||"--"===Ye;){var t,n=Ye;Gt();var o=P0(r);if(o)t=o;else{if(nn!=qo)throw Ki("Identifier or subgraph expected");D0(r,{id:t=Ye}),Gt()}M0(r,F0(r,e,t,n,fd())),e=t}}function fd(){for(var r,e,t=null,n={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},s=new Array,c=new Array;"["===Ye;){for(Gt(),t={};""!==Ye&&"]"!=Ye;){if(nn!=qo)throw Ki("Attribute name expected");var v=Ye;if(Gt(),"="!=Ye)throw Ki("Equal sign = expected");if(Gt(),nn!=qo)throw Ki("Attribute value expected");var m=Ye;"style"===v&&(m=n[m]),"arrowhead"===v&&(v="arrows",m={to:{enabled:!0,type:o[m]}}),"arrowtail"===v&&(v="arrows",m={from:{enabled:!0,type:o[m]}}),s.push({attr:t,name:v,value:m}),c.push(v),Gt(),","==Ye&&Gt()}if("]"!=Ye)throw Ki("Bracket ] expected");Gt()}if(mr(c).call(c,"dir")){var T={arrows:{}};for(r=0;r<s.length;r++)if("arrows"===s[r].name)if(null!=s[r].value.to)T.arrows.to=r;else{if(null==s[r].value.from)throw Ki("Invalid value of arrows");T.arrows.from=r}else"dir"===s[r].name&&(T.dir=r);var O,D,R=s[T.dir].value;if(!mr(c).call(c,"arrows"))if("both"===R)s.push({attr:s[T.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),T.arrows.to=s.length-1,s.push({attr:s[T.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),T.arrows.from=s.length-1;else if("forward"===R)s.push({attr:s[T.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),T.arrows.to=s.length-1;else if("back"===R)s.push({attr:s[T.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),T.arrows.from=s.length-1;else{if("none"!==R)throw Ki('Invalid dir type "'+R+'"');s.push({attr:s[T.dir].attr,name:"arrows",value:""}),T.arrows.to=s.length-1}if("both"===R)T.arrows.to&&T.arrows.from?(s[T.arrows.to]={attr:s[T.arrows.to].attr,name:s[T.arrows.to].name,value:{to:{enabled:!0,type:D=s[T.arrows.to].value.to.type},from:{enabled:!0,type:O=s[T.arrows.from].value.from.type}}},jn(s).call(s,T.arrows.from,1)):T.arrows.to?s[T.arrows.to]={attr:s[T.arrows.to].attr,name:s[T.arrows.to].name,value:{to:{enabled:!0,type:D=s[T.arrows.to].value.to.type},from:{enabled:!0,type:O="arrow"}}}:T.arrows.from&&(s[T.arrows.from]={attr:s[T.arrows.from].attr,name:s[T.arrows.from].name,value:{to:{enabled:!0,type:D="arrow"},from:{enabled:!0,type:O=s[T.arrows.from].value.from.type}}});else if("back"===R)T.arrows.to&&T.arrows.from?s[T.arrows.from]={attr:s[T.arrows.from].attr,name:s[T.arrows.from].name,value:{to:{enabled:!0,type:D=""},from:{enabled:!0,type:O=s[T.arrows.from].value.from.type}}}:T.arrows.to?(D="",O="arrow",T.arrows.from=T.arrows.to,s[T.arrows.from]={attr:s[T.arrows.from].attr,name:s[T.arrows.from].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:O}}}):T.arrows.from&&(s[T.arrows.to]={attr:s[T.arrows.from].attr,name:s[T.arrows.from].name,value:{to:{enabled:!0,type:D=""},from:{enabled:!0,type:O=s[T.arrows.from].value.from.type}}}),s[T.arrows.from]={attr:s[T.arrows.from].attr,name:s[T.arrows.from].name,value:{from:{enabled:!0,type:s[T.arrows.from].value.from.type}}};else if("none"===R){var B;s[B=T.arrows.to?T.arrows.to:T.arrows.from]={attr:s[B].attr,name:s[B].name,value:""}}else{if("forward"!==R)throw Ki('Invalid dir type "'+R+'"');T.arrows.to&&T.arrows.from||T.arrows.to?s[T.arrows.to]={attr:s[T.arrows.to].attr,name:s[T.arrows.to].name,value:{to:{enabled:!0,type:D=s[T.arrows.to].value.to.type},from:{enabled:!0,type:O=""}}}:T.arrows.from&&(D="arrow",O="",T.arrows.to=T.arrows.from,s[T.arrows.to]={attr:s[T.arrows.to].attr,name:s[T.arrows.to].name,value:{to:{enabled:!0,type:D},from:{enabled:!0,type:O}}}),s[T.arrows.to]={attr:s[T.arrows.to].attr,name:s[T.arrows.to].name,value:{to:{enabled:!0,type:s[T.arrows.to].value.to.type}}}}jn(s).call(s,T.dir,1)}if(mr(c).call(c,"penwidth")){var N=[];for(e=s.length,r=0;r<e;r++)"width"!==s[r].name&&("penwidth"===s[r].name&&(s[r].name="width"),N.push(s[r]));s=N}for(e=s.length,r=0;r<e;r++)dx(s[r].attr,s[r].name,s[r].value);return t}function Ki(r){return new SyntaxError(r+', got "'+L0(Ye,30)+'" (char '+Da+")")}function L0(r,e){return r.length<=e?r:r.substr(0,27)+"..."}function z0(r,e,t){for(var n=e.split("."),o=n.pop(),s=r,c=0;c<n.length;c++){var v=n[c];v in s||(s[v]={}),s=s[v]}return s[o]=t,r}function B0(r,e){var t={};for(var n in r)if(r.hasOwnProperty(n)){var o=e[n];Pt(o)?jt(o).call(o,function(s){z0(t,s,r[n])}):z0(t,"string"==typeof o?o:n,r[n])}return t}function hy(r){var e,t=O0(r),n={nodes:[],edges:[],options:{}};if(t.nodes&&jt(e=t.nodes).call(e,function(c){var v={id:c.id,label:String(c.label||c.id)};Zo(v,B0(c.attr,df)),v.image&&(v.shape="image"),n.nodes.push(v)}),t.edges){var o,s=function(c){var v={from:c.from,to:c.to};return Zo(v,B0(c.attr,hf)),null==v.arrows&&"->"===c.type&&(v.arrows="to"),v};jt(o=t.edges).call(o,function(c){var v,m,T,O,D,R,B;v=c.from instanceof Object?c.from.nodes:{id:c.from},m=c.to instanceof Object?c.to.nodes:{id:c.to},c.from instanceof Object&&c.from.edges&&jt(T=c.from.edges).call(T,function(N){var V=s(N);n.edges.push(V)}),D=m,R=function(N,V){var Q=F0(n,N.id,V.id,c.type,c.attr),W=s(Q);n.edges.push(W)},Pt(O=v)?jt(O).call(O,function(N){Pt(D)?jt(D).call(D,function(V){R(N,V)}):R(N,D)}):Pt(D)?jt(D).call(D,function(N){R(O,N)}):R(O,D),c.to instanceof Object&&c.to.edges&&jt(B=c.to.edges).call(B,function(N){var V=s(N);n.edges.push(V)})})}return t.attr&&(n.options=t.attr),n}var px=Object.freeze({__proto__:null,parseDOT:O0,DOTToGraph:hy});function py(r,e){var t,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));var o=r.edges,s=ci(o).call(o,function(c){var v={from:c.source,id:c.id,to:c.target};return null!=c.attributes&&(v.attributes=c.attributes),null!=c.label&&(v.label=c.label),null!=c.attributes&&null!=c.attributes.title&&(v.title=c.attributes.title),"Directed"===c.type&&(v.arrows="to"),c.color&&!1===n.edges.inheritColor&&(v.color=c.color),v});return{nodes:ci(t=r.nodes).call(t,function(c){var v={id:c.id,fixed:n.nodes.fixed&&null!=c.x&&null!=c.y};return null!=c.attributes&&(v.attributes=c.attributes),null!=c.label&&(v.label=c.label),null!=c.size&&(v.size=c.size),null!=c.attributes&&null!=c.attributes.title&&(v.title=c.attributes.title),null!=c.title&&(v.title=c.title),null!=c.x&&(v.x=c.x),null!=c.y&&(v.y=c.y),null!=c.color&&(v.color=!0===n.nodes.parseColor?c.color:{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}),v}),edges:s}}var $0=Object.freeze({__proto__:null,parseGephi:py}),N0=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),fx=function(){function r(){Te(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Se(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var n=Math.floor(t/2),o=Math.floor(t/4),s=Math.floor(t/8),c=Math.floor(t/16),v=Math.floor(e/2),m=Math.floor(e/4),T=Math.floor(e/8),O=Math.floor(e/16);this.canvas.width=3*m,this.canvas.height=n,this.coordinates=[[0,0,v,n],[v,0,m,o],[v,o,T,s],[5*T,o,O,c]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var o=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,o[0],o[1],o[2],o[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,o,s,c){if(this.initialized())if(t>2){t*=.5;for(var v=0;t>2&&v<this.NUM_ITERATIONS;)t*=.5,v+=1;v>=this.NUM_ITERATIONS&&(v=this.NUM_ITERATIONS-1);var m=this.coordinates[v];e.drawImage(this.canvas,m[0],m[1],m[2],m[3],n,o,s,c)}else e.drawImage(this.image,n,o,s,c)}}]),r}(),j0=function(){function r(e){Te(this,r),this.images={},this.imageBroken={},this.callback=e}return Se(r,[{key:"_tryloadBrokenUrl",value:function(e,t,n){void 0!==e&&void 0!==n&&(void 0!==t?(n.image.onerror=function(){console.error("Could not load brokenImage:",t)},n.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,o=this.images[e];if(o)return o;var s=new fx;return this.images[e]=s,s.image.onload=function(){n._fixImageCoordinates(s.image),s.init(),n._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,s)},s.image.src=e,s}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),vd={exports:{}},vx=ke(function(){if("function"==typeof ArrayBuffer){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),gx=Xe,V0=di,fy=vx,pf=Object.isExtensible,K0=ke(function(){pf(1)})||fy?function(r){return!!gx(r)&&(!fy||"ArrayBuffer"!=V0(r))&&(!pf||pf(r))}:pf,mx=!ke(function(){return Object.isExtensible(Object.preventExtensions({}))}),yx=xe,W0=me,gd=Js,G0=Xe,ff=_t,vy=$t.f,md=l,U0=z,gy=K0,bx=mx,Y0=!1,Qr=ho("meta"),ac=0,my=function(r){vy(r,Qr,{value:{objectID:"O"+ac++,weakData:{}}})},_x=vd.exports={enable:function(){_x.enable=function(){},Y0=!0;var r=md.f,e=W0([].splice),t={};t[Qr]=1,r(t).length&&(md.f=function(n){for(var o=r(n),s=0,c=o.length;s<c;s++)if(o[s]===Qr){e(o,s,1);break}return o},yx({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:U0.f}))},fastKey:function(r,e){if(!G0(r))return"symbol"==typeof r?r:("string"==typeof r?"S":"P")+r;if(!ff(r,Qr)){if(!gy(r))return"F";if(!e)return"E";my(r)}return r[Qr].objectID},getWeakData:function(r,e){if(!ff(r,Qr)){if(!gy(r))return!0;if(!e)return!1;my(r)}return r[Qr].weakData},onFreeze:function(r){return bx&&Y0&&gy(r)&&!ff(r,Qr)&&my(r),r}};gd[Qr]=!0;var yy=wn,q0=ai,Q0=Yt,wx=ao,by=_g,xx=Ei,Ms=ot,_y=hs,yd=kl,bd=hu,Z0=ie.TypeError,_d=function(r,e){this.stopped=r,this.result=e},J0=_d.prototype,vf=function(r,e,t){var n,o,s,c,v,m,T,D=!(!t||!t.AS_ENTRIES),R=!(!t||!t.IS_ITERATOR),B=!(!t||!t.INTERRUPTED),N=yy(e,t&&t.that),V=function(W){return n&&bd(n,"normal",W),new _d(!0,W)},Q=function(W){return D?(Q0(W),B?N(W[0],W[1],V):N(W[0],W[1])):B?N(W,V):N(W)};if(R)n=r;else{if(!(o=yd(r)))throw Z0(wx(r)+" is not iterable");if(by(o)){for(s=0,c=xx(r);c>s;s++)if((v=Q(r[s]))&&Ms(J0,v))return v;return new _d(!1)}n=_y(r,o)}for(m=n.next;!(T=q0(m,n)).done;){try{v=Q(T.value)}catch(W){bd(n,"throw",W)}if("object"==typeof v&&v&&Ms(J0,v))return v}return new _d(!1)},Cx=ot,Tx=ie.TypeError,wd=function(r,e){if(Cx(e,r))return r;throw Tx("Incorrect invocation")},kx=xe,Sx=ie,X0=vd.exports,Ex=ke,Ox=xn,wy=vf,xy=wd,Cy=Ae,Ix=Xe,Dx=$r,ew=$t.f,tw=hr.forEach,Ty=rt,iw=or.set,Fs=or.getterFor,gf=function(r,e,t){var n,o=-1!==r.indexOf("Map"),s=-1!==r.indexOf("Weak"),c=o?"set":"add",v=Sx[r],m=v&&v.prototype,T={};if(Ty&&Cy(v)&&(s||m.forEach&&!Ex(function(){(new v).entries().next()}))){var O=(n=e(function(R,B){iw(xy(R,O),{type:r,collection:new v}),null!=B&&wy(B,R[c],{that:R,AS_ENTRIES:o})})).prototype,D=Fs(r);tw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var B="add"==R||"set"==R;!(R in m)||s&&"clear"==R||Ox(O,R,function(N,V){var Q=D(this).collection;if(!B&&s&&!Ix(N))return"get"==R&&void 0;var W=Q[R](0===N?0:N,V);return B?this:W})}),s||ew(O,"size",{configurable:!0,get:function(){return D(this).collection.size}})}else n=t.getConstructor(e,r,o,c),X0.enable();return Dx(n,r,!1,!0),T[r]=n,kx({global:!0,forced:!0},T),s||t.setStrong(n,r,o),n},Mx=ra,ky=function(r,e,t){for(var n in e)t&&t.unsafe&&r[n]?r[n]=e[n]:Mx(r,n,e[n],t);return r},Fx=bi,Rx=$t,nw=rt,mf=ut("species"),Px=$t.f,Ax=sr,rw=ky,yf=wn,Sy=wd,Lx=vf,zx=yl,xd=rt,lc=vd.exports.fastKey,bf=or.set,Ey=or.getterFor,cc={getConstructor:function(r,e,t,n){var o=r(function(T,O){Sy(T,s),bf(T,{type:e,index:Ax(null),first:void 0,last:void 0,size:0}),xd||(T.size=0),null!=O&&Lx(O,T[n],{that:T,AS_ENTRIES:t})}),s=o.prototype,c=Ey(e),v=function(T,O,D){var R,B,N=c(T),V=m(T,O);return V?V.value=D:(N.last=V={index:B=lc(O,!0),key:O,value:D,previous:R=N.last,next:void 0,removed:!1},N.first||(N.first=V),R&&(R.next=V),xd?N.size++:T.size++,"F"!==B&&(N.index[B]=V)),T},m=function(T,O){var D,R=c(T),B=lc(O);if("F"!==B)return R.index[B];for(D=R.first;D;D=D.next)if(D.key==O)return D};return rw(s,{clear:function(){for(var T=c(this),O=T.index,D=T.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete O[D.index],D=D.next;T.first=T.last=void 0,xd?T.size=0:this.size=0},delete:function(T){var O=this,D=c(O),R=m(O,T);if(R){var B=R.next,N=R.previous;delete D.index[R.index],R.removed=!0,N&&(N.next=B),B&&(B.previous=N),D.first==R&&(D.first=B),D.last==R&&(D.last=N),xd?D.size--:O.size--}return!!R},forEach:function(T){for(var O,D=c(this),R=yf(T,arguments.length>1?arguments[1]:void 0);O=O?O.next:D.first;)for(R(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(T){return!!m(this,T)}}),rw(s,t?{get:function(T){var O=m(this,T);return O&&O.value},set:function(T,O){return v(this,0===T?0:T,O)}}:{add:function(T){return v(this,T=0===T?0:T,T)}}),xd&&Px(s,"size",{get:function(){return c(this).size}}),o},setStrong:function(r,e,t){var n=e+" Iterator",o=Ey(e),s=Ey(n);zx(r,e,function(c,v){bf(this,{type:n,target:c,state:o(c),kind:v,last:void 0})},function(){for(var c=s(this),v=c.kind,m=c.last;m&&m.removed;)m=m.previous;return c.target&&(c.last=m=m?m.next:c.state.first)?"keys"==v?{value:m.key,done:!1}:"values"==v?{value:m.value,done:!1}:{value:[m.key,m.value],done:!1}:(c.target=void 0,{value:void 0,done:!0})},t?"entries":"values",!t,!0),function(r){var e=Fx(r);nw&&e&&!e[mf]&&(0,Rx.f)(e,mf,{configurable:!0,get:function(){return this}})}(e)}};gf("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},cc);var Sr=$e.Map,ow=function(){function r(){Te(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},We(this.options,this.defaultOptions)}return Se(r,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===kt(t).call(t,n)&&this.add(n,e[n])}},{key:"clear",value:function(){this._groups=new Sr,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(e);if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var o=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[o]),this._groups.set(e,n)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[s],this._groups.set(e,n)}return n}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),r}();xe({target:"Number",stat:!0},{isNaN:function(r){return r!=r}});var Oy=$e.Number.isNaN,$x=ie.isFinite;xe({target:"Number",stat:!0},{isFinite:Number.isFinite||function(r){return"number"==typeof r&&$x(r)}});var Ma=$e.Number.isFinite,_f=hr.some;xe({target:"Array",proto:!0,forced:!Vr("some")},{some:function(r){return _f(this,r,arguments.length>1?arguments[1]:void 0)}});var sw=yi("Array").some,jx=ot,Hx=sw,Cd=Array.prototype,Mi=ie,Iy=ke,Wx=Tn,Dy=Lp.trim,aw=me("".charAt),Td=Mi.parseFloat,My=Mi.Symbol,Fa=My&&My.iterator,wf=1/Td("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0||Fa&&!Iy(function(){Td(Object(Fa))})?function(r){var e=Dy(Wx(r)),t=Td(e);return 0===t&&"-"==aw(e,0)?-0:t}:Td;xe({global:!0,forced:parseFloat!=wf},{parseFloat:wf});var Er=$e.parseFloat,cw=z.f;xe({target:"Object",stat:!0,forced:ke(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:cw});var uw=$e.Object;function Ay(r,e){var t=["node","edge","label"],n=!0,o=Uo(e,"chosen");if("boolean"==typeof o)n=o;else if("object"===Ot(o)){if(-1===kt(t).call(t,r))throw new Error("choosify: subOption '"+r+"' should be one of '"+t.join("', '")+"'");var s=Uo(e,["chosen",r]);"boolean"!=typeof s&&"function"!=typeof s||(n=s)}return n}function xf(r,e,t){if(r.width<=0||r.height<=0)return!1;if(void 0!==t){var n={x:e.x-t.x,y:e.y-t.y};if(0!==t.angle){var o=-t.angle;e={x:Math.cos(o)*n.x-Math.sin(o)*n.y,y:Math.sin(o)*n.x+Math.cos(o)*n.y}}else e=n}return r.left<e.x&&r.x+r.width>e.x&&r.top<e.y&&r.y+r.width>e.y}function Cf(r){return"string"==typeof r&&""!==r}function Ly(r,e,t,n){var o=n.x,s=n.y;if("function"==typeof n.distanceToBorder){var c=n.distanceToBorder(r,e),v=Math.sin(e)*c,m=Math.cos(e)*c;m===c?(o+=c,s=n.y):v===c?(o=n.x,s-=c):(o+=m,s-=v)}else n.shape.width>n.shape.height?(o=n.x+.5*n.shape.width,s=n.y-t):(o=n.x+t,s=n.y-.5*n.shape.height);return{x:o,y:s}}var dw=yi("Array").values,Gx=ns,hw=_t,d=ot,g=dw,y=Array.prototype,_={DOMTokenList:!0,NodeList:!0},S=function(r){var e=r.values;return r===y||d(y,r)&&e===y.values||hw(_,Gx(r))?g:e},I=function(){function r(e){Te(this,r),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return Se(r,[{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var o=t;void 0!==t&&""!==t||(o=" ");var s=this.measureText(o,n),c=We({},S(s));c.text=t,c.width=s.width,c.mod=n,void 0!==t&&""!==t||(c.width=0),this.lines[e].blocks.push(c),this.lines[e].width+=c.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var o=0;o<t.blocks.length;o++){var s=t.blocks[o];n<s.height&&(n=s.height)}t.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,n=0;n<this.lines.length;n++){var o=this.lines[n];o.width>e&&(e=o.width),t+=o.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];if(0!==n.blocks.length&&(t!==this.lines.length-1||0!==n.width)){var o={};We(o,n),o.blocks=[];for(var s=void 0,c=[],v=0;v<n.blocks.length;v++){var m=n.blocks[v];0!==m.width?c.push(m):void 0===s&&(s=m)}0===c.length&&void 0!==s&&c.push(s),o.blocks=c,e.push(o)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),M={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},A=function(){function r(e){Te(this,r),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Se(r,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=ii(this.prepareRegExp(e),2),c=o[1],v=o[0].test(this.text.substr(this.position,c));return v&&t&&(this.position+=c-1),v}},{key:"parseEndTag",value:function(e,t,n){var o=this.mod()===e;return!(!(o="mono"===e?o&&this.mono:o&&!this.mono)||!this.match(t)||(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var o=M[e];n=void 0!==o?o:new RegExp(e),t=e.length}return[n,t]}}]),r}(),$=function(){function r(e,t,n,o){var s=this;Te(this,r),this.ctx=e,this.parent=t,this.selected=n,this.hover=o,this.lines=new I(function(c,v){if(void 0===c)return 0;var m=s.parent.getFormattingValues(e,n,o,v),T=0;return""!==c&&(T=s.ctx.measureText(c).width),{width:T,values:m}})}return Se(r,[{key:"process",value:function(e){if(!Cf(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(e).split("\n"),o=n.length;if(t.multi)for(var s=0;s<o;s++){var c=this.splitBlocks(n[s],t.multi);if(void 0!==c)if(0!==c.length){if(t.maxWdt>0)for(var v=0;v<c.length;v++)this.splitStringIntoLines(c[v].text,c[v].mod,!0);else for(var O=0;O<c.length;O++)this.lines.append(c[O].text,c[O].mod);this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var B=0;B<o;B++)this.splitStringIntoLines(n[B]);else for(var N=0;N<o;N++)this.lines.newLine(n[N]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new A(e);t.position<t.text.length;){var o=t.text.charAt(t.position);t.parseWS(o)||/</.test(o)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||!!/&/.test(o)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)||t.add(o),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,n=new A(e),o=!0;n.position<n.text.length;){var c=n.text.charAt(n.position);n.parseWS(c)||!!/\\/.test(v=c)&&(n.position<t.text.length+1&&(n.position++,v=t.text.charAt(n.position),/ \t/.test(v)?n.spacing=!0:(n.add(v),o=!1)),!0)||(o||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(c),o=!1),n.position++}var v;return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var o=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(o))break;t=o,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(gt(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var o=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");o.length>0;){var s=this.getLongestFit(o);if(0===s){var c=o[0],v=this.getLongestFitWord(c);this.lines.newLine(gt(c).call(c,0,v),t),o[0]=gt(c).call(c,v)}else{var m=s;" "===o[s-1]?s--:" "===o[m]&&m++;var T=gt(o).call(o,0,s).join("");s==o.length&&n?this.lines.append(T,t):this.lines.newLine(T,t),o=gt(o).call(o,m)}}}}]),r}(),j=["bold","ital","boldital","mono"],J=function(){function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Te(this,r),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return Se(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Cf(e.label)?this.labelDirty=!0:e.label=void 0,null!=e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===Ot(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(e){var t=this;vt(j,function(n){t.fontOptions[n]={}}),r.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:vt(e,function(n,o){null!=n&&"object"!==Ot(n)&&(t.fontOptions[o]=n)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Uo(e,"widthConstraint");if("number"==typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"===Ot(n)){var o=Uo(e,["widthConstraint","maximum"]);"number"==typeof o&&(t.maxWdt=Number(o));var s=Uo(e,["widthConstraint","minimum"]);"number"==typeof s&&(t.minWdt=Number(s))}var c=Uo(e,"heightConstraint");if("number"==typeof c)t.minHgt=Number(c);else if("object"===Ot(c)){var v=Uo(e,["heightConstraint","minimum"]);"number"==typeof v&&(t.minHgt=Number(v));var m=Uo(e,["heightConstraint","valign"]);"string"==typeof m&&("top"!==m&&"bottom"!==m||(t.valign=m))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Ht(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Ay("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e?e.top+e.bottom:0)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){void 0!==t&&null!=t.font&&e.push(t.font)}},{key:"getBasicOptions",value:function(e){for(var t={},n=0;n<e.length;++n){var o=e[n],s={};r.parseFontString(s,o)&&(o=s),vt(o,function(c,v){void 0!==c&&(Object.prototype.hasOwnProperty.call(t,v)||(t[v]=-1!==kt(j).call(j,v)?{}:c))})}return t}},{key:"getFontOption",value:function(e,t,n){for(var o,s=0;s<e.length;++s){var c=e[s];if(Object.prototype.hasOwnProperty.call(c,t)){if(null==(o=c[t]))continue;var v={};if(r.parseFontString(v,o)&&(o=v),Object.prototype.hasOwnProperty.call(o,n))return o[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,t){for(var n={},o=["color","size","face","mod","vadjust"],s=0;s<o.length;++s){var c=o[s];n[c]=this.getFontOption(e,t,c)}return n}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var o=function(c){var v=j[c],m=t.fontOptions[v];vt(t.getFontOptions(n,v),function(T,O){m[O]=T}),m.size=Number(m.size),m.vadjust=Number(m.vadjust)},s=0;s<j.length;++s)o(s)}},{key:"draw",value:function(e,t,n,o,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var v=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&v<this.elementOptions.scaling.label.drawThreshold-1||(v>=this.elementOptions.scaling.label.maxVisible&&(v=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,o,s,t,n,c),this._drawBackground(e),this._drawText(e,t,this.size.yLine,c,v))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var s=arguments.length>4?arguments[4]:void 0,v=ii(this._setAlignment(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),2);t=v[0],n=v[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var m=0;m<this.lineCount;m++){var T=this.lines[m];if(T&&T.blocks){var O=0;this.isEdgeLabel||"center"===this.fontOptions.align?O+=(this.size.width-T.width)/2:"right"===this.fontOptions.align&&(O+=this.size.width-T.width);for(var D=0;D<T.blocks.length;D++){var R=T.blocks[D];e.font=R.font;var N=ii(this._getColor(R.color,s,R.strokeColor),2),V=N[0],Q=N[1];R.strokeWidth>0&&(e.lineWidth=R.strokeWidth,e.strokeStyle=Q,e.lineJoin="round"),e.fillStyle=V,R.strokeWidth>0&&e.strokeText(R.text,t+O,n+R.vadjust),e.fillText(R.text,t+O,n+R.vadjust),O+=R.width}n+=T.height}}}},{key:"_setAlignment",value:function(e,t,n,o){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"):e.textBaseline=o,[t,n]}},{key:"_getColor",value:function(e,t,n){var o=e||"#000000",s=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var c=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));o=yn(o,c),s=yn(s,c)}return[o,s]}},{key:"getTextSize",value:function(e){return this._processLabel(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=o-.5*this.size.width,this.size.top=s-.5*this.size.height,this.size.yLine=s+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===c&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,o){var s=function(m,T,O){return"normal"===T?"mod"===O?"":m[O]:void 0!==m[T][O]?m[T][O]:m[O]},c={color:s(this.fontOptions,o,"color"),size:s(this.fontOptions,o,"size"),face:s(this.fontOptions,o,"face"),mod:s(this.fontOptions,o,"mod"),vadjust:s(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===o&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?c.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(c,this.elementOptions.id,t,n));var v="";return void 0!==c.mod&&""!==c.mod&&(v+=c.mod+" "),e.font=(v+=c.size+"px "+c.face).replace(/"/g,""),c.font=e.font,c.height=c.size,c}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,o){return new $(e,this,t,n).process(o)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var o=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),r}(),Z=la,pe=ao,Ce=ie.TypeError,Me=xe,De=sn,Be=el,Re=function(r){if(Z(r))return r;throw Ce(pe(r)+" is not a constructor")},it=Yt,At=Xe,It=sr,Vt=ke,On=bi("Reflect","construct"),bn=Object.prototype,ri=[].push,Fi=Vt(function(){function r(){}return!(On(function(){},[],r)instanceof r)}),Wi=!Vt(function(){On(function(){})}),Rs=Fi||Wi;Me({target:"Reflect",stat:!0,forced:Rs,sham:Rs},{construct:function(r,e){Re(r),it(e);var t=arguments.length<3?r:Re(arguments[2]);if(Wi&&!Fi)return On(r,e,t);if(r==t){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3])}var n=[null];return De(ri,n,e),new(De(Be,r,n))}var o=t.prototype,s=It(At(o)?o:bn),c=De(r,s,e);return At(c)?c:s}});var ae=$e.Reflect.construct,Ra=Bm;xe({target:"Object",stat:!0},{setPrototypeOf:vl});var Tf=$e.Object.setPrototypeOf;function kd(r,e){return(kd=Tf||function(t,n){return t.__proto__=n,t})(r,e)}function xt(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Ra(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Cp(r,"prototype",{writable:!1}),e&&kd(r,e)}function ce(r,e){if(e&&("object"===Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)}var ge=$_;function de(r){return(de=Tf?ge:function(e){return e.__proto__||ge(e)})(r)}var nt=function(){function r(e,t,n){Te(this,r),this.body=t,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Se(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==Ot(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){e.lineWidth=Math.min(this.width,t.borderWidth/this.body.view.scale),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Hn(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,o,s){void 0!==n&&this.resize(n,o,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,o,s){this._updateBoundingBox(e,t,n,o,s)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var o=this.textSize.width,s=this.textSize.height;return 0===o&&(o=14,s=14),{width:o,height:s}}}]),r}();var oi=function(r){xt(t,r);var e=function Le(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._setMargins(s),c}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var c=this.getDimensionsFromLabel(n,o,s);this.width=c.width+this.margin.right+this.margin.left,this.height=c.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v),this.left=o-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,m),il(n,this.left,this.top,this.width,this.height,m.borderRadius),this.performFill(n,m),this.updateBoundingBox(o,s,n,c,v),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,c,v)}},{key:"updateBoundingBox",value:function(n,o,s,c,v){this._updateBoundingBox(n,o,s,c,v),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(n,o){n&&this.resize(n);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(o)),Math.abs(this.height/2/Math.sin(o)))+s}}]),t}(nt);var Ut=function(r){xt(t,r);var e=function Ct(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s)).labelOffset=0,c.selected=!1,c}return Se(t,[{key:"setOptions",value:function(n,o,s){this.options=n,void 0===o&&void 0===s||this.setImages(o,s)}},{key:"setImages",value:function(n,o){o&&this.selected?(this.imageObj=o,this.imageObjAlt=n):(this.imageObj=n,this.imageObjAlt=o)}},{key:"switchImages",value:function(n){var o=n&&!this.selected||!n&&this.selected;if(this.selected=n,void 0!==this.imageObjAlt&&o){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var n={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var o=this.options.imagePadding;"object"==Ot(o)?(n.top=o.top,n.right=o.right,n.bottom=o.bottom,n.left=o.left):(n.top=o,n.right=o,n.bottom=o,n.left=o)}return n}},{key:"_resizeImage",value:function(){var n,o;if(!1===this.options.shapeProperties.useImageSize){var s=1,c=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:c=this.imageObj.height/this.imageObj.width),n=2*this.options.size*s,o=2*this.options.size*c}else{var v=this._getImagePadding();n=this.imageObj.width+v.left+v.right,o=this.imageObj.height+v.top+v.bottom}this.width=n,this.height=o,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(n,o,s,c){this.initContextForDraw(n,c),Wc(n,o,s,c.size),this.performFill(n,c)}},{key:"_drawImageAtPosition",value:function(n,o){if(0!=this.imageObj.width){n.globalAlpha=void 0!==o.opacity?o.opacity:1,this.enableShadow(n,o);var s=1;!0===this.options.shapeProperties.interpolation&&(s=this.imageObj.width/this.width/this.body.view.scale);var c=this._getImagePadding();this.imageObj.drawImageAtPosition(n,s,this.left+c.left,this.top+c.top,this.width-c.left-c.right,this.height-c.top-c.bottom),this.disableShadow(n,o)}}},{key:"_drawImageLabel",value:function(n,o,s,c,v){var m=0;if(void 0!==this.height){m=.5*this.height;var T=this.labelModule.getTextSize(n,c,v);T.lineCount>=1&&(m+=T.height/2)}var O=s+m;this.options.label&&(this.labelOffset=m),this.labelModule.draw(n,o,O,c,v,"hanging")}}]),t}(nt);var Mt=function(r){xt(t,r);var e=function Un(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._setMargins(s),c}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var c=this.getDimensionsFromLabel(n,o,s),v=Math.max(c.width+this.margin.right+this.margin.left,c.height+this.margin.top+this.margin.bottom);this.options.size=v/2,this.width=v,this.height=v,this.radius=this.width/2}}},{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v),this.left=o-this.width/2,this.top=s-this.height/2,this._drawRawCircle(n,o,s,m),this.updateBoundingBox(o,s),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,s,c,v)}},{key:"updateBoundingBox",value:function(n,o){this.boundingBox.top=o-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=o+this.options.size}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),.5*this.width}}]),t}(Ut);var _n=function(r){xt(t,r);var e=function zi(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s,c,v){var m;return Te(this,t),(m=e.call(this,n,o,s)).setImages(c,v),m}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var v=2*this.options.size;return this.width=v,this.height=v,void(this.radius=.5*this.width)}this.needsRefresh(o,s)&&this._resizeImage()}},{key:"draw",value:function(n,o,s,c,v,m){this.switchImages(c),this.resize();var T=o,O=s;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=o,this.top=s,T+=this.width/2,O+=this.height/2):(this.left=o-this.width/2,this.top=s-this.height/2),this._drawRawCircle(n,T,O,m),n.save(),n.clip(),this._drawImageAtPosition(n,m),n.restore(),this._drawImageLabel(n,T,O,c,v),this.updateBoundingBox(o,s)}},{key:"updateBoundingBox",value:function(n,o){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=o,this.boundingBox.left=n,this.boundingBox.right=n+2*this.options.size,this.boundingBox.bottom=o+2*this.options.size):(this.boundingBox.top=o-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=o+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),.5*this.width}}]),t}(Ut);var Ri=function(r){xt(t,r);var e=function Pa(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(o,s)){var v,m;this.labelModule.getTextSize(n,o,s);var T=2*c.size;this.width=null!==(v=this.customSizeWidth)&&void 0!==v?v:T,this.height=null!==(m=this.customSizeHeight)&&void 0!==m?m:T,this.radius=.5*this.width}}},{key:"_drawShape",value:function(n,o,s,c,v,m,T,O){var D,R=this;return this.resize(n,m,T,O),this.left=c-this.width/2,this.top=v-this.height/2,this.initContextForDraw(n,O),(D=o,Object.prototype.hasOwnProperty.call(Ar,D)?Ar[D]:function(B){for(var N=arguments.length,V=new Array(N>1?N-1:0),Q=1;Q<N;Q++)V[Q-1]=arguments[Q];CanvasRenderingContext2D.prototype[D].call(B,V)})(n,c,v,O.size),this.performFill(n,O),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(n.font=(m?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.icon.code,c,v)),{drawExternalLabel:function(){void 0!==R.options.label&&(R.labelModule.calculateLabelSize(n,m,T,c,v,"hanging"),R.labelModule.draw(n,c,v+.5*R.height+.5*R.labelModule.size.height,m,T,"hanging")),R.updateBoundingBox(c,v)}}}},{key:"updateBoundingBox",value:function(n,o){this.boundingBox.top=o-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=o+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(nt);function Zr(r,e){var t=mt(r);if(gs){var n=gs(r);e&&(n=Vi(n).call(n,function(o){return Hi(r,o).enumerable})),t.push.apply(t,n)}return t}function uc(r){for(var e=1;e<arguments.length;e++){var t,n,o=null!=arguments[e]?arguments[e]:{};e%2?jt(t=Zr(Object(o),!0)).call(t,function(s){Bl(r,s,o[s])}):$n?ba(r,$n(o)):jt(n=Zr(Object(o))).call(n,function(s){Au(r,s,Hi(o,s))})}return r}var pw=function(r){xt(t,r);var e=function AC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s,c){var v;return Te(this,t),(v=e.call(this,n,o,s,c)).ctxRenderer=c,v}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v,m),this.left=o-this.width/2,this.top=s-this.height/2,n.save();var T=this.ctxRenderer({ctx:n,id:this.options.id,x:o,y:s,state:{selected:c,hover:v},style:uc({},m),label:this.options.label});if(null!=T.drawNode&&T.drawNode(),n.restore(),T.drawExternalLabel){var O=T.drawExternalLabel;T.drawExternalLabel=function(){n.save(),O(),n.restore()}}return T.nodeDimensions&&(this.customSizeWidth=T.nodeDimensions.width,this.customSizeHeight=T.nodeDimensions.height),T}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var fw=function(r){xt(t,r);var e=function Aa(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._setMargins(s),c}return Se(t,[{key:"resize",value:function(n,o,s){if(this.needsRefresh(o,s)){var c=this.getDimensionsFromLabel(n,o,s).width+this.margin.right+this.margin.left;this.width=c,this.height=c,this.radius=this.width/2}}},{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v),this.left=o-this.width/2,this.top=s-this.height/2,this.initContextForDraw(n,m),dh(n,o-this.width/2,s-this.height/2,this.width,this.height),this.performFill(n,m),this.updateBoundingBox(o,s,n,c,v),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,c,v)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(nt);var XT=function(r){xt(t,r);var e=function Sd(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"diamond",4,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var Ux=function(r){xt(t,r);var e=function LC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"circle",2,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.options.size}}]),t}(Ri);var BC=function(r){xt(t,r);var e=function zC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(o,s)){var c=this.getDimensionsFromLabel(n,o,s);this.height=2*c.height,this.width=c.width+c.height,this.radius=.5*this.width}}},{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v),this.left=o-.5*this.width,this.top=s-.5*this.height,this.initContextForDraw(n,m),An(n,this.left,this.top,this.width,this.height),this.performFill(n,m),this.updateBoundingBox(o,s,n,c,v),this.labelModule.draw(n,o,s,c,v)}},{key:"distanceToBorder",value:function(n,o){n&&this.resize(n);var s=.5*this.width,c=.5*this.height,v=Math.sin(o)*s,m=Math.cos(o)*c;return s*c/Math.sqrt(v*v+m*m)}}]),t}(nt);var Yx=function(r){xt(t,r);var e=function vw(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._setMargins(s),c}return Se(t,[{key:"resize",value:function(n,o,s){this.needsRefresh(o,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,o,s,c,v,m){var T=this;return this.resize(n,c,v),this.options.icon.size=this.options.icon.size||50,this.left=o-this.width/2,this.top=s-this.height/2,this._icon(n,o,s,c,v,m),{drawExternalLabel:function(){void 0!==T.options.label&&T.labelModule.draw(n,T.left+T.iconSize.width/2+T.margin.left,s+T.height/2+5,c),T.updateBoundingBox(o,s)}}}},{key:"updateBoundingBox",value:function(n,o){this.boundingBox.top=o-.5*this.options.icon.size,this.boundingBox.left=n-.5*this.options.icon.size,this.boundingBox.right=n+.5*this.options.icon.size,this.boundingBox.bottom=o+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(n,o,s,c,v,m){var T=Number(this.options.icon.size);void 0!==this.options.icon.code?(n.font=[null!=this.options.icon.weight?this.options.icon.weight:c?"bold":"",(null!=this.options.icon.weight&&c?5:0)+T+"px",this.options.icon.face].join(" "),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,m),n.fillText(this.options.icon.code,o,s),this.disableShadow(n,m)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(nt);var ek=function(r){xt(t,r);var e=function $C(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s,c,v){var m;return Te(this,t),(m=e.call(this,n,o,s)).setImages(c,v),m}return Se(t,[{key:"resize",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var v=2*this.options.size;return this.width=v,void(this.height=v)}this.needsRefresh(o,s)&&this._resizeImage()}},{key:"draw",value:function(n,o,s,c,v,m){n.save(),this.switchImages(c),this.resize();var T=o,O=s;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=o,this.top=s,T+=this.width/2,O+=this.height/2):(this.left=o-this.width/2,this.top=s-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){n.lineWidth=Math.min(this.width,(c?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),n.beginPath();var N=c?this.options.color.highlight.border:v?this.options.color.hover.border:this.options.color.border,V=c?this.options.color.highlight.background:v?this.options.color.hover.background:this.options.color.background;void 0!==m.opacity&&(N=yn(N,m.opacity),V=yn(V,m.opacity)),n.strokeStyle=N,n.fillStyle=V,n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth),Hn(n).call(n),this.performStroke(n,m),n.closePath()}this._drawImageAtPosition(n,m),this._drawImageLabel(n,T,O,c,v),this.updateBoundingBox(o,s),n.restore()}},{key:"updateBoundingBox",value:function(n,o){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=n,this.top=o):(this.left=n-this.width/2,this.top=o-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ut);var tk=function(r){xt(t,r);var e=function NC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"square",2,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var nk=function(r){xt(t,r);var e=function ik(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"hexagon",4,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var ok=function(r){xt(t,r);var e=function rk(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"star",4,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var By=function(r){xt(t,r);var e=function zy(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._setMargins(s),c}return Se(t,[{key:"resize",value:function(n,o,s){this.needsRefresh(o,s)&&(this.textSize=this.labelModule.getTextSize(n,o,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,o,s,c,v,m){this.resize(n,c,v),this.left=o-this.width/2,this.top=s-this.height/2,this.enableShadow(n,m),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,c,v),this.disableShadow(n,m),this.updateBoundingBox(o,s,n,c,v)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(nt);var jC=function(r){xt(t,r);var e=function $y(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"triangle",3,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);var Ed=function(r){xt(t,r);var e=function kf(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"draw",value:function(n,o,s,c,v,m){return this._drawShape(n,"triangleDown",3,o,s,c,v,m)}},{key:"distanceToBorder",value:function(n,o){return this._distanceToBorder(n,o)}}]),t}(Ri);function HC(r,e){var t=mt(r);if(gs){var n=gs(r);e&&(n=Vi(n).call(n,function(o){return Hi(r,o).enumerable})),t.push.apply(t,n)}return t}function VC(r){for(var e=1;e<arguments.length;e++){var t,n,o=null!=arguments[e]?arguments[e]:{};e%2?jt(t=HC(Object(o),!0)).call(t,function(s){Bl(r,s,o[s])}):$n?ba(r,$n(o)):jt(n=HC(Object(o))).call(n,function(s){Au(r,s,Hi(o,s))})}return r}var Yn=function(){function r(e,t,n,o,s,c){Te(this,r),this.options=Os(s),this.globalOptions=s,this.defaultOptions=c,this.body=t,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=o,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new J(this.body,this.options,!1),this.setOptions(e)}return Se(r,[{key:"attachEdge",value:function(e){var t;-1===kt(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,n,o=kt(t=this.edges).call(t,e);-1!=o&&jn(n=this.edges).call(n,o,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return r.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Xi(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Xi(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=Er(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=Ay("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=yn(e.borderColor,t),e.color=yn(e.color,t),e.shadowColor=yn(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),r.updateGroupOptions(this.options,VC(VC({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,t,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new oi(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Mt(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new _n(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new pw(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new fw(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new XT(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Ux(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new BC(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Yx(this.options,this.body,this.labelModule);break;case"image":this.shape=new ek(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new tk(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new nk(this.options,this.body,this.labelModule);break;case"star":this.shape=new ok(this.options,this.body,this.labelModule);break;case"text":this.shape=new By(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new jC(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Ed(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(e,t,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+o*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+o*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&xf(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),xf(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(e,t,n){var o;if(void 0!==n){var s=e.group;if(void 0!==t&&void 0!==t.group&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof s||"string"==typeof s&&""!=s){var c=n.get(s);void 0!==c.opacity&&void 0===t.opacity&&(r.checkOpacity(c.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+c.opacity),c.opacity=void 0));var v=Vi(o=function(r){return uw.getOwnPropertyNames(r)}(t)).call(o,function(m){return null!=t[m]});v.push("font"),dd(v,e,c),e.color=of(e.color)}}}},{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(dd(["color","fixed","shadow"],e,t,n),r.checkMass(t),void 0!==e.opacity&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==t.opacity&&(r.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!r.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Gn(e,t,"shadow",o),null!=t.color){var v=of(t.color);S0(e.color,v)}else!0===n&&null===t.color&&(e.color=Os(o.color));null!=t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),!0===n&&null===t.font&&(e.font=Os(o.font)),r.updateGroupOptions(e,t,s),void 0!==t.scaling&&Gn(e.scaling,t.scaling,"label",o.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var n="";void 0!==t&&(n=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",uf),e.mass=1}}}]),r}();function qx(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var Ny=function(){function r(e,t,n,o){var s,c=this;if(Te(this,r),this.body=e,this.images=t,this.groups=n,this.layoutEngine=o,this.body.functions.createNode=ye(s=this.create).call(s,this),this.nodesListeners={add:function(v,m){c.add(m.items)},update:function(v,m){c.update(m.items,m.data,m.oldData)},remove:function(v,m){c.remove(m.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(v,m,T,O){return m===v?.5:Math.max(0,1/(m-v)*(O-v))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Os(this.defaultOptions),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("refreshNodes",ye(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ye(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){vt(n.nodesListeners,function(o,s){n.body.data.nodes&&n.body.data.nodes.off(s,o)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(Yn.parseOptions(this.options,e),void 0!==e.opacity&&(Oy(e.opacity)||!Ma(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var n=0,o=mt(this.body.nodes);n<o.length;n++){var s=o[n];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(void 0!==e.size)for(var c in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,c)&&this.body.nodes[c].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(si.isDataViewLike("id",e))this.body.data.nodes=e;else if(Pt(e))this.body.data.nodes=new si.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new si.DataSet}if(n&&vt(this.nodesListeners,function(c,v){n.off(v,c)}),this.body.nodes={},this.body.data.nodes){var o=this;vt(this.nodesListeners,function(c,v){o.body.data.nodes.on(v,c)});var s=this.body.data.nodes.getIds();this.add(s,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],s=0;s<e.length;s++){var c=this.body.data.nodes.get(t=e[s]),v=this.create(c);o.push(v),this.body.nodes[t]=v}this.layoutEngine.positionInitially(o),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var o=this.body.nodes,s=!1,c=0;c<e.length;c++){var v=e[c],m=o[v],T=t[c];void 0!==m?m.setOptions(T)&&(s=!0):(s=!0,m=this.create(T),o[v]=m)}s||void 0===n||(s=function(r){var e=r.some;return r===Cd||jx(Cd,r)&&e===Cd.some?Hx:e}(t).call(t,function(O,D){var R=n[D];return R&&R.level!==O.level})),this.body.emitter.emit(!0===s?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yn)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];vt(this.body.nodes,function(n,o){var s=e.body.data.nodes.get(o);void 0!==s&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(s))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Pt(e)){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var o=this.body.nodes[e[n]];t[e[n]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[e]){var s=this.body.nodes[e];t[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var c=0;c<this.body.nodeIndices.length;c++){var v=this.body.nodes[this.body.nodeIndices[c]];t[this.body.nodeIndices[c]]={x:Math.round(v.x),y:Math.round(v.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],n=this.body.data.nodes.getDataSet(),o=function KC(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return qx(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return qx(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}(n.get());try{for(o.s();!(e=o.n()).done;){var s=e.value,c=s.id,v=this.body.nodes[c],m=Math.round(v.x),T=Math.round(v.y);s.x===m&&s.y===T||t.push({id:c,x:m,y:T})}}catch(O){o.e(O)}finally{o.f()}n.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var o=this.body.nodes[e],s={},c=0;c<o.edges.length;c++){var v=o.edges[c];"to"!==t&&v.toId==o.id?void 0===s[v.fromId]&&(n.push(v.fromId),s[v.fromId]=!0):"from"!==t&&v.fromId==o.id&&void 0===s[v.toId]&&(n.push(v.toId),s[v.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],o=0;o<n.edges.length;o++)t.push(n.edges[o].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var o=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),Wr(function(){o.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}(),gw=_t,sk=ai,ak=Xe,Qx=Yt,lk=function(r){return void 0!==r&&(gw(r,"value")||gw(r,"writable"))},ck=Lt,uk=ko;xe({target:"Reflect",stat:!0},{get:function r(e,t){var n,o,s=arguments.length<3?e:arguments[2];return Qx(e)===s?e[t]:(n=ck.f(e,t))?lk(n)?n.value:void 0===n.get?void 0:sk(n.get,s):ak(o=uk(e))?r(o,t,s):void 0}});var WC=$e.Reflect.get,Zx=Bn;function dk(r,e){for(;!Object.prototype.hasOwnProperty.call(r,e)&&null!==(r=de(r)););return r}function mw(){return mw=typeof Reflect<"u"&&WC?WC:function(r,e,t){var n=dk(r,e);if(n){var o=Zx(n,e);return o.get?o.get.call(arguments.length<3?r:t):o.value}},mw.apply(this,arguments)}var UC=Math.hypot,hk=Math.abs,YC=Math.sqrt;xe({target:"Math",stat:!0,forced:!!UC&&UC(1/0,NaN)!==1/0},{hypot:function(r,e){for(var t,n,o=0,s=0,c=arguments.length,v=0;s<c;)v<(t=hk(arguments[s++]))?(o=o*(n=v/t)*n+1,v=t):o+=t>0?(n=t/v)*n:t;return v===1/0?1/0:v*YC(o)}});var pk=$e.Math.hypot;function Od(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}var ui=function(){function r(){Te(this,r)}return Se(r,null,[{key:"transform",value:function(e,t){Pt(e)||(e=[e]);for(var n=t.point.x,o=t.point.y,s=t.angle,c=t.length,v=0;v<e.length;++v){var m=e[v],T=m.x*Math.cos(s)-m.y*Math.sin(s),O=m.x*Math.sin(s)+m.y*Math.cos(s);m.x=n+c*T,m.y=o+c*O}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),r}(),Jr=function(r){xt(t,r);var e=Od(t);function t(){return Te(this,t),e.apply(this,arguments)}return Se(t,null,[{key:"draw",value:function(n,o){if(o.image){n.save(),n.translate(o.point.x,o.point.y),n.rotate(Math.PI/2+o.angle);var s=null!=o.imageWidth?o.imageWidth:o.image.width;o.image.drawImageAtPosition(n,1,-s/2,0,s,null!=o.imageHeight?o.imageHeight:o.image.height),n.restore()}return!1}}]),t}(ui),Sf=function(r){xt(t,r);var e=Od(t);function t(){return Te(this,t),e.apply(this,arguments)}return Se(t,null,[{key:"draw",value:function(n,o){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return ui.transform(s,o),ui.drawPath(n,s),!0}}]),t}(ui),dc=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),La=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};ui.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,s=t.angle-o/2,c=t.angle+o/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,s,c,!1),e.stroke(),!0}}]),r}(),jy=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n={x:-.3,y:0};ui.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,s=t.angle+o/2,c=t.angle+3*o/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,s,c,!1),e.stroke(),!0}}]),r}(),Ps=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),fk=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),vk=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};return ui.transform(n,t),Wc(e,n.x,n.y,.4*t.length),!0}}]),r}(),yw=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),qC=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),Hy=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),Jx=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return ui.transform(n,t),ui.drawPath(e,n),!0}}]),r}(),Id=function(){function r(){Te(this,r)}return Se(r,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"image":return Jr.draw(e,t);case"circle":return vk.draw(e,t);case"box":return qC.draw(e,t);case"crow":return dc.draw(e,t);case"curve":return La.draw(e,t);case"diamond":return Hy.draw(e,t);case"inv_curve":return jy.draw(e,t);case"triangle":return Ps.draw(e,t);case"inv_triangle":return fk.draw(e,t);case"bar":return yw.draw(e,t);case"vee":return Jx.draw(e,t);default:return Sf.draw(e,t)}}}]),r}();function Xx(r,e){var t=mt(r);if(gs){var n=gs(r);e&&(n=Vi(n).call(n,function(o){return Hi(r,o).enumerable})),t.push.apply(t,n)}return t}function bw(r){for(var e=1;e<arguments.length;e++){var t,n,o=null!=arguments[e]?arguments[e]:{};e%2?jt(t=Xx(Object(o),!0)).call(t,function(s){Bl(r,s,o[s])}):$n?ba(r,$n(o)):jt(n=Xx(Object(o))).call(n,function(s){Au(r,s,Hi(o,s))})}return r}var eC=function(){function r(e,t,n){Te(this,r),this._body=t,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return Se(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}},{key:"_drawLine",value:function(e,t,n,o,s){if(this.from!=this.to)this._line(e,t,n,o,s);else{var c=ii(this._getCircleData(e),3);this._circle(e,t,c[0],c[1],c[2])}}},{key:"_drawDashedLine",value:function(e,t,n,o,s){e.lineCap="round";var c=Pt(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(c),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var v=ii(this._getCircleData(e),3);this._circle(e,t,v[0],v[1],v[2])}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)nl(e,this.from.x,this.from.y,this.to.x,this.to.y,c);else{var D=ii(this._getCircleData(e),3);this._circle(e,t,D[0],D[1],D[2])}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,n=ii(gt(t=this._getCircleData(e)).call(t,0,2),2),o=n[0],s=n[1];return{from:this._findBorderPositionCircle(this.from,e,{x:o,y:s,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:o,y:s,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var n=Ly(e,this.options.selfReference.angle,t,this.from);return[n.x,n.y,t]}},{key:"_pointOnCircle",value:function(e,t,n,o){var s=2*o*Math.PI;return{x:e+n*Math.cos(s),y:t-n*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){var o,s=n.x,c=n.y,v=n.low,m=n.high,T=n.direction,O=this.options.selfReference.size,D=.5*(v+m),R=0;!0===this.options.arrowStrikethrough&&(-1===T?R=this.options.endPointOffset.from:1===T&&(R=this.options.endPointOffset.to));var B=0;do{o=this._pointOnCircle(s,c,O,D=.5*(v+m));var N=Math.atan2(e.y-o.y,e.x-o.x),V=e.distanceToBorder(t,N)+R-Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2));if(Math.abs(V)<.05)break;V>0?T>0?v=D:m=D:T>0?m=D:v=D,++B}while(v<=m&&B<10);return bw(bw({},o),{},{t:D})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(o=yn(this.from.options.color.border,t.opacity),s=yn(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),n.addColorStop(0,o),n.addColorStop(1,s),n}return yn("to"===t.inheritsColor?this.to.options.color.border:this.from.options.color.border,t.opacity)}return yn(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,o,s){this.enableShadow(e,t);var c=0,v=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var m=this.options.selfReference.angle,T=this.options.selfReference.angle+Math.PI,O=this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:m,high:T,direction:-1}),D=this._findBorderPositionCircle(this.from,e,{x:n,y:o,low:m,high:T,direction:1});c=Math.atan2(O.y-o,O.x-n),v=Math.atan2(D.y-o,D.x-n)}e.beginPath(),e.arc(n,o,s,c,v,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,o,s,c){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,o,s,c);var v=ii(this._getCircleData(void 0),3),O=v[2],D=v[0]-s,R=v[1]-c;return Math.abs(Math.sqrt(D*D+R*R)-O)}},{key:"_getDistanceToLine",value:function(e,t,n,o,s,c){var v=n-e,m=o-t,T=((s-e)*v+(c-t)*m)/(v*v+m*m);T>1?T=1:T<0&&(T=0);var O=e+T*v-s,D=t+T*m-c;return Math.sqrt(O*O+D*D)}},{key:"getArrowData",value:function(e,t,n,o,s,c){var v,m,T,O,D,R,B,N=c.width;"from"===t?(T=this.from,O=this.to,D=c.fromArrowScale<0,R=Math.abs(c.fromArrowScale),B=c.fromArrowType):"to"===t?(T=this.to,O=this.from,D=c.toArrowScale<0,R=Math.abs(c.toArrowScale),B=c.toArrowType):(T=this.to,O=this.from,D=c.middleArrowScale<0,R=Math.abs(c.middleArrowScale),B=c.middleArrowType);var V=15*R+3*N;if(T!=O){var Q=V/pk(T.x-O.x,T.y-O.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var W=this._findBorderPosition(T,e,{via:n}),U=this.getPoint(W.t+Q*("from"===t?1:-1),n);v=Math.atan2(W.y-U.y,W.x-U.x),m=W}else v=Math.atan2(T.y-O.y,T.x-O.x),m=this._findBorderPosition(T,e);else{var X=(D?-Q:Q)/2,ue=this.getPoint(.5+X,n),re=this.getPoint(.5-X,n);v=Math.atan2(ue.y-re.y,ue.x-re.x),m=this.getPoint(.5,n)}}else{var Ie=ii(this._getCircleData(e),3),ne=Ie[0],he=Ie[1],Y=Ie[2];if("from"===t){var qe=this.options.selfReference.angle+Math.PI,Fe=this._findBorderPositionCircle(this.from,e,{x:ne,y:he,low:this.options.selfReference.angle,high:qe,direction:-1});v=-2*Fe.t*Math.PI+1.5*Math.PI+.1*Math.PI,m=Fe}else if("to"===t){var pt=this.options.selfReference.angle+Math.PI,yt=this._findBorderPositionCircle(this.from,e,{x:ne,y:he,low:this.options.selfReference.angle,high:pt,direction:1});v=-2*yt.t*Math.PI+1.5*Math.PI-1.1*Math.PI,m=yt}else{var Ft=this.options.selfReference.angle/(2*Math.PI);m=this._pointOnCircle(ne,he,Y,Ft),v=-2*Ft*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:m,core:{x:m.x-.9*V*Math.cos(v),y:m.y-.9*V*Math.sin(v)},angle:v,length:V,type:B}}},{key:"drawArrowHead",value:function(e,t,n,o,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Id.draw(e,s)&&(this.enableShadow(e,t),Hn(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var n=Pt(t)?t:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function tC(r,e){var t=mt(r);if(gs){var n=gs(r);e&&(n=Vi(n).call(n,function(o){return Hi(r,o).enumerable})),t.push.apply(t,n)}return t}function iC(r){for(var e=1;e<arguments.length;e++){var t,n,o=null!=arguments[e]?arguments[e]:{};e%2?jt(t=tC(Object(o),!0)).call(t,function(s){Bl(r,s,o[s])}):$n?ba(r,$n(o)):jt(n=tC(Object(o))).call(n,function(s){Au(r,s,Hi(o,s))})}return r}var _w=function(r){xt(t,r);var e=function QC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_findBorderPositionBezier",value:function(n,o){var s,c,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),m=10,T=.2,O=!1,D=1,R=0,B=this.to,N=this.options.endPointOffset?this.options.endPointOffset.to:0;n.id===this.from.id&&(B=this.from,O=!0,N=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(N=0);var V=0;do{s=this.getPoint(c=.5*(R+D),v);var Q=Math.atan2(B.y-s.y,B.x-s.x),X=B.distanceToBorder(o,Q)+N-Math.sqrt(Math.pow(s.x-B.x,2)+Math.pow(s.y-B.y,2));if(Math.abs(X)<T)break;X<0?!1===O?R=c:D=c:!1===O?D=c:R=c,++V}while(R<=D&&V<m);return iC(iC({},s),{},{t:c})}},{key:"_getDistanceToBezierEdge",value:function(n,o,s,c,v,m,T){var O,D,R,B,N,V=1e9,Q=n,W=o;for(D=1;D<10;D++)R=.1*D,B=Math.pow(1-R,2)*n+2*R*(1-R)*T.x+Math.pow(R,2)*s,N=Math.pow(1-R,2)*o+2*R*(1-R)*T.y+Math.pow(R,2)*c,D>0&&(V=(O=this._getDistanceToLine(Q,W,B,N,v,m))<V?O:V),Q=B,W=N;return V}},{key:"_bezierCurve",value:function(n,o,s,c){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),null!=s&&null!=s.x?null!=c&&null!=c.x?n.bezierCurveTo(s.x,s.y,c.x,c.y,this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):n.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(n,o),this.enableShadow(n,o),n.stroke(),this.disableShadow(n,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(eC);var JC=function(r){xt(t,r);var e=function ZC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s)).via=c.via,c._boundFunction=function(){c.positionBezierNode()},c._body.emitter.on("_repositionBezierNodes",c._boundFunction),c}return Se(t,[{key:"setOptions",value:function(n){mw(de(t.prototype),"setOptions",this).call(this,n);var o=!1;this.options.physics!==n.physics&&(o=!0),this.options=n,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===o&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var n="edgeId:"+this.id,o=this._body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this._body.nodes[n]=o,this.via=o,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,o,s){this._bezierCurve(n,o,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var c=ii(this._getCircleData(),3),m=c[1],T=c[2],O=2*Math.PI*(1-n);return{x:c[0]+T*Math.sin(O),y:m+T-T*(1-Math.cos(O))}}return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*o.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*o.y+Math.pow(n,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,o){return this._findBorderPositionBezier(n,o,this.via)}},{key:"_getDistanceToEdge",value:function(n,o,s,c,v,m){return this._getDistanceToBezierEdge(n,o,s,c,v,m,this.via)}}]),t}(_w);var nC=function(r){xt(t,r);var e=function XC(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_line",value:function(n,o,s){this._bezierCurve(n,o,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var n,o,s=this.options.smooth.roundness,c=this.options.smooth.type,v=Math.abs(this.from.x-this.to.x),m=Math.abs(this.from.y-this.to.y);if("discrete"===c||"diagonalCross"===c){var T,O;T=O=v<=m?s*m:s*v,this.from.x>this.to.x&&(T=-T),this.from.y>=this.to.y&&(O=-O);var D=this.from.x+T,R=this.from.y+O;return"discrete"===c&&(v<=m?D=v<s*m?this.from.x:D:R=m<s*v?this.from.y:R),{x:D,y:R}}if("straightCross"===c){var B=(1-s)*v,N=(1-s)*m;return v<=m?(B=0,this.from.y<this.to.y&&(N=-N)):(this.from.x<this.to.x&&(B=-B),N=0),{x:this.to.x+B,y:this.to.y+N}}if("horizontal"===c){var V=(1-s)*v;return this.from.x<this.to.x&&(V=-V),{x:this.to.x+V,y:this.from.y}}if("vertical"===c){var Q=(1-s)*m;return this.from.y<this.to.y&&(Q=-Q),{x:this.from.x,y:this.to.y+Q}}if("curvedCW"===c){v=this.to.x-this.from.x,m=this.from.y-this.to.y;var W=Math.sqrt(v*v+m*m),U=Math.PI,X=(Math.atan2(m,v)+(.5*s+.5)*U)%(2*U);return{x:this.from.x+(.5*s+.5)*W*Math.sin(X),y:this.from.y+(.5*s+.5)*W*Math.cos(X)}}if("curvedCCW"===c){v=this.to.x-this.from.x,m=this.from.y-this.to.y;var ue=Math.sqrt(v*v+m*m),re=Math.PI,Ie=(Math.atan2(m,v)+(.5*-s+.5)*re)%(2*re);return{x:this.from.x+(.5*s+.5)*ue*Math.sin(Ie),y:this.from.y+(.5*s+.5)*ue*Math.cos(Ie)}}n=o=v<=m?s*m:s*v,this.from.x>this.to.x&&(n=-n),this.from.y>=this.to.y&&(o=-o);var ne=this.from.x+n,he=this.from.y+o;return v<=m?ne=this.from.x<=this.to.x?this.to.x<ne?this.to.x:ne:this.to.x>ne?this.to.x:ne:he=this.from.y>=this.to.y?this.to.y>he?this.to.y:he:this.to.y<he?this.to.y:he,{x:ne,y:he}}},{key:"_findBorderPosition",value:function(n,o){return this._findBorderPositionBezier(n,o,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(n,o,s,c,v,m){var T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,o,s,c,v,m,T)}},{key:"getPoint",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),s=n;return{x:Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*o.x+Math.pow(s,2)*this.toPoint.x,y:Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*o.y+Math.pow(s,2)*this.toPoint.y}}}]),t}(_w);var tT=function(r){xt(t,r);var e=function mk(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_line",value:function(n,o,s){this._bezierCurve(n,o,s[0],s[1])}},{key:"_getViaCoordinates",value:function(){var n,o,s,c,v=this.from.x-this.to.x,m=this.from.y-this.to.y,T=this.options.smooth.roundness;return(Math.abs(v)>Math.abs(m)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,c=this.to.y,n=this.from.x-T*v,s=this.to.x+T*v):(o=this.from.y-T*m,c=this.to.y+T*m,n=this.from.x,s=this.to.x),[{x:n,y:o},{x:s,y:c}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,o){return this._findBorderPositionBezier(n,o)}},{key:"_getDistanceToEdge",value:function(n,o,s,c,v,m){var O=ii(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2);return this._getDistanceToBezierEdge2(n,o,s,c,v,m,O[0],O[1])}},{key:"getPoint",value:function(n){var s=ii(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),c=s[0],v=s[1],m=n,T=[Math.pow(1-m,3),3*m*Math.pow(1-m,2),3*Math.pow(m,2)*(1-m),Math.pow(m,3)];return{x:T[0]*this.fromPoint.x+T[1]*c.x+T[2]*v.x+T[3]*this.toPoint.x,y:T[0]*this.fromPoint.y+T[1]*c.y+T[2]*v.y+T[3]*this.toPoint.y}}}]),t}(function(r){xt(t,r);var e=function gk(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_getDistanceToBezierEdge2",value:function(n,o,s,c,v,m,T,O){for(var D=1e9,R=n,B=o,N=[0,0,0,0],V=1;V<10;V++){var Q=.1*V;N[0]=Math.pow(1-Q,3),N[1]=3*Q*Math.pow(1-Q,2),N[2]=3*Math.pow(Q,2)*(1-Q),N[3]=Math.pow(Q,3);var W=N[0]*n+N[1]*T.x+N[2]*O.x+N[3]*s,U=N[0]*o+N[1]*T.y+N[2]*O.y+N[3]*c;if(V>0){var X=this._getDistanceToLine(R,B,W,U,v,m);D=X<D?X:D}R=W,B=U}return D}}]),t}(_w));var iT=function(r){xt(t,r);var e=function yk(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_line",value:function(n,o){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),n.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(n,o),n.stroke(),this.disableShadow(n,o)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,o){var s=this.to,c=this.from;n.id===this.from.id&&(s=this.from,c=this.to);var v=Math.atan2(s.y-c.y,s.x-c.x),m=s.x-c.x,T=s.y-c.y,O=Math.sqrt(m*m+T*T),D=(O-n.distanceToBorder(o,v))/O;return{x:(1-D)*c.x+D*s.x,y:(1-D)*c.y+D*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(n,o,s,c,v,m){return this._getDistanceToLine(n,o,s,c,v,m)}}]),t}(eC),Ef=function(){function r(e,t,n,o,s){if(Te(this,r),void 0===t)throw new Error("No body provided");this.options=Os(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new J(this.body,this.options,!0),this.setOptions(e)}return Se(r,[{key:"setOptions",value:function(e){if(e){var t=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return r.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=Er(e.value)),this.chooser=Ay("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var o=this.options.color.inherit,s={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var c=this.options.selectionWidth;"function"==typeof c?s.width=c(s.width):"number"==typeof c&&(s.width+=c),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var v=this.options.hoverWidth;"function"==typeof v?s.width=v(s.width):"number"==typeof v&&(s.width+=v),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(s,this.options.id,this.selected,this.hover),void 0!==s.color&&(s.inheritsColor=!1),!1===s.shadow&&(s.shadowColor===this.options.shadow.color&&s.shadowSize===this.options.shadow.size&&s.shadowX===this.options.shadow.x&&s.shadowY===this.options.shadow.y||(s.shadow=!0)));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(e){this.labelModule.update(this.options,[e,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof JC&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof tT&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof nC&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof iT&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new JC(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===e.type?new tT(this.options,this.body,this.labelModule):new nC(this.options,this.body,this.labelModule):this.edgeType=new iT(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(e,t,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+o*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+o*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(o.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=o.from.core),t.fromArrowSrc&&(o.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(o.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(o.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(o.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=o.to.core),t.toArrowSrc&&(o.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(o.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(o.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(o.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t),t.middleArrowSrc&&(o.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(o.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(o.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,o.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,o.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,o.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n,o=this.from,s=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),o.id!=s.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,t),e.save();var c=this._getRotation(e);0!=c.angle&&(e.translate(c.x,c.y),e.rotate(c.angle)),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var v=Ly(e,this.options.selfReference.angle,this.options.selfReference.size,o);n=this._pointOnCircle(v.x,v.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();xf(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:e.x,top:e.y})&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,e.left,e.top)<10}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var o={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return o;var c=this.from.x-this.to.x,v=Math.atan2(this.from.y-this.to.y,c);return(v<-1&&c<0||v>0&&c<0)&&(v+=Math.PI),o.angle=v,o}},{key:"_pointOnCircle",value:function(e,t,n,o){return{x:e+n*Math.cos(o),y:t-n*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(rc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,n),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(Ma(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==o.endPointOffset.from?o.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(Ma(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==o.endPointOffset.to?o.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Cf(t.label)?e.label=t.label:Cf(e.label)||(e.label=void 0),Gn(e,t,"smooth",o),Gn(e,t,"shadow",o),Gn(e,t,"background",o),null!=t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=ys(o.dashes)),null!=t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Gn(e.scaling,t.scaling,"label",o.scaling)):!0===n&&null===t.scaling&&(e.scaling=ys(o.scaling)),null!=t.arrows)if("string"==typeof t.arrows){var v=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=kt(v).call(v,"to"),e.arrows.middle.enabled=-1!=kt(v).call(v,"middle"),e.arrows.from.enabled=-1!=kt(v).call(v,"from")}else{if("object"!==Ot(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ju(t.arrows));Gn(e.arrows,t.arrows,"to",o.arrows),Gn(e.arrows,t.arrows,"middle",o.arrows),Gn(e.arrows,t.arrows,"from",o.arrows)}else!0===n&&null===t.arrows&&(e.arrows=ys(o.arrows));if(null!=t.color){var m=Ss(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,T=e.color;if(s)Ht(T,o.color,!1,n);else for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&delete T[O];if(Ss(T))T.color=T,T.highlight=T,T.hover=T,T.inherit=!1,void 0===m.opacity&&(T.opacity=1);else{var D=!1;void 0!==m.color&&(T.color=m.color,D=!0),void 0!==m.highlight&&(T.highlight=m.highlight,D=!0),void 0!==m.hover&&(T.hover=m.hover,D=!0),void 0!==m.inherit&&(T.inherit=m.inherit),void 0!==m.opacity&&(T.opacity=Math.min(1,Math.max(0,m.opacity))),!0===D?T.inherit=!1:void 0===T.inherit&&(T.inherit="from")}}else!0===n&&null===t.color&&(e.color=Os(o.color));!0===n&&null===t.font&&(e.font=Os(o.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),r}(),nT=function(){function r(e,t,n){var o,s=this;Te(this,r),this.body=e,this.images=t,this.groups=n,this.body.functions.createEdge=ye(o=this.create).call(o,this),this.edgesListeners={add:function(c,v){s.add(v.items)},update:function(c,v){s.update(v.items)},remove:function(c,v){s.remove(v.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(c,v,m,T){return v===c?.5:Math.max(0,1/(v-c)*(T-c))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ht(this.options,this.defaultOptions),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("_forceDisableDynamicCurves",function(o){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===o&&(o="continuous");var c=!1;for(var v in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,v)){var m=n.body.edges[v],T=n.body.data.edges.get(v);if(null!=T){var O=T.smooth;void 0!==O&&!0===O.enabled&&"dynamic"===O.type&&(m.setOptions(void 0===o?{smooth:!1}:{smooth:{type:o}}),c=!0)}}!0===s&&!0===c&&n.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){n.reconnectEdges()}),this.body.emitter.on("refreshEdges",ye(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ye(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){vt(n.edgesListeners,function(o,s){n.body.data.edges&&n.body.data.edges.off(s,o)}),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){Ef.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var o in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,o)&&this.body.edges[o].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.data.edges;if(si.isDataViewLike("id",e))this.body.data.edges=e;else if(Pt(e))this.body.data.edges=new si.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new si.DataSet}if(o&&vt(this.edgesListeners,function(c,v){o.off(v,c)}),this.body.edges={},this.body.data.edges){vt(this.edgesListeners,function(c,v){t.body.data.edges.on(v,c)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,o=this.body.data.edges,s=0;s<e.length;s++){var c=e[s],v=n[c];v&&v.disconnect();var m=o.get(c,{showInternalIds:!0});n[c]=this.create(m)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,o=!1,s=0;s<e.length;s++){var c=e[s],v=n.get(c),m=t[c];void 0!==m?(m.disconnect(),o=m.setOptions(v)||o,m.connect()):(this.body.edges[c]=this.create(v),o=!0)}!0===o?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;vt(e,function(o){var s=n[o];void 0!==s&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;vt(this.body.edges,function(t,n){var o=e.body.data.edges.get(n);void 0!==o&&t.setOptions(o)})}},{key:"create",value:function(e){return new Ef(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];vt(this.body.edges,function(n,o){var s=e.body.nodes[n.toId],c=e.body.nodes[n.fromId];void 0!==s&&!0===s.isCluster||void 0!==c&&!0===c.isCluster||void 0!==s&&void 0!==c||t.push(o)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,n=[];jt(e).call(e,function(o,s){void 0===t[s]&&n.push(s)}),this.add(n,!0)}}}]),r}(),rC=function(){function r(e,t,n){Te(this,r),this.body=e,this.physicsBody=t,this.setOptions(n),this._rng=Wn("BARNES HUT SOLVER")}return Se(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,o=n.length,s=this._formBarnesHutTree(t,n);this.barnesHutTree=s;for(var c=0;c<o;c++)(e=t[n[c]]).options.mass>0&&this._getForceContributions(s.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var n=e.centerOfMass.x-t.x,o=e.centerOfMass.y-t.y,s=Math.sqrt(n*n+o*o);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,o,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,n,o,t,e)}}},{key:"_calculateForces",value:function(e,t,n,o,s){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,e-o.shape.radius));var c=this.options.gravitationalConstant*s.mass*o.options.mass/Math.pow(e,3),m=n*c;this.physicsBody.forces[o.id].x+=t*c,this.physicsBody.forces[o.id].y+=m}},{key:"_formBarnesHutTree",value:function(e,t){for(var n,o=t.length,s=e[t[0]].x,c=e[t[0]].y,v=e[t[0]].x,m=e[t[0]].y,T=1;T<o;T++){var O=e[t[T]],D=O.x,R=O.y;O.options.mass>0&&(D<s&&(s=D),D>v&&(v=D),R<c&&(c=R),R>m&&(m=R))}var B=Math.abs(v-s)-Math.abs(m-c);B>0?(c-=.5*B,m+=.5*B):(s+=.5*B,v-=.5*B);var N=Math.max(1e-5,Math.abs(v-s)),V=.5*N,Q=.5*(s+v),W=.5*(c+m),U={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Q-V,maxX:Q+V,minY:W-V,maxY:W+V},size:N,calcSize:1/N,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(U.root);for(var X=0;X<o;X++)(n=e[t[X]]).options.mass>0&&this._placeInTree(U.root,n);return U}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,o=e.mass+t.options.mass,s=1/o;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=s,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=s,e.mass=o;var c=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<c?c:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);var s=e.children.NW.range;this._placeInRegion(e,t,s.maxX>t.x?s.maxY>t.y?"NW":"SW":s.maxY>t.y?"NE":"SE")}},{key:"_placeInRegion",value:function(e,t,n){var o=e.children[n];switch(o.childrenCount){case 0:o.children.data=t,o.childrenCount=1,this._updateBranchMass(o,t);break;case 1:o.children.data.x===t.x&&o.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(o),this._placeInTree(o,t));break;case 4:this._placeInTree(o,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n,o,s,c,v=.5*e.size;switch(t){case"NW":n=e.range.minX,o=e.range.minX+v,s=e.range.minY,c=e.range.minY+v;break;case"NE":n=e.range.minX+v,o=e.range.maxX,s=e.range.minY,c=e.range.minY+v;break;case"SW":n=e.range.minX,o=e.range.minX+v,s=e.range.minY+v,c=e.range.maxY;break;case"SE":n=e.range.minX+v,o=e.range.maxX,s=e.range.minY+v,c=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:o,minY:s,maxY:c},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),r}(),bk=function(){function r(e,t,n){Te(this,r),this._rng=Wn("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(n)}return Se(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,o,s,c,v,m,T=this.body.nodes,O=this.physicsBody.physicsNodeIndices,D=this.physicsBody.forces,R=this.options.nodeDistance,B=-2/3/R,N=0;N<O.length-1;N++){v=T[O[N]];for(var V=N+1;V<O.length;V++)e=(m=T[O[V]]).x-v.x,t=m.y-v.y,0===(n=Math.sqrt(e*e+t*t))&&(e=n=.1*this._rng()),n<2*R&&(c=n<.5*R?1:B*n+1.3333333333333333,o=e*(c/=n),s=t*c,D[v.id].x-=o,D[v.id].y-=s,D[m.id].x+=o,D[m.id].y+=s)}}}]),r}(),_k=function(){function r(e,t,n){Te(this,r),this.body=e,this.physicsBody=t,this.setOptions(n)}return Se(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,o=this.options.nodeDistance,s=0;s<t.length-1;s++)for(var c=e[t[s]],v=s+1;v<t.length;v++){var m=e[t[v]];if(c.level===m.level){var T=o+this.overlapAvoidanceFactor*((c.shape.radius||0)/2+(m.shape.radius||0)/2),O=m.x-c.x,D=m.y-c.y,R=Math.sqrt(O*O+D*D),B=void 0;B=R<T?-Math.pow(.05*R,2)+Math.pow(.05*T,2):0,0!==R&&(B/=R);var N=O*B,V=D*B;n[c.id].x-=N,n[c.id].y-=V,n[m.id].x+=N,n[m.id].y+=V}}}}]),r}(),ww=function(){function r(e,t,n){Te(this,r),this.body=e,this.physicsBody=t,this.setOptions(n)}return Se(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,o,s,c=this.physicsBody.physicsEdgeIndices,v=this.body.edges,m=0;m<c.length;m++)!0===(t=v[c[m]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(s=t.from,this._calculateSpringForce(t.to,o=t.edgeType.via,.5*(e=void 0===t.options.length?this.options.springLength:t.options.length)),this._calculateSpringForce(o,s,.5*e)):this._calculateSpringForce(t.from,t.to,e=void 0===t.options.length?1.5*this.options.springLength:t.options.length))}},{key:"_calculateSpringForce",value:function(e,t,n){var o=e.x-t.x,s=e.y-t.y,c=Math.max(Math.sqrt(o*o+s*s),.01),v=this.options.springConstant*(n-c)/c,m=o*v,T=s*v;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=m,this.physicsBody.forces[e.id].y+=T),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=m,this.physicsBody.forces[t.id].y-=T)}}]),r}(),wk=function(){function r(e,t,n){Te(this,r),this.body=e,this.physicsBody=t,this.setOptions(n)}return Se(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,o,s,c,v,m,T,O,D=this.body.edges,R=.5,B=this.physicsBody.physicsEdgeIndices,N=this.physicsBody.physicsNodeIndices,V=this.physicsBody.forces,Q=0;Q<N.length;Q++){var W=N[Q];V[W].springFx=0,V[W].springFy=0}for(var U=0;U<B.length;U++)!0===(t=D[B[U]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,o=t.from.y-t.to.y,m=0===(m=Math.sqrt(n*n+o*o))?.01:m,s=n*(v=this.options.springConstant*(e-m)/m),c=o*v,t.to.level!=t.from.level?(void 0!==V[t.toId]&&(V[t.toId].springFx-=s,V[t.toId].springFy-=c),void 0!==V[t.fromId]&&(V[t.fromId].springFx+=s,V[t.fromId].springFy+=c)):(void 0!==V[t.toId]&&(V[t.toId].x-=R*s,V[t.toId].y-=R*c),void 0!==V[t.fromId]&&(V[t.fromId].x+=R*s,V[t.fromId].y+=R*c)));v=1;for(var X=0;X<N.length;X++){var ue=N[X];T=Math.min(v,Math.max(-v,V[ue].springFx)),O=Math.min(v,Math.max(-v,V[ue].springFy)),V[ue].x+=T,V[ue].y+=O}for(var re=0,Ie=0,ne=0;ne<N.length;ne++){var he=N[ne];re+=V[he].x,Ie+=V[he].y}for(var Y=re/N.length,Ue=Ie/N.length,qe=0;qe<N.length;qe++){var Fe=N[qe];V[Fe].x-=Y,V[Fe].y-=Ue}}}]),r}(),xw=function(){function r(e,t,n){Te(this,r),this.body=e,this.physicsBody=t,this.setOptions(n)}return Se(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,o,s=this.body.nodes,c=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,m=0;m<c.length;m++)e=-(o=s[c[m]]).x,t=-o.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,v,o)}},{key:"_calculateForces",value:function(e,t,n,o,s){var c=0===e?0:this.options.centralGravity/e;o[s.id].x=t*c,o[s.id].y=n*c}}]),r}();var xk=function(r){xt(t,r);var e=function rT(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){var c;return Te(this,t),(c=e.call(this,n,o,s))._rng=Wn("FORCE ATLAS 2 BASED REPULSION SOLVER"),c}return Se(t,[{key:"_calculateForces",value:function(n,o,s,c,v){0===n&&(o=n=.1*this._rng()),this.overlapAvoidanceFactor<1&&c.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*c.shape.radius,n-c.shape.radius));var T=this.options.gravitationalConstant*v.mass*c.options.mass*(c.edges.length+1)/Math.pow(n,2),D=s*T;this.physicsBody.forces[c.id].x+=o*T,this.physicsBody.forces[c.id].y+=D}}]),t}(rC);var Vy,Ck=function(r){xt(t,r);var e=function oT(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s){return Te(this,t),e.call(this,n,o,s)}return Se(t,[{key:"_calculateForces",value:function(n,o,s,c,v){if(n>0){var T=this.options.centralGravity*(v.edges.length+1)*v.options.mass;c[v.id].x=o*T,c[v.id].y=s*T}}}]),t}(xw),sT=function(){function r(e){Te(this,r),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},We(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,dd(["stabilization"],this.options,e),Gn(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||Oy(t.x))&&(t.x=0),("number"!=typeof t.y||Oy(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new xk(this.body,this.physicsBody,e=this.options.forceAtlas2Based),this.edgesSolver=new ww(this.body,this.physicsBody,e),this.gravitySolver=new Ck(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(this.nodesSolver=new bk(this.body,this.physicsBody,e=this.options.repulsion),this.edgesSolver=new ww(this.body,this.physicsBody,e),this.gravitySolver=new xw(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new _k(this.body,this.physicsBody,e=this.options.hierarchicalRepulsion),this.edgesSolver=new wk(this.body,this.physicsBody,e),this.gravitySolver=new xw(this.body,this.physicsBody,e)):(this.nodesSolver=new rC(this.body,this.physicsBody,e=this.options.barnesHut),this.edgesSolver=new ww(this.body,this.physicsBody,e),this.gravitySolver=new xw(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=ye(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Kl();this.physicsTick(),(Kl()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Wr(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&!0===t[o].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[o].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var c=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[c]={x:0,y:0},void 0===this.physicsBody.velocities[c]&&(this.physicsBody.velocities[c]={x:0,y:0})}for(var v in this.physicsBody.velocities)void 0===e[v]&&delete this.physicsBody.velocities[v]}},{key:"revert",value:function(){var e=mt(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<e.length;o++){var s=e[o];void 0!==t[s]?!0===t[s].options.physics&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var t,n=this.body.nodes,o=this.referenceState;for(var s in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,s)&&void 0!==n[s]&&(t=n[s].y-o[s].positions.y,Math.sqrt(Math.pow(n[s].x-o[s].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,o=0;o<e.length;o++){var c=this._performStep(e[o]);t=Math.max(t,c),n+=c}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var o=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:o.x,vy:o.y},!1===t.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,n.x,t.options.mass),t.x+=o.x*this.timestep):(n.x=0,o.x=0),!1===t.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,n.y,t.options.mass),t.y+=o.y*this.timestep):(n.y=0,o.y=0),Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Wr(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var o,s=0;t()&&s<this.options.stabilization.updateInterval;)this.physicsTick(),s++;n(),t()?Wr(ye(o=this._stabilizationBatch).call(o,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var n=this.physicsBody.physicsNodeIndices[t],o=this.body.nodes[n],s=this.physicsBody.forces[n],c=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),v=Math.min(Math.max(5,c),15),m=3*v,T=sf((180-180*Math.min(1,Math.max(0,.03*c)))/360,1,1),O={x:o.x+20*s.x,y:o.y+20*s.y};e.lineWidth=v,e.strokeStyle=T,e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(O.x,O.y),e.stroke();var D=Math.atan2(s.y,s.x);e.fillStyle=T,Id.draw(e,{type:"arrow",point:O,angle:D,length:m}),Hn(e).call(e)}}}]),r}(),Cw=new Uint8Array(16);function aT(){if(!Vy&&!(Vy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vy(Cw)}var lT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Tk(r){return"string"==typeof r&&lT.test(r)}for(var rn=[],Jo=0;Jo<256;++Jo)rn.push((Jo+256).toString(16).substr(1));function Ky(r,e,t){var n=(r=r||{}).random||(r.rng||aT)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=n[o];return e}return function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=(rn[s[c+0]]+rn[s[c+1]]+rn[s[c+2]]+rn[s[c+3]]+"-"+rn[s[c+4]]+rn[s[c+5]]+"-"+rn[s[c+6]]+rn[s[c+7]]+"-"+rn[s[c+8]]+rn[s[c+9]]+"-"+rn[s[c+10]]+rn[s[c+11]]+rn[s[c+12]]+rn[s[c+13]]+rn[s[c+14]]+rn[s[c+15]]).toLowerCase();if(!Tk(v))throw TypeError("Stringified UUID is invalid");return v}(n)}var In=function(){function r(){Te(this,r)}return Se(r,null,[{key:"getRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,s=-1e9,c=1e9,v=-1e9;if(n.length>0)for(var m=0;m<n.length;m++)c>(t=e[n[m]]).shape.boundingBox.left&&(c=t.shape.boundingBox.left),v<t.shape.boundingBox.right&&(v=t.shape.boundingBox.right),o>t.shape.boundingBox.top&&(o=t.shape.boundingBox.top),s<t.shape.boundingBox.bottom&&(s=t.shape.boundingBox.bottom);return 1e9===c&&-1e9===v&&1e9===o&&-1e9===s&&(o=0,s=0,c=0,v=0),{minX:c,maxX:v,minY:o,maxY:s}}},{key:"getRangeCore",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,s=-1e9,c=1e9,v=-1e9;if(n.length>0)for(var m=0;m<n.length;m++)c>(t=e[n[m]]).x&&(c=t.x),v<t.x&&(v=t.x),o>t.y&&(o=t.y),s<t.y&&(s=t.y);return 1e9===c&&-1e9===v&&1e9===o&&-1e9===s&&(o=0,s=0,c=0,v=0),{minX:c,maxX:v,minY:o,maxY:s}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(Ht(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Ht(n,e.options,!0),n}}]),r}();var Sk=function(r){xt(t,r);var e=function kk(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}(t);function t(n,o,s,c,v,m){var T;return Te(this,t),(T=e.call(this,n,o,s,c,v,m)).isCluster=!0,T.containedNodes={},T.containedEdges={},T}return Se(t,[{key:"_openChildCluster",value:function(n){var o=this,s=this.body.nodes[n];if(void 0===this.containedNodes[n])throw new Error("node with id: "+n+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+n+" is not a cluster");delete this.containedNodes[n],vt(s.edges,function(c){delete o.containedEdges[c.id]}),vt(s.containedNodes,function(c,v){o.containedNodes[v]=c}),s.containedNodes={},vt(s.containedEdges,function(c,v){o.containedEdges[v]=c}),s.containedEdges={},vt(s.edges,function(c){vt(o.edges,function(v){var m,T,O=kt(m=v.clusteringEdgeReplacingIds).call(m,c.id);-1!==O&&(vt(c.clusteringEdgeReplacingIds,function(D){v.clusteringEdgeReplacingIds.push(D),o.body.edges[D].edgeReplacedById=v.id}),jn(T=v.clusteringEdgeReplacingIds).call(T,O,1))})}),s.edges=[]}}]),t}(Yn),Ek=function(){function r(e){var t=this;Te(this,r),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},We(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return Se(r,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===Ot(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>=e&&n.push(s.id)}for(var c=0;c<n.length;c++)this.clusterByConnection(n[c],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var o={},s={};vt(this.body.nodes,function(c,v){c.options&&!0===t.joinCondition(c.options)&&(o[v]=c,vt(c.edges,function(m){void 0===e.clusteredEdges[m.id]&&(s[m.id]=m)}))}),this._cluster(o,s,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var s,c,v,m=[],T={},O=function(B){var N={},V={},Q=n.body.nodeIndices[B],W=n.body.nodes[Q];if(void 0===T[Q]){v=0,c=[];for(var U=0;U<W.edges.length;U++)void 0===n.clusteredEdges[(s=W.edges[U]).id]&&(s.toId!==s.fromId&&v++,c.push(s));if(v===e){for(var X=function(Ue){if(null==t.joinCondition)return!0;var qe=In.cloneOptions(Ue);return t.joinCondition(qe)},ue=!0,re=0;re<c.length;re++){var Ie=n._getConnectedId(s=c[re],Q);if(!X(W)){ue=!1;break}V[s.id]=s,N[Q]=W,N[Ie]=n.body.nodes[Ie],T[Q]=!0}if(mt(N).length>0&&mt(V).length>0&&!0===ue){var ne=function(){for(var Ue=0;Ue<m.length;++Ue)for(var qe in N)if(void 0!==m[Ue].nodes[qe])return m[Ue]}();if(void 0!==ne){for(var he in N)void 0===ne.nodes[he]&&(ne.nodes[he]=N[he]);for(var Y in V)void 0===ne.edges[Y]&&(ne.edges[Y]=V[Y])}else m.push({nodes:N,edges:V})}}}},D=0;D<this.body.nodeIndices.length;D++)O(D);for(var R=0;R<m.length;R++)this._cluster(m[R].nodes,m[R].edges,t,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){this.clusterByEdgeCount(1,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(e){this.clusterByEdgeCount(2,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(e,t){var n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[e];void 0===(t=this._checkOptions(t,s)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=s.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=s.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);var c={},v={},m=s.id,T=In.cloneOptions(s);c[m]=s;for(var O=0;O<s.edges.length;O++){var D=s.edges[O];if(void 0===this.clusteredEdges[D.id]){var R=this._getConnectedId(D,m);if(void 0===this.clusteredNodes[R])if(R!==m)if(void 0===t.joinCondition)v[D.id]=D,c[R]=this.body.nodes[R];else{var B=In.cloneOptions(this.body.nodes[R]);!0===t.joinCondition(T,B)&&(v[D.id]=D,c[R]=this.body.nodes[R])}else v[D.id]=D}}var N=ci(n=mt(c)).call(n,function(X){return c[X].id});for(var V in c)if(Object.prototype.hasOwnProperty.call(c,V))for(var Q=c[V],W=0;W<Q.edges.length;W++){var U=Q.edges[W];kt(N).call(N,this._getConnectedId(U,Q.id))>-1&&(v[U.id]=U)}this._cluster(c,v,t,o)}},{key:"_createClusterEdges",value:function(e,t,n,o){for(var s,c,v,m,T,O,D=mt(e),R=[],B=0;B<D.length;B++){v=e[c=D[B]];for(var N=0;N<v.edges.length;N++)void 0===this.clusteredEdges[(s=v.edges[N]).id]&&(s.toId==s.fromId?t[s.id]=s:s.toId==c?(m=n.id,O=T=s.fromId):(T=n.id,O=m=s.toId),void 0===e[O]&&R.push({edge:s,fromId:T,toId:m}))}for(var V=[],Q=function(re){for(var Ie=0;Ie<V.length;Ie++){var ne=V[Ie];if(re.fromId===ne.fromId&&re.toId===ne.toId||re.fromId===ne.toId&&re.toId===ne.fromId)return ne}return null},W=0;W<R.length;W++){var U=R[W],X=U.edge,ue=Q(U);null===ue?(ue=this._createClusteredEdge(U.fromId,U.toId,X,o),V.push(ue)):ue.clusteringEdgeReplacingIds.push(X.id),this.body.edges[X.id].edgeReplacedById=ue.id,this._backupEdgeOptions(X),X.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=[];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&void 0!==this.clusteredNodes[c]&&s.push(c);for(var v=0;v<s.length;++v)delete e[s[v]];if(0!=mt(e).length&&(1!=mt(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var m=Ht({},n.clusterNodeProperties);if(void 0!==n.processProperties){var T=[];for(var O in e)if(Object.prototype.hasOwnProperty.call(e,O)){var D=In.cloneOptions(e[O]);T.push(D)}var R=[];for(var B in t)if(Object.prototype.hasOwnProperty.call(t,B)&&"clusterEdge:"!==B.substr(0,12)){var N=In.cloneOptions(t[B],"edge");R.push(N)}if(!(m=n.processProperties(m,T,R)))throw new Error("The processProperties function does not return properties!")}void 0===m.id&&(m.id="cluster:"+Ky());var V=m.id;void 0===m.label&&(m.label="cluster");var Q=void 0;void 0===m.x&&(Q=this._getClusterPosition(e),m.x=Q.x),void 0===m.y&&(void 0===Q&&(Q=this._getClusterPosition(e)),m.y=Q.y),m.id=V;var W=this.body.functions.createNode(m,Sk);W.containedNodes=e,W.containedEdges=t,W.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[m.id]=W,this._clusterEdges(e,t,m,n.clusterEdgeProperties),m.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,n=mt(e),o=e[n[0]].x,s=e[n[0]].x,c=e[n[0]].y,v=e[n[0]].y,m=1;m<n.length;m++)o=(t=e[n[m]]).x<o?t.x:o,s=t.x>s?t.x:s,c=t.y<c?t.y:c,v=t.y>v?t.y:v;return{x:.5*(o+s),y:.5*(c+v)}}},{key:"openCluster",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[e];if(void 0===o)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==o.isCluster||void 0===o.containedNodes||void 0===o.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var s=this.findNode(e),c=kt(s).call(s,e)-1;if(c>=0)return this.body.nodes[s[c]]._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"));var T=o.containedNodes,O=o.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var D={},R={x:o.x,y:o.y};for(var B in T)if(Object.prototype.hasOwnProperty.call(T,B)){var N=this.body.nodes[B];D[B]={x:N.x,y:N.y}}var V=t.releaseFunction(R,D);for(var Q in T)if(Object.prototype.hasOwnProperty.call(T,Q)){var W=this.body.nodes[Q];void 0!==V[Q]&&(W.x=void 0===V[Q].x?o.x:V[Q].x,W.y=void 0===V[Q].y?o.y:V[Q].y)}}else vt(T,function(Zt){!1===Zt.options.fixed.x&&(Zt.x=o.x),!1===Zt.options.fixed.y&&(Zt.y=o.y)});for(var U in T)if(Object.prototype.hasOwnProperty.call(T,U)){var X=this.body.nodes[U];X.vx=o.vx,X.vy=o.vy,X.setOptions({physics:!0}),delete this.clusteredNodes[U]}for(var ue=[],re=0;re<o.edges.length;re++)ue.push(o.edges[re]);for(var Ie=0;Ie<ue.length;Ie++){for(var ne=ue[Ie],he=this._getConnectedId(ne,e),Y=this.clusteredNodes[he],Ue=0;Ue<ne.clusteringEdgeReplacingIds.length;Ue++){var Fe=this.body.edges[ne.clusteringEdgeReplacingIds[Ue]];if(void 0!==Fe)if(void 0!==Y){var st=this.body.nodes[Y.clusterId];st.containedEdges[Fe.id]=Fe,delete O[Fe.id];var pt=Fe.fromId,yt=Fe.toId;Fe.toId==he?yt=Y.clusterId:pt=Y.clusterId,this._createClusteredEdge(pt,yt,Fe,st.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Fe)}ne.remove()}for(var Ft in O)Object.prototype.hasOwnProperty.call(O,Ft)&&this._restoreEdge(O[Ft]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.push(this.body.nodes[o].id)}return t}},{key:"findNode",value:function(e){for(var t,n=[],o=0;void 0!==this.clusteredNodes[e]&&o<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,o++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),Ji(n).call(n),n)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),o=0;o<n.length;o++)this.body.edges[n[o]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Ji(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],n=[],o=[],s=0;t.length>0&&s<100;){var c=t.pop();if(void 0!==c){var v=this.body.edges[c];if(void 0!==v){s++;var m=v.clusteringEdgeReplacingIds;if(void 0===m)o.push(c);else for(var T=0;T<m.length;++T){var O=m[T];-1===kt(t).call(t,m)&&-1===kt(n).call(n,m)&&t.push(O)}n.push(c)}}}return o}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,o=0,s=0;s<this.body.nodeIndices.length;s++){var c=this.body.nodes[this.body.nodeIndices[s]];c.edges.length>o&&(o=c.edges.length),e+=c.edges.length,t+=Math.pow(c.edges.length,2),n+=1}e/=n;var v=(t/=n)-Math.pow(e,2),m=Math.sqrt(v),T=Math.floor(e+2*m);return T>o&&(T=o),T}},{key:"_createClusteredEdge",value:function(e,t,n,o,s){var c=In.cloneOptions(n,"edge");Ht(c,o),c.from=e,c.to=t,c.id="clusterEdge:"+Ky(),void 0!==s&&Ht(c,s);var v=this.body.functions.createEdge(c);return v.clusteringEdgeReplacingIds=[n.id],v.connect(),this.body.edges[v.id]=v,v}},{key:"_clusterEdges",value:function(e,t,n,o){if(t instanceof Ef){var c={};c[t.id]=t,t=c}if(e instanceof Yn){var m={};m[e.id]=e,e=m}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var T in void 0===o&&(o=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,o),t)if(Object.prototype.hasOwnProperty.call(t,T)&&void 0!==this.body.edges[T]){var O=this.body.edges[T];this._backupEdgeOptions(O),O.setOptions({physics:!1})}for(var D in e)Object.prototype.hasOwnProperty.call(e,D)&&(this.clusteredNodes[D]={clusterId:n.id,node:this.body.nodes[D]},this.body.nodes[D].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return vt(e,function(o){t(o)&&n.push(o)}),n}},{key:"_updateState",value:function(){var e,t=this,n=[],o={},s=function(O){vt(t.body.nodes,function(D){!0===D.isCluster&&O(D)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&n.push(e);s(function(O){for(var D=0;D<n.length;D++)delete O.containedNodes[n[D]]});for(var c=0;c<n.length;c++)delete this.clusteredNodes[n[c]];vt(this.clusteredEdges,function(O){var D=t.body.edges[O];void 0!==D&&D.endPointsValid()||(o[O]=O)}),s(function(O){vt(O.containedEdges,function(D,R){D.endPointsValid()||o[R]||(o[R]=R)})}),vt(this.body.edges,function(O,D){var R=!0,B=O.clusteringEdgeReplacingIds;if(void 0!==B){var N=0;vt(B,function(V){var Q=t.body.edges[V];void 0!==Q&&Q.endPointsValid()&&(N+=1)}),R=N>0}O.endPointsValid()&&R||(o[D]=D)}),s(function(O){vt(o,function(D){delete O.containedEdges[D],vt(O.edges,function(R,B){R.id!==D?R.clusteringEdgeReplacingIds=t._filter(R.clusteringEdgeReplacingIds,function(N){return!o[N]}):O.edges[B]=null}),O.edges=t._filter(O.edges,function(R){return null!==R})})}),vt(o,function(O){delete t.clusteredEdges[O]}),vt(o,function(O){delete t.body.edges[O]}),vt(mt(this.body.edges),function(O){var D=t.body.edges[O],R=t._isClusteredNode(D.fromId)||t._isClusteredNode(D.toId);if(R!==t._isClusteredEdge(D.id))if(R){var B=t._getClusterNodeForNode(D.fromId);void 0!==B&&t._clusterEdges(t.body.nodes[D.fromId],D,B);var N=t._getClusterNodeForNode(D.toId);void 0!==N&&t._clusterEdges(t.body.nodes[D.toId],D,N)}else delete t._clusterEdges[O],t._restoreEdge(D)});for(var v=!1,m=!0,T=function(){var O=[];s(function(R){var B=mt(R.containedNodes).length,N=!0===R.options.allowSingleNodeCluster;(N&&B<1||!N&&B<2)&&O.push(R.id)});for(var D=0;D<O.length;++D)t.openCluster(O[D],{},!1);m=O.length>0,v=v||m};m;)T();v&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),r}();function Ok(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return cT(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return cT(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}function cT(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var Ik=function(){function r(e,t){var n;Te(this,r),void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(o){o()}:n,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},We(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Wr(function(){var n;t.zooming=!1,ye(n=t._requestRedraw).call(n,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ye(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&rc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var n,o=window;return!0===this.requiresTimeout?n=Wr(e,t):o.requestAnimationFrame&&(n=o.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(ye(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,o,s),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var c=this._drawNodes(n,e);t.drawExternalLabels=c.drawExternalLabels}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===e&&n.clearRect(0,0,o,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&((t=n[o]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.body.nodes,c=this.body.nodeIndices,v=[],m=[],T=20,O=this.canvas.DOMtoCanvas({x:-T,y:-T}),D=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+T,y:this.canvas.frame.canvas.clientHeight+T}),R={top:O.y,left:O.x,bottom:D.y,right:D.x},B=[],N=0;N<c.length;N++)if((t=s[c[N]]).hover)m.push(c[N]);else if(t.isSelected())v.push(c[N]);else if(!0===o){var V=t.draw(e);null!=V.drawExternalLabel&&B.push(V.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(R)){var Q=t.draw(e);null!=Q.drawExternalLabel&&B.push(Q.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var W=v.length,U=m.length;for(n=0;n<W;n++){var X=(t=s[v[n]]).draw(e);null!=X.drawExternalLabel&&B.push(X.drawExternalLabel)}for(n=0;n<U;n++){var ue=(t=s[m[n]]).draw(e);null!=ue.drawExternalLabel&&B.push(ue.drawExternalLabel)}return{drawExternalLabels:function(){var re,Ie=Ok(B);try{for(Ie.s();!(re=Ie.n()).done;)(0,re.value)()}catch(ne){Ie.e(ne)}finally{Ie.f()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,o=0;o<n.length;o++){var s=t[n[o]];!0===s.connected&&s.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,o=0;o<n.length;o++){var s=t[n[o]];!0===s.connected&&s.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=kt(e).call(e,"msie 9.0")||-1!=kt(e).call(e,"safari")&&kt(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),oC=$e.setInterval;function Tw(r,e){e.inputHandler=function(t){t.isFirst&&e(t)},r.on("hammer.input",e.inputHandler)}function sC(r,e){return e.inputHandler=function(t){t.isFinal&&e(t)},r.on("hammer.input",e.inputHandler)}var Dk=function(){function r(e){Te(this,r),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},We(this.options,this.defaultOptions),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(n){0!==n.width&&(t.body.view.translation.x=.5*n.width),0!==n.height&&(t.body.view.translation.y=.5*n.height)}),this.body.emitter.on("setSize",ye(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,n,o,s,c,v=this;if(void 0!==e&&rc(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var m;if(window.ResizeObserver){var T=new ResizeObserver(function(){!0===v.setSize()&&v.body.emitter.emit("_requestRedraw")}),O=this.frame;T.observe(O),this._cleanupCallbacks.push(function(){T.unobserve(O)})}else{var D=oC(function(){!0===v.setSize()&&v.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(D)})}var R=ye(m=this._onResize).call(m,this);t=window,n="resize",o=R,t.addEventListener?(void 0===s&&(s=!1),"mousewheel"===n&&mr(c=navigator.userAgent).call(c,"Firefox")&&(n="DOMMouseScroll"),t.addEventListener(n,o,s)):t.attachEvent("on"+n,o),this._cleanupCallbacks.push(function(){var B,N,V,Q,W;B=window,N="resize",V=R,B.removeEventListener?(void 0===Q&&(Q=!1),"mousewheel"===N&&mr(W=navigator.userAgent).call(W,"Firefox")&&(N="DOMMouseScroll"),B.removeEventListener(N,V,Q)):B.detachEvent("on"+N,V)})}}},{key:"_cleanUp",value:function(){var e,t,n;jt(e=Ji(t=jn(n=this._cleanupCallbacks).call(n,0)).call(t)).call(e,function(o){try{o()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==kt(e).call(e,"%")||-1!==kt(e).call(e,"px"))return e;if(-1===kt(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Is(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Is.DIRECTION_ALL}),Tw(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new Is(this.frame),sC(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,o=this.frame.canvas.width,s=this.frame.canvas.height,c=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(c),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var v=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),m=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===v&&this.frame.canvas.height===m||this._getCameraState(c),this.frame.canvas.width!==v&&(this.frame.canvas.width=v,n=!0),this.frame.canvas.height!==m&&(this.frame.canvas.height=m,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function uT(r,e){var t=We({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r??{});if(!Pt(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===t.nodes.length&&(t.nodes=e),!("number"==typeof t.minZoomLevel&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof t.maxZoomLevel&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var Mk=function(){function r(e,t){var n,o,s=this;Te(this,r),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ye(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",function(){s.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ye(o=this.releaseNode).call(o,this))}return Se(r,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=uT(e,this.body.nodeIndices);var n,o,s=this.canvas.frame.canvas.clientWidth,c=this.canvas.frame.canvas.clientHeight;if(0===s||0===c)o=1,n=In.getRange(this.body.nodes,e.nodes);else if(!0===t){var v=0;for(var m in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,m)&&!0===this.body.nodes[m].predefinedPosition&&(v+=1);if(v>.5*this.body.nodeIndices.length)return void this.fit(e,!1);n=In.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,o*=Math.min(s/600,c/600)}else{this.body.emitter.emit("_resizeNodes"),n=In.getRange(this.body.nodes,e.nodes);var N=s/(1.1*Math.abs(n.maxX-n.minX)),V=c/(1.1*Math.abs(n.maxY-n.minY));o=N<=V?N:V}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var Q=In.findCenter(n);this.moveTo({position:Q,scale:o,animation:e.animation})}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[e]?(t.position={x:this.body.nodes[e].x,y:this.body.nodes[e].y},t.lockedOnNode=e,this.moveTo(t)):console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!Ma(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!Ma(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!Ma(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!Ma(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,n,o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(o.x-e.position.x)*this.targetScale+e.offset.x,y:this.sourceTranslation.y+(o.y-e.position.y)*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=ye(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ye(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),c=this.body.view.translation;this.body.view.translation={x:c.x+(n.x-e)*this.body.view.scale+this.lockedOnNodeOffset.x,y:c.y+(n.y-t)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var n,t=ay[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=ye(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();var lC=function(){function r(e,t){var n=this;Te(this,r),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return Se(r,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<t.length;o++){this.navigationDOM[t[o]]=document.createElement("div"),this.navigationDOM[t[o]].className="vis-button vis-"+t[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[o]]);var s,c,v=new Is(this.navigationDOM[t[o]]);Tw(v,"_fit"===n[o]?ye(s=this._fit).call(s,this):ye(c=this.bindToRedraw).call(c,this,n[o])),this.navigationHammers.push(v)}var m=new Is(this.canvas.frame);sC(m,function(){e._stopMovement()}),this.navigationHammers.push(m),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=ye(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,o=t/this.body.view.scale,s=(1-o)*this.canvas.canvasViewCenter.x+n.x*o,c=(1-o)*this.canvas.canvasViewCenter.y+n.y*o;this.body.view.scale=t,this.body.view.translation={x:s,y:c},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,o=t/this.body.view.scale,s=(1-o)*this.canvas.canvasViewCenter.x+n.x*o,c=(1-o)*this.canvas.canvasViewCenter.y+n.y*o;this.body.view.scale=t,this.body.view.translation={x:s,y:c},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,n,o,s,c,v,m,T,O,D,R,B,N,V,Q,W,U,X,ue,re,Ie,ne,he,Y=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function aC(r){var e,t=r&&r.preventDefault||!1,n=r&&r.container||window,o={},s={keydown:{},keyup:{}},c={};for(e=97;e<=122;e++)c[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)c[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)c[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)c["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)c["num"+e]={code:96+e,shift:!1};c["num*"]={code:106,shift:!1},c["num+"]={code:107,shift:!1},c["num-"]={code:109,shift:!1},c["num/"]={code:111,shift:!1},c["num."]={code:110,shift:!1},c.left={code:37,shift:!1},c.up={code:38,shift:!1},c.right={code:39,shift:!1},c.down={code:40,shift:!1},c.space={code:32,shift:!1},c.enter={code:13,shift:!1},c.shift={code:16,shift:void 0},c.esc={code:27,shift:!1},c.backspace={code:8,shift:!1},c.tab={code:9,shift:!1},c.ctrl={code:17,shift:!1},c.alt={code:18,shift:!1},c.delete={code:46,shift:!1},c.pageup={code:33,shift:!1},c.pagedown={code:34,shift:!1},c["="]={code:187,shift:!1},c["-"]={code:189,shift:!1},c["]"]={code:221,shift:!1},c["["]={code:219,shift:!1};var v=function(O){T(O,"keydown")},m=function(O){T(O,"keyup")},T=function(O,D){if(void 0!==s[D][O.keyCode]){for(var R=s[D][O.keyCode],B=0;B<R.length;B++)(void 0===R[B].shift||1==R[B].shift&&1==O.shiftKey||0==R[B].shift&&0==O.shiftKey)&&R[B].fn(O);1==t&&O.preventDefault()}};return o.bind=function(O,D,R){if(void 0===R&&(R="keydown"),void 0===c[O])throw new Error("unsupported key: "+O);void 0===s[R][c[O].code]&&(s[R][c[O].code]=[]),s[R][c[O].code].push({fn:D,shift:c[O].shift})},o.bindAll=function(O,D){for(var R in void 0===D&&(D="keydown"),c)c.hasOwnProperty(R)&&o.bind(R,O,D)},o.getKey=function(O){for(var D in c)if(c.hasOwnProperty(D)&&(1==O.shiftKey&&1==c[D].shift&&O.keyCode==c[D].code||0==O.shiftKey&&0==c[D].shift&&O.keyCode==c[D].code||O.keyCode==c[D].code&&"shift"==D))return D;return"unknown key, currently not supported"},o.unbind=function(O,D,R){if(void 0===R&&(R="keydown"),void 0===c[O])throw new Error("unsupported key: "+O);if(void 0!==D){var B=[],N=s[R][c[O].code];if(void 0!==N)for(var V=0;V<N.length;V++)N[V].fn==D&&N[V].shift==c[O].shift||B.push(s[R][c[O].code][V]);s[R][c[O].code]=B}else s[R][c[O].code]=[]},o.reset=function(){s={keydown:{},keyup:{}}},o.destroy=function(){s={keydown:{},keyup:{}},n.removeEventListener("keydown",v,!0),n.removeEventListener("keyup",m,!0)},n.addEventListener("keydown",v,!0),n.addEventListener("keyup",m,!0),o}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(ye(e=this.keycharm).call(e,"up",function(){Y.bindToRedraw("_moveUp")},"keydown"),ye(t=this.keycharm).call(t,"down",function(){Y.bindToRedraw("_moveDown")},"keydown"),ye(n=this.keycharm).call(n,"left",function(){Y.bindToRedraw("_moveLeft")},"keydown"),ye(o=this.keycharm).call(o,"right",function(){Y.bindToRedraw("_moveRight")},"keydown"),ye(s=this.keycharm).call(s,"=",function(){Y.bindToRedraw("_zoomIn")},"keydown"),ye(c=this.keycharm).call(c,"num+",function(){Y.bindToRedraw("_zoomIn")},"keydown"),ye(v=this.keycharm).call(v,"num-",function(){Y.bindToRedraw("_zoomOut")},"keydown"),ye(m=this.keycharm).call(m,"-",function(){Y.bindToRedraw("_zoomOut")},"keydown"),ye(T=this.keycharm).call(T,"[",function(){Y.bindToRedraw("_zoomOut")},"keydown"),ye(O=this.keycharm).call(O,"]",function(){Y.bindToRedraw("_zoomIn")},"keydown"),ye(D=this.keycharm).call(D,"pageup",function(){Y.bindToRedraw("_zoomIn")},"keydown"),ye(R=this.keycharm).call(R,"pagedown",function(){Y.bindToRedraw("_zoomOut")},"keydown"),ye(B=this.keycharm).call(B,"up",function(){Y.unbindFromRedraw("_moveUp")},"keyup"),ye(N=this.keycharm).call(N,"down",function(){Y.unbindFromRedraw("_moveDown")},"keyup"),ye(V=this.keycharm).call(V,"left",function(){Y.unbindFromRedraw("_moveLeft")},"keyup"),ye(Q=this.keycharm).call(Q,"right",function(){Y.unbindFromRedraw("_moveRight")},"keyup"),ye(W=this.keycharm).call(W,"=",function(){Y.unbindFromRedraw("_zoomIn")},"keyup"),ye(U=this.keycharm).call(U,"num+",function(){Y.unbindFromRedraw("_zoomIn")},"keyup"),ye(X=this.keycharm).call(X,"num-",function(){Y.unbindFromRedraw("_zoomOut")},"keyup"),ye(ue=this.keycharm).call(ue,"-",function(){Y.unbindFromRedraw("_zoomOut")},"keyup"),ye(re=this.keycharm).call(re,"[",function(){Y.unbindFromRedraw("_zoomOut")},"keyup"),ye(Ie=this.keycharm).call(Ie,"]",function(){Y.unbindFromRedraw("_zoomIn")},"keyup"),ye(ne=this.keycharm).call(ne,"pageup",function(){Y.unbindFromRedraw("_zoomIn")},"keyup"),ye(he=this.keycharm).call(he,"pagedown",function(){Y.unbindFromRedraw("_zoomOut")},"keyup")))}}]),r}();function dT(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var hT=function(){function r(e,t,n){var o,s,c,v,m,T,O,D,R,B,N,V,Q;Te(this,r),this.body=e,this.canvas=t,this.selectionHandler=n,this.navigationHandler=new lC(e,t),this.body.eventListeners.onTap=ye(o=this.onTap).call(o,this),this.body.eventListeners.onTouch=ye(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ye(c=this.onDoubleTap).call(c,this),this.body.eventListeners.onHold=ye(v=this.onHold).call(v,this),this.body.eventListeners.onDragStart=ye(m=this.onDragStart).call(m,this),this.body.eventListeners.onDrag=ye(T=this.onDrag).call(T,this),this.body.eventListeners.onDragEnd=ye(O=this.onDragEnd).call(O,this),this.body.eventListeners.onMouseWheel=ye(D=this.onMouseWheel).call(D,this),this.body.eventListeners.onPinch=ye(R=this.onPinch).call(R,this),this.body.eventListeners.onMouseMove=ye(B=this.onMouseMove).call(B,this),this.body.eventListeners.onRelease=ye(N=this.onRelease).call(N,this),this.body.eventListeners.onContext=ye(V=this.onContext).call(V,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ye(Q=this.getPointer).call(Q,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},We(this.options,this.defaultOptions),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(dd(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Gn(this.options,e,"keyboard"),e.tooltip&&(We(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=of(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-En(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var n=function(o,s){for(var c=[],v=0;v<o.length;v++){var m=o[v];-1===kt(s).call(s,m)&&c.push(m)}return c};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=We({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var o,s=function Fk(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return dT(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return dT(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}(this.selectionHandler.getSelectedNodes());try{for(s.s();!(o=s.n()).done;){var c=o.value,v={id:c.id,node:c,x:c.x,y:c.y,xFixed:c.options.fixed.x,yFixed:c.options.fixed.y};c.options.fixed.x=!0,c.options.fixed.y=!0,this.drag.selection.push(v)}}catch(m){s.e(m)}finally{s.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),o=this.drag.selection;if(o&&o.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,n);var s=n.x-this.drag.pointer.x,c=n.y-this.drag.pointer.y;jt(o).call(o,function(T){var O=T.node;!1===T.xFixed&&(O.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(T.x)+s)),!1===T.yFixed&&(O.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(T.y)+c))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.view.translation={x:this.drag.translation.x+(n.x-this.drag.pointer.x),y:this.drag.translation.y+(n.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var o=this.body.selectionBox.position,s={minX:Math.min(o.start.x,o.end.x),minY:Math.min(o.start.y,o.end.y),maxX:Math.max(o.start.x,o.end.x),maxY:Math.max(o.start.y,o.end.y)},c=Vi(n=this.body.nodeIndices).call(n,function(T){var O=t.body.nodes[T];return O.x>=s.minX&&O.x<=s.maxX&&O.y>=s.minY&&O.y<=s.maxY});jt(c).call(c,function(T){return t.selectionHandler.selectObject(t.body.nodes[T])});var v=this.getPointer(e.center);this.selectionHandler.commitAndEmit(v,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var m=this.drag.selection;m&&m.length?(jt(m).call(m,function(T){T.node.options.fixed.x=T.xFixed,T.node.options.fixed.y=T.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*e.scale,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var o=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,c=e/n,v=(1-c)*t.x+s.x*c,m=(1-c)*t.y+s.y*c;if(this.body.view.scale=e,this.body.view.translation={x:v,y:m},null!=o){var T=this.canvas.canvasToDOM(o);this.drag.pointer.x=T.x,this.drag.pointer.y=T.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",n<e?{direction:"+",scale:this.body.view.scale,pointer:t}:{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+.1*this.options.zoomSpeed*(e.deltaY<0?1:-1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),o=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(o=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===o&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Wr(function(){return t._checkShowPopup(n)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),o={left:t,top:n,right:t,bottom:n},s=void 0===this.popupObj?void 0:this.popupObj.id,c=!1,v="node";if(void 0===this.popupObj){for(var m,T=this.body.nodeIndices,O=this.body.nodes,D=[],R=0;R<T.length;R++)!0===(m=O[T[R]]).isOverlappingWith(o)&&(c=!0,void 0!==m.getTitle()&&D.push(T[R]));D.length>0&&(this.popupObj=O[D[D.length-1]],c=!0)}if(void 0===this.popupObj&&!1===c){for(var B,N=this.body.edgeIndices,V=this.body.edges,Q=[],W=0;W<N.length;W++)!0===(B=V[N[W]]).isOverlappingWith(o)&&!0===B.connected&&void 0!==B.getTitle()&&Q.push(N[W]);Q.length>0&&(this.popupObj=V[Q[Q.length-1]],v="edge")}void 0!==this.popupObj?this.popupObj.id!==s&&(void 0===this.popup&&(this.popup=new sc(this.canvas.frame)),this.popup.popupTargetType=v,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var o=this.selectionHandler.getNodeAt(e);n=void 0!==o&&o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}();gf("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},cc);var hc=$e.Set,fT=ky,kw=vd.exports.getWeakData,Rk=Yt,cC=Xe,pc=wd,Or=vf,vT=_t,Pk=or.set,Ak=or.getterFor,Lk=hr.find,zk=hr.findIndex,Bk=me([].splice),$k=0,Sw=function(r){return r.frozen||(r.frozen=new gT)},gT=function(){this.entries=[]},uC=function(r,e){return Lk(r.entries,function(t){return t[0]===e})};gT.prototype={get:function(r){var e=uC(this,r);if(e)return e[1]},has:function(r){return!!uC(this,r)},set:function(r,e){var t=uC(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=zk(this.entries,function(t){return t[0]===r});return~e&&Bk(this.entries,e,1),!!~e}};var Wy,Ew=me,jk=ky,yT=vd.exports,hC={getConstructor:function(r,e,t,n){var o=r(function(m,T){pc(m,s),Pk(m,{type:e,id:$k++,frozen:void 0}),null!=T&&Or(T,m[n],{that:m,AS_ENTRIES:t})}),s=o.prototype,c=Ak(e),v=function(m,T,O){var D=c(m),R=kw(Rk(T),!0);return!0===R?Sw(D).set(T,O):R[D.id]=O,m};return fT(s,{delete:function(m){var T=c(this);if(!cC(m))return!1;var O=kw(m);return!0===O?Sw(T).delete(m):O&&vT(O,T.id)&&delete O[T.id]},has:function(m){var T=c(this);if(!cC(m))return!1;var O=kw(m);return!0===O?Sw(T).has(m):O&&vT(O,T.id)}}),fT(s,t?{get:function(m){var T=c(this);if(cC(m)){var O=kw(m);return!0===O?Sw(T).get(m):O?O[T.id]:void 0}},set:function(m,T){return v(this,m,T)}}:{add:function(m){return v(this,m,!0)}}),o}},Gy=Xe,Ow=K0,Iw=or.enforce,Hk=rs,Vk=!ie.ActiveXObject&&"ActiveXObject"in ie,pC=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Of=gf("WeakMap",pC,hC);if(Hk&&Vk){Wy=hC.getConstructor(pC,"WeakMap",!0),yT.enable();var If=Of.prototype,Dn=Ew(If.delete),Df=Ew(If.has),bT=Ew(If.get),_T=Ew(If.set);jk(If,{delete:function(r){if(Gy(r)&&!Ow(r)){var e=Iw(this);return e.frozen||(e.frozen=new Wy),Dn(this,r)||e.frozen.delete(r)}return Dn(this,r)},has:function(r){if(Gy(r)&&!Ow(r)){var e=Iw(this);return e.frozen||(e.frozen=new Wy),Df(this,r)||e.frozen.has(r)}return Df(this,r)},get:function(r){if(Gy(r)&&!Ow(r)){var e=Iw(this);return e.frozen||(e.frozen=new Wy),Df(this,r)?bT(this,r):e.frozen.get(r)}return bT(this,r)},set:function(r,e){if(Gy(r)&&!Ow(r)){var t=Iw(this);t.frozen||(t.frozen=new Wy),Df(this,r)?_T(this,r,e):t.frozen.set(r,e)}else _T(this,r,e);return this}})}var Dd,Xr,fc,za,Md,Uy=$e.WeakMap;function Qt(r,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(r):n?n.value:e.get(r)}function fC(r,e,t,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?r!==e||!o:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(r,t):o?o.value=t:e.set(r,t),t}function vC(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return wT(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return wT(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}function wT(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function xT(r,e){var t,n=new hc,o=vC(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;r.has(s)||n.add(s)}}catch(c){o.e(c)}finally{o.f()}return n}var CT=function(){function r(){Te(this,r),Dd.set(this,new hc),Xr.set(this,new hc)}return Se(r,[{key:"size",get:function(){return Qt(this,Xr,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=0,s=t;o<s.length;o++){var c=s[o];Qt(this,Xr,"f").add(c)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=0,s=t;o<s.length;o++){var c=s[o];Qt(this,Xr,"f").delete(c)}}},{key:"clear",value:function(){Qt(this,Xr,"f").clear()}},{key:"getSelection",value:function(){return Nn(Qt(this,Xr,"f"))}},{key:"getChanges",value:function(){return{added:Nn(xT(Qt(this,Dd,"f"),Qt(this,Xr,"f"))),deleted:Nn(xT(Qt(this,Xr,"f"),Qt(this,Dd,"f"))),previous:Nn(new hc(Qt(this,Dd,"f"))),current:Nn(new hc(Qt(this,Xr,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();fC(this,Dd,Qt(this,Xr,"f"),"f"),fC(this,Xr,new hc(Qt(this,Dd,"f")),"f");var t,n=vC(e.added);try{for(n.s();!(t=n.n()).done;)t.value.select()}catch(c){n.e(c)}finally{n.f()}var o,s=vC(e.deleted);try{for(s.s();!(o=s.n()).done;)o.value.unselect()}catch(c){s.e(c)}finally{s.f()}return e}}]),r}();Dd=new Uy,Xr=new Uy;var Kk=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Te(this,r),fc.set(this,new CT),za.set(this,new CT),Md.set(this,void 0),fC(this,Md,e,"f")}return Se(r,[{key:"sizeNodes",get:function(){return Qt(this,fc,"f").size}},{key:"sizeEdges",get:function(){return Qt(this,za,"f").size}},{key:"getNodes",value:function(){return Qt(this,fc,"f").getSelection()}},{key:"getEdges",value:function(){return Qt(this,za,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Qt(this,fc,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Qt(this,za,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Qt(this,fc,"f").delete(e)}},{key:"deleteEdges",value:function(e){Qt(this,za,"f").delete(e)}},{key:"clear",value:function(){Qt(this,fc,"f").clear(),Qt(this,za,"f").clear()}},{key:"commit",value:function(){for(var e,t,n={nodes:Qt(this,fc,"f").commit(),edges:Qt(this,za,"f").commit()},o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(e=Qt(this,Md,"f")).call.apply(e,Nu(t=[this,n]).call(t,s)),n}}]),r}();function Dw(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return TT(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return TT(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}function TT(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}fc=new Uy,za=new Uy,Md=new Uy;var kT=function(){function r(e,t){var n=this;Te(this,r),this.body=e,this.canvas=t,this._selectionAccumulator=new Kk,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},We(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return Se(r,[{key:"setOptions",value:function(e){void 0!==e&&rc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}},{key:"generateClickEvent",value:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=this._initBaseEvent(t,n);if(!0===s)c.nodes=[],c.edges=[];else{var v=this.getSelection();c.nodes=v.nodes,c.edges=v.edges}void 0!==o&&(c.previousSelection=o),"click"==e&&(c.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(c.controlEdge=t.controlEdge),this.body.emitter.emit(e,c)}},{key:"selectObject",value:function(e){var n;return void 0!==e&&(e instanceof Yn?(!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&(n=this._selectionAccumulator).addEdges.apply(n,Nn(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodeIndices[o];n[s].isOverlappingWith(e)&&t.push(s)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),o=this._getAllNodesOverlappingWith(n);return o.length>0?!0===t?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var s=this.body.edgeIndices[o];n[s].isOverlappingWith(e)&&t.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),o=10,s=null,c=this.body.edges,v=0;v<this.body.edgeIndices.length;v++){var m=this.body.edgeIndices[v],T=c[m];if(T.connected){var N=T.edgeType.getDistanceToEdge(T.from.x,T.from.y,T.to.x,T.to.y,n.x,n.y);N<o&&(s=m,o=N)}}return null!==s?!0===t?this.body.edges[s]:s:void 0}},{key:"_addToHover",value:function(e){e instanceof Yn?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof Yn?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,Nn(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,t,n){var o=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof Yn?(o.node=n.id,this.body.emitter.emit("blurNode",o)):(o.edge=n.id,this.body.emitter.emit("blurEdge",o)))}},{key:"emitHoverEvent",value:function(e,t,n){var o=this._initBaseEvent(e,t),s=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof Yn?(o.node=n.id,this.body.emitter.emit("hoverNode",o)):(o.edge=n.id,this.body.emitter.emit("hoverEdge",o))),s}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var o=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(void 0===n||n instanceof Yn&&n.id!=s||n instanceof Ef)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],o=!0);for(var c in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,c)&&(!0===o?(this.hoverObj.edges[c].hover=!1,delete this.hoverObj.edges[c]):(void 0===n||n instanceof Ef&&n.id!=c||n instanceof Yn&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[c]),delete this.hoverObj.edges[c],o=!0));if(void 0!==n){var v=mt(this.hoverObj.edges).length,m=mt(this.hoverObj.nodes).length;(o||n instanceof Ef&&0===v&&0===m||n instanceof Yn&&0===v&&0===m)&&(o=this.emitHoverEvent(e,t,n)),n instanceof Yn&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var n=!1,o=this._selectionAccumulator.commit(),s={nodes:o.nodes.previous,edges:o.edges.previous};o.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),n=!0),o.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),n=!0),o.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),n=!0),o.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),n=!0),!0===n&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return ci(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return ci(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var n,o=Dw(e.nodes);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=this.body.nodes[s];if(!c)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(c,t.highlightEdges)}}catch(D){o.e(D)}finally{o.f()}}if(e.edges){var v,m=Dw(e.edges);try{for(m.s();!(v=m.n()).done;){var T=v.value,O=this.body.edges[T];if(!O)throw new RangeError('Edge with id "'+T+'" not found');this.selectObject(O)}}catch(D){m.e(D)}finally{m.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],o=this.body.nodeIndices,s=this.body.nodes,c=o.length-1;c>=0;c--){var v=s[o[c]].getItemsOnPoint(t);n.push.apply(n,v)}for(var m=this.body.edgeIndices,T=this.body.edges,O=m.length-1;O>=0;O--){var D=T[m[O]].getItemsOnPoint(t);n.push.apply(n,D)}return n}}]),r}(),ST=Je,gC=Math.floor,mC=function(r,e){var t=r.length,n=gC(t/2);return t<8?Wk(r,e):ET(r,mC(ST(r,0,n),e),mC(ST(r,n),e),e)},Wk=function(r,e){for(var t,n,o=r.length,s=1;s<o;){for(n=s,t=r[s];n&&e(r[n-1],t)>0;)r[n]=r[--n];n!==s++&&(r[n]=t)}return r},ET=function(r,e,t,n){for(var o=e.length,s=t.length,c=0,v=0;c<o||v<s;)r[c+v]=c<o&&v<s?n(e[c],t[v])<=0?e[c++]:t[v++]:c<o?e[c++]:t[v++];return r},Ba=mC,OT=_i.match(/firefox\/(\d+)/i),yC=!!OT&&+OT[1],Gk=/MSIE|Trident/.test(_i),IT=_i.match(/AppleWebKit\/(\d+)\./),Yk=xe,DT=me,qk=un,Qk=Rt,Zk=Ei,MT=Tn,bC=ke,Jk=Ba,Xk=Vr,_C=yC,eS=Gk,FT=Rn,wC=!!IT&&+IT[1],vc=[],Yy=DT(vc.sort),RT=DT(vc.push),PT=bC(function(){vc.sort(void 0)}),tS=bC(function(){vc.sort(null)}),iS=Xk("sort"),AT=!bC(function(){if(FT)return FT<70;if(!(_C&&_C>3)){if(eS)return!0;if(wC)return wC<603;var r,e,t,n,o="";for(r=65;r<76;r++){switch(e=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)vc.push({k:e+n,v:t})}for(vc.sort(function(s,c){return c.v-s.v}),n=0;n<vc.length;n++)e=vc[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}});Yk({target:"Array",proto:!0,forced:PT||!tS||!iS||!AT},{sort:function(r){void 0!==r&&qk(r);var e=Qk(this);if(AT)return void 0===r?Yy(e):Yy(e,r);var t,n,o=[],s=Zk(e);for(n=0;n<s;n++)n in e&&RT(o,e[n]);for(Jk(o,function(c){return function(v,m){return void 0===m?-1:void 0===v?1:void 0!==c?+c(v,m)||0:MT(v)>MT(m)?1:-1}}(r)),t=o.length,n=0;n<t;)e[n]=o[n++];for(;n<s;)delete e[n++];return e}});var LT=yi("Array").sort,nS=ot,rS=LT,xC=Array.prototype,CC=function(r){var e=r.sort;return r===xC||nS(xC,r)&&e===xC.sort?rS:e},sS=un,aS=Rt,lS=oo,cS=Ei,uS=ie.TypeError,zT=function(r){return function(e,t,n,o){sS(t);var s=aS(e),c=lS(s),v=cS(s),m=r?v-1:0,T=r?-1:1;if(n<2)for(;;){if(m in c){o=c[m],m+=T;break}if(m+=T,r?m<0:v<=m)throw uS("Reduce of empty array with no initial value")}for(;r?m>=0:v>m;m+=T)m in c&&(o=t(o,c[m],m,s));return o}},dS={left:zT(!1),right:zT(!0)},hS="process"==di(ie.process),BT=dS.left,$T=Rn,pS=hS;xe({target:"Array",proto:!0,forced:!Vr("reduce")||!pS&&$T>79&&$T<83},{reduce:function(r){var e=arguments.length;return BT(this,r,e,e>1?arguments[1]:void 0)}});var NT=yi("Array").reduce,fS=ot,vS=NT,TC=Array.prototype,jT=function(r){var e=r.reduce;return r===TC||fS(TC,r)&&e===TC.reduce?vS:e},HT={};!function(r){!function(e){e.__esModule=!0,e.sort=function Q(W,U,X,ue){if(!Array.isArray(W))throw new TypeError("Can only sort arrays");U?"function"!=typeof U&&(ue=X,X=U,U=m):U=m,X||(X=0),ue||(ue=W.length);var re=ue-X;if(!(re<2)){var Ie=0;if(re<32)R(W,X,ue,X+(Ie=O(W,X,ue,U)),U);else{var ne=new V(W,U),he=function T(W){for(var U=0;W>=32;)U|=1&W,W>>=1;return W+U}(re);do{if((Ie=O(W,X,ue,U))<he){var Y=re;Y>he&&(Y=he),R(W,X,X+Y,X+Ie,U),Ie=Y}ne.pushRun(X,Ie),ne.mergeRuns(),re-=Ie,X+=Ie}while(0!==re);ne.forceMergeRuns()}}};var c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function v(W){return W<1e5?W<100?W<10?0:1:W<1e4?W<1e3?2:3:4:W<1e7?W<1e6?5:6:W<1e9?W<1e8?7:8:9}function m(W,U){if(W===U)return 0;if(~~W===W&&~~U===U){if(0===W||0===U)return W<U?-1:1;if(W<0||U<0){if(U>=0)return-1;if(W>=0)return 1;W=-W,U=-U}var X=v(W),ue=v(U),re=0;return X<ue?(W*=c[ue-X-1],U/=10,re=-1):X>ue&&(U*=c[X-ue-1],W/=10,re=1),W===U?re:W<U?-1:1}var Ie=String(W),ne=String(U);return Ie===ne?0:Ie<ne?-1:1}function O(W,U,X,ue){var re=U+1;if(re===X)return 1;if(ue(W[re++],W[U])<0){for(;re<X&&ue(W[re],W[re-1])<0;)re++;!function D(W,U,X){for(X--;U<X;){var ue=W[U];W[U++]=W[X],W[X--]=ue}}(W,U,re)}else for(;re<X&&ue(W[re],W[re-1])>=0;)re++;return re-U}function R(W,U,X,ue,re){for(ue===U&&ue++;ue<X;ue++){for(var Ie=W[ue],ne=U,he=ue;ne<he;){var Y=ne+he>>>1;re(Ie,W[Y])<0?he=Y:ne=Y+1}var Ue=ue-ne;switch(Ue){case 3:W[ne+3]=W[ne+2];case 2:W[ne+2]=W[ne+1];case 1:W[ne+1]=W[ne];break;default:for(;Ue>0;)W[ne+Ue]=W[ne+Ue-1],Ue--}W[ne]=Ie}}function B(W,U,X,ue,re,Ie){var ne=0,he=0,Y=1;if(Ie(W,U[X+re])>0){for(he=ue-re;Y<he&&Ie(W,U[X+re+Y])>0;)ne=Y,(Y=1+(Y<<1))<=0&&(Y=he);Y>he&&(Y=he),ne+=re,Y+=re}else{for(he=re+1;Y<he&&Ie(W,U[X+re-Y])<=0;)ne=Y,(Y=1+(Y<<1))<=0&&(Y=he);Y>he&&(Y=he);var Ue=ne;ne=re-Y,Y=re-Ue}for(ne++;ne<Y;){var qe=ne+(Y-ne>>>1);Ie(W,U[X+qe])>0?ne=qe+1:Y=qe}return Y}function N(W,U,X,ue,re,Ie){var ne=0,he=0,Y=1;if(Ie(W,U[X+re])<0){for(he=re+1;Y<he&&Ie(W,U[X+re-Y])<0;)ne=Y,(Y=1+(Y<<1))<=0&&(Y=he);Y>he&&(Y=he);var Ue=ne;ne=re-Y,Y=re-Ue}else{for(he=ue-re;Y<he&&Ie(W,U[X+re+Y])>=0;)ne=Y,(Y=1+(Y<<1))<=0&&(Y=he);Y>he&&(Y=he),ne+=re,Y+=re}for(ne++;ne<Y;){var qe=ne+(Y-ne>>>1);Ie(W,U[X+qe])<0?Y=qe:ne=qe+1}return Y}var V=function(){function W(U,X){(function t(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")})(this,W),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=U,this.compare=X,this.length=U.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return W.prototype.pushRun=function(U,X){this.runStart[this.stackSize]=U,this.runLength[this.stackSize]=X,this.stackSize+=1},W.prototype.mergeRuns=function(){for(;this.stackSize>1;){var U=this.stackSize-2;if(U>=1&&this.runLength[U-1]<=this.runLength[U]+this.runLength[U+1]||U>=2&&this.runLength[U-2]<=this.runLength[U]+this.runLength[U-1])this.runLength[U-1]<this.runLength[U+1]&&U--;else if(this.runLength[U]>this.runLength[U+1])break;this.mergeAt(U)}},W.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var U=this.stackSize-2;U>0&&this.runLength[U-1]<this.runLength[U+1]&&U--,this.mergeAt(U)}},W.prototype.mergeAt=function(U){var X=this.compare,ue=this.array,re=this.runStart[U],Ie=this.runLength[U],ne=this.runStart[U+1],he=this.runLength[U+1];this.runLength[U]=Ie+he,U===this.stackSize-3&&(this.runStart[U+1]=this.runStart[U+2],this.runLength[U+1]=this.runLength[U+2]),this.stackSize--;var Y=N(ue[ne],ue,re,Ie,0,X);re+=Y,0!=(Ie-=Y)&&0!==(he=B(ue[re+Ie-1],ue,ne,he,he-1,X))&&(Ie<=he?this.mergeLow(re,Ie,ne,he):this.mergeHigh(re,Ie,ne,he))},W.prototype.mergeLow=function(U,X,ue,re){var Ie=this.compare,ne=this.array,he=this.tmp,Y=0;for(Y=0;Y<X;Y++)he[Y]=ne[U+Y];var Ue=0,qe=ue,Fe=U;if(ne[Fe++]=ne[qe++],0!=--re)if(1!==X){for(var st=this.minGallop;;){var pt=0,yt=0,Ft=!1;do{if(Ie(ne[qe],he[Ue])<0){if(ne[Fe++]=ne[qe++],yt++,pt=0,0==--re){Ft=!0;break}}else if(ne[Fe++]=he[Ue++],pt++,yt=0,1==--X){Ft=!0;break}}while((pt|yt)<st);if(Ft)break;do{if(0!==(pt=N(ne[qe],he,Ue,X,0,Ie))){for(Y=0;Y<pt;Y++)ne[Fe+Y]=he[Ue+Y];if(Fe+=pt,Ue+=pt,(X-=pt)<=1){Ft=!0;break}}if(ne[Fe++]=ne[qe++],0==--re){Ft=!0;break}if(0!==(yt=B(he[Ue],ne,qe,re,0,Ie))){for(Y=0;Y<yt;Y++)ne[Fe+Y]=ne[qe+Y];if(Fe+=yt,qe+=yt,0==(re-=yt)){Ft=!0;break}}if(ne[Fe++]=he[Ue++],1==--X){Ft=!0;break}st--}while(pt>=7||yt>=7);if(Ft)break;st<0&&(st=0),st+=2}if(this.minGallop=st,st<1&&(this.minGallop=1),1===X){for(Y=0;Y<re;Y++)ne[Fe+Y]=ne[qe+Y];ne[Fe+re]=he[Ue]}else{if(0===X)throw new Error("mergeLow preconditions were not respected");for(Y=0;Y<X;Y++)ne[Fe+Y]=he[Ue+Y]}}else{for(Y=0;Y<re;Y++)ne[Fe+Y]=ne[qe+Y];ne[Fe+re]=he[Ue]}else for(Y=0;Y<X;Y++)ne[Fe+Y]=he[Ue+Y]},W.prototype.mergeHigh=function(U,X,ue,re){var Ie=this.compare,ne=this.array,he=this.tmp,Y=0;for(Y=0;Y<re;Y++)he[Y]=ne[ue+Y];var Ue=U+X-1,qe=re-1,Fe=ue+re-1,st=0,pt=0;if(ne[Fe--]=ne[Ue--],0!=--X)if(1!==re){for(var yt=this.minGallop;;){var Ft=0,Zt=0,Ir=!1;do{if(Ie(he[qe],ne[Ue])<0){if(ne[Fe--]=ne[Ue--],Ft++,Zt=0,0==--X){Ir=!0;break}}else if(ne[Fe--]=he[qe--],Zt++,Ft=0,1==--re){Ir=!0;break}}while((Ft|Zt)<yt);if(Ir)break;do{if(0!=(Ft=X-N(he[qe],ne,U,X,X-1,Ie))){for(X-=Ft,pt=1+(Fe-=Ft),st=1+(Ue-=Ft),Y=Ft-1;Y>=0;Y--)ne[pt+Y]=ne[st+Y];if(0===X){Ir=!0;break}}if(ne[Fe--]=he[qe--],1==--re){Ir=!0;break}if(0!=(Zt=re-B(ne[Ue],he,0,re,re-1,Ie))){for(re-=Zt,pt=1+(Fe-=Zt),st=1+(qe-=Zt),Y=0;Y<Zt;Y++)ne[pt+Y]=he[st+Y];if(re<=1){Ir=!0;break}}if(ne[Fe--]=ne[Ue--],0==--X){Ir=!0;break}yt--}while(Ft>=7||Zt>=7);if(Ir)break;yt<0&&(yt=0),yt+=2}if(this.minGallop=yt,yt<1&&(this.minGallop=1),1===re){for(pt=1+(Fe-=X),st=1+(Ue-=X),Y=X-1;Y>=0;Y--)ne[pt+Y]=ne[st+Y];ne[Fe]=he[qe]}else{if(0===re)throw new Error("mergeHigh preconditions were not respected");for(st=Fe-(re-1),Y=0;Y<re;Y++)ne[st+Y]=he[Y]}}else{for(pt=1+(Fe-=X),st=1+(Ue-=X),Y=X-1;Y>=0;Y--)ne[pt+Y]=ne[st+Y];ne[Fe]=he[qe]}else for(st=Fe-(re-1),Y=0;Y<re;Y++)ne[st+Y]=he[Y]},W}()}(r)}(HT);var qy=HT;function VT(r){var e=function(){if(typeof Reflect>"u"||!ae||ae.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ae(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=de(r);if(e){var o=de(this).constructor;t=ae(n,arguments,o)}else t=n.apply(this,arguments);return ce(this,t)}}var KT=function(){function r(){Te(this,r)}return Se(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){this.fake_use(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),r}(),mS=function(r){xt(t,r);var e=VT(t);function t(n){var o;return Te(this,t),(o=e.call(this)).layout=n,o}return Se(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(n){return n.x}},{key:"setPosition",value:function(n,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==s&&this.layout.hierarchical.addToOrdering(n,s),n.x=o}},{key:"getTreeSize",value:function(n){var o=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:o.min_x,max:o.max_x}}},{key:"sort",value:function(n){qy.sort(n,function(o,s){return o.x-s.x})}},{key:"fix",value:function(n,o){n.y=this.layout.options.hierarchical.levelSeparation*o,n.options.fixed.y=!0}},{key:"shift",value:function(n,o){this.layout.body.nodes[n].x+=o}}]),t}(KT),WT=function(r){xt(t,r);var e=VT(t);function t(n){var o;return Te(this,t),(o=e.call(this)).layout=n,o}return Se(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(n){return n.y}},{key:"setPosition",value:function(n,o){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==s&&this.layout.hierarchical.addToOrdering(n,s),n.y=o}},{key:"getTreeSize",value:function(n){var o=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:o.min_y,max:o.max_y}}},{key:"sort",value:function(n){qy.sort(n,function(o,s){return o.y-s.y})}},{key:"fix",value:function(n,o){n.x=this.layout.options.hierarchical.levelSeparation*o,n.options.fixed.x=!0}},{key:"shift",value:function(n,o){this.layout.body.nodes[n].y+=o}}]),t}(KT),yS=hr.every;xe({target:"Array",proto:!0,forced:!Vr("every")},{every:function(r){return yS(this,r,arguments.length>1?arguments[1]:void 0)}});var bS=yi("Array").every,_S=ot,wS=bS,kC=Array.prototype,SC=function(r){var e=r.every;return r===kC||_S(kC,r)&&e===kC.every?wS:e};function EC(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function OC(r,e){var t=new hc;return jt(r).call(r,function(n){var o;jt(o=n.edges).call(o,function(s){s.connected&&t.add(s)})}),jt(t).call(t,function(n){var o=n.from.id,s=n.to.id;null==e[o]&&(e[o]=0),(null==e[s]||e[o]>=e[s])&&(e[s]=e[o]+1)}),e}function IC(r,e,t,n){var o,s,c=ys(null),v=jT(o=Nn(S(n).call(n))).call(o,function(B,N){return B+1+N.edges.length},0),m=t+"Id",T="to"===t?1:-1,O=function GT(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return EC(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return EC(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}(n);try{var D=function(){var B=ii(s.value,2),N=B[0],V=B[1];if(!n.has(N)||!r(V))return"continue";c[N]=0;for(var Q=[V],W=0,U=void 0,X=function(){var re,Ie;if(!n.has(N))return"continue";var ne=c[U.id]+T;if(jt(re=Vi(Ie=U.edges).call(Ie,function(he){return he.connected&&he.to!==he.from&&he[t]!==U&&n.has(he.toId)&&n.has(he.fromId)})).call(re,function(he){var Y=he[m],Ue=c[Y];(null==Ue||e(ne,Ue))&&(c[Y]=ne,Q.push(he[t]))}),W>v)return{v:{v:OC(n,c)}};++W};U=Q.pop();){var ue=X();if("continue"!==ue&&"object"===Ot(ue))return ue.v}};for(O.s();!(s=O.n()).done;){var R=D();if("continue"!==R&&"object"===Ot(R))return R.v}}catch(B){O.e(B)}finally{O.f()}return c}var xS=function(){function r(){Te(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Se(r,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,n={};return function o(s){if(void 0!==n[s])return n[s];var c=t.levels[s];if(t.childrenReference[s]){var v=t.childrenReference[s];if(v.length>0)for(var m=0;m<v.length;m++)c=Math.max(c,o(v[m]))}return n[s]=c,c}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==this.levels[n]&&(t=Math.min(this.levels[n],t));for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&void 0!==this.levels[o]&&(this.levels[o]-=t)}},{key:"getTreeSize",value:function(e,t){var n=1e9,o=-1e9,s=1e9,c=-1e9;for(var v in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,v)&&this.trees[v]===t){var m=e[v];n=Math.min(m.x,n),o=Math.max(m.x,o),s=Math.min(m.y,s),c=Math.max(m.y,c)}return{min_x:n,max_x:o,min_y:s,max_y:c}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],o=this.parentReference[t.id];if(void 0===n||void 0===o)return!1;for(var s=0;s<n.length;s++)for(var c=0;c<o.length;c++)if(n[s]==o[c])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return mt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,o=this.distributionOrdering[t];for(var s in o)if(o[s]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),r}(),CS=function(){function r(e){Te(this,r),this.body=e,this._resetRNG(Math.random()+":"+Kl()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},We(this.options,this.defaultOptions),this.bindEventListeners()}return Se(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,o=n.enabled;if(rc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Gn(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===n.enabled)return!0===o&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===o)return this.body.emitter.emit("refresh"),Ht(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Wn(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===Ot(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var o=e.edges.smooth;void 0!==o.type&&"dynamic"!==o.type&&(n=o.type),this.optionsBackup.edges={smooth:{enabled:void 0===o.enabled||o.enabled,type:void 0===o.type?"dynamic":o.type,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}},e.edges.smooth={enabled:void 0===o.enabled||o.enabled,type:n,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,n=0;n<e.length;n++){var o=e[n],s=2*Math.PI*this._rng();void 0===o.x&&(o.x=t*Math.cos(s)),void 0===o.y&&(o.y=t*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var o=0,s=this.options.clusterThreshold,c={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){for(var v=e.length;e.length>s&&o<=10;){var m=e.length;if((o+=1)%3==0?this.body.modules.clustering.clusterBridges(c):this.body.modules.clustering.clusterOutliers(c),m==e.length&&o%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*v)})}o>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var T=0;T<e.length;T++){var O=this.body.nodes[e[T]];!1===O.predefinedPosition&&(O.x+=70*(.5-this._rng()),O.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=In.getRangeCore(this.body.nodes,this.body.nodeIndices),t=In.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodes[this.body.nodeIndices[n]];o.x-=t.x,o.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,n=!1,o=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new xS,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):o=!0);if(!0===o&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===o){var s=this.options.hierarchical.sortMethod;"hubsize"===s?this._determineLevelsByHubsize():"directed"===s?this._determineLevelsDirected():"custom"===s&&this._determineLevelsCustomCallback()}for(var c in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,c)&&this.hierarchical.ensureLevel(c);var v=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(v),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,n={},o=function(R,B){var N=e.hierarchical.trees;for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&N[V]===R&&e.direction.shift(V,B)},c=function R(B,N){if(!N[B.id]&&(N[B.id]=!0,e.hierarchical.childrenReference[B.id])){var V=e.hierarchical.childrenReference[B.id];if(V.length>0)for(var Q=0;Q<V.length;Q++)R(e.body.nodes[V[Q]],N)}},v=function(R){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,N=1e9,V=1e9,Q=1e9,W=-1e9;for(var U in R)if(Object.prototype.hasOwnProperty.call(R,U)){var X=e.body.nodes[U],ue=e.hierarchical.levels[X.id],re=e.direction.getPosition(X),ne=ii(e._getSpaceAroundNode(X,R),2),Y=ne[1];N=Math.min(ne[0],N),V=Math.min(Y,V),ue<=B&&(Q=Math.min(re,Q),W=Math.max(re,W))}return[Q,W,N,V]},m=function(R,B){var N=e.hierarchical.getMaxLevel(R.id),V=e.hierarchical.getMaxLevel(B.id);return Math.min(N,V)},T=function(R,B,N){for(var V=e.hierarchical,Q=0;Q<B.length;Q++){var U=V.distributionOrdering[B[Q]];if(U.length>1)for(var X=0;X<U.length-1;X++){var ue=U[X],re=U[X+1];V.hasSameParent(ue,re)&&V.inSameSubNetwork(ue,re)&&R(ue,re,N)}}},O=function(R,B){var N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=e.direction.getPosition(R),Q=e.direction.getPosition(B),W=Math.abs(Q-V),U=e.options.hierarchical.nodeSpacing;if(W>U){var X={},ue={};c(R,X),c(B,ue);var re=m(R,B),Ie=v(X,re),ne=v(ue,re),he=Ie[1],Y=ne[0],Ue=ne[2];if(Math.abs(he-Y)>U){var Fe=he-Y+U;Fe<-Ue+U&&(Fe=-Ue+U),Fe<0&&(e._shiftBlock(B.id,Fe),t=!0,!0===N&&e._centerParent(B))}}},D=function(R,B){for(var N=B.id,V=B.edges,Q=e.hierarchical.levels[B.id],W=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,U={},X=[],ue=0;ue<V.length;ue++){var re=V[ue];if(re.toId!=re.fromId){var Ie=re.toId==N?re.from:re.to;U[V[ue].id]=Ie,e.hierarchical.levels[Ie.id]<Q&&X.push(re)}}var qe,Fe,st,pt,Ft,Zt,ne=function(qe,Fe){for(var st=0,pt=0;pt<Fe.length;pt++)if(void 0!==U[Fe[pt].id]){var yt=e.direction.getPosition(U[Fe[pt].id])-qe;st+=yt/Math.sqrt(yt*yt+W)}return st},he=function(qe,Fe){for(var st=0,pt=0;pt<Fe.length;pt++)if(void 0!==U[Fe[pt].id]){var yt=e.direction.getPosition(U[Fe[pt].id])-qe;st-=W*Math.pow(yt*yt+W,-1.5)}return st},Y=function(qe,Fe){for(var st=e.direction.getPosition(B),pt={},yt=0;yt<qe;yt++){var Ft=ne(st,Fe),Zt=he(st,Fe);if(void 0!==pt[st-=Math.max(-40,Math.min(40,Math.round(Ft/Zt)))])break;pt[st]=yt}return st},Ue=Y(R,X);(function(qe){var Fe=e.direction.getPosition(B);if(void 0===n[B.id]){var st={};c(B,st),n[B.id]=st}var pt=v(n[B.id]),yt=pt[2],Zt=qe-Fe,Ir=0;Zt>0?Ir=Math.min(Zt,pt[3]-e.options.hierarchical.nodeSpacing):Zt<0&&(Ir=-Math.min(-Zt,yt-e.options.hierarchical.nodeSpacing)),0!=Ir&&(e._shiftBlock(B.id,Ir),t=!0)})(Ue),qe=Ue=Y(R,V),Fe=e.direction.getPosition(B),pt=(st=ii(e._getSpaceAroundNode(B),2))[0],Zt=Fe,(Ft=qe-Fe)>0?Zt=Math.min(Fe+(st[1]-e.options.hierarchical.nodeSpacing),qe):Ft<0&&(Zt=Math.max(Fe-(pt-e.options.hierarchical.nodeSpacing),qe)),Zt!==Fe&&(e.direction.setPosition(B,Zt),t=!0)};!0===this.options.hierarchical.blockShifting&&(function(R){var B=e.hierarchical.getLevels();B=Ji(B).call(B);for(var N=0;N<5&&(t=!1,T(O,B,!0),!0===t);N++);}(),function(){for(var R in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,R)&&e._centerParent(e.body.nodes[R])}()),!0===this.options.hierarchical.edgeMinimization&&function(R){var B=e.hierarchical.getLevels();B=Ji(B).call(B);for(var N=0;N<20;N++){t=!1;for(var V=0;V<B.length;V++)for(var W=e.hierarchical.distributionOrdering[B[V]],U=0;U<W.length;U++)D(1e3,W[U]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var R=e.hierarchical.getLevels();R=Ji(R).call(R);for(var B=0;B<R.length;B++)for(var V=e.hierarchical.distributionOrdering[R[B]],Q=0;Q<V.length;Q++)e._centerParent(V[Q])}(),function(){for(var R=function(){for(var R=[],B=0;B<e.hierarchical.numTrees();B++)R.push(e.direction.getTreeSize(B));return R}(),B=0,N=0;N<R.length-1;N++)o(N+1,B+=R[N].max-R[N+1].min+e.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var o=this.hierarchical.levels[e.id];if(void 0!==o){var s=this.hierarchical.distributionIndex[e.id],c=this.direction.getPosition(e),v=this.hierarchical.distributionOrdering[o],m=1e9,T=1e9;if(0!==s){var O=v[s-1];(!0===n&&void 0===t[O.id]||!1===n)&&(m=c-this.direction.getPosition(O))}if(s!=v.length-1){var D=v[s+1];if(!0===n&&void 0===t[D.id]||!1===n){var R=this.direction.getPosition(D);T=Math.min(T,R-c)}}return[m,T]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var o=t[n],s=this.body.nodes[o],c=this.hierarchical.childrenReference[o];if(void 0!==c){var v=this._getCenterPosition(c),m=this.direction.getPosition(s),T=ii(this._getSpaceAroundNode(s),2),O=T[0],D=T[1],R=m-v;(R<0&&Math.abs(R)<D-this.options.hierarchical.nodeSpacing||R>0&&Math.abs(R)<O-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,v)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var n,o=mt(e[t]);o=this._indexArrayToNodes(o),CC(n=this.direction).call(n,o);for(var s=0,c=0;c<o.length;c++){var v=o[c];if(void 0===this.positionedNodes[v.id]){var m=this.options.hierarchical.nodeSpacing,T=m*s;s>0&&(T=this.direction.getPosition(o[c-1])+m),this.direction.setPosition(v,T,t),this._validatePositionAndContinue(v,t,T),s++}}}}},{key:"_placeBranchNodes",value:function(e,t){var n,o=this.hierarchical.childrenReference[e];if(void 0!==o){for(var s=[],c=0;c<o.length;c++)s.push(this.body.nodes[o[c]]);CC(n=this.direction).call(n,s);for(var v=0;v<s.length;v++){var m=s[v],T=this.hierarchical.levels[m.id];if(!(T>t&&void 0===this.positionedNodes[m.id]))return;var D,O=this.options.hierarchical.nodeSpacing;D=0===v?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(s[v-1])+O,this.direction.setPosition(m,D,T),this._validatePositionAndContinue(m,T,D)}var R=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],R,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-o<this.options.hierarchical.nodeSpacing){var s=o+this.options.hierarchical.nodeSpacing-n,c=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(c.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e,t,n={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){var o=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t=this.body.nodes[e],o),void 0===n[o]&&(n[o]={}),n[o][e]=t}return n}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return vt(e.edges,function(o){var s;-1!==kt(s=t.body.edgeIndices).call(s,o.id)&&n.push(o)}),n}},{key:"_getHubSizes",value:function(){var e=this,t={};vt(this.body.nodeIndices,function(o){var c=e._getActiveEdges(e.body.nodes[o]).length;t[c]=!0});var n=[];return vt(t,function(o){n.push(Number(o))}),CC(qy).call(qy,n,function(o,s){return s-o}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(c,v){e.hierarchical.levelDownstream(c,v)},n=this._getHubSizes(),o=function(c){var v=n[c];if(0===v)return"break";vt(e.body.nodeIndices,function(m){v===e._getActiveEdges(e.body.nodes[m]).length&&e._crawlNetwork(t,m)})},s=0;s<n.length&&"break"!==o(s);++s);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,n,o){var s=e.hierarchical.levels[t.id];void 0===s&&(s=e.hierarchical.levels[t.id]=1e5);var c=(In.cloneOptions(t,"node"),In.cloneOptions(n,"node"),void In.cloneOptions(o,"edge"));e.hierarchical.levels[n.id]=s+c}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,o,t=this,n=jT(e=this.body.nodeIndices).call(e,function(o,s){return o.set(s,t.body.nodes[s]),o},new Sr);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?IC(function(s){var c,v;return SC(c=Vi(v=s.edges).call(v,function(m){return o.has(m.toId)})).call(c,function(m){return m.from===s})},function(s,c){return c<s},"to",o=n):function(o){return IC(function(s){var c,v;return SC(c=Vi(v=s.edges).call(v,function(m){return o.has(m.toId)})).call(c,function(m){return m.to===s})},function(s,c){return c>s},"from",o)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,o={},s=function D(R,B){if(void 0===o[R.id]){var N;e.hierarchical.setTreeIndex(R,B),o[R.id]=!0;for(var V=e._getActiveEdges(R),Q=0;Q<V.length;Q++){var W=V[Q];!0===W.connected&&R.id!=(N=W.toId==R.id?W.from:W.to).id&&(t(R,N,W),D(N,B))}}};if(void 0===n)for(var c=0,v=0;v<this.body.nodeIndices.length;v++){var m=this.body.nodeIndices[v];void 0===o[m]&&(s(this.body.nodes[m],c),c+=1)}else{var O=this.body.nodes[n];if(void 0===O)return void console.error("Node not found:",n);s(O)}}},{key:"_shiftBlock",value:function(e,t){var n=this,o={};!function s(c){if(!o[c]){o[c]=!0,n.direction.shift(c,t);var v=n.hierarchical.childrenReference[c];if(void 0!==v)for(var m=0;m<v.length;m++)s(v[m])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,o={};return function s(c,v){var m=n.hierarchical.parentReference[v];if(void 0!==m)for(var T=0;T<m.length;T++){var O=m[T];c[O]=!0,s(c,O)}}(o,e),function s(c,v){var m=n.hierarchical.parentReference[v];if(void 0!==m)for(var T=0;T<m.length;T++){var O=m[T];if(void 0!==c[O])return{foundParent:O,withChild:v};var D=s(c,O);if(null!==D.foundParent)return D}return{foundParent:null,withChild:v}}(o,t)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new mS(this):new WT(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,n=-1e9,o=0;o<e.length;o++){var v=this.direction.getPosition(void 0!==e[o].id?e[o]:this.body.nodes[e[o]]);t=Math.min(t,v),n=Math.max(n,v)}return.5*(t+n)}}]),r}();function UT(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var kS=function(){function r(e,t,n,o){var s,c,v=this;Te(this,r),this.body=e,this.canvas=t,this.selectionHandler=n,this.interactionHandler=o,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},We(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){v._clean()}),this.body.emitter.on("_dataChanged",ye(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ye(c=this._restore).call(c,this))}return Se(r,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:n.locale,this.options.locales=void 0!==t.locales?t.locales:n.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,Ht(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),o=this.selectionHandler.getSelectedEdgeCount(),s=n+o,c=this.options.locales[this.options.locale],v=!1;!1!==this.options.addNode&&(this._createAddNodeButton(c),v=!0),!1!==this.options.addEdge&&(!0===v?this._createSeperator(1):v=!0,this._createAddEdgeButton(c)),1===n&&"function"==typeof this.options.editNode?(!0===v?this._createSeperator(2):v=!0,this._createEditNodeButton(c)):1===o&&0===n&&!1!==this.options.editEdge&&(!0===v?this._createSeperator(3):v=!0,this._createEditEdgeButton(c)),0!==s&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===v&&this._createSeperator(4),this._createDeleteButton(c)),this._bindElementEvents(this.closeDiv,ye(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ye(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ye(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",ye(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=Ht({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,function(o){null!=o&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(o),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,n,o,s;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var c,v=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(v),this._createSeperator(),this._createDescription(v.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ye(c=this.toggleEditMode).call(c,this))}this._temporaryBindUI("onTouch",ye(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ye(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",ye(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ye(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDragStart",ye(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Ot(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ye(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,o,s,c,v=this.body.edges[this.edgeBeingEditedId],m=this._getNewTargetNode(v.from.x,v.from.y),T=this._getNewTargetNode(v.to.x,v.to.y);this.temporaryIds.nodes.push(m.id),this.temporaryIds.nodes.push(T.id),this.body.nodes[m.id]=m,this.body.nodeIndices.push(m.id),this.body.nodes[T.id]=T,this.body.nodeIndices.push(T.id),this._temporaryBindUI("onTouch",ye(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",ye(o=this._controlNodeDragStart).call(o,this)),this._temporaryBindUI("onDrag",ye(s=this._controlNodeDrag).call(s,this)),this._temporaryBindUI("onDragEnd",ye(c=this._controlNodeDragEnd).call(c,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(D){var R=v.edgeType.findBorderPositions(D);!1===m.selected&&(m.x=R.from.x,m.y=R.from.y),!1===T.selected&&(T.x=R.to.x,T.y=R.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var O=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(O.from.id,O.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),o=void 0;if(t.length>0){for(var s=0;s<t.length;s++)if(!0===this.body.nodes[t[s]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var c={nodes:t,edges:n};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(c,function(v){null!=v&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(v.edges),e.body.data.nodes.getDataSet().remove(v.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=Ht({},this.options.controlNodeStyle);n.id="targetNode"+Ky(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var o=this.body.functions.createNode(n);return o.shape.boundingBox={left:e,right:e,top:t,bottom:t},o}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},kr(this.editModeDiv);var n=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ye(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(kr(this.editModeDiv),kr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,n=function TS(r,e){var t=void 0!==Bo&&p(r)||r["@@iterator"];if(!t){if(Pt(r)||(t=function(m,T){var O;if(m){if("string"==typeof m)return UT(m,T);var D=gt(O=Object.prototype.toString.call(m)).call(O,8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return dr(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return UT(m,T)}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(m){throw m},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,v=!1;return{s:function(){t=t.call(r)},n:function(){var m=t.next();return c=m.done,m},e:function(m){v=!0,s=m},f:function(){try{c||null==t.return||t.return()}finally{if(v)throw s}}}}(jn(e=this._domEventListenerCleanupQueue).call(e,0));try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(o){n.e(o)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),kr(this.manipulationDiv),kr(this.editModeDiv),kr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ye(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ye(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ye(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ye(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,o=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,ye(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ye(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=o,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Ju(mt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++)this.body.emitter.off(this.temporaryEventFunctions[e].event,this.temporaryEventFunctions[e].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var n=new Is(e,{});Tw(n,t),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var o=function(s){var c=s.keyCode,v=s.key;"Enter"!==v&&" "!==v&&13!==c&&32!==c||t()};e.addEventListener("keyup",o,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",o,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n,o=kt(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==o&&jn(n=this.body.edgeIndices).call(n,o,1)}for(var s=0;s<this.temporaryIds.nodes.length;s++){var c;delete this.body.nodes[this.temporaryIds.nodes[s]];var v,m=kt(c=this.body.nodeIndices).call(c,this.temporaryIds.nodes[s]);-1!==m&&jn(v=this.body.nodeIndices).call(v,m,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=We({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.selectionHandler._pointerToPositionObject(this.lastTouch),n=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var c=n.isOverlappingWith(t),v=o.isOverlappingWith(t);!0===c?(this.selectedControlNode=n,s.edgeType.from=n):!0===v&&(this.selectedControlNode=o,s.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),c=void 0,v=s.length-1;v>=0;v--)if(s[v]!==this.selectedControlNode.id){c=this.body.nodes[s[v]];break}void 0!==c&&void 0!==this.selectedControlNode?!0===c.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(c.id,o.to.id):this._performEditEdge(o.from.id,c.id):(o.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=We({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var n=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(n.x,n.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var s=this.body.functions.createEdge({id:"connectionEdge"+Ky(),from:n.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(s.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),c=void 0,v=s.length-1;v>=0;v--){var m;if(-1===kt(m=this.temporaryIds.nodes).call(m,s[v])){c=this.body.nodes[s[v]];break}}if(e.controlEdge={from:o,to:c?c.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var T=this.body.nodes[this.temporaryIds.nodes[0]];T.x=this.canvas._XconvertDOMtoCanvas(t.x),T.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(n),c=void 0,v=s.length-1;v>=0;v--){var m;if(-1===kt(m=this.temporaryIds.nodes).call(m,s[v])){c=this.body.nodes[s[v]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==c&&(!0===c.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[c.id]&&this._performAddEdge(o,c.id)),e.controlEdge={from:o,to:c?c.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){this.selectionHandler.generateClickEvent("dragStart",e,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:Ky(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,function(o){null!=o&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(o),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,o={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,function(s){null!=s&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(s),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,o={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if("object"===Ot(s)&&(s=s.editWithoutDrag),"function"==typeof s){if(2!==s.length)throw new Error("The function for edit does not support two arguments (data, callback)");s(o,function(c){null==c||"editEdge"!==n.inMode?(n.body.edges[o.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(c),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),Ee="string",_e="boolean",oe="number",Zy="array",je="object",DC=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],MC={borderWidth:{number:oe},borderWidthSelected:{number:oe,undefined:"undefined"},brokenImage:{string:Ee,undefined:"undefined"},chosen:{label:{boolean:_e,function:"function"},node:{boolean:_e,function:"function"},__type__:{object:je,boolean:_e}},color:{border:{string:Ee},background:{string:Ee},highlight:{border:{string:Ee},background:{string:Ee},__type__:{object:je,string:Ee}},hover:{border:{string:Ee},background:{string:Ee},__type__:{object:je,string:Ee}},__type__:{object:je,string:Ee}},opacity:{number:oe,undefined:"undefined"},fixed:{x:{boolean:_e},y:{boolean:_e},__type__:{object:je,boolean:_e}},font:{align:{string:Ee},color:{string:Ee},size:{number:oe},face:{string:Ee},background:{string:Ee},strokeWidth:{number:oe},strokeColor:{string:Ee},vadjust:{number:oe},multi:{boolean:_e,string:Ee},bold:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},boldital:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},ital:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},mono:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},__type__:{object:je,string:Ee}},group:{string:Ee,number:oe,undefined:"undefined"},heightConstraint:{minimum:{number:oe},valign:{string:Ee},__type__:{object:je,boolean:_e,number:oe}},hidden:{boolean:_e},icon:{face:{string:Ee},code:{string:Ee},size:{number:oe},color:{string:Ee},weight:{string:Ee,number:oe},__type__:{object:je}},id:{string:Ee,number:oe},image:{selected:{string:Ee,undefined:"undefined"},unselected:{string:Ee,undefined:"undefined"},__type__:{object:je,string:Ee}},imagePadding:{top:{number:oe},right:{number:oe},bottom:{number:oe},left:{number:oe},__type__:{object:je,number:oe}},label:{string:Ee,undefined:"undefined"},labelHighlightBold:{boolean:_e},level:{number:oe,undefined:"undefined"},margin:{top:{number:oe},right:{number:oe},bottom:{number:oe},left:{number:oe},__type__:{object:je,number:oe}},mass:{number:oe},physics:{boolean:_e},scaling:{min:{number:oe},max:{number:oe},label:{enabled:{boolean:_e},min:{number:oe},max:{number:oe},maxVisible:{number:oe},drawThreshold:{number:oe},__type__:{object:je,boolean:_e}},customScalingFunction:{function:"function"},__type__:{object:je}},shadow:{enabled:{boolean:_e},color:{string:Ee},size:{number:oe},x:{number:oe},y:{number:oe},__type__:{object:je,boolean:_e}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:_e,array:Zy},borderRadius:{number:oe},interpolation:{boolean:_e},useImageSize:{boolean:_e},useBorderWithImage:{boolean:_e},coordinateOrigin:{string:["center","top-left"]},__type__:{object:je}},size:{number:oe},title:{string:Ee,dom:"dom",undefined:"undefined"},value:{number:oe,undefined:"undefined"},widthConstraint:{minimum:{number:oe},maximum:{number:oe},__type__:{object:je,boolean:_e,number:oe}},x:{number:oe},y:{number:oe},__type__:{object:je}},YT={configure:{enabled:{boolean:_e},filter:{boolean:_e,string:Ee,array:Zy,function:"function"},container:{dom:"dom"},showButton:{boolean:_e},__type__:{object:je,boolean:_e,string:Ee,array:Zy,function:"function"}},edges:{arrows:{to:{enabled:{boolean:_e},scaleFactor:{number:oe},type:{string:DC},imageHeight:{number:oe},imageWidth:{number:oe},src:{string:Ee},__type__:{object:je,boolean:_e}},middle:{enabled:{boolean:_e},scaleFactor:{number:oe},type:{string:DC},imageWidth:{number:oe},imageHeight:{number:oe},src:{string:Ee},__type__:{object:je,boolean:_e}},from:{enabled:{boolean:_e},scaleFactor:{number:oe},type:{string:DC},imageWidth:{number:oe},imageHeight:{number:oe},src:{string:Ee},__type__:{object:je,boolean:_e}},__type__:{string:["from","to","middle"],object:je}},endPointOffset:{from:{number:oe},to:{number:oe},__type__:{object:je,number:oe}},arrowStrikethrough:{boolean:_e},background:{enabled:{boolean:_e},color:{string:Ee},size:{number:oe},dashes:{boolean:_e,array:Zy},__type__:{object:je,boolean:_e}},chosen:{label:{boolean:_e,function:"function"},edge:{boolean:_e,function:"function"},__type__:{object:je,boolean:_e}},color:{color:{string:Ee},highlight:{string:Ee},hover:{string:Ee},inherit:{string:["from","to","both"],boolean:_e},opacity:{number:oe},__type__:{object:je,string:Ee}},dashes:{boolean:_e,array:Zy},font:{color:{string:Ee},size:{number:oe},face:{string:Ee},background:{string:Ee},strokeWidth:{number:oe},strokeColor:{string:Ee},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:oe},multi:{boolean:_e,string:Ee},bold:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},boldital:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},ital:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},mono:{color:{string:Ee},size:{number:oe},face:{string:Ee},mod:{string:Ee},vadjust:{number:oe},__type__:{object:je,string:Ee}},__type__:{object:je,string:Ee}},hidden:{boolean:_e},hoverWidth:{function:"function",number:oe},label:{string:Ee,undefined:"undefined"},labelHighlightBold:{boolean:_e},length:{number:oe,undefined:"undefined"},physics:{boolean:_e},scaling:{min:{number:oe},max:{number:oe},label:{enabled:{boolean:_e},min:{number:oe},max:{number:oe},maxVisible:{number:oe},drawThreshold:{number:oe},__type__:{object:je,boolean:_e}},customScalingFunction:{function:"function"},__type__:{object:je}},selectionWidth:{function:"function",number:oe},selfReferenceSize:{number:oe},selfReference:{size:{number:oe},angle:{number:oe},renderBehindTheNode:{boolean:_e},__type__:{object:je}},shadow:{enabled:{boolean:_e},color:{string:Ee},size:{number:oe},x:{number:oe},y:{number:oe},__type__:{object:je,boolean:_e}},smooth:{enabled:{boolean:_e},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:oe},forceDirection:{string:["horizontal","vertical","none"],boolean:_e},__type__:{object:je,boolean:_e}},title:{string:Ee,undefined:"undefined"},width:{number:oe},widthConstraint:{maximum:{number:oe},__type__:{object:je,boolean:_e,number:oe}},value:{number:oe,undefined:"undefined"},__type__:{object:je}},groups:{useDefaultGroups:{boolean:_e},__any__:MC,__type__:{object:je}},interaction:{dragNodes:{boolean:_e},dragView:{boolean:_e},hideEdgesOnDrag:{boolean:_e},hideEdgesOnZoom:{boolean:_e},hideNodesOnDrag:{boolean:_e},hover:{boolean:_e},keyboard:{enabled:{boolean:_e},speed:{x:{number:oe},y:{number:oe},zoom:{number:oe},__type__:{object:je}},bindToWindow:{boolean:_e},autoFocus:{boolean:_e},__type__:{object:je,boolean:_e}},multiselect:{boolean:_e},navigationButtons:{boolean:_e},selectable:{boolean:_e},selectConnectedEdges:{boolean:_e},hoverConnectedEdges:{boolean:_e},tooltipDelay:{number:oe},zoomView:{boolean:_e},zoomSpeed:{number:oe},__type__:{object:je}},layout:{randomSeed:{undefined:"undefined",number:oe,string:Ee},improvedLayout:{boolean:_e},clusterThreshold:{number:oe},hierarchical:{enabled:{boolean:_e},levelSeparation:{number:oe},nodeSpacing:{number:oe},treeSpacing:{number:oe},blockShifting:{boolean:_e},edgeMinimization:{boolean:_e},parentCentralization:{boolean:_e},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:je,boolean:_e}},__type__:{object:je}},manipulation:{enabled:{boolean:_e},initiallyActive:{boolean:_e},addNode:{boolean:_e,function:"function"},addEdge:{boolean:_e,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:je,boolean:_e,function:"function"}},deleteNode:{boolean:_e,function:"function"},deleteEdge:{boolean:_e,function:"function"},controlNodeStyle:MC,__type__:{object:je,boolean:_e}},nodes:MC,physics:{enabled:{boolean:_e},barnesHut:{theta:{number:oe},gravitationalConstant:{number:oe},centralGravity:{number:oe},springLength:{number:oe},springConstant:{number:oe},damping:{number:oe},avoidOverlap:{number:oe},__type__:{object:je}},forceAtlas2Based:{theta:{number:oe},gravitationalConstant:{number:oe},centralGravity:{number:oe},springLength:{number:oe},springConstant:{number:oe},damping:{number:oe},avoidOverlap:{number:oe},__type__:{object:je}},repulsion:{centralGravity:{number:oe},springLength:{number:oe},springConstant:{number:oe},nodeDistance:{number:oe},damping:{number:oe},__type__:{object:je}},hierarchicalRepulsion:{centralGravity:{number:oe},springLength:{number:oe},springConstant:{number:oe},nodeDistance:{number:oe},damping:{number:oe},avoidOverlap:{number:oe},__type__:{object:je}},maxVelocity:{number:oe},minVelocity:{number:oe},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:_e},iterations:{number:oe},updateInterval:{number:oe},onlyDynamicEdges:{boolean:_e},fit:{boolean:_e},__type__:{object:je,boolean:_e}},timestep:{number:oe},adaptiveTimestep:{boolean:_e},wind:{x:{number:oe},y:{number:oe},__type__:{object:je}},__type__:{object:je,boolean:_e}},autoResize:{boolean:_e},clickToUse:{boolean:_e},locale:{string:Ee},locales:{__any__:{any:"any"},__type__:{object:je}},height:{string:Ee},width:{string:Ee},__type__:{object:je}},FC={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},qT=function(r,e,t){var n;return!(!mr(r).call(r,"physics")||!mr(n=FC.physics.solver).call(n,e)||t.physics.solver===e||"wind"===e)},RC=Object.freeze({__proto__:null,configuratorHideOption:qT,allOptions:YT,configureOptions:FC}),SS=function(){function r(){Te(this,r)}return Se(r,[{key:"getDistances",value:function(e,t,n){for(var o={},s=e.edges,c=0;c<t.length;c++){var v={};o[t[c]]=v;for(var m=0;m<t.length;m++)v[t[m]]=c==m?0:1e9}for(var T=0;T<n.length;T++){var O=s[n[T]];!0===O.connected&&void 0!==o[O.fromId]&&void 0!==o[O.toId]&&(o[O.fromId][O.toId]=1,o[O.toId][O.fromId]=1)}for(var D=t.length,R=0;R<D;R++)for(var B=t[R],N=o[B],V=0;V<D-1;V++)for(var Q=t[V],W=o[Q],U=V+1;U<D;U++){var X=t[U],ue=o[X],re=Math.min(W[X],W[B]+N[X]);W[X]=re,ue[Q]=re}return o}}]),r}(),ES=function(){function r(e,t,n){Te(this,r),this.body=e,this.springLength=t,this.springConstant=n,this.distanceSolver=new SS}return Se(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var s=.01,c=1,v=0,m=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),T=5,O=1e9,D=0,R=0,B=0,N=0,V=0;O>s&&v<m;){v+=1;var W=ii(this._getHighestEnergyNode(n),4);for(D=W[0],R=W[2],B=W[3],N=O=W[1],V=0;N>c&&V<T;){V+=1,this._moveNode(D,R,B);var X=ii(this._getEnergy(D),3);N=X[0],R=X[1],B=X[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,o=0,s=t[0],c=0,v=0,m=0;m<t.length;m++){var T=t[m];if(!0!==n[T].predefinedPosition||!0===n[T].isCluster&&!0===e||!0!==n[T].options.fixed.x||!0!==n[T].options.fixed.y){var O=ii(this._getEnergy(T),3),D=O[0];o<D&&(o=D,s=T,c=O[1],v=O[2])}}return[s,o,c,v]}},{key:"_getEnergy",value:function(e){var t=ii(this.E_sums[e],2),n=t[0],o=t[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),n,o]}},{key:"_moveNode",value:function(e,t,n){for(var o=this.body.nodeIndices,s=this.body.nodes,c=0,v=0,m=0,T=s[e].x,O=s[e].y,D=this.K_matrix[e],R=this.L_matrix[e],B=0;B<o.length;B++){var N=o[B];if(N!==e){var V=s[N].x,Q=s[N].y,W=D[N],U=R[N],X=1/Math.pow(Math.pow(T-V,2)+Math.pow(O-Q,2),1.5);c+=W*(1-U*Math.pow(O-Q,2)*X),v+=W*(U*(T-V)*(O-Q)*X),m+=W*(1-U*Math.pow(T-V,2)*X)}}var ue=(t/c+n/v)/(v/c-m/v);s[e].x+=-(v*ue+t)/c,s[e].y+=ue,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var o=0;o<t.length;o++){this.L_matrix[t[o]]={};for(var s=0;s<t.length;s++)this.L_matrix[t[o]][t[s]]=n*e[t[o]][t[s]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var o=0;o<t.length;o++){this.K_matrix[t[o]]={};for(var s=0;s<t.length;s++)this.K_matrix[t[o]][t[s]]=n*Math.pow(e[t[o]][t[s]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var o=0;o<e.length;o++){for(var s=e[o],c=t[s].x,v=t[s].y,m=0,T=0,O=o;O<e.length;O++){var D=e[O];if(D!==s){var R=t[D].x,B=t[D].y,N=1/Math.sqrt(Math.pow(c-R,2)+Math.pow(v-B,2));this.E_matrix[s][O]=[this.K_matrix[s][D]*(c-R-this.L_matrix[s][D]*(c-R)*N),this.K_matrix[s][D]*(v-B-this.L_matrix[s][D]*(v-B)*N)],this.E_matrix[D][o]=this.E_matrix[s][O],m+=this.E_matrix[s][O][0],T+=this.E_matrix[s][O][1]}}this.E_sums[s]=[m,T]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,o=this.E_matrix[e],s=this.K_matrix[e],c=this.L_matrix[e],v=n[e].x,m=n[e].y,T=0,O=0,D=0;D<t.length;D++){var R=t[D];if(R!==e){var B=o[D],N=B[0],V=B[1],Q=n[R].x,W=n[R].y,U=1/Math.sqrt(Math.pow(v-Q,2)+Math.pow(m-W,2)),X=s[R]*(v-Q-c[R]*(v-Q)*U),ue=s[R]*(m-W-c[R]*(m-W)*U);o[D]=[X,ue],T+=X,O+=ue;var re=this.E_sums[R];re[0]+=X-N,re[1]+=ue-V}}this.E_sums[e]=[T,O]}}]),r}();function Ne(r,e,t){var n,o,s,c,v=this;if(!(this instanceof Ne))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:N0,clickToUse:!1},We(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ye(n=this.on).call(n,this),off:ye(o=this.off).call(o,this),emit:ye(s=this.emit).call(s,this),once:ye(c=this.once).call(c,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new j0(function(){return v.body.emitter.emit("_requestRedraw")}),this.groups=new ow,this.canvas=new Dk(this.body),this.selectionHandler=new kT(this.body,this.canvas),this.interactionHandler=new hT(this.body,this.canvas,this.selectionHandler),this.view=new Mk(this.body,this.canvas),this.renderer=new Ik(this.body,this.canvas),this.physics=new sT(this.body),this.layoutEngine=new CS(this.body),this.clustering=new Ek(this.body),this.manipulation=new kS(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Ny(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new nT(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new ES(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}hh(Ne.prototype),Ne.prototype.setOptions=function(r){var e=this;if(null===r&&(r=void 0),void 0!==r){if(!0===Yo.validate(r,YT)&&console.error("%cErrors have been found in the supplied options object.",uf),rc(["locale","locales","clickToUse"],this.options,r),void 0!==r.locale&&(r.locale=function(n,o){try{var s=ii(o.split(/[-_ /]/,2),2),c=s[0],v=s[1],m=null!=c?c.toLowerCase():null,T=null!=v?v.toUpperCase():null;if(m&&T){var O,D=m+"-"+T;if(Object.prototype.hasOwnProperty.call(n,D))return D;console.warn(Nu(O="Unknown variant ".concat(T," of language ")).call(O,m,"."))}if(m){var R=m;if(Object.prototype.hasOwnProperty.call(n,R))return R;console.warn("Unknown language ".concat(m))}return console.warn("Unknown locale ".concat(o,", falling back to English.")),"en"}catch(B){return console.error(B),console.warn("Unexpected error while normalizing locale ".concat(o,", falling back to English.")),"en"}}(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),void 0!==r.groups&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new cx(this,this.body.container,FC,this.canvas.pixelRatio,qT)),this.configurator.setOptions(r.configure)),this.configurator&&!0===this.configurator.options.enabled){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ht(t.nodes,this.nodesHandler.options),Ht(t.edges,this.edgesHandler.options),Ht(t.layout,this.layoutEngine.options),Ht(t.interaction,this.selectionHandler.options),Ht(t.interaction,this.renderer.options),Ht(t.interaction,this.interactionHandler.options),Ht(t.manipulation,this.manipulation.options),Ht(t.physics,this.physics.options),Ht(t.global,this.canvas.options),Ht(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==r.clickToUse?!0===r.clickToUse?void 0===this.activator&&(this.activator=new E0(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Ne.prototype._updateVisibleIndices=function(){var r=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],r)Object.prototype.hasOwnProperty.call(r,t)&&(this.clustering._isClusteredNode(t)||!1!==r[t].options.hidden||this.body.nodeIndices.push(r[t].id));for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n],s=r[o.fromId],c=r[o.toId],v=void 0!==s&&void 0!==c;!this.clustering._isClusteredEdge(n)&&!1===o.options.hidden&&v&&!1===s.options.hidden&&!1===c.options.hidden&&this.body.edgeIndices.push(o.id)}},Ne.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})},Ne.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=hy(r.dot);this.setData(e)}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=py(r.gephi);this.setData(t)}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Ne.prototype.destroy=function(){for(var r in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&delete this.body.nodes[r];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];kr(this.body.container)},Ne.prototype._updateValueRange=function(r){var e,t=void 0,n=void 0,o=0;for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var s=r[e].getValue();void 0!==s&&(t=void 0===t?s:Math.min(s,t),n=void 0===n?s:Math.max(s,n),o+=s)}if(void 0!==t&&void 0!==n)for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&r[e].setValueRange(t,n,o)},Ne.prototype.isActive=function(){return!this.activator||this.activator.active},Ne.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Ne.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Ne.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Ne.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Ne.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Ne.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Ne.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Ne.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Ne.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Ne.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Ne.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Ne.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Ne.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Ne.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Ne.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Ne.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Ne.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Ne.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Ne.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Ne.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Ne.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Ne.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Ne.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Ne.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Ne.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Ne.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Ne.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Ne.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Ne.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Ne.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Ne.prototype.getConnectedNodes=function(r){return void 0!==this.body.nodes[r]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Ne.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Ne.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Ne.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Ne.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Ne.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Ne.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Ne.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Ne.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Ne.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==r&&void 0!==r.id?r.id:r},Ne.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==r&&void 0!==r.id?r.id:r},Ne.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Ne.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Ne.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Ne.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Ne.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Ne.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Ne.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Ne.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Ne.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Ne.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Ne.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};var OS=hy;we.Network=Ne,we.NetworkImages=j0,we.networkDOTParser=px,we.networkGephiParser=$0,we.networkOptions=RC,we.parseDOTNetwork=OS,we.parseGephiNetwork=py,Object.defineProperty(we,"__esModule",{value:!0})}(Rd,ft(6770))}}]);