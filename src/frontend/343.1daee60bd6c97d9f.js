(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[343],{7343:(XC,Pc,Ke)=>{"use strict";Ke.r(Pc),Ke.d(Pc,{NetworkModule:()=>ud});var Ge=Ke(6895),yi=Ke(433),ga=Ke(9965),xt=Ke(805),Q=Ke(1914),_e=Ke(1282),Nn=Ke(2340),m=Ke(8274),zl=Ke(529);let ma=(()=>{class C{constructor(a){this.http=a,this.url=Nn.N.host+"classes"}list(){return this.http.get(this.url)}}return C.\u0275fac=function(a){return new(a||C)(m.LFG(zl.eN))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac}),C})();const ys=["visNetwork"];let Xi=(()=>{class C{constructor(a,y){this.networkService=a,this.messageService=y,this.networkInstance={},this.networkList=[]}ngOnInit(){}ngAfterViewInit(){this.listNetwork()}listNetwork(){this.networkService.list().subscribe({next:a=>{this.networkList=a;let y=[];this.networkList.forEach(tt=>{let lt={};lt.id=tt.name,lt.label=tt.name,lt.shape="box",y.push(lt)});const w=new Q.DataSet(y);let T=[];this.networkList.forEach(tt=>{tt.dependencies.forEach(lt=>{let Ut={};Ut.from=tt.name,Ut.to=lt.name,T.push(Ut)})});const ee=new Q.DataSet(T);this.networkInstance=new _e.Network(this.visNetwork.nativeElement,{nodes:w,edges:ee},{layout:{hierarchical:{direction:"UD",sortMethod:"directed"}},physics:{hierarchicalRepulsion:{avoidOverlap:.1}}})},error:a=>{console.log(a),this.messageService.add({severity:"error",summary:"Error",detail:"Erro on load IRIS network."})}})}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(ma),m.Y36(xt.ez))},C.\u0275cmp=m.Xpm({type:C,selectors:[["ng-component"]],viewQuery:function(a,y){if(1&a&&m.Gf(ys,5),2&a){let w;m.iGM(w=m.CRH())&&(y.visNetwork=w.first)}},features:[m._Bn([xt.ez,ma])],decls:4,vars:0,consts:[[1,"grid"],[1,"col-12"],["id","visNetwork",2,"height","560px"],["visNetwork",""]],template:function(a,y){1&a&&(m.TgZ(0,"div",0)(1,"div",1),m._UZ(2,"div",2,3),m.qZA()())},encapsulation:2}),C})(),hr=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[ga.Bz.forChild([{path:"",component:Xi}]),ga.Bz]}),C})();var fr=Ke(5593),di=Ke(7340),Ne=Ke(9592),pr=Ke(1795),Ee=Ke(982);const De=["container"],Ot=["inputfield"],Qe=["contentWrapper"];function hf(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"i",8),m.NdJ("click",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.clear())}),m.qZA()}}function $t(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",9),m.NdJ("click",function(w){m.CHM(a),m.oxw();const T=m.MAs(1),ee=m.oxw();return m.KtG(ee.onButtonClick(w,T))}),m.qZA()}if(2&C){const a=m.oxw(2);m.Q6J("icon",a.icon)("disabled",a.disabled),m.uIk("aria-label",a.iconAriaLabel)}}function Qt(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"input",4,5),m.NdJ("focus",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onInputFocus(w))})("keydown",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onInputKeydown(w))})("click",function(){m.CHM(a);const w=m.oxw();return m.KtG(w.onInputClick())})("blur",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onInputBlur(w))})("input",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onUserInput(w))}),m.qZA(),m.YNc(2,hf,1,0,"i",6),m.YNc(3,$t,1,3,"button",7)}if(2&C){const a=m.oxw();m.Tol(a.inputStyleClass),m.Q6J("value",a.inputFieldValue)("readonly",a.readonlyInput)("ngStyle",a.inputStyle)("placeholder",a.placeholder||"")("disabled",a.disabled)("ngClass","p-inputtext p-component"),m.uIk("id",a.inputId)("name",a.name)("required",a.required)("aria-required",a.required)("tabindex",a.tabindex)("inputmode",a.touchUI?"off":null)("aria-labelledby",a.ariaLabelledBy),m.xp6(2),m.Q6J("ngIf",a.showClear&&!a.disabled&&null!=a.value),m.xp6(1),m.Q6J("ngIf",a.showIcon)}}function Qi(C,$){1&C&&m.GkF(0)}function en(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",30),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.onPrevButtonClick(w))}),m._UZ(1,"span",31),m.qZA()}}function Kr(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",32),m.NdJ("click",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.switchToMonthView(w))})("keydown",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.onContainerButtonKeydown(w))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.Q6J("disabled",y.switchViewButtonDisabled()),m.xp6(1),m.hij(" ",y.getMonthName(a.month)," ")}}function Rc(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",33),m.NdJ("click",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.switchToYearView(w))})("keydown",function(w){m.CHM(a);const T=m.oxw(4);return m.KtG(T.onContainerButtonKeydown(w))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.Q6J("disabled",y.switchViewButtonDisabled()),m.xp6(1),m.hij(" ",y.getYear(a)," ")}}function bi(C,$){if(1&C&&(m.ynx(0),m._uU(1),m.BQk()),2&C){const a=m.oxw(5);m.xp6(1),m.AsE("",a.yearPickerValues()[0]," - ",a.yearPickerValues()[a.yearPickerValues().length-1],"")}}function Gr(C,$){1&C&&m.GkF(0)}const Pi=function(C){return{$implicit:C}};function bs(C,$){if(1&C&&(m.TgZ(0,"span",34),m.YNc(1,bi,2,2,"ng-container",13),m.YNc(2,Gr,1,0,"ng-container",35),m.qZA()),2&C){const a=m.oxw(4);m.xp6(1),m.Q6J("ngIf",!a.decadeTemplate),m.xp6(1),m.Q6J("ngTemplateOutlet",a.decadeTemplate)("ngTemplateOutletContext",m.VKq(3,Pi,a.yearPickerValues))}}function ff(C,$){if(1&C&&(m.TgZ(0,"th",41)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=m.oxw(5);m.xp6(2),m.Oqu(a.getTranslation("weekHeader"))}}function pf(C,$){if(1&C&&(m.TgZ(0,"th",42)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=$.$implicit;m.xp6(2),m.Oqu(a)}}function ni(C,$){if(1&C&&(m.TgZ(0,"td",45)(1,"span",46),m._uU(2),m.qZA()()),2&C){const a=m.oxw().index,y=m.oxw(2).$implicit;m.xp6(2),m.hij(" ",y.weekNumbers[a]," ")}}function vf(C,$){if(1&C&&(m.ynx(0),m._uU(1),m.BQk()),2&C){const a=m.oxw(2).$implicit;m.xp6(1),m.Oqu(a.day)}}function gf(C,$){1&C&&m.GkF(0)}const Fc=function(C,$){return{"p-highlight":C,"p-disabled":$}};function ya(C,$){if(1&C){const a=m.EpF();m.ynx(0),m.TgZ(1,"span",48),m.NdJ("click",function(w){m.CHM(a);const T=m.oxw().$implicit,ee=m.oxw(6);return m.KtG(ee.onDateSelect(w,T))})("keydown",function(w){m.CHM(a);const T=m.oxw().$implicit,ee=m.oxw(3).index,ne=m.oxw(3);return m.KtG(ne.onDateCellKeydown(w,T,ee))}),m.YNc(2,vf,2,1,"ng-container",13),m.YNc(3,gf,1,0,"ng-container",35),m.qZA(),m.BQk()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(6);m.xp6(1),m.Q6J("ngClass",m.WLB(4,Fc,y.isSelected(a),!a.selectable)),m.xp6(1),m.Q6J("ngIf",!y.dateTemplate),m.xp6(1),m.Q6J("ngTemplateOutlet",y.dateTemplate)("ngTemplateOutletContext",m.VKq(7,Pi,a))}}const jl=function(C,$){return{"p-datepicker-other-month":C,"p-datepicker-today":$}};function Ur(C,$){if(1&C&&(m.TgZ(0,"td",47),m.YNc(1,ya,4,9,"ng-container",13),m.qZA()),2&C){const a=$.$implicit,y=m.oxw(6);m.Q6J("ngClass",m.WLB(2,jl,a.otherMonth,a.today)),m.xp6(1),m.Q6J("ngIf",!a.otherMonth||y.showOtherMonths)}}function _s(C,$){if(1&C&&(m.TgZ(0,"tr"),m.YNc(1,ni,3,1,"td",43),m.YNc(2,Ur,2,5,"td",44),m.qZA()),2&C){const a=$.$implicit,y=m.oxw(5);m.xp6(1),m.Q6J("ngIf",y.showWeek),m.xp6(1),m.Q6J("ngForOf",a)}}function zn(C,$){if(1&C&&(m.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),m.YNc(4,ff,3,1,"th",38),m.YNc(5,pf,3,1,"th",39),m.qZA()(),m.TgZ(6,"tbody"),m.YNc(7,_s,3,2,"tr",40),m.qZA()()()),2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.xp6(4),m.Q6J("ngIf",y.showWeek),m.xp6(1),m.Q6J("ngForOf",y.weekDays),m.xp6(2),m.Q6J("ngForOf",a.dates)}}function mf(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",20)(1,"div",21),m.YNc(2,en,2,0,"button",22),m.TgZ(3,"div",23),m.YNc(4,Kr,2,2,"button",24),m.YNc(5,Rc,2,2,"button",25),m.YNc(6,bs,3,5,"span",26),m.qZA(),m.TgZ(7,"button",27),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onNextButtonClick(w))}),m._UZ(8,"span",28),m.qZA()(),m.YNc(9,zn,8,3,"div",29),m.qZA()}if(2&C){const a=$.index,y=m.oxw(3);m.xp6(2),m.Q6J("ngIf",0===a),m.xp6(2),m.Q6J("ngIf","date"===y.currentView),m.xp6(1),m.Q6J("ngIf","year"!==y.currentView),m.xp6(1),m.Q6J("ngIf","year"===y.currentView),m.xp6(1),m.Udp("display",1===y.numberOfMonths||a===y.numberOfMonths-1?"inline-flex":"none"),m.xp6(2),m.Q6J("ngIf","date"===y.currentView)}}function ba(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"span",51),m.NdJ("click",function(w){const ee=m.CHM(a).index,ne=m.oxw(4);return m.KtG(ne.onMonthSelect(w,ee))})("keydown",function(w){const ee=m.CHM(a).index,ne=m.oxw(4);return m.KtG(ne.onMonthCellKeydown(w,ee))}),m._uU(1),m.qZA()}if(2&C){const a=$.$implicit,y=$.index,w=m.oxw(4);m.Q6J("ngClass",m.WLB(2,Fc,w.isMonthSelected(y),w.isMonthDisabled(y))),m.xp6(1),m.hij(" ",a," ")}}function Kt(C,$){if(1&C&&(m.TgZ(0,"div",49),m.YNc(1,ba,2,5,"span",50),m.qZA()),2&C){const a=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",a.monthPickerValues())}}const yf=function(C){return{"p-highlight":C}};function Ye(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"span",54),m.NdJ("click",function(w){const ee=m.CHM(a).$implicit,ne=m.oxw(4);return m.KtG(ne.onYearSelect(w,ee))})("keydown",function(w){const ee=m.CHM(a).$implicit,ne=m.oxw(4);return m.KtG(ne.onYearCellKeydown(w,ee))}),m._uU(1),m.qZA()}if(2&C){const a=$.$implicit,y=m.oxw(4);m.Q6J("ngClass",m.VKq(2,yf,y.isYearSelected(a))),m.xp6(1),m.hij(" ",a," ")}}function Fe(C,$){if(1&C&&(m.TgZ(0,"div",52),m.YNc(1,Ye,2,4,"span",53),m.qZA()),2&C){const a=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",a.yearPickerValues())}}function ri(C,$){if(1&C&&(m.ynx(0),m.TgZ(1,"div",16),m.YNc(2,mf,10,7,"div",17),m.qZA(),m.YNc(3,Kt,2,1,"div",18),m.YNc(4,Fe,2,1,"div",19),m.BQk()),2&C){const a=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",a.months),m.xp6(1),m.Q6J("ngIf","month"===a.currentView),m.xp6(1),m.Q6J("ngIf","year"===a.currentView)}}function yt(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function Hl(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function _a(C,$){if(1&C&&(m.TgZ(0,"div",60)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=m.oxw(3);m.xp6(2),m.Oqu(a.timeSeparator)}}function hi(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function et(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",65)(1,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.incrementSecond(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.incrementSecond(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseDown(w,2,1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(3);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(2,"span",58),m.qZA(),m.TgZ(3,"span"),m.YNc(4,hi,2,0,"ng-container",13),m._uU(5),m.qZA(),m.TgZ(6,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.decrementSecond(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.decrementSecond(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseDown(w,2,-1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(3);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(7,"span",59),m.qZA()()}if(2&C){const a=m.oxw(3);m.xp6(4),m.Q6J("ngIf",a.currentSecond<10),m.xp6(1),m.Oqu(a.currentSecond)}}function fi(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",66)(1,"button",67),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.toggleAMPM(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.toggleAMPM(w))}),m._UZ(2,"span",58),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.qZA(),m.TgZ(5,"button",67),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.toggleAMPM(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(3);return m.KtG(T.toggleAMPM(w))}),m._UZ(6,"span",59),m.qZA()()}if(2&C){const a=m.oxw(3);m.xp6(4),m.Oqu(a.pm?"PM":"AM")}}function Vl(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",55)(1,"div",56)(2,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.incrementHour(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.incrementHour(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseDown(w,0,1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(3,"span",58),m.qZA(),m.TgZ(4,"span"),m.YNc(5,yt,2,0,"ng-container",13),m._uU(6),m.qZA(),m.TgZ(7,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.decrementHour(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.decrementHour(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseDown(w,0,-1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(8,"span",59),m.qZA()(),m.TgZ(9,"div",60)(10,"span"),m._uU(11),m.qZA()(),m.TgZ(12,"div",61)(13,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.incrementMinute(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.incrementMinute(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseDown(w,1,1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(14,"span",58),m.qZA(),m.TgZ(15,"span"),m.YNc(16,Hl,2,0,"ng-container",13),m._uU(17),m.qZA(),m.TgZ(18,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.decrementMinute(w))})("keydown.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.decrementMinute(w))})("mousedown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseDown(w,1,-1))})("mouseup",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(19,"span",59),m.qZA()(),m.YNc(20,_a,3,1,"div",62),m.YNc(21,et,8,2,"div",63),m.YNc(22,fi,7,1,"div",64),m.qZA()}if(2&C){const a=m.oxw(2);m.xp6(5),m.Q6J("ngIf",a.currentHour<10),m.xp6(1),m.Oqu(a.currentHour),m.xp6(5),m.Oqu(a.timeSeparator),m.xp6(5),m.Q6J("ngIf",a.currentMinute<10),m.xp6(1),m.Oqu(a.currentMinute),m.xp6(3),m.Q6J("ngIf",a.showSeconds),m.xp6(1),m.Q6J("ngIf",a.showSeconds),m.xp6(1),m.Q6J("ngIf","12"==a.hourFormat)}}const Lt=function(C){return[C]};function Wl(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",68)(1,"button",69),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onTodayButtonClick(w))}),m.qZA(),m.TgZ(2,"button",69),m.NdJ("keydown",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const T=m.oxw(2);return m.KtG(T.onClearButtonClick(w))}),m.qZA()()}if(2&C){const a=m.oxw(2);m.xp6(1),m.Q6J("label",a.getTranslation("today"))("ngClass",m.VKq(4,Lt,a.todayButtonStyleClass)),m.xp6(1),m.Q6J("label",a.getTranslation("clear"))("ngClass",m.VKq(6,Lt,a.clearButtonStyleClass))}}function Yr(C,$){1&C&&m.GkF(0)}const ws=function(C,$,a,y,w,T){return{"p-datepicker p-component":!0,"p-datepicker-inline":C,"p-disabled":$,"p-datepicker-timeonly":a,"p-datepicker-multiple-month":y,"p-datepicker-monthpicker":w,"p-datepicker-touch-ui":T}},$o=function(C,$){return{showTransitionParams:C,hideTransitionParams:$}},_n=function(C){return{value:"visibleTouchUI",params:C}},xs=function(C){return{value:"visible",params:C}};function Ac(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",10,11),m.NdJ("@overlayAnimation.start",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onOverlayAnimationStart(w))})("@overlayAnimation.done",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onOverlayAnimationDone(w))})("click",function(w){m.CHM(a);const T=m.oxw();return m.KtG(T.onOverlayClick(w))}),m.Hsn(2),m.YNc(3,Qi,1,0,"ng-container",12),m.YNc(4,ri,5,3,"ng-container",13),m.YNc(5,Vl,23,8,"div",14),m.YNc(6,Wl,3,8,"div",15),m.Hsn(7,1),m.YNc(8,Yr,1,0,"ng-container",12),m.qZA()}if(2&C){const a=m.oxw();m.Tol(a.panelStyleClass),m.Q6J("ngStyle",a.panelStyle)("ngClass",m.HTZ(11,ws,a.inline,a.disabled,a.timeOnly,a.numberOfMonths>1,"month"===a.view,a.touchUI))("@overlayAnimation",a.touchUI?m.VKq(21,_n,m.WLB(18,$o,a.showTransitionOptions,a.hideTransitionOptions)):m.VKq(26,xs,m.WLB(23,$o,a.showTransitionOptions,a.hideTransitionOptions)))("@.disabled",!0===a.inline),m.xp6(3),m.Q6J("ngTemplateOutlet",a.headerTemplate),m.xp6(1),m.Q6J("ngIf",!a.timeOnly),m.xp6(1),m.Q6J("ngIf",(a.showTime||a.timeOnly)&&"date"===a.currentView),m.xp6(1),m.Q6J("ngIf",a.showButtonBar),m.xp6(2),m.Q6J("ngTemplateOutlet",a.footerTemplate)}}const Lo=[[["p-header"]],[["p-footer"]]],Ni=function(C,$,a,y){return{"p-calendar":!0,"p-calendar-w-btn":C,"p-calendar-timeonly":$,"p-calendar-disabled":a,"p-focus":y}},ks=["p-header","p-footer"],wa={provide:yi.JU,useExisting:(0,m.Gpc)(()=>$c),multi:!0};let $c=(()=>{class C{constructor(a,y,w,T,ee,ne){this.el=a,this.renderer=y,this.cd=w,this.zone=T,this.config=ee,this.overlayService=ne,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new m.vpe,this.onBlur=new m.vpe,this.onClose=new m.vpe,this.onSelect=new m.vpe,this.onClear=new m.vpe,this.onInput=new m.vpe,this.onTodayClick=new m.vpe,this.onClearClick=new m.vpe,this.onMonthChange=new m.vpe,this.onYearChange=new m.vpe,this.onClickOutside=new m.vpe,this.onShow=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(ge,He){return"12"==this.hourFormat?12===ge?He?12:0:He?ge+12:ge:ge}}set content(a){this.contentViewChild=a,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(a){this._view=a,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(a){if(this._defaultDate=a,this.initialized){const y=a||new Date;this.currentMonth=y.getMonth(),this.currentYear=y.getFullYear(),this.initTime(y),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(a){this._minDate=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(a){this._disabledDates=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(a){this._disabledDays=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(a){if(this._yearRange=a,a){const y=a.split(":"),w=parseInt(y[0]),T=parseInt(y[1]);this.populateYearOptions(w,T)}}get showTime(){return this._showTime}set showTime(a){this._showTime=a,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(a){this._responsiveOptions=a,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(a){this._numberOfMonths=a,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(a){this._firstDayOfWeek=a,this.createWeekDays()}set locale(a){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,Ee.Th)();const a=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=a.getMonth(),this.currentYear=a.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(a),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(a=>{switch(a.getType()){case"date":default:this.dateTemplate=a.template;break;case"decade":this.decadeTemplate=a.template;break;case"disabledDate":this.disabledDateTemplate=a.template;break;case"header":this.headerTemplate=a.template;break;case"footer":this.footerTemplate=a.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=Ne.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(a){return this.config.getTranslation(a)}populateYearOptions(a,y){this.yearOptions=[];for(let w=a;w<=y;w++)this.yearOptions.push(w)}createWeekDays(){this.weekDays=[];let a=this.getFirstDateOfWeek(),y=this.getTranslation(xt.ws.DAY_NAMES_MIN);for(let w=0;w<7;w++)this.weekDays.push(y[a]),a=6==a?0:++a}monthPickerValues(){let a=[];for(let y=0;y<=11;y++)a.push(this.config.getTranslation("monthNamesShort")[y]);return a}yearPickerValues(){let a=[],y=this.currentYear-this.currentYear%10;for(let w=0;w<10;w++)a.push(y+w);return a}createMonths(a,y){this.months=this.months=[];for(let w=0;w<this.numberOfMonths;w++){let T=a+w,ee=y;T>11&&(T=T%11-1,ee=y+1),this.months.push(this.createMonth(T,ee))}}getWeekNumber(a){let y=new Date(a.getTime());y.setDate(y.getDate()+4-(y.getDay()||7));let w=y.getTime();return y.setMonth(0),y.setDate(1),Math.floor(Math.round((w-y.getTime())/864e5)/7)+1}createMonth(a,y){let w=[],T=this.getFirstDayOfMonthIndex(a,y),ee=this.getDaysCountInMonth(a,y),ne=this.getDaysCountInPrevMonth(a,y),ge=1,He=new Date,tt=[],lt=Math.ceil((ee+T)/7);for(let Ut=0;Ut<lt;Ut++){let Dt=[];if(0==Ut){for(let Mt=ne-T+1;Mt<=ne;Mt++){let zi=this.getPreviousMonthAndYear(a,y);Dt.push({day:Mt,month:zi.month,year:zi.year,otherMonth:!0,today:this.isToday(He,Mt,zi.month,zi.year),selectable:this.isSelectable(Mt,zi.month,zi.year,!0)})}let Yt=7-Dt.length;for(let Mt=0;Mt<Yt;Mt++)Dt.push({day:ge,month:a,year:y,today:this.isToday(He,ge,a,y),selectable:this.isSelectable(ge,a,y,!1)}),ge++}else for(let Yt=0;Yt<7;Yt++){if(ge>ee){let Mt=this.getNextMonthAndYear(a,y);Dt.push({day:ge-ee,month:Mt.month,year:Mt.year,otherMonth:!0,today:this.isToday(He,ge-ee,Mt.month,Mt.year),selectable:this.isSelectable(ge-ee,Mt.month,Mt.year,!0)})}else Dt.push({day:ge,month:a,year:y,today:this.isToday(He,ge,a,y),selectable:this.isSelectable(ge,a,y,!1)});ge++}this.showWeek&&tt.push(this.getWeekNumber(new Date(Dt[0].year,Dt[0].month,Dt[0].day))),w.push(Dt)}return{month:a,year:y,dates:w,weekNumbers:tt}}initTime(a){this.pm=a.getHours()>11,this.showTime?(this.currentMinute=a.getMinutes(),this.currentSecond=a.getSeconds(),this.setCurrentHourPM(a.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(a){this.disabled?a.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(a){this.disabled?a.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let a=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-a,this.yearOptions[this.yearOptions.length-1]-a)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let a=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+a,this.yearOptions[this.yearOptions.length-1]+a)}}switchToMonthView(a){this.setCurrentView("month"),a.preventDefault()}switchToYearView(a){this.setCurrentView("year"),a.preventDefault()}onDateSelect(a,y){!this.disabled&&y.selectable?(this.isMultipleSelection()&&this.isSelected(y)?(this.value=this.value.filter((w,T)=>!this.isDateEquals(w,y)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(y)&&this.selectDate(y),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{a.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),a.preventDefault()):a.preventDefault()}shouldSelectDate(a){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(a,y){"month"===this.view?this.onDateSelect(a,{year:this.currentYear,month:y,day:1,selectable:!0}):(this.currentMonth=y,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(a,y){"year"===this.view?this.onDateSelect(a,{year:y,month:0,day:1,selectable:!0}):(this.currentYear=y,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let a="";if(this.value)if(this.isSingleSelection())a=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let y=0;y<this.value.length;y++)a+=this.formatDateTime(this.value[y]),y!==this.value.length-1&&(a+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let w=this.value[1];a=this.formatDateTime(this.value[0]),w&&(a+=" "+this.rangeSeparator+" "+this.formatDateTime(w))}this.inputFieldValue=a,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(a){let y=this.keepInvalid?a:null;return this.isValidDate(a)&&(this.timeOnly?y=this.formatTime(a):(y=this.formatDate(a,this.getDateFormat()),this.showTime&&(y+=" "+this.formatTime(a)))),y}setCurrentHourPM(a){"12"==this.hourFormat?(this.pm=a>11,this.currentHour=a>=12?12==a?12:a-12:0==a?12:a):this.currentHour=a}setCurrentView(a){this.currentView=a,this.cd.detectChanges(),this.alignOverlay()}selectDate(a){let y=new Date(a.year,a.month,a.day);if(this.showTime&&(y.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),y.setMinutes(this.currentMinute),y.setSeconds(this.currentSecond)),this.minDate&&this.minDate>y&&(y=this.minDate,this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds()),this.maxDate&&this.maxDate<y&&(y=this.maxDate,this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds()),this.isSingleSelection())this.updateModel(y);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,y]:[y]);else if(this.isRangeSelection())if(this.value&&this.value.length){let w=this.value[0],T=this.value[1];!T&&y.getTime()>=w.getTime()?T=y:(w=y,T=null),this.updateModel([w,T])}else this.updateModel([y,null]);this.onSelect.emit(y)}updateModel(a){if(this.value=a,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let y=null;this.value&&(y=this.value.map(w=>this.formatDateTime(w))),this.onModelChange(y)}}getFirstDayOfMonthIndex(a,y){let w=new Date;w.setDate(1),w.setMonth(a),w.setFullYear(y);let T=w.getDay()+this.getSundayIndex();return T>=7?T-7:T}getDaysCountInMonth(a,y){return 32-this.daylightSavingAdjust(new Date(y,a,32)).getDate()}getDaysCountInPrevMonth(a,y){let w=this.getPreviousMonthAndYear(a,y);return this.getDaysCountInMonth(w.month,w.year)}getPreviousMonthAndYear(a,y){let w,T;return 0===a?(w=11,T=y-1):(w=a-1,T=y),{month:w,year:T}}getNextMonthAndYear(a,y){let w,T;return 11===a?(w=0,T=y+1):(w=a+1,T=y),{month:w,year:T}}getSundayIndex(){let a=this.getFirstDateOfWeek();return a>0?7-a:0}isSelected(a){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,a);if(this.isMultipleSelection()){let y=!1;for(let w of this.value)if(y=this.isDateEquals(w,a),y)break;return y}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],a)||this.isDateEquals(this.value[1],a)||this.isDateBetween(this.value[0],this.value[1],a):this.isDateEquals(this.value[0],a):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(a){if(this.isComparable()&&!this.isMultipleSelection()){const[y,w]=this.isRangeSelection()?this.value:[this.value,this.value],T=new Date(this.currentYear,a,1);return T>=y&&T<=(w??y)}return!1}isMonthDisabled(a){for(let y=1;y<this.getDaysCountInMonth(a,this.currentYear)+1;y++)if(this.isSelectable(y,a,this.currentYear,!1))return!1;return!0}isYearSelected(a){if(this.isComparable()){let y=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&y.getFullYear()===a}return!1}isDateEquals(a,y){return!!(a&&a instanceof Date)&&a.getDate()===y.day&&a.getMonth()===y.month&&a.getFullYear()===y.year}isDateBetween(a,y,w){if(a&&y){let ee=new Date(w.year,w.month,w.day);return a.getTime()<=ee.getTime()&&y.getTime()>=ee.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(a,y,w,T){return a.getDate()===y&&a.getMonth()===w&&a.getFullYear()===T}isSelectable(a,y,w,T){let ee=!0,ne=!0,ge=!0,He=!0;return!(T&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>w||this.minDate.getFullYear()===w&&(this.minDate.getMonth()>y||this.minDate.getMonth()===y&&this.minDate.getDate()>a))&&(ee=!1),this.maxDate&&(this.maxDate.getFullYear()<w||this.maxDate.getFullYear()===w&&(this.maxDate.getMonth()<y||this.maxDate.getMonth()===y&&this.maxDate.getDate()<a))&&(ne=!1),this.disabledDates&&(ge=!this.isDateDisabled(a,y,w)),this.disabledDays&&(He=!this.isDayDisabled(a,y,w)),ee&&ne&&ge&&He)}isDateDisabled(a,y,w){if(this.disabledDates)for(let T of this.disabledDates)if(T.getFullYear()===w&&T.getMonth()===y&&T.getDate()===a)return!0;return!1}isDayDisabled(a,y,w){if(this.disabledDays){let ee=new Date(w,y,a).getDay();return-1!==this.disabledDays.indexOf(ee)}return!1}onInputFocus(a){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(a)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(a){this.focus=!1,this.onBlur.emit(a),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(a,y){this.overlayVisible?this.hideOverlay():(y.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(a){this.overlayService.add({originalEvent:a,target:this.el.nativeElement})}getMonthName(a){return this.config.getTranslation("monthNames")[a]}getYear(a){return"month"===this.currentView?this.currentYear:a.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(a){this.navigationState={backward:!0,button:!0},this.navBackward(a)}onNextButtonClick(a){this.navigationState={backward:!1,button:!0},this.navForward(a)}onContainerButtonKeydown(a){switch(a.which){case 9:this.inline||this.trapFocus(a);break;case 27:this.overlayVisible=!1,a.preventDefault()}}onInputKeydown(a){this.isKeydown=!0,40===a.keyCode&&this.contentViewChild?this.trapFocus(a):27===a.keyCode||13===a.keyCode?this.overlayVisible&&(this.overlayVisible=!1,a.preventDefault()):9===a.keyCode&&this.contentViewChild&&(Ne.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(y=>y.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(a,y,w){const T=a.currentTarget,ee=T.parentElement;switch(a.which){case 40:{T.tabIndex="-1";let ne=Ne.p.index(ee),ge=ee.parentElement.nextElementSibling;ge?Ne.p.hasClass(ge.children[ne].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(a)):(ge.children[ne].children[0].tabIndex="0",ge.children[ne].children[0].focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 38:{T.tabIndex="-1";let ne=Ne.p.index(ee),ge=ee.parentElement.previousElementSibling;if(ge){let He=ge.children[ne].children[0];Ne.p.hasClass(He,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(a)):(He.tabIndex="0",He.focus())}else this.navigationState={backward:!0},this.navBackward(a);a.preventDefault();break}case 37:{T.tabIndex="-1";let ne=ee.previousElementSibling;if(ne){let ge=ne.children[0];Ne.p.hasClass(ge,"p-disabled")||Ne.p.hasClass(ge.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,w):(ge.tabIndex="0",ge.focus())}else this.navigateToMonth(!0,w);a.preventDefault();break}case 39:{T.tabIndex="-1";let ne=ee.nextElementSibling;if(ne){let ge=ne.children[0];Ne.p.hasClass(ge,"p-disabled")?this.navigateToMonth(!1,w):(ge.tabIndex="0",ge.focus())}else this.navigateToMonth(!1,w);a.preventDefault();break}case 13:case 32:this.onDateSelect(a,y),a.preventDefault();break;case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.inline||this.trapFocus(a)}}onMonthCellKeydown(a,y){const w=a.currentTarget;switch(a.which){case 38:case 40:{w.tabIndex="-1";var T=w.parentElement.children,ee=Ne.p.index(w);let ne=T[40===a.which?ee+3:ee-3];ne&&(ne.tabIndex="0",ne.focus()),a.preventDefault();break}case 37:{w.tabIndex="-1";let ne=w.previousElementSibling;ne?(ne.tabIndex="0",ne.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case 39:{w.tabIndex="-1";let ne=w.nextElementSibling;ne?(ne.tabIndex="0",ne.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 13:this.onMonthSelect(a,y),a.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.inline||this.trapFocus(a)}}onYearCellKeydown(a,y){const w=a.currentTarget;switch(a.which){case 38:case 40:{w.tabIndex="-1";var T=w.parentElement.children,ee=Ne.p.index(w);let ne=T[40===a.which?ee+2:ee-2];ne&&(ne.tabIndex="0",ne.focus()),a.preventDefault();break}case 37:{w.tabIndex="-1";let ne=w.previousElementSibling;ne?(ne.tabIndex="0",ne.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case 39:{w.tabIndex="-1";let ne=w.nextElementSibling;ne?(ne.tabIndex="0",ne.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 13:case 32:this.onYearSelect(a,y),a.preventDefault();break;case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.trapFocus(a)}}navigateToMonth(a,y){if(a)if(1===this.numberOfMonths||0===y)this.navigationState={backward:!0},this.navBackward(event);else{let T=Ne.p.find(this.contentViewChild.nativeElement.children[y-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),ee=T[T.length-1];ee.tabIndex="0",ee.focus()}else if(1===this.numberOfMonths||y===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let T=Ne.p.findSingle(this.contentViewChild.nativeElement.children[y+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");T.tabIndex="0",T.focus()}}updateFocus(){let a;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Ne.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Ne.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let y;y=Ne.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),y&&y.length>0&&(a=y[y.length-1])}else a=Ne.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");a&&(a.tabIndex="0",a.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const a=this.contentViewChild?.nativeElement;let y;if("month"===this.currentView){let w=Ne.p.find(a,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),T=Ne.p.findSingle(a,".p-monthpicker .p-monthpicker-month.p-highlight");w.forEach(ee=>ee.tabIndex=-1),y=T||w[0],0===w.length&&Ne.p.find(a,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(ne=>ne.tabIndex=-1)}else if("year"===this.currentView){let w=Ne.p.find(a,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),T=Ne.p.findSingle(a,".p-yearpicker .p-yearpicker-year.p-highlight");w.forEach(ee=>ee.tabIndex=-1),y=T||w[0],0===w.length&&Ne.p.find(a,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(ne=>ne.tabIndex=-1)}else if(y=Ne.p.findSingle(a,"span.p-highlight"),!y){let w=Ne.p.findSingle(a,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");y=w||Ne.p.findSingle(a,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}y&&(y.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||y.focus()},1),this.preventFocus=!1)}trapFocus(a){let y=Ne.p.getFocusableElements(this.contentViewChild.nativeElement);if(y&&y.length>0)if(y[0].ownerDocument.activeElement){let w=y.indexOf(y[0].ownerDocument.activeElement);if(a.shiftKey)if(-1==w||0===w)if(this.focusTrap)y[y.length-1].focus();else{if(-1===w)return this.hideOverlay();if(0===w)return}else y[w-1].focus();else if(-1==w||w===y.length-1){if(!this.focusTrap&&-1!=w)return this.hideOverlay();y[0].focus()}else y[w+1].focus()}else y[0].focus();a.preventDefault()}onMonthDropdownChange(a){this.currentMonth=parseInt(a),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(a){this.currentYear=parseInt(a),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(a,y,w,T){let ee=this.value;const ne=this.convertTo24Hour(a,T);this.isRangeSelection()&&(ee=this.value[1]||this.value[0]),this.isMultipleSelection()&&(ee=this.value[this.value.length-1]);const ge=ee?ee.toDateString():null;return!(this.minDate&&ge&&this.minDate.toDateString()===ge&&(this.minDate.getHours()>ne||this.minDate.getHours()===ne&&(this.minDate.getMinutes()>y||this.minDate.getMinutes()===y&&this.minDate.getSeconds()>w))||this.maxDate&&ge&&this.maxDate.toDateString()===ge&&(this.maxDate.getHours()<ne||this.maxDate.getHours()===ne&&(this.maxDate.getMinutes()<y||this.maxDate.getMinutes()===y&&this.maxDate.getSeconds()<w)))}incrementHour(a){let w=this.currentHour+this.stepHour,T=this.pm;"24"==this.hourFormat?w=w>=24?w-24:w:"12"==this.hourFormat&&(this.currentHour<12&&w>11&&(T=!this.pm),w=w>=13?w-12:w),this.validateTime(w,this.currentMinute,this.currentSecond,T)&&(this.currentHour=w,this.pm=T),a.preventDefault()}onTimePickerElementMouseDown(a,y,w){this.disabled||(this.repeat(a,null,y,w),a.preventDefault())}onTimePickerElementMouseUp(a){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(a,y,w,T){let ee=y||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(a,100,w,T),this.cd.markForCheck()},ee),w){case 0:1===T?this.incrementHour(a):this.decrementHour(a);break;case 1:1===T?this.incrementMinute(a):this.decrementMinute(a);break;case 2:1===T?this.incrementSecond(a):this.decrementSecond(a)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(a){let y=this.currentHour-this.stepHour,w=this.pm;"24"==this.hourFormat?y=y<0?24+y:y:"12"==this.hourFormat&&(12===this.currentHour&&(w=!this.pm),y=y<=0?12+y:y),this.validateTime(y,this.currentMinute,this.currentSecond,w)&&(this.currentHour=y,this.pm=w),a.preventDefault()}incrementMinute(a){let y=this.currentMinute+this.stepMinute;y=y>59?y-60:y,this.validateTime(this.currentHour,y,this.currentSecond,this.pm)&&(this.currentMinute=y),a.preventDefault()}decrementMinute(a){let y=this.currentMinute-this.stepMinute;y=y<0?60+y:y,this.validateTime(this.currentHour,y,this.currentSecond,this.pm)&&(this.currentMinute=y),a.preventDefault()}incrementSecond(a){let y=this.currentSecond+this.stepSecond;y=y>59?y-60:y,this.validateTime(this.currentHour,this.currentMinute,y,this.pm)&&(this.currentSecond=y),a.preventDefault()}decrementSecond(a){let y=this.currentSecond-this.stepSecond;y=y<0?60+y:y,this.validateTime(this.currentHour,this.currentMinute,y,this.pm)&&(this.currentSecond=y),a.preventDefault()}updateTime(){let a=this.value;this.isRangeSelection()&&(a=this.value[1]||this.value[0]),this.isMultipleSelection()&&(a=this.value[this.value.length-1]),a=a?new Date(a.getTime()):new Date,a.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),a.setMinutes(this.currentMinute),a.setSeconds(this.currentSecond),this.isRangeSelection()&&(a=this.value[1]?[this.value[0],a]:[a,null]),this.isMultipleSelection()&&(a=[...this.value.slice(0,-1),a]),this.updateModel(a),this.onSelect.emit(a),this.updateInputfield()}toggleAMPM(a){const y=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,y)&&(this.pm=y,this.updateTime()),a.preventDefault()}onUserInput(a){if(!this.isKeydown)return;this.isKeydown=!1;let y=a.target.value;try{let w=this.parseValueFromString(y);this.isValidSelection(w)&&(this.updateModel(w),this.updateUI())}catch{this.updateModel(this.keepInvalid?y:null)}this.filled=null!=y&&y.length,this.onInput.emit(a)}isValidSelection(a){let y=!0;return this.isSingleSelection()?this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1)||(y=!1):a.every(w=>this.isSelectable(w.getDate(),w.getMonth(),w.getFullYear(),!1))&&this.isRangeSelection()&&(y=a.length>1&&a[1]>a[0]),y}parseValueFromString(a){if(!a||0===a.trim().length)return null;let y;if(this.isSingleSelection())y=this.parseDateTime(a);else if(this.isMultipleSelection()){let w=a.split(this.multipleSeparator);y=[];for(let T of w)y.push(this.parseDateTime(T.trim()))}else if(this.isRangeSelection()){let w=a.split(" "+this.rangeSeparator+" ");y=[];for(let T=0;T<w.length;T++)y[T]=this.parseDateTime(w[T].trim())}return y}parseDateTime(a){let y,w=a.split(" ");if(this.timeOnly)y=new Date,this.populateTime(y,w[0],w[1]);else{const T=this.getDateFormat();if(this.showTime){let ee="12"==this.hourFormat?w.pop():null,ne=w.pop();y=this.parseDate(w.join(" "),T),this.populateTime(y,ne,ee)}else y=this.parseDate(a,T)}return y}populateTime(a,y,w){if("12"==this.hourFormat&&!w)throw"Invalid Time";this.pm="PM"===w||"pm"===w;let T=this.parseTime(y);a.setHours(T.hour),a.setMinutes(T.minute),a.setSeconds(T.second)}isValidDate(a){return a instanceof Date&&Ee.gb.isNotEmpty(a)}updateUI(){let a=this.value;Array.isArray(a)&&(a=a[0]);let y=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:a&&this.isValidDate(a)?a:new Date;this.currentMonth=y.getMonth(),this.currentYear=y.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(a){switch(a.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=a.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Ee.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Ee.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(a));break;case"void":this.onOverlayHide(),this.onClose.emit(a)}}onOverlayAnimationDone(a){switch(a.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Ee.P9.clear(a.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ne.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Ne.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Ne.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=Ne.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",Ne.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):Ne.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(a){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(a.style.zIndex)-1),Ne.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",w=>{this.disableModality()}),document.body.appendChild(this.mask),Ne.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Ne.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let y,a=document.body.children;for(let w=0;w<a.length;w++)if(Ne.p.hasClass(a[w],"p-datepicker-mask-scrollblocker")){y=!0;break}y||Ne.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(a){if(this.value=a,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=a)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(xt.ws.FIRST_DAY_OF_WEEK)}formatDate(a,y){if(!a)return"";let w;const T=tt=>{const lt=w+1<y.length&&y.charAt(w+1)===tt;return lt&&w++,lt},ee=(tt,lt,Ut)=>{let Dt=""+lt;if(T(tt))for(;Dt.length<Ut;)Dt="0"+Dt;return Dt},ne=(tt,lt,Ut,Dt)=>T(tt)?Dt[lt]:Ut[lt];let ge="",He=!1;if(a)for(w=0;w<y.length;w++)if(He)"'"!==y.charAt(w)||T("'")?ge+=y.charAt(w):He=!1;else switch(y.charAt(w)){case"d":ge+=ee("d",a.getDate(),2);break;case"D":ge+=ne("D",a.getDay(),this.getTranslation(xt.ws.DAY_NAMES_SHORT),this.getTranslation(xt.ws.DAY_NAMES));break;case"o":ge+=ee("o",Math.round((new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-new Date(a.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ge+=ee("m",a.getMonth()+1,2);break;case"M":ge+=ne("M",a.getMonth(),this.getTranslation(xt.ws.MONTH_NAMES_SHORT),this.getTranslation(xt.ws.MONTH_NAMES));break;case"y":ge+=T("y")?a.getFullYear():(a.getFullYear()%100<10?"0":"")+a.getFullYear()%100;break;case"@":ge+=a.getTime();break;case"!":ge+=1e4*a.getTime()+this.ticksTo1970;break;case"'":T("'")?ge+="'":He=!0;break;default:ge+=y.charAt(w)}return ge}formatTime(a){if(!a)return"";let y="",w=a.getHours(),T=a.getMinutes(),ee=a.getSeconds();return"12"==this.hourFormat&&w>11&&12!=w&&(w-=12),y+="12"==this.hourFormat&&0===w?12:w<10?"0"+w:w,y+=":",y+=T<10?"0"+T:T,this.showSeconds&&(y+=":",y+=ee<10?"0"+ee:ee),"12"==this.hourFormat&&(y+=a.getHours()>11?" PM":" AM"),y}parseTime(a){let y=a.split(":");if(y.length!==(this.showSeconds?3:2))throw"Invalid time";let T=parseInt(y[0]),ee=parseInt(y[1]),ne=this.showSeconds?parseInt(y[2]):null;if(isNaN(T)||isNaN(ee)||T>23||ee>59||"12"==this.hourFormat&&T>12||this.showSeconds&&(isNaN(ne)||ne>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==T&&this.pm?T+=12:!this.pm&&12===T&&(T-=12)),{hour:T,minute:ee,second:ne}}parseDate(a,y){if(null==y||null==a)throw"Invalid arguments";if(""===(a="object"==typeof a?a.toString():a+""))return null;let w,T,ee,Yt,ne=0,ge="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),He=-1,tt=-1,lt=-1,Ut=-1,Dt=!1,Mt=Cn=>{let Kn=w+1<y.length&&y.charAt(w+1)===Cn;return Kn&&w++,Kn},zi=Cn=>{let Kn=Mt(Cn),Gn="@"===Cn?14:"!"===Cn?20:"y"===Cn&&Kn?4:"o"===Cn?3:2,En=new RegExp("^\\d{"+("y"===Cn?Gn:1)+","+Gn+"}"),Un=a.substring(ne).match(En);if(!Un)throw"Missing number at position "+ne;return ne+=Un[0].length,parseInt(Un[0],10)},hu=(Cn,Kn,Gn)=>{let Ii=-1,En=Mt(Cn)?Gn:Kn,Un=[];for(let ji=0;ji<En.length;ji++)Un.push([ji,En[ji]]);Un.sort((ji,jo)=>-(ji[1].length-jo[1].length));for(let ji=0;ji<Un.length;ji++){let jo=Un[ji][1];if(a.substr(ne,jo.length).toLowerCase()===jo.toLowerCase()){Ii=Un[ji][0],ne+=jo.length;break}}if(-1!==Ii)return Ii+1;throw"Unknown name at position "+ne},Pa=()=>{if(a.charAt(ne)!==y.charAt(w))throw"Unexpected literal at position "+ne;ne++};for("month"===this.view&&(lt=1),w=0;w<y.length;w++)if(Dt)"'"!==y.charAt(w)||Mt("'")?Pa():Dt=!1;else switch(y.charAt(w)){case"d":lt=zi("d");break;case"D":hu("D",this.getTranslation(xt.ws.DAY_NAMES_SHORT),this.getTranslation(xt.ws.DAY_NAMES));break;case"o":Ut=zi("o");break;case"m":tt=zi("m");break;case"M":tt=hu("M",this.getTranslation(xt.ws.MONTH_NAMES_SHORT),this.getTranslation(xt.ws.MONTH_NAMES));break;case"y":He=zi("y");break;case"@":Yt=new Date(zi("@")),He=Yt.getFullYear(),tt=Yt.getMonth()+1,lt=Yt.getDate();break;case"!":Yt=new Date((zi("!")-this.ticksTo1970)/1e4),He=Yt.getFullYear(),tt=Yt.getMonth()+1,lt=Yt.getDate();break;case"'":Mt("'")?Pa():Dt=!0;break;default:Pa()}if(ne<a.length&&(ee=a.substr(ne),!/^\s+/.test(ee)))throw"Extra/unparsed characters found in date: "+ee;if(-1===He?He=(new Date).getFullYear():He<100&&(He+=(new Date).getFullYear()-(new Date).getFullYear()%100+(He<=ge?0:-100)),Ut>-1)for(tt=1,lt=Ut;T=this.getDaysCountInMonth(He,tt-1),!(lt<=T);)tt++,lt-=T;if("year"===this.view&&(tt=-1===tt?1:tt,lt=-1===lt?1:lt),Yt=this.daylightSavingAdjust(new Date(He,tt-1,lt)),Yt.getFullYear()!==He||Yt.getMonth()+1!==tt||Yt.getDate()!==lt)throw"Invalid date";return Yt}daylightSavingAdjust(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(a){let y=new Date,w={day:y.getDate(),month:y.getMonth(),year:y.getFullYear(),otherMonth:y.getMonth()!==this.currentMonth||y.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(a,w),this.onTodayClick.emit(a)}onClearButtonClick(a){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(a)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let a="";if(this.responsiveOptions){let y=[...this.responsiveOptions].filter(w=>!(!w.breakpoint||!w.numMonths)).sort((w,T)=>-1*w.breakpoint.localeCompare(T.breakpoint,void 0,{numeric:!0}));for(let w=0;w<y.length;w++){let{breakpoint:T,numMonths:ee}=y[w],ne=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${ee}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let ge=ee;ge<this.numberOfMonths;ge++)ne+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${ge+1}) {\n                                display: none !important;\n                            }\n                        `;a+=`\n                        @media screen and (max-width: ${T}) {\n                            ${ne}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=a}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",y=>{this.isOutsideClicked(y)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(y),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ne.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(a){return!(this.el.nativeElement.isSameNode(a.target)||this.isNavIconClicked(a)||this.el.nativeElement.contains(a.target)||this.overlay&&this.overlay.contains(a.target))}isNavIconClicked(a){return Ne.p.hasClass(a.target,"p-datepicker-prev")||Ne.p.hasClass(a.target,"p-datepicker-prev-icon")||Ne.p.hasClass(a.target,"p-datepicker-next")||Ne.p.hasClass(a.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Ne.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Ee.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(xt.b4),m.Y36(xt.F0))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-calendar"]],contentQueries:function(a,y,w){if(1&a&&m.Suo(w,xt.jx,4),2&a){let T;m.iGM(T=m.CRH())&&(y.templates=T)}},viewQuery:function(a,y){if(1&a&&(m.Gf(De,5),m.Gf(Ot,5),m.Gf(Qe,5)),2&a){let w;m.iGM(w=m.CRH())&&(y.containerViewChild=w.first),m.iGM(w=m.CRH())&&(y.inputfieldViewChild=w.first),m.iGM(w=m.CRH())&&(y.content=w.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(a,y){2&a&&m.ekj("p-inputwrapper-filled",y.filled)("p-inputwrapper-focus",y.focus)("p-calendar-clearable",y.showClear&&!y.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[m._Bn([wa])],ngContentSelectors:ks,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(a,y){1&a&&(m.F$t(Lo),m.TgZ(0,"span",0,1),m.YNc(2,Qt,4,17,"ng-template",2),m.YNc(3,Ac,9,28,"div",3),m.qZA()),2&a&&(m.Tol(y.styleClass),m.Q6J("ngClass",m.l5B(6,Ni,y.showIcon,y.timeOnly,y.disabled,y.focus))("ngStyle",y.style),m.xp6(2),m.Q6J("ngIf",!y.inline),m.xp6(1),m.Q6J("ngIf",y.inline||y.overlayVisible))},dependencies:[Ge.mk,Ge.sg,Ge.O5,Ge.tP,Ge.PC,fr.Hq,pr.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,di.X$)("overlayAnimation",[(0,di.SB)("visibleTouchUI",(0,di.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,di.eR)("void => visible",[(0,di.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,di.jt)("{{showTransitionParams}}",(0,di.oB)({opacity:1,transform:"*"}))]),(0,di.eR)("visible => void",[(0,di.jt)("{{hideTransitionParams}}",(0,di.oB)({opacity:0}))]),(0,di.eR)("void => visibleTouchUI",[(0,di.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,di.jt)("{{showTransitionParams}}")]),(0,di.eR)("visibleTouchUI => void",[(0,di.jt)("{{hideTransitionParams}}",(0,di.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),C})(),bf=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez,fr.hJ,xt.m8,pr.T,fr.hJ,xt.m8]}),C})();var Bo=Ke(5702),vr=Ke(5047),Kl=Ke(1740);let Ef=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez,Bo.kW,vr.L$,yi.u5,xt.m8,pr.T,Bo.kW,vr.L$,yi.u5,xt.m8]}),C})();var Bc=Ke(3718);function ft(C,$){if(1&C&&m._UZ(0,"span",8),2&C){const a=m.oxw(2).$implicit;m.Tol(a.icon),m.Q6J("ngClass","p-button-icon p-button-icon-left")}}function Nc(C,$){if(1&C&&(m.ynx(0),m.YNc(1,ft,1,3,"span",6),m.TgZ(2,"span",7),m._uU(3),m.qZA(),m.BQk()),2&C){const a=m.oxw().$implicit,y=m.oxw();m.xp6(1),m.Q6J("ngIf",a.icon),m.xp6(2),m.Oqu(y.getOptionLabel(a))}}function Sf(C,$){1&C&&m.GkF(0)}const Tf=function(C,$){return{$implicit:C,index:$}};function Of(C,$){if(1&C&&m.YNc(0,Sf,1,0,"ng-container",9),2&C){const a=m.oxw(),y=a.$implicit,w=a.index,T=m.oxw();m.Q6J("ngTemplateOutlet",T.itemTemplate)("ngTemplateOutletContext",m.WLB(2,Tf,y,w))}}const eo=function(C,$,a){return{"p-highlight":C,"p-disabled":$,"p-button-icon-only":a}};function zc(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",2,3),m.NdJ("click",function(w){const T=m.CHM(a),ee=T.$implicit,ne=T.index,ge=m.oxw();return m.KtG(ge.onItemClick(w,ee,ne))})("keydown.enter",function(w){const T=m.CHM(a),ee=T.$implicit,ne=T.index,ge=m.oxw();return m.KtG(ge.onItemClick(w,ee,ne))})("blur",function(){m.CHM(a);const w=m.oxw();return m.KtG(w.onBlur())}),m.YNc(2,Nc,4,2,"ng-container",4),m.YNc(3,Of,1,5,"ng-template",null,5,m.W1O),m.qZA()}if(2&C){const a=$.$implicit,y=m.MAs(4),w=m.oxw();m.Tol(a.styleClass),m.Q6J("ngClass",m.kEZ(10,eo,w.isSelected(a),w.disabled||w.isOptionDisabled(a),a.icon&&!w.getOptionLabel(a))),m.uIk("aria-pressed",w.isSelected(a))("title",a.title)("aria-label",a.label)("tabindex",w.disabled?null:w.tabindex)("aria-labelledby",w.getOptionLabel(a)),m.xp6(2),m.Q6J("ngIf",!w.itemTemplate)("ngIfElse",y)}}const If={provide:yi.JU,useExisting:(0,m.Gpc)(()=>Ca),multi:!0};let Ca=(()=>{class C{constructor(a){this.cd=a,this.tabindex=0,this.onOptionClick=new m.vpe,this.onChange=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(a){return this.optionLabel?Ee.gb.resolveFieldData(a,this.optionLabel):null!=a.label?a.label:a}getOptionValue(a){return this.optionValue?Ee.gb.resolveFieldData(a,this.optionValue):this.optionLabel||void 0===a.value?a:a.value}isOptionDisabled(a){return this.optionDisabled?Ee.gb.resolveFieldData(a,this.optionDisabled):void 0!==a.disabled&&a.disabled}writeValue(a){this.value=a,this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}onItemClick(a,y,w){if(!this.disabled&&!this.isOptionDisabled(y)){if(this.multiple)this.isSelected(y)?this.removeOption(y):this.value=[...this.value||[],this.getOptionValue(y)],this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value});else{let T=this.getOptionValue(y);this.value!==T&&(this.value=this.getOptionValue(y),this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value}))}this.onOptionClick.emit({originalEvent:a,option:y,index:w})}}onBlur(){this.onModelTouched()}removeOption(a){this.value=this.value.filter(y=>!Ee.gb.equals(y,this.getOptionValue(a),this.dataKey))}isSelected(a){let y=!1,w=this.getOptionValue(a);if(this.multiple){if(this.value&&this.value instanceof Array)for(let T of this.value)if(Ee.gb.equals(T,w,this.dataKey)){y=!0;break}}else y=Ee.gb.equals(this.getOptionValue(a),this.value,this.dataKey);return y}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.sBO))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-selectButton"]],contentQueries:function(a,y,w){if(1&a&&m.Suo(w,m.Rgc,5),2&a){let T;m.iGM(T=m.CRH())&&(y.itemTemplate=T.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[m._Bn([If])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,y){1&a&&(m.TgZ(0,"div",0),m.YNc(1,zc,5,14,"div",1),m.qZA()),2&a&&(m.Tol(y.styleClass),m.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",y.style),m.xp6(1),m.Q6J("ngForOf",y.options))},dependencies:[Ge.mk,Ge.sg,Ge.O5,Ge.tP,Ge.PC,pr.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),C})(),jc=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez,pr.T]}),C})();const Jl=function(C,$,a){return{"p-checkbox-label-active":C,"p-disabled":$,"p-checkbox-label-focus":a}};function Xl(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"label",7),m.NdJ("click",function(w){m.CHM(a);const T=m.oxw(),ee=m.MAs(3);return m.KtG(T.onClick(w,ee))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw();m.Q6J("ngClass",m.kEZ(3,Jl,null!=a.value,a.disabled,a.focused)),m.uIk("for",a.inputId),m.xp6(1),m.Oqu(a.label)}}const jn=function(C,$){return{"p-checkbox p-component":!0,"p-checkbox-disabled":C,"p-checkbox-focused":$}},It=function(C,$,a){return{"p-highlight":C,"p-disabled":$,"p-focus":a}},Ql={provide:yi.JU,useExisting:(0,m.Gpc)(()=>Df),multi:!0};let Df=(()=>{class C{constructor(a){this.cd=a,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(a,y){!this.disabled&&!this.readonly&&(this.toggle(a),this.focused=!0,y.focus())}onKeydown(a){32==a.keyCode&&a.preventDefault()}onKeyup(a){32==a.keyCode&&!this.readonly&&(this.toggle(a),a.preventDefault())}toggle(a){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}writeValue(a){this.value=a,this.cd.markForCheck()}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.sBO))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[m._Bn([Ql])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(a,y){if(1&a){const w=m.EpF();m.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),m.NdJ("keyup",function(ee){return y.onKeyup(ee)})("keydown",function(ee){return y.onKeydown(ee)})("focus",function(){return y.onFocus()})("blur",function(){return y.onBlur()}),m.qZA()(),m.TgZ(4,"div",4),m.NdJ("click",function(ee){m.CHM(w);const ne=m.MAs(3);return m.KtG(y.onClick(ee,ne))}),m._UZ(5,"span",5),m.qZA()(),m.YNc(6,Xl,2,7,"label",6)}2&a&&(m.Tol(y.styleClass),m.Q6J("ngStyle",y.style)("ngClass",m.WLB(14,jn,y.disabled,y.focused)),m.xp6(2),m.Q6J("name",y.name)("readonly",y.readonly)("disabled",y.disabled),m.uIk("id",y.inputId)("tabindex",y.tabindex)("aria-labelledby",y.ariaLabelledBy),m.xp6(2),m.Q6J("ngClass",m.kEZ(17,It,null!=y.value,y.disabled,y.focused)),m.uIk("aria-checked",!0===y.value),m.xp6(1),m.Q6J("ngClass",!0===y.value?y.checkboxTrueIcon:!1===y.value?y.checkboxFalseIcon:""),m.xp6(1),m.Q6J("ngIf",y.label))},dependencies:[Ge.mk,Ge.O5,Ge.PC],encapsulation:2,changeDetection:0}),C})(),ot=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez]}),C})(),Fs=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez,Ef,Kl.j,Bo.kW,yi.u5,fr.hJ,jc,bf,vr.L$,ot,Bc.v,xt.m8,Bc.v]}),C})();var wr=Ke(7254),du=Ke(2453),ld=Ke(1383),Ma=Ke(6408),As=Ke(3054),hp=Ke(613),fp=Ke(1493);let ud=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ge.ez,hr,Fs,wr.O,yi.u5,fr.hJ,pr.T,du.EV,ld.V,Ma.Xt,Kl.j,As.A,Bo.kW,hp.cc,vr.L$,fp.S]}),C})()},6770:function(XC,Pc){!function(Ke){function Ge(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ga={exports:{}},xt=function(l){return l&&l.Math==Math&&l},Q=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof yi&&yi)||function(){return this}()||Function("return this")(),_e=function(l){try{return!!l()}catch{return!0}},m=!_e(function(){var l=function(){}.bind();return"function"!=typeof l||l.hasOwnProperty("prototype")}),ma=Function.prototype,ys=ma.apply,Xi=ma.call,hr="object"==typeof Reflect&&Reflect.apply||(m?Xi.bind(ys):function(){return Xi.apply(ys,arguments)}),fr=m,di=Function.prototype,pr=di.call,Ee=fr&&di.bind.bind(pr,pr),De=fr?function(l){return l&&Ee(l)}:function(l){return l&&function(){return pr.apply(l,arguments)}},Ot=function(l){return"function"==typeof l},Qe={},$t=!_e(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Qi=Function.prototype.call,en=m?Qi.bind(Qi):function(){return Qi.apply(Qi,arguments)},Kr={},Rc={}.propertyIsEnumerable,bi=Object.getOwnPropertyDescriptor,Gr=bi&&!Rc.call({1:2},1);Kr.f=Gr?function(c){var g=bi(this,c);return!!g&&g.enumerable}:Rc;var Ni,ks,Pi=function(l,c){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:c}},bs=De,ff=bs({}.toString),pf=bs("".slice),ni=function(l){return pf(ff(l),8,-1)},Fc=_e,ya=ni,jl=Q.Object,Ur=De("".split),_s=Fc(function(){return!jl("z").propertyIsEnumerable(0)})?function(l){return"String"==ya(l)?Ur(l,""):jl(l)}:jl,mf=Q.TypeError,ba=function(l){if(null==l)throw mf("Can't call method on "+l);return l},Kt=_s,yf=ba,Ye=function(l){return Kt(yf(l))},Fe=Ot,ri=function(l){return"object"==typeof l?null!==l:Fe(l)},yt={},Hl=yt,_a=Q,hi=Ot,et=function(l){return hi(l)?l:void 0},fi=function(l,c){return arguments.length<2?et(Hl[l])||et(_a[l]):Hl[l]&&Hl[l][c]||_a[l]&&_a[l][c]},Lt=De({}.isPrototypeOf),Yr=fi("navigator","userAgent")||"",$o=Yr,_n=Q.process,xs=Q.Deno,Ac=_n&&_n.versions||xs&&xs.version,Lo=Ac&&Ac.v8;Lo&&(ks=(Ni=Lo.split("."))[0]>0&&Ni[0]<4?1:+(Ni[0]+Ni[1])),!ks&&$o&&(!(Ni=$o.match(/Edge\/(\d+)/))||Ni[1]>=74)&&(Ni=$o.match(/Chrome\/(\d+)/))&&(ks=+Ni[1]);var wa=ks,$c=wa,Bo=!!Object.getOwnPropertySymbols&&!_e(function(){var l=Symbol();return!String(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&$c&&$c<41}),Kl=Bo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gl=fi,_f=Ot,wf=Lt,xf=Q.Object,Zr=Kl?function(l){return"symbol"==typeof l}:function(l){var c=Gl("Symbol");return _f(c)&&wf(c.prototype,xf(l))},ka=Q.String,gr=function(l){try{return ka(l)}catch{return"Object"}},Jr=Ot,Ul=gr,Cf=Q.TypeError,Xr=function(l){if(Jr(l))return l;throw Cf(Ul(l)+" is not a function")},Yl=Xr,Qr=function(l,c){var g=l[c];return null==g?void 0:Yl(g)},Zl=en,Lc=Ot,Tt=ri,Ef=Q.TypeError,ft={exports:{}},Nc=Q,Sf=Object.defineProperty,zc="__core-js_shared__",Ca=Q[zc]||function(l,c){try{Sf(Nc,l,{value:c,configurable:!0,writable:!0})}catch{Nc[l]=c}return c}(zc,{}),jc=Ca;(ft.exports=function(l,c){return jc[l]||(jc[l]=void 0!==c?c:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Xl=ba,jn=Q.Object,It=function(l){return jn(Xl(l))},Df=It,ot=De({}.hasOwnProperty),Ti=Object.hasOwn||function(c,g){return ot(Df(c),g)},Hc=De,Vc=0,gm=Math.random(),mm=Hc(1..toString),eu=function(l){return"Symbol("+(void 0===l?"":l)+")_"+mm(++Vc+gm,36)},ym=Q,Mf=Ti,_m=eu,mr=Bo,tu=Kl,Hn=(0,ft.exports)("wks"),to=ym.Symbol,Ea=to&&to.for,Pf=tu?to:to&&to.withoutSetter||_m,Gt=function(l){if(!Mf(Hn,l)||!mr&&"string"!=typeof Hn[l]){var c="Symbol."+l;Hn[l]=mr&&Mf(to,l)?to[l]:tu&&Ea?Ea(c):Pf(c)}return Hn[l]},Rf=en,Wc=ri,Ff=Zr,Af=Qr,$f=function(l,c){var g,b;if("string"===c&&Lc(g=l.toString)&&!Tt(b=Zl(g,l))||Lc(g=l.valueOf)&&!Tt(b=Zl(g,l))||"string"!==c&&Lc(g=l.toString)&&!Tt(b=Zl(g,l)))return b;throw Ef("Can't convert object to primitive value")},Bf=Q.TypeError,iu=Gt("toPrimitive"),zf=Zr,dn=function(l){var c=function(l,c){if(!Wc(l)||Ff(l))return l;var b,g=Af(l,iu);if(g){if(void 0===c&&(c="default"),b=Rf(g,l,c),!Wc(b)||Ff(b))return b;throw Bf("Can't convert object to primitive value")}return void 0===c&&(c="number"),$f(l,c)}(l,"string");return zf(c)?c:c+""},Kc=ri,Gc=Q.document,km=Kc(Gc)&&Kc(Gc.createElement),jf=function(l){return km?Gc.createElement(l):{}},Sm=jf,wn=!$t&&!_e(function(){return 7!=Object.defineProperty(Sm("div"),"a",{get:function(){return 7}}).a}),Ta=en,nu=Kr,Hf=Pi,Vf=Ye,Wf=dn,zt=Ti,Kf=wn,Uc=Object.getOwnPropertyDescriptor;Qe.f=$t?Uc:function(c,g){if(c=Vf(c),g=Wf(g),Kf)try{return Uc(c,g)}catch{}if(zt(c,g))return Hf(!Ta(nu.f,c,g),c[g])};var Gf=_e,io=Ot,Yc=/#|\.prototype\./,Oa=function(l,c){var g=Uf[yr(l)];return g==qf||g!=Yf&&(io(c)?Gf(c):!!c)},yr=Oa.normalize=function(l){return String(l).replace(Yc,".").toLowerCase()},Uf=Oa.data={},Yf=Oa.NATIVE="N",qf=Oa.POLYFILL="P",Zf=Oa,Jf=Xr,tn=m,no=De(De.bind),No=function(l,c){return Jf(l),void 0===c?l:tn?no(l,c):function(){return l.apply(c,arguments)}},nn={},Zc=$t&&_e(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Tm=ri,hn=Q.String,Cs=Q.TypeError,xn=function(l){if(Tm(l))return l;throw Cs(hn(l)+" is not an object")},Im=wn,Ia=xn,ep=dn,Jc=Q.TypeError,Vn=Object.defineProperty,tp=Object.getOwnPropertyDescriptor,br="enumerable",pt="configurable",Oi="writable";nn.f=$t?Zc?function(c,g,b){if(Ia(c),g=ep(g),Ia(b),"function"==typeof c&&"prototype"===g&&"value"in b&&Oi in b&&!b[Oi]){var _=tp(c,g);_&&_[Oi]&&(c[g]=b.value,b={configurable:pt in b?b[pt]:_[pt],enumerable:br in b?b[br]:_[br],writable:!1})}return Vn(c,g,b)}:Vn:function(c,g,b){if(Ia(c),g=ep(g),Ia(b),Im)try{return Vn(c,g,b)}catch{}if("get"in b||"set"in b)throw Jc("Accessors not supported");return"value"in b&&(c[g]=b.value),c};var Dm=nn,Mm=Pi,zo=$t?function(l,c,g){return Dm.f(l,c,Mm(1,g))}:function(l,c,g){return l[c]=g,l},ro=Q,Ss=hr,Ts=De,Pm=Ot,np=Qe.f,ru=Zf,oo=yt,ou=No,Wn=zo,Xc=Ti,ei=function(l){var c=function(g,b,_){if(this instanceof c){switch(arguments.length){case 0:return new l;case 1:return new l(g);case 2:return new l(g,b)}return new l(g,b,_)}return Ss(l,this,arguments)};return c.prototype=l.prototype,c},Ue=function(l,c){var W,U,X,ae,Le,qe,nt,Be,g=l.target,b=l.global,_=l.stat,E=l.proto,M=b?ro:_?ro[g]:(ro[g]||{}).prototype,R=b?oo:oo[g]||Wn(oo,g,{})[g],A=R.prototype;for(X in c)W=!ru(b?X:g+(_?".":"#")+X,l.forced)&&M&&Xc(M,X),Le=R[X],W&&(qe=l.noTargetGet?(Be=np(M,X))&&Be.value:M[X]),ae=W&&qe?qe:c[X],(!W||typeof Le!=typeof ae)&&(nt=l.bind&&W?ou(ae,ro):l.wrap&&W?ei(ae):E&&Pm(ae)?Ts(ae):ae,(l.sham||ae&&ae.sham||Le&&Le.sham)&&Wn(nt,"sham",!0),Wn(R,X,nt),E&&(Xc(oo,U=g+"Prototype")||Wn(oo,U,{}),Wn(oo[U],X,ae),l.real&&A&&!A[X]&&Wn(A,X,ae)))},Is=nn.f;Ue({target:"Object",stat:!0,forced:Object.defineProperty!==Is,sham:!$t},{defineProperty:Is});var ed=yt.Object,au=ga.exports=function(c,g,b){return ed.defineProperty(c,g,b)};ed.defineProperty.sham&&(au.sham=!0);var rp=ga.exports,Ds=rp;function id(l,c){for(var g=0;g<c.length;g++){var b=c[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Ds(l,b.key,b)}}function _r(l,c,g){return c&&id(l.prototype,c),g&&id(l,g),Ds(l,"prototype",{writable:!1}),l}function ze(l,c,g){return c in l?Ds(l,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[c]=g,l}var Ps=De([].slice),Da=De,Fm=Xr,sp=ri,lp=Ti,nd=Ps,Am=m,up=Q.Function,rd=Da([].concat),od=Da([].join),Rs={},cp=function(l,c,g){if(!lp(Rs,c)){for(var b=[],_=0;_<c;_++)b[_]="a["+_+"]";Rs[c]=up("C,a","return new C("+od(b,",")+")")}return Rs[c](l,g)},so=Am?up.bind:function(c){var g=Fm(this),b=g.prototype,_=nd(arguments,1),E=function(){var R=rd(_,nd(arguments));return this instanceof E?cp(g,R.length,R):g.apply(c,R)};return sp(b)&&(E.prototype=b),E};Ue({target:"Function",proto:!0,forced:Function.bind!==so},{bind:so});var $m=yt,oi=function(l){return $m[l+"Prototype"]},uu=oi("Function").bind,fe=Lt,sd=uu,cu=Function.prototype,wr=function(l){var c=l.bind;return l===cu||fe(cu,l)&&c===cu.bind?sd:c},du=Math.ceil,ld=Math.floor,Ma=function(l){var c=+l;return c!=c||0===c?0:(c>0?ld:du)(c)},As=Ma,hp=Math.min,C=function(l){return function(l){return l>0?hp(As(l),9007199254740991):0}(l.length)},a=Xr,y=It,w=_s,T=C,ee=Q.TypeError,ne=function(l){return function(c,g,b,_){a(g);var E=y(c),M=w(E),R=T(E),A=l?R-1:0,j=l?-1:1;if(b<2)for(;;){if(A in M){_=M[A],A+=j;break}if(A+=j,l?A<0:R<=A)throw ee("Reduce of empty array with no initial value")}for(;l?A>=0:R>A;A+=j)A in M&&(_=g(_,M[A],A,E));return _}},ge={left:ne(!1),right:ne(!0)},He=_e,tt=function(l,c){var g=[][l];return!!g&&He(function(){g.call(null,c||function(){return 1},1)})},Dt="process"==ni(Q.process),Mt=ge.left,hu=wa,Pa=Dt;Ue({target:"Array",proto:!0,forced:!tt("reduce")||!Pa&&hu>79&&hu<83},{reduce:function(c){var g=arguments.length;return Mt(this,c,g,g>1?arguments[1]:void 0)}});var Ii=oi("Array").reduce,En=Lt,Un=Ii,ji=Array.prototype,Lm=function(l){var c=l.reduce;return l===ji||En(ji,l)&&c===ji.reduce?Un:c},Bm=ni,xr=Array.isArray||function(c){return"Array"==Bm(c)},cd={};cd[Gt("toStringTag")]="z";var vp="[object z]"===String(cd),M_=Q,gp=vp,fu=Ot,Ri=ni,Nm=Gt("toStringTag"),mp=M_.Object,R_="Arguments"==Ri(function(){return arguments}()),lo=gp?Ri:function(l){var c,g,b;return void 0===l?"Undefined":null===l?"Null":"string"==typeof(g=function(l,c){try{return l[c]}catch{}}(c=mp(l),Nm))?g:R_?Ri(c):"Object"==(b=Ri(c))&&fu(c.callee)?"Arguments":b},F_=Ot,Vo=Ca,kr=De(Function.toString);F_(Vo.inspectSource)||(Vo.inspectSource=function(l){return kr(l)});var dd=Vo.inspectSource,A_=De,jm=_e,hd=Ot,yp=lo,Wo=dd,vu=function(){},$_=[],Hm=fi("Reflect","construct"),bp=/^\s*(?:class|function)\b/,L_=A_(bp.exec),Ra=!bp.exec(vu),Cr=function(c){if(!hd(c))return!1;try{return Hm(vu,$_,c),!0}catch{return!1}},Vm=function(c){if(!hd(c))return!1;switch(yp(c)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ra||!!L_(bp,Wo(c))}catch{return!0}};Vm.sham=!0;var fd=!Hm||jm(function(){var l;return Cr(Cr.call)||!Cr(Object)||!Cr(function(){l=!0})||l})?Vm:Cr,B_=Q,_p=xr,Wm=fd,N_=ri,Gm=Gt("species"),pd=B_.Array,Fa=function(l,c){return new(function(l){var c;return _p(l)&&(Wm(c=l.constructor)&&(c===pd||_p(c.prototype))||N_(c)&&null===(c=c[Gm]))&&(c=void 0),void 0===c?pd:c}(l))(0===c?0:c)},Aa=No,xp=_s,uo=It,Ls=C,z_=Fa,kp=De([].push),Er=function(l){var c=1==l,g=2==l,b=3==l,_=4==l,E=6==l,M=7==l,R=5==l||E;return function(A,j,W,U){for(var Ji,jt,X=uo(A),ae=xp(X),Le=Aa(j,W),qe=Ls(ae),nt=0,Be=U||z_,Wt=c?Be(A,qe):g||M?Be(A,0):void 0;qe>nt;nt++)if((R||nt in ae)&&(jt=Le(Ji=ae[nt],nt,X),l))if(c)Wt[nt]=jt;else if(jt)switch(l){case 3:return!0;case 5:return Ji;case 6:return nt;case 2:kp(Wt,Ji)}else switch(l){case 4:return!1;case 7:kp(Wt,Ji)}return E?-1:b||_?_:Wt}},Bs={forEach:Er(0),map:Er(1),filter:Er(2),some:Er(3),every:Er(4),find:Er(5),findIndex:Er(6),filterReject:Er(7)},j_=_e,gu=wa,H_=Gt("species"),Ko=function(l){return gu>=51||!j_(function(){var c=[];return(c.constructor={})[H_]=function(){return{foo:1}},1!==c[l](Boolean).foo})},Ns=Bs.filter;Ue({target:"Array",proto:!0,forced:!Ko("filter")},{filter:function(c){return Ns(this,c,arguments.length>1?arguments[1]:void 0)}});var Cp=oi("Array").filter,K_=Lt,Go=Cp,Sr=Array.prototype,_i=function(l){var c=l.filter;return l===Sr||K_(Sr,l)&&c===Sr.filter?Go:c},Xm=Bs.map;Ue({target:"Array",proto:!0,forced:!Ko("map")},{map:function(c){return Xm(this,c,arguments.length>1?arguments[1]:void 0)}});var Qm=oi("Array").map,co=Lt,zs=Qm,Tp=Array.prototype,Hi=function(l){var c=l.map;return l===Tp||co(Tp,l)&&c===Tp.map?zs:c},ty=xr,Z_=C,iy=No,ny=Q.TypeError,md=function(l,c,g,b,_,E,M,R){for(var U,X,A=_,j=0,W=!!M&&iy(M,R);j<b;){if(j in g){if(U=W?W(g[j],j,c):g[j],E>0&&ty(U))X=Z_(U),A=md(l,c,U,X,A,E-1)-1;else{if(A>=9007199254740991)throw ny("Exceed the acceptable array length");l[A]=U}A++}j++}return A},mu=md,Q_=Xr,ew=It,tw=C,iw=Fa;Ue({target:"Array",proto:!0},{flatMap:function(c){var _,g=ew(this),b=tw(g);return Q_(c),(_=iw(g,0)).length=mu(_,g,g,b,0,1,c,arguments.length>1?arguments[1]:void 0),_}});var ry=oi("Array").flatMap,yu=Lt,rw=ry,js=Array.prototype;var Us,ho,fo,bd=function(){function l(c,g,b){var _,E,M;Ge(this,l),ze(this,"_source",void 0),ze(this,"_transformers",void 0),ze(this,"_target",void 0),ze(this,"_listeners",{add:wr(_=this._add).call(_,this),remove:wr(E=this._remove).call(E,this),update:wr(M=this._update).call(M,this)}),this._source=c,this._transformers=g,this._target=b}return _r(l,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(g){var b;return Lm(b=this._transformers).call(b,function(_,E){return E(_)},g)}},{key:"_add",value:function(g,b){null!=b&&this._target.add(this._transformItems(this._source.get(b.items)))}},{key:"_update",value:function(g,b){null!=b&&this._target.update(this._transformItems(this._source.get(b.items)))}},{key:"_remove",value:function(g,b){null!=b&&this._target.remove(this._transformItems(b.oldData))}}]),l}(),Mp=function(){function l(c){Ge(this,l),ze(this,"_source",void 0),ze(this,"_transformers",[]),this._source=c}return _r(l,[{key:"filter",value:function(g){return this._transformers.push(function(b){return _i(b).call(b,g)}),this}},{key:"map",value:function(g){return this._transformers.push(function(b){return Hi(b).call(b,g)}),this}},{key:"flatMap",value:function(g){return this._transformers.push(function(b){return function(l){var c=l.flatMap;return l===js||yu(js,l)&&c===js.flatMap?rw:c}(b).call(b,g)}),this}},{key:"to",value:function(g){return new bd(this._source,this._transformers,g)}}]),l}(),Pp=lo,_d=Q.String,on=function(l){if("Symbol"===Pp(l))throw TypeError("Cannot convert a Symbol value to a string");return _d(l)},wd=De,sy=Ma,Hs=on,Rp=ba,aw=wd("".charAt),Fp=wd("".charCodeAt),sw=wd("".slice),ly=function(l){return function(c,g){var M,R,b=Hs(Rp(c)),_=sy(g),E=b.length;return _<0||_>=E?l?"":void 0:(M=Fp(b,_))<55296||M>56319||_+1===E||(R=Fp(b,_+1))<56320||R>57343?l?aw(b,_):M:l?sw(b,_,_+2):R-56320+(M-55296<<10)+65536}},lw={codeAt:ly(!1),charAt:ly(!0)},cy=dd,xd=Q.WeakMap,uw=Ot(xd)&&/native code/.test(cy(xd)),cw=eu,dy=(0,ft.exports)("keys"),_u=function(l){return dy[l]||(dy[l]=cw(l))},Vs={},kd=De,dw=ri,Ks=zo,Cd=Ti,hw=_u,fw=Vs,fy="Object already initialized",Uo=Q.TypeError;if(uw||Ca.state){var La=Ca.state||(Ca.state=new(0,Q.WeakMap)),gw=kd(La.get),py=kd(La.has),mw=kd(La.set);Us=function(l,c){if(py(La,l))throw new Uo(fy);return c.facade=l,mw(La,l,c),c},ho=function(l){return gw(La,l)||{}},fo=function(l){return py(La,l)}}else{var Ba=hw("state");fw[Ba]=!0,Us=function(l,c){if(Cd(l,Ba))throw new Uo(fy);return c.facade=l,Ks(l,Ba,c),c},ho=function(l){return Cd(l,Ba)?l[Ba]:{}},fo=function(l){return Cd(l,Ba)}}var Ys={set:Us,get:ho,has:fo,enforce:function(l){return fo(l)?ho(l):Us(l,{})},getterFor:function(l){return function(c){var g;if(!dw(c)||(g=ho(c)).type!==l)throw Uo("Incompatible receiver, "+l+" required");return g}}},$p=$t,vy=Function.prototype,bw=$p&&Object.getOwnPropertyDescriptor,Lp=Ti(vy,"name"),Bp={EXISTS:Lp,PROPER:Lp&&"something"===function(){}.name,CONFIGURABLE:Lp&&(!$p||$p&&bw(vy,"name").configurable)},Sd={},xw=Ma,gy=Math.max,Np=Math.min,Na=function(l,c){var g=xw(l);return g<0?gy(g+c,0):Np(g,c)},kw=Ye,wu=Na,zp=C,jp=function(l){return function(c,g,b){var R,_=kw(c),E=zp(_),M=wu(b,E);if(l&&g!=g){for(;E>M;)if((R=_[M++])!=R)return!0}else for(;E>M;M++)if((l||M in _)&&_[M]===g)return l||M||0;return!l&&-1}},za={includes:jp(!0),indexOf:jp(!1)},Hp=Ti,Td=Ye,my=za.indexOf,Cw=Vs,Od=De([].push),yy=function(l,c){var E,g=Td(l),b=0,_=[];for(E in g)!Hp(Cw,E)&&Hp(g,E)&&Od(_,E);for(;c.length>b;)Hp(g,E=c[b++])&&(~my(_,E)||Od(_,E));return _},Id=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ew=yy,Sw=Id,xu=Object.keys||function(c){return Ew(c,Sw)},Vp=nn,_y=xn,Wp=Ye,wy=xu;Sd.f=$t&&!Zc?Object.defineProperties:function(c,g){_y(c);for(var R,b=Wp(g),_=wy(g),E=_.length,M=0;E>M;)Vp.f(c,R=_[M++],b[R]);return c};var ja,Tr=fi("document","documentElement"),xy=xn,qs=Sd,Zs=Id,Ow=Vs,Js=Tr,Dd=jf,Xs="prototype",Up="script",Yp=_u("IE_PROTO"),qp=function(){},Ey=function(l){return"<script>"+l+"</"+Up+">"},Zp=function(l){l.write(Ey("")),l.close();var c=l.parentWindow.Object;return l=null,c},Ha=function(){try{ja=new ActiveXObject("htmlfile")}catch{}Ha=typeof document<"u"?document.domain&&ja?Zp(ja):function(){var g,l=Dd("iframe");return l.style.display="none",Js.appendChild(l),l.src=String("javascript:"),(g=l.contentWindow.document).open(),g.write(Ey("document.F=Object")),g.close(),g.F}():Zp(ja);for(var l=Zs.length;l--;)delete Ha[Xs][Zs[l]];return Ha()};Ow[Yp]=!0;var qn,tv,iv,Qs=Object.create||function(c,g){var b;return null!==c?(qp[Xs]=xy(c),b=new qp,qp[Xs]=null,b[Yp]=c):b=Ha(),void 0===g?b:qs.f(b,g)},Ty=!_e(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype}),Dw=Q,Mw=Ti,ai=Ot,Oy=It,Pw=Ty,Jp=_u("IE_PROTO"),Md=Dw.Object,Xp=Md.prototype,Qp=Pw?Md.getPrototypeOf:function(l){var c=Oy(l);if(Mw(c,Jp))return c[Jp];var g=c.constructor;return ai(g)&&c instanceof g?g.prototype:c instanceof Md?Xp:null},Pd=zo,Rd=function(l,c,g,b){b&&b.enumerable?l[c]=g:Pd(l,c,g)},Rw=_e,Dy=Ot,Fd=Qs,My=Qp,ev=Rd,Yn=Gt("iterator"),Yo=!1;[].keys&&("next"in(iv=[].keys())?(tv=My(My(iv)))!==Object.prototype&&(qn=tv):Yo=!0),qn=null==qn||Rw(function(){var l={};return qn[Yn].call(l)!==l})?{}:Fd(qn),Dy(qn[Yn])||ev(qn,Yn,function(){return this});var Py={IteratorPrototype:qn,BUGGY_SAFARI_ITERATORS:Yo},Va=lo,si=vp,nv=nn.f,Ry=zo,rv=Ti,tl=vp?{}.toString:function(){return"[object "+Va(this)+"]"},$d=Gt("toStringTag"),Cu=function(l,c,g,b){if(l){var _=g?l:l.prototype;rv(_,$d)||nv(_,$d,{configurable:!0,value:c}),b&&!si&&Ry(_,"toString",tl)}},Zn={},Ld=Py.IteratorPrototype,Fy=Qs,ov=Pi,Eu=Cu,Ay=Zn,$y=function(){return this},av=Ot,By=Q.String,Ny=Q.TypeError,Nd=De,sv=xn,zy=Object.setPrototypeOf||("__proto__"in{}?function(){var g,l=!1,c={};try{(g=Nd(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(c,[]),l=c instanceof Array}catch{}return function(_,E){return sv(_),function(l){if("object"==typeof l||av(l))return l;throw Ny("Can't set "+By(l)+" as a prototype")}(E),l?g(_,E):_.__proto__=E,_}}():void 0),jy=Ue,Hy=en,nl=function(l,c,g,b){var _=c+" Iterator";return l.prototype=Fy(Ld,{next:ov(+!b,g)}),Eu(l,_,!1,!0),Ay[_]=$y,l},lv=Qp,Vy=Cu,Tu=Rd,Ou=Zn,Ga=Bp.PROPER,Ua=Py.BUGGY_SAFARI_ITERATORS,bt=Gt("iterator"),Ir="values",uv="entries",cv=function(){return this},go=function(l,c,g,b,_,E,M){nl(g,c,b);var Le,qe,nt,R=function(Be){if(Be===_&&X)return X;if(!Ua&&Be in W)return W[Be];switch(Be){case"keys":case Ir:case uv:return function(){return new g(this,Be)}}return function(){return new g(this)}},A=c+" Iterator",j=!1,W=l.prototype,U=W[bt]||W["@@iterator"]||_&&W[_],X=!Ua&&U||R(_),ae="Array"==c&&W.entries||U;if(ae&&(Le=lv(ae.call(new l)))!==Object.prototype&&Le.next&&(Vy(Le,A,!0,!0),Ou[A]=cv),Ga&&_==Ir&&U&&U.name!==Ir&&(j=!0,X=function(){return Hy(U,this)}),_)if(qe={values:R(Ir),keys:E?X:R("keys"),entries:R(uv)},M)for(nt in qe)(Ua||j||!(nt in W))&&Tu(W,nt,qe[nt]);else jy({target:c,proto:!0,forced:Ua||j},qe);return M&&W[bt]!==X&&Tu(W,bt,X,{name:_}),Ou[c]=X,qe},zd=lw.charAt,qo=on,dv=go,jd="String Iterator",Jn=Ys.set,mo=Ys.getterFor(jd);dv(String,"String",function(l){Jn(this,{type:jd,string:qo(l),index:0})},function(){var _,c=mo(this),g=c.string,b=c.index;return b>=g.length?{value:void 0,done:!0}:(_=zd(g,b),c.index+=_.length,{value:_,done:!1})});var Hd=en,Vd=xn,Wy=Qr,ol=function(l,c,g){var b,_;Vd(l);try{if(!(b=Wy(l,"return"))){if("throw"===c)throw g;return g}b=Hd(b,l)}catch(E){_=!0,b=E}if("throw"===c)throw g;if(_)throw b;return Vd(b),g},Wd=xn,Kd=ol,Ky=Zn,Yd=Gt("iterator"),al=Array.prototype,Iu=function(l){return void 0!==l&&(Ky.Array===l||al[Yd]===l)},Gy=dn,Uy=nn,Zo=Pi,Ya=function(l,c,g){var b=Gy(c);b in l?Uy.f(l,b,Zo(0,g)):l[b]=g},Fw=lo,hv=Qr,qd=Zn,Du=Gt("iterator"),Mu=function(l){if(null!=l)return hv(l,Du)||hv(l,"@@iterator")||qd[Fw(l)]},qy=en,Sn=Xr,Fi=xn,qa=gr,Zy=Mu,fv=Q.TypeError,Za=function(l,c){var g=arguments.length<2?Zy(l):c;if(Sn(g))return Fi(qy(g,l));throw fv(qa(l)+" is not iterable")},yo=No,Xy=en,Aw=It,Qy=function(l,c,g,b){try{return b?c(Wd(g)[0],g[1]):c(g)}catch(_){Kd(l,"throw",_)}},bo=Iu,Tn=fd,Zd=C,Jd=Ya,$w=Za,Xd=Mu,Pu=Q.Array,Ru=Gt("iterator"),vv=!1;try{var eb=0,Qd={next:function(){return{done:!!eb++}},return:function(){vv=!0}};Qd[Ru]=function(){return this},Array.from(Qd,function(){throw 2})}catch{}var Lw=Ue,tb=function(c){var g=Aw(c),b=Tn(this),_=arguments.length,E=_>1?arguments[1]:void 0,M=void 0!==E;M&&(E=yo(E,_>2?arguments[2]:void 0));var j,W,U,X,ae,Le,R=Xd(g),A=0;if(!R||this==Pu&&bo(R))for(j=Zd(g),W=b?new this(j):Pu(j);j>A;A++)Le=M?E(g[A],A):g[A],Jd(W,A,Le);else for(ae=(X=$w(g,R)).next,W=b?new this:[];!(U=Xy(ae,X)).done;A++)Le=M?Qy(X,E,[U.value,A],!0):U.value,Jd(W,A,Le);return W.length=A,W},be=!function(l,c){if(!vv)return!1;var g=!1;try{var b={};b[Ru]=function(){return{next:function(){return{done:g=!0}}}},function(l){Array.from(l)}(b)}catch{}return g}();Lw({target:"Array",stat:!0,forced:be},{from:tb});var sl=yt.Array.from,ll=sl,nb=Ye,gv=Zn,ob=go,ul="Array Iterator",Bw=Ys.set,Nw=Ys.getterFor(ul);ob(Array,"Array",function(l,c){Bw(this,{type:ul,target:nb(l),index:0,kind:c})},function(){var l=Nw(this),c=l.target,g=l.kind,b=l.index++;return!c||b>=c.length?(l.target=void 0,{value:void 0,done:!0}):"keys"==g?{value:b,done:!1}:"values"==g?{value:c[b],done:!1}:{value:[b,c[b]],done:!1}},"values"),gv.Arguments=gv.Array;var jw=Mu,Vw=Q,sb=lo,Ww=zo,mv=Zn,yv=Gt("toStringTag");for(var ih in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var nh=Vw[ih],Au=nh&&nh.prototype;Au&&sb(Au)!==yv&&Ww(Au,yv,ih),mv[ih]=mv.Array}var dl=jw,$u={},db=yy,Yw=Id.concat("length","prototype");$u.f=Object.getOwnPropertyNames||function(c){return db(c,Yw)};var rh={},fb=Na,qw=C,Zw=Ya,pb=Q.Array,vb=Math.max,_v=function(l,c,g){for(var b=qw(l),_=fb(c,b),E=fb(void 0===g?b:g,b),M=pb(vb(E-_,0)),R=0;_<E;_++,R++)Zw(M,R,l[_]);return M.length=R,M},oh=ni,Jw=Ye,gb=$u.f,Xw=_v,wv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];rh.f=function(c){return wv&&"Window"==oh(c)?function(l){try{return gb(l)}catch{return Xw(wv)}}(c):gb(Jw(c))};var _o={};_o.f=Object.getOwnPropertySymbols;var Lu={};Lu.f=Gt;var ah=yt,kv=Ti,mb=Lu,qt=nn.f,ui=function(l){var c=ah.Symbol||(ah.Symbol={});kv(c,l)||qt(c,l,{value:mb.f(l)})},_t=Ue,On=Q,wo=fi,e1=hr,Bu=en,t1=De,Dr=$t,Xa=Bo,Nu=_e,ct=Ti,Et=xr,Cv=Ot,yb=ri,n1=Lt,sh=Zr,Qa=xn,bb=It,ti=Ye,lh=dn,Ev=on,dt=Pi,gi=Qs,hl=xu,_b=$u,wb=rh,fl=_o,uh=Qe,Mr=nn,zu=Sd,ch=Kr,Wi=Ps,Sv=Rd,pl=ft.exports,xb=Vs,dh=eu,Ov=Gt,Rt=Lu,r1=ui,kb=Cu,Cb=Ys,ju=Bs.forEach,an=_u("hidden"),hh="Symbol",Hu="prototype",vl=Ov("toPrimitive"),o1=Cb.set,Ki=Cb.getterFor(hh),Xn=Object[Hu],xo=On.Symbol,Jo=xo&&xo[Hu],Iv=On.TypeError,Dv=On.QObject,Vu=wo("JSON","stringify"),Eb=uh.f,Pr=Mr.f,Sb=wb.f,a1=ch.f,Tb=t1([].push),ko=pl("symbols"),Wu=pl("op-symbols"),Mv=pl("string-to-symbol-registry"),Pv=pl("symbol-to-string-registry"),s1=pl("wks"),Rv=!Dv||!Dv[Hu]||!Dv[Hu].findChild,Ku=Dr&&Nu(function(){return 7!=gi(Pr({},"a",{get:function(){return Pr(this,"a",{value:7}).a}})).a})?function(l,c,g){var b=Eb(Xn,c);b&&delete Xn[c],Pr(l,c,g),b&&l!==Xn&&Pr(Xn,c,b)}:Pr,Fv=function(l,c){var g=ko[l]=gi(Jo);return o1(g,{type:hh,tag:l,description:c}),Dr||(g.description=c),g},In=function(c,g,b){c===Xn&&In(Wu,g,b),Qa(c);var _=lh(g);return Qa(b),ct(ko,_)?(b.enumerable?(ct(c,an)&&c[an][_]&&(c[an][_]=!1),b=gi(b,{enumerable:dt(0,!1)})):(ct(c,an)||Pr(c,an,dt(1,{})),c[an][_]=!0),Ku(c,_,b)):Pr(c,_,b)},Av=function(c,g){Qa(c);var b=ti(g),_=hl(b).concat($v(b));return ju(_,function(E){(!Dr||Bu(Ob,b,E))&&In(c,E,b[E])}),c},Ob=function(c){var g=lh(c),b=Bu(a1,this,g);return!(this===Xn&&ct(ko,g)&&!ct(Wu,g))&&(!(b||!ct(this,g)||!ct(ko,g)||ct(this,an)&&this[an][g])||b)},Ib=function(c,g){var b=ti(c),_=lh(g);if(b!==Xn||!ct(ko,_)||ct(Wu,_)){var E=Eb(b,_);return E&&ct(ko,_)&&!(ct(b,an)&&b[an][_])&&(E.enumerable=!0),E}},Db=function(c){var g=Sb(ti(c)),b=[];return ju(g,function(_){!ct(ko,_)&&!ct(xb,_)&&Tb(b,_)}),b},$v=function(c){var g=c===Xn,b=Sb(g?Wu:ti(c)),_=[];return ju(b,function(E){ct(ko,E)&&(!g||ct(Xn,E))&&Tb(_,ko[E])}),_};if(Xa||(xo=function(){if(n1(Jo,this))throw Iv("Symbol is not a constructor");var c=arguments.length&&void 0!==arguments[0]?Ev(arguments[0]):void 0,g=dh(c),b=function(_){this===Xn&&Bu(b,Wu,_),ct(this,an)&&ct(this[an],g)&&(this[an][g]=!1),Ku(this,g,dt(1,_))};return Dr&&Rv&&Ku(Xn,g,{configurable:!0,set:b}),Fv(g,c)},Sv(Jo=xo[Hu],"toString",function(){return Ki(this).tag}),Sv(xo,"withoutSetter",function(l){return Fv(dh(l),l)}),ch.f=Ob,Mr.f=In,zu.f=Av,uh.f=Ib,_b.f=wb.f=Db,fl.f=$v,Rt.f=function(l){return Fv(Ov(l),l)},Dr&&Pr(Jo,"description",{configurable:!0,get:function(){return Ki(this).description}})),_t({global:!0,wrap:!0,forced:!Xa,sham:!Xa},{Symbol:xo}),ju(hl(s1),function(l){r1(l)}),_t({target:hh,stat:!0,forced:!Xa},{for:function(l){var c=Ev(l);if(ct(Mv,c))return Mv[c];var g=xo(c);return Mv[c]=g,Pv[g]=c,g},keyFor:function(c){if(!sh(c))throw Iv(c+" is not a symbol");if(ct(Pv,c))return Pv[c]},useSetter:function(){Rv=!0},useSimple:function(){Rv=!1}}),_t({target:"Object",stat:!0,forced:!Xa,sham:!Dr},{create:function(c,g){return void 0===g?gi(c):Av(gi(c),g)},defineProperty:In,defineProperties:Av,getOwnPropertyDescriptor:Ib}),_t({target:"Object",stat:!0,forced:!Xa},{getOwnPropertyNames:Db,getOwnPropertySymbols:$v}),_t({target:"Object",stat:!0,forced:Nu(function(){fl.f(1)})},{getOwnPropertySymbols:function(c){return fl.f(bb(c))}}),Vu&&_t({target:"JSON",stat:!0,forced:!Xa||Nu(function(){var l=xo();return"[null]"!=Vu([l])||"{}"!=Vu({a:l})||"{}"!=Vu(Object(l))})},{stringify:function(c,g,b){var _=Wi(arguments),E=g;if((yb(g)||void 0!==c)&&!sh(c))return Et(g)||(g=function(M,R){if(Cv(E)&&(R=Bu(E,this,M,R)),!sh(R))return R}),_[1]=g,e1(Vu,null,_)}}),!Jo[vl]){var Mb=Jo.valueOf;Sv(Jo,vl,function(l){return Bu(Mb,this)})}kb(xo,hh),xb[an]=!0;var fh=yt.Object.getOwnPropertySymbols,Fb={exports:{}},d1=Ue,h1=Ye,es=Qe.f,Gu=$t,Bv=_e(function(){es(1)});d1({target:"Object",stat:!0,forced:!Gu||Bv,sham:!Gu},{getOwnPropertyDescriptor:function(c,g){return es(h1(c),g)}});var Nv=yt.Object,$b=Fb.exports=function(c,g){return Nv.getOwnPropertyDescriptor(c,g)};Nv.getOwnPropertyDescriptor.sham&&($b.sham=!0);var zv=Fb.exports,v1=fi,m1=$u,y1=_o,jv=xn,b1=De([].concat),Ai=v1("Reflect","ownKeys")||function(c){var g=m1.f(jv(c)),b=y1.f;return b?b1(g,b(c)):g},w1=Ai,Nb=Ye,x1=Qe,k1=Ya;Ue({target:"Object",stat:!0,sham:!$t},{getOwnPropertyDescriptors:function(c){for(var R,A,g=Nb(c),b=x1.f,_=w1(g),E={},M=0;_.length>M;)void 0!==(A=b(g,R=_[M++]))&&k1(E,R,A);return E}});var Vb=yt.Object.getOwnPropertyDescriptors,Hv={exports:{}},Vv=Sd.f;Ue({target:"Object",stat:!0,forced:Object.defineProperties!==Vv,sham:!$t},{defineProperties:Vv});var ph=yt.Object,Kv=Hv.exports=function(c,g){return ph.defineProperties(c,g)};ph.defineProperties.sham&&(Kv.sham=!0);var T1=Hv.exports,gh=rp;Ue({target:"Array",stat:!0},{isArray:xr});var Ub=yt.Array.isArray,Yv=Ub;var Zv=Ue,O1=Q,I1=_e,D1=xr,Jv=ri,mh=It,M1=C,mt=Ya,P1=Fa,Zb=Ko,R1=wa,Xv=Gt("isConcatSpreadable"),Qv=9007199254740991,Xo="Maximum allowed index exceeded",Xb=O1.TypeError,F1=R1>=51||!I1(function(){var l=[];return l[Xv]=!1,l.concat()[0]!==l}),Yu=Zb("concat"),qu=function(l){if(!Jv(l))return!1;var c=l[Xv];return void 0!==c?!!c:D1(l)};Zv({target:"Array",proto:!0,forced:!F1||!Yu},{concat:function(c){var E,M,R,A,j,g=mh(this),b=P1(g,0),_=0;for(E=-1,R=arguments.length;E<R;E++)if(qu(j=-1===E?g:arguments[E])){if(_+(A=M1(j))>Qv)throw Xb(Xo);for(M=0;M<A;M++,_++)M in j&&mt(b,_,j[M])}else{if(_>=Qv)throw Xb(Xo);mt(b,_++,j)}return b.length=_,b}}),ui("asyncIterator"),ui("hasInstance"),ui("isConcatSpreadable"),ui("iterator"),ui("match"),ui("matchAll"),ui("replace"),ui("search"),ui("species"),ui("split"),ui("toPrimitive"),ui("toStringTag"),ui("unscopables"),Cu(Q.JSON,"JSON",!0);var bh=yt.Symbol,W1=bh;ui("asyncDispose"),ui("dispose"),ui("matcher"),ui("metadata"),ui("observable"),ui("patternMatch"),ui("replaceAll");var is=W1;var q1=Ue,er=Q,fn=xr,ml=fd,Qo=ri,Dn=Na,Mn=C,Pn=Ye,Co=Ya,sn=Gt,Xu=Ps,s0=Ko("slice"),ns=sn("species"),Fr=er.Array,_h=Math.max;q1({target:"Array",proto:!0,forced:!s0},{slice:function(c,g){var R,A,j,b=Pn(this),_=Mn(b),E=Dn(c,_),M=Dn(void 0===g?_:g,_);if(fn(b)&&((ml(R=b.constructor)&&(R===Fr||fn(R.prototype))||Qo(R)&&null===(R=R[ns]))&&(R=void 0),R===Fr||void 0===R))return Xu(b,E,M);for(A=new(void 0===R?Fr:R)(_h(M-E,0)),j=0;E<M;E++,j++)E in b&&Co(A,j,b[E]);return A.length=j,A}});var rs=oi("Array").slice,Qu=Lt,ec=rs,os=Array.prototype,tc=function(l){var c=l.slice;return l===os||Qu(os,l)&&c===os.slice?ec:c},l0=tc,kh=sl;function na(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function ir(l,c){var g;if(l){if("string"==typeof l)return na(l,c);var b=l0(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return kh(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return na(l,c)}}function Zt(l,c){return function qv(l){if(Yv(l))return l}(l)||function rg(l,c){var g=null==l?null:typeof is<"u"&&dl(l)||l["@@iterator"];if(null!=g){var M,R,b=[],_=!0,E=!1;try{for(g=g.call(l);!(_=(M=g.next()).done)&&(b.push(M.value),!c||b.length!==c);_=!0);}catch(A){E=!0,R=A}finally{try{!_&&null!=g.return&&g.return()}finally{if(E)throw R}}return b}}(l,c)||ir(l,c)||function ic(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ag=Lu.f("iterator"),u0=ag;function mi(l){return(mi="function"==typeof is&&"symbol"==typeof u0?function(c){return typeof c}:function(c){return c&&"function"==typeof is&&c.constructor===is&&c!==is.prototype?"symbol":typeof c})(l)}function Di(l){return function nr(l){if(Yv(l))return na(l)}(l)||function nc(l){if(typeof is<"u"&&null!=dl(l)||null!=l["@@iterator"])return kh(l)}(l)||ir(l)||function rc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rr=bh,oc=oi("Array").concat,sg=Lt,c0=oc,Th=Array.prototype,Ih=function(l){var c=l.concat;return l===Th||sg(Th,l)&&c===Th.concat?c0:c},sc=tc;Ue({target:"Reflect",stat:!0},{ownKeys:Ai});var $r=yt.Reflect.ownKeys,Ui=Ub,ug=It,or=xu;Ue({target:"Object",stat:!0,forced:_e(function(){or(1)})},{keys:function(c){return or(ug(c))}});var So=yt.Object.keys,cg=Ue,Fh=Q.Date,hg=De(Fh.prototype.getTime);cg({target:"Date",stat:!0},{now:function(){return hg(new Fh)}});var p0=Bs.forEach,m0=tt("forEach")?[].forEach:function(c){return p0(this,c,arguments.length>1?arguments[1]:void 0)};Ue({target:"Array",proto:!0,forced:[].forEach!=m0},{forEach:m0});var Q1=oi("Array").forEach,pg=lo,w0=Ti,vg=Lt,gg=Q1,Sl=Array.prototype,x0={DOMTokenList:!0,NodeList:!0},To=function(l){var c=l.forEach;return l===Sl||vg(Sl,l)&&c===Sl.forEach||w0(x0,pg(l))?gg:c},Rn=Ue,tx=xr,yg=De([].reverse),ar=[1,2];Rn({target:"Array",proto:!0,forced:String(ar)===String(ar.reverse())},{reverse:function(){return tx(this)&&(this.length=this.length),yg(this)}});var ix=oi("Array").reverse,k0=Lt,nx=ix,sr=Array.prototype,Tl=Ue,cc=Q,Ft=Na,dc=Ma,sa=C,pn=It,ut=Fa,Ah=Ya,wg=Ko("splice"),$h=cc.TypeError,Ol=Math.max,Io=Math.min,Lh=9007199254740991,Yi="Maximum allowed length exceeded";Tl({target:"Array",proto:!0,forced:!wg},{splice:function(c,g){var R,A,j,W,U,X,b=pn(this),_=sa(b),E=Ft(c,_),M=arguments.length;if(0===M?R=A=0:1===M?(R=0,A=_-E):(R=M-2,A=Io(Ol(dc(g),0),_-E)),_+R-A>Lh)throw $h(Yi);for(j=ut(b,A),W=0;W<A;W++)(U=E+W)in b&&Ah(j,W,b[U]);if(j.length=A,R<A){for(W=E;W<_-A;W++)X=W+R,(U=W+A)in b?b[X]=b[U]:delete b[X];for(W=_;W>_-A+R;W--)delete b[W-1]}else if(R>A)for(W=_-A;W>E;W--)X=W+R-1,(U=W+A-1)in b?b[X]=b[U]:delete b[X];for(W=0;W<R;W++)b[W+E]=arguments[W+2];return b.length=_-A+R,j}});var rx=oi("Array").splice,la=Lt,Fn=rx,xg=Array.prototype,zh=function(l){var c=l.splice;return l===xg||la(xg,l)&&c===xg.splice?Fn:c},kg=$t,sx=en,hc=_e,ss=xu,lx=_o,E0=Kr,ux=It,ua=_s,Il=Object.assign,jh=Object.defineProperty,Mo=De([].concat),S0=!Il||hc(function(){if(kg&&1!==Il({b:1},Il(jh({},"a",{enumerable:!0,get:function(){jh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var l={},c={},g=Symbol(),b="abcdefghijklmnopqrst";return l[g]=7,b.split("").forEach(function(_){c[_]=_}),7!=Il({},l)[g]||ss(Il({},c)).join("")!=b})?function(c,g){for(var b=ux(c),_=arguments.length,E=1,M=lx.f,R=E0.f;_>E;)for(var X,A=ua(arguments[E++]),j=M?Mo(ss(A),M(A)):ss(A),W=j.length,U=0;W>U;)X=j[U++],(!kg||sx(R,A,X))&&(b[X]=A[X]);return b}:Il;Ue({target:"Object",stat:!0,forced:Object.assign!==S0},{assign:S0});var Eg=yt.Object.assign,ls=za.includes;Ue({target:"Array",proto:!0},{includes:function(c){return ls(this,c,arguments.length>1?arguments[1]:void 0)}}),oi("Array");var Ve=ri,qi=ni,Ro=Gt("match"),O0=Q.TypeError,Bt=Gt("match"),hx=Ue,R0=function(l){if(function(l){var c;return Ve(l)&&(void 0!==(c=l[Ro])?!!c:"RegExp"==qi(l))}(l))throw O0("The method doesn't accept regular expressions");return l},fc=ba,$i=on,A0=De("".indexOf);hx({target:"String",proto:!0,forced:!function(l){var c=/./;try{"/./"[l](c)}catch{try{return c[Bt]=!1,"/./"[l](c)}catch{}}return!1}("includes")},{includes:function(c){return!!~A0($i(fc(this)),$i(R0(c)),arguments.length>1?arguments[1]:void 0)}}),oi("String");var Og=It,L0=Qp,B0=Ty;Ue({target:"Object",stat:!0,forced:_e(function(){L0(1)}),sham:!B0},{getPrototypeOf:function(c){return L0(Og(c))}});var z0=yt.Object.getPrototypeOf,gx=$t,j0=De,Ig=xu,Wh=Ye,mx=j0(Kr.f),yx=j0([].push),V0=function(l){return function(c){for(var R,g=Wh(c),b=Ig(g),_=b.length,E=0,M=[];_>E;)R=b[E++],(!gx||mx(g,R))&&yx(M,l?[R,g[R]]:g[R]);return M}},Kh=(V0(!0),V0(!1));Ue({target:"Object",stat:!0},{values:function(c){return Kh(c)}});var gc="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Mg=ba,bx=on,G0=gc,Br=De("".replace),Dl="["+G0+"]",Pg=RegExp("^"+Dl+Dl+"*"),_x=RegExp(Dl+Dl+"*$"),Rg=function(l){return function(c){var g=bx(Mg(c));return 1&l&&(g=Br(g,Pg,"")),2&l&&(g=Br(g,_x,"")),g}},U0={start:Rg(1),end:Rg(2),trim:Rg(3)},wx=_e,xx=on,da=U0.trim,Ag=gc,mc=Q.parseInt,yc=Q.Symbol,q0=yc&&yc.iterator,bc=/^[+-]?0x/i,Z0=De(bc.exec),kx=8!==mc(Ag+"08")||22!==mc(Ag+"0x16")||q0&&!wx(function(){mc(Object(q0))})?function(c,g){var b=da(xx(c));return mc(b,g>>>0||(Z0(bc,b)?16:10))}:mc;Ue({global:!0,forced:parseInt!=kx},{parseInt:kx});var Sx=Ue,Tx=za.indexOf,Ox=tt,$g=De([].indexOf),Lg=!!$g&&1/$g([1],1,-0)<0,Bg=Ox("indexOf");Sx({target:"Array",proto:!0,forced:Lg||!Bg},{indexOf:function(c){var g=arguments.length>1?arguments[1]:void 0;return Lg?$g(this,c,g)||0:Tx(this,c,g)}}),oi("Array");var l,Dx=Bp.PROPER,Q0=gc,Uh=U0.trim;Ue({target:"String",proto:!0,forced:(l="trim",_e(function(){return!!Q0[l]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[l]()||Dx&&Q0[l].name!==l}))},{trim:function(){return Uh(this)}}),oi("String"),Ue({target:"Object",stat:!0,sham:!$t},{create:Qs});var Fx=yt.Object,qh=function(c,g){return Fx.create(c,g)},jg=qh,$x=Ue,wc=hr,Ml=De,Zh=_e,Hg=Q.Array,Pl=fi("JSON","stringify"),lr=Ml(/./.exec),n_=Ml("".charAt),Vg=Ml("".charCodeAt),Nx=Ml("".replace),zx=Ml(1..toString),us=/[\uD800-\uDFFF]/g,Jh=/^[\uD800-\uDBFF]$/,r_=/^[\uDC00-\uDFFF]$/,jx=function(l,c,g){var b=n_(g,c-1),_=n_(g,c+1);return lr(Jh,l)&&!lr(r_,_)||lr(r_,l)&&!lr(Jh,b)?"\\u"+zx(Vg(l,0),16):l},Hx=Zh(function(){return'"\\udf06\\ud834"'!==Pl("\udf06\ud834")||'"\\udead"'!==Pl("\udead")});Pl&&$x({target:"JSON",stat:!0,forced:Hx},{stringify:function(c,g,b){for(var _=0,E=arguments.length,M=Hg(E);_<E;_++)M[_]=arguments[_];var R=wc(Pl,null,M);return"string"==typeof R?Nx(R,us,jx):R}});var xc=yt,Vx=hr;xc.JSON||(xc.JSON={stringify:JSON.stringify});var Kx=function(c,g,b){return Vx(xc.JSON.stringify,null,arguments)},o_=Q.TypeError,Gg=Ue,cs=Q,Xh=hr,ur=Ot,Ug=Ps,s_=function(l,c){if(l<c)throw o_("Not enough arguments");return l},l_=/MSIE .\./.test(Yr),Yg=cs.Function,qg=function(l){return function(c,g){var b=s_(arguments.length,1)>2,_=ur(c)?c:Yg(c),E=b?Ug(arguments,2):void 0;return l(b?function(){Xh(_,this,E)}:_,g)}};Gg({global:!0,bind:!0,forced:l_},{setTimeout:qg(cs.setTimeout),setInterval:qg(cs.setInterval)});var ef=yt.setTimeout,Jg=It,u_=Na,Gx=C;Ue({target:"Array",proto:!0},{fill:function(c){for(var g=Jg(this),b=Gx(g),_=arguments.length,E=u_(_>1?arguments[1]:void 0,b),M=_>2?arguments[2]:void 0,R=void 0===M?b:u_(M,b);R>E;)g[E++]=c;return g}}),oi("Array");var v={exports:{}};!function(l){function c(b){if(b)return function g(b){for(var _ in c.prototype)b[_]=c.prototype[_];return b}(b)}l.exports=c,c.prototype.on=c.prototype.addEventListener=function(b,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(_),this},c.prototype.once=function(b,_){function E(){this.off(b,E),_.apply(this,arguments)}return E.fn=_,this.on(b,E),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(b,_){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var E=this._callbacks["$"+b];if(!E)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var M,R=0;R<E.length;R++)if((M=E[R])===_||M.fn===_){E.splice(R,1);break}return 0===E.length&&delete this._callbacks["$"+b],this},c.prototype.emit=function(b){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),E=this._callbacks["$"+b],M=1;M<arguments.length;M++)_[M-1]=arguments[M];if(E){M=0;for(var R=(E=E.slice(0)).length;M<R;++M)E[M].apply(this,_)}return this},c.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]},c.prototype.hasListeners=function(b){return!!this.listeners(b).length}}(v);var B,k=v.exports;function O(){return O=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(l[b]=g[b])}return l},O.apply(this,arguments)}function D(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}function F(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}B="function"!=typeof Object.assign?function(c){if(null==c)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),b=1;b<arguments.length;b++){var _=arguments[b];if(null!=_)for(var E in _)_.hasOwnProperty(E)&&(g[E]=_[E])}return g}:Object.assign;var Ie,z=B,Z=["","webkit","Moz","MS","ms","o"],q=typeof document>"u"?{style:{}}:document.createElement("div"),ye=Math.round,Te=Math.abs,Se=Date.now;function Re(l,c){for(var g,b,_=c[0].toUpperCase()+c.slice(1),E=0;E<Z.length;){if((b=(g=Z[E])?g+_:c)in l)return b;E++}}Ie=typeof window>"u"?{}:window;var Je=Re(q.style,"touchAction"),St=void 0!==Je;var At="compute",un="manipulation",Jt="none",Ci="pan-x",Li="pan-y",fa=function wt(){if(!St)return!1;var l={},c=Ie.CSS&&Ie.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(g){return l[g]=!c||Ie.CSS.supports("touch-action",g)}),l}(),ds="ontouchstart"in Ie,tf=void 0!==Re(Ie,"PointerEvent"),Cc=ds&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),vt="touch",he="mouse",Ak=["x","y"],d_=["clientX","clientY"];function fs(l,c,g){var b;if(l)if(l.forEach)l.forEach(c,g);else if(void 0!==l.length)for(b=0;b<l.length;)c.call(g,l[b],b,l),b++;else for(b in l)l.hasOwnProperty(b)&&c.call(g,l[b],b,l)}function h_(l,c){return"function"==typeof l?l.apply(c&&c[0]||void 0,c):l}function Ec(l,c){return l.indexOf(c)>-1}var $k=function(){function l(g,b){this.manager=g,this.set(b)}var c=l.prototype;return c.set=function(b){b===At&&(b=this.compute()),St&&this.manager.element.style&&fa[b]&&(this.manager.element.style[Je]=b),this.actions=b.toLowerCase().trim()},c.update=function(){this.set(this.manager.options.touchAction)},c.compute=function(){var b=[];return fs(this.manager.recognizers,function(_){h_(_.options.enable,[_])&&(b=b.concat(_.getTouchAction()))}),function QC(l){if(Ec(l,Jt))return Jt;var c=Ec(l,Ci),g=Ec(l,Li);return c&&g?Jt:c||g?c?Ci:Li:Ec(l,un)?un:"auto"}(b.join(" "))},c.preventDefaults=function(b){var _=b.srcEvent,E=b.offsetDirection;if(!this.manager.session.prevented){var M=this.actions,R=Ec(M,Jt)&&!fa[Jt],A=Ec(M,Li)&&!fa[Li],j=Ec(M,Ci)&&!fa[Ci];if(R&&1===b.pointers.length&&b.distance<2&&b.deltaTime<250)return;return j&&A||!(R||A&&6&E||j&&24&E)?void 0:this.preventSrc(_)}_.preventDefault()},c.preventSrc=function(b){this.manager.session.prevented=!0,b.preventDefault()},l}();function Ux(l,c){for(;l;){if(l===c)return!0;l=l.parentNode}return!1}function Lk(l){var c=l.length;if(1===c)return{x:ye(l[0].clientX),y:ye(l[0].clientY)};for(var g=0,b=0,_=0;_<c;)g+=l[_].clientX,b+=l[_].clientY,_++;return{x:ye(g/c),y:ye(b/c)}}function Bk(l){for(var c=[],g=0;g<l.pointers.length;)c[g]={clientX:ye(l.pointers[g].clientX),clientY:ye(l.pointers[g].clientY)},g++;return{timeStamp:Se(),pointers:c,center:Lk(c),deltaX:l.deltaX,deltaY:l.deltaY}}function f_(l,c,g){g||(g=Ak);var b=c[g[0]]-l[g[0]],_=c[g[1]]-l[g[1]];return Math.sqrt(b*b+_*_)}function Yx(l,c,g){return g||(g=Ak),180*Math.atan2(c[g[1]]-l[g[1]],c[g[0]]-l[g[0]])/Math.PI}function Nk(l,c){return l===c?1:Te(l)>=Te(c)?l<0?2:4:c<0?8:16}function zk(l,c,g){return{x:c/l||0,y:g/l||0}}function rE(l,c){var g=l.session,b=c.pointers,_=b.length;g.firstInput||(g.firstInput=Bk(c)),_>1&&!g.firstMultiple?g.firstMultiple=Bk(c):1===_&&(g.firstMultiple=!1);var E=g.firstInput,M=g.firstMultiple,R=M?M.center:E.center,A=c.center=Lk(b);c.timeStamp=Se(),c.deltaTime=c.timeStamp-E.timeStamp,c.angle=Yx(R,A),c.distance=f_(R,A),function eE(l,c){var g=c.center,b=l.offsetDelta||{},_=l.prevDelta||{},E=l.prevInput||{};(1===c.eventType||4===E.eventType)&&(_=l.prevDelta={x:E.deltaX||0,y:E.deltaY||0},b=l.offsetDelta={x:g.x,y:g.y}),c.deltaX=_.x+(g.x-b.x),c.deltaY=_.y+(g.y-b.y)}(g,c),c.offsetDirection=Nk(c.deltaX,c.deltaY);var j=zk(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=j.x,c.overallVelocityY=j.y,c.overallVelocity=Te(j.x)>Te(j.y)?j.x:j.y,c.scale=M?function tE(l,c){return f_(c[0],c[1],d_)/f_(l[0],l[1],d_)}(M.pointers,b):1,c.rotation=M?function iE(l,c){return Yx(c[1],c[0],d_)+Yx(l[1],l[0],d_)}(M.pointers,b):0,c.maxPointers=g.prevInput?c.pointers.length>g.prevInput.maxPointers?c.pointers.length:g.prevInput.maxPointers:c.pointers.length,function nE(l,c){var _,E,M,R,g=l.lastInterval||c,b=c.timeStamp-g.timeStamp;if(8!==c.eventType&&(b>25||void 0===g.velocity)){var A=c.deltaX-g.deltaX,j=c.deltaY-g.deltaY,W=zk(b,A,j);E=W.x,M=W.y,_=Te(W.x)>Te(W.y)?W.x:W.y,R=Nk(A,j),l.lastInterval=c}else _=g.velocity,E=g.velocityX,M=g.velocityY,R=g.direction;c.velocity=_,c.velocityX=E,c.velocityY=M,c.direction=R}(g,c);var X,W=l.element,U=c.srcEvent;Ux(X=U.composedPath?U.composedPath()[0]:U.path?U.path[0]:U.target,W)&&(W=X),c.target=W}function oE(l,c,g){var b=g.pointers.length,_=g.changedPointers.length,E=1&c&&b-_==0,M=12&c&&b-_==0;g.isFirst=!!E,g.isFinal=!!M,E&&(l.session={}),g.eventType=c,rE(l,g),l.emit("hammer.input",g),l.recognize(g),l.session.prevInput=g}function Xg(l){return l.trim().split(/\s+/g)}function Qg(l,c,g){fs(Xg(c),function(b){l.addEventListener(b,g,!1)})}function em(l,c,g){fs(Xg(c),function(b){l.removeEventListener(b,g,!1)})}function jk(l){var c=l.ownerDocument||l;return c.defaultView||c.parentWindow||window}var nf=function(){function l(g,b){var _=this;this.manager=g,this.callback=b,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(E){h_(g.options.enable,[g])&&_.handler(E)},this.init()}var c=l.prototype;return c.handler=function(){},c.init=function(){this.evEl&&Qg(this.element,this.evEl,this.domHandler),this.evTarget&&Qg(this.target,this.evTarget,this.domHandler),this.evWin&&Qg(jk(this.element),this.evWin,this.domHandler)},c.destroy=function(){this.evEl&&em(this.element,this.evEl,this.domHandler),this.evTarget&&em(this.target,this.evTarget,this.domHandler),this.evWin&&em(jk(this.element),this.evWin,this.domHandler)},l}();function Sc(l,c,g){if(l.indexOf&&!g)return l.indexOf(c);for(var b=0;b<l.length;){if(g&&l[b][g]==c||!g&&l[b]===c)return b;b++}return-1}var Hk={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Vk={2:vt,3:"pen",4:he,5:"kinect"},$n="pointerdown",Wk="pointermove pointerup pointercancel";Ie.MSPointerEvent&&!Ie.PointerEvent&&($n="MSPointerDown",Wk="MSPointerMove MSPointerUp MSPointerCancel");var qx=function(l){function c(){var b,_=c.prototype;return _.evEl=$n,_.evWin=Wk,(b=l.apply(this,arguments)||this).store=b.manager.session.pointerEvents=[],b}return D(c,l),c.prototype.handler=function(_){var E=this.store,M=!1,R=_.type.toLowerCase().replace("ms",""),A=Hk[R],j=Vk[_.pointerType]||_.pointerType,W=j===vt,U=Sc(E,_.pointerId,"pointerId");1&A&&(0===_.button||W)?U<0&&(E.push(_),U=E.length-1):12&A&&(M=!0),!(U<0)&&(E[U]=_,this.callback(this.manager,A,{pointers:E,changedPointers:[_],pointerType:j,srcEvent:_}),M&&E.splice(U,1))},c}(nf);function tm(l){return Array.prototype.slice.call(l,0)}function p_(l,c,g){for(var b=[],_=[],E=0;E<l.length;){var M=c?l[E][c]:l[E];Sc(_,M)<0&&b.push(l[E]),_[E]=M,E++}return g&&(b=c?b.sort(function(R,A){return R[c]>A[c]}):b.sort()),b}var aE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},sE="touchstart touchmove touchend touchcancel",Zx=function(l){function c(){var b;return c.prototype.evTarget=sE,(b=l.apply(this,arguments)||this).targetIds={},b}return D(c,l),c.prototype.handler=function(_){var E=aE[_.type],M=lE.call(this,_,E);M&&this.callback(this.manager,E,{pointers:M[0],changedPointers:M[1],pointerType:vt,srcEvent:_})},c}(nf);function lE(l,c){var g=tm(l.touches),b=this.targetIds;if(3&c&&1===g.length)return b[g[0].identifier]=!0,[g,g];var _,E,M=tm(l.changedTouches),R=[],A=this.target;if(E=g.filter(function(j){return Ux(j.target,A)}),1===c)for(_=0;_<E.length;)b[E[_].identifier]=!0,_++;for(_=0;_<M.length;)b[M[_].identifier]&&R.push(M[_]),12&c&&delete b[M[_].identifier],_++;return R.length?[p_(E.concat(R),"identifier",!0),R]:void 0}var uE={mousedown:1,mousemove:2,mouseup:4},cE="mousedown",Kk="mousemove mouseup",Jx=function(l){function c(){var b,_=c.prototype;return _.evEl=cE,_.evWin=Kk,(b=l.apply(this,arguments)||this).pressed=!1,b}return D(c,l),c.prototype.handler=function(_){var E=uE[_.type];1&E&&0===_.button&&(this.pressed=!0),2&E&&1!==_.which&&(E=4),this.pressed&&(4&E&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[_],changedPointers:[_],pointerType:he,srcEvent:_}))},c}(nf);function Gk(l){var g=l.changedPointers[0];if(g.identifier===this.primaryTouch){var b={x:g.clientX,y:g.clientY},_=this.lastTouches;this.lastTouches.push(b),setTimeout(function(){var R=_.indexOf(b);R>-1&&_.splice(R,1)},2500)}}function Uk(l,c){1&l?(this.primaryTouch=c.changedPointers[0].identifier,Gk.call(this,c)):12&l&&Gk.call(this,c)}function hE(l){for(var c=l.srcEvent.clientX,g=l.srcEvent.clientY,b=0;b<this.lastTouches.length;b++){var _=this.lastTouches[b],E=Math.abs(c-_.x),M=Math.abs(g-_.y);if(E<=25&&M<=25)return!0}return!1}var Yk=function(){return function(c){function g(_,E){var M;return(M=c.call(this,_,E)||this).handler=function(R,A,j){var U=j.pointerType===he;if(!(U&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(j.pointerType===vt)Uk.call(F(F(M)),A,j);else if(U&&hE.call(F(F(M)),j))return;M.callback(R,A,j)}},M.touch=new Zx(M.manager,M.handler),M.mouse=new Jx(M.manager,M.handler),M.primaryTouch=null,M.lastTouches=[],M}return D(g,c),g.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},g}(nf)}();function Tc(l,c,g){return!!Array.isArray(l)&&(fs(l,g[c],g),!0)}var pE=1;function g_(l,c){var g=c.manager;return g?g.get(l):l}function qk(l){return 16&l?"cancel":8&l?"end":4&l?"move":2&l?"start":""}var nm=function(){function l(g){void 0===g&&(g={}),this.options=O({enable:!0},g),this.id=function vE(){return pE++}(),this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var c=l.prototype;return c.set=function(b){return z(this.options,b),this.manager&&this.manager.touchAction.update(),this},c.recognizeWith=function(b){if(Tc(b,"recognizeWith",this))return this;var _=this.simultaneous;return _[(b=g_(b,this)).id]||(_[b.id]=b,b.recognizeWith(this)),this},c.dropRecognizeWith=function(b){return Tc(b,"dropRecognizeWith",this)||(b=g_(b,this),delete this.simultaneous[b.id]),this},c.requireFailure=function(b){if(Tc(b,"requireFailure",this))return this;var _=this.requireFail;return-1===Sc(_,b=g_(b,this))&&(_.push(b),b.requireFailure(this)),this},c.dropRequireFailure=function(b){if(Tc(b,"dropRequireFailure",this))return this;b=g_(b,this);var _=Sc(this.requireFail,b);return _>-1&&this.requireFail.splice(_,1),this},c.hasRequireFailures=function(){return this.requireFail.length>0},c.canRecognizeWith=function(b){return!!this.simultaneous[b.id]},c.emit=function(b){var _=this,E=this.state;function M(R){_.manager.emit(R,b)}E<8&&M(_.options.event+qk(E)),M(_.options.event),b.additionalEvent&&M(b.additionalEvent),E>=8&&M(_.options.event+qk(E))},c.tryEmit=function(b){if(this.canEmit())return this.emit(b);this.state=32},c.canEmit=function(){for(var b=0;b<this.requireFail.length;){if(!(33&this.requireFail[b].state))return!1;b++}return!0},c.recognize=function(b){var _=z({},b);if(!h_(this.options.enable,[this,_]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(_),30&this.state&&this.tryEmit(_)},c.process=function(b){},c.getTouchAction=function(){},c.reset=function(){},l}(),Xx=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},b))||this).pTime=!1,_.pCenter=!1,_._timer=null,_._input=null,_.count=0,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[un]},g.process=function(_){var E=this,M=this.options,R=_.pointers.length===M.pointers,A=_.distance<M.threshold,j=_.deltaTime<M.time;if(this.reset(),1&_.eventType&&0===this.count)return this.failTimeout();if(A&&j&&R){if(4!==_.eventType)return this.failTimeout();var W=!this.pTime||_.timeStamp-this.pTime<M.interval,U=!this.pCenter||f_(this.pCenter,_.center)<M.posThreshold;if(this.pTime=_.timeStamp,this.pCenter=_.center,U&&W?this.count+=1:this.count=1,this._input=_,0==this.count%M.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){E.state=8,E.tryEmit()},M.interval),2):8}return 32},g.failTimeout=function(){var _=this;return this._timer=setTimeout(function(){_.state=32},this.options.interval),32},g.reset=function(){clearTimeout(this._timer)},g.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},c}(nm),Oc=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({pointers:1},b))||this}D(c,l);var g=c.prototype;return g.attrTest=function(_){var E=this.options.pointers;return 0===E||_.pointers.length===E},g.process=function(_){var E=this.state,M=_.eventType,R=6&E,A=this.attrTest(_);return R&&(8&M||!A)?16|E:R||A?4&M?8|E:2&E?4|E:2:32},c}(nm);function Qx(l){return 16===l?"down":8===l?"up":2===l?"left":4===l?"right":""}var m_=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"pan",threshold:10,pointers:1,direction:30},b))||this).pX=null,_.pY=null,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){var _=this.options.direction,E=[];return 6&_&&E.push(Li),24&_&&E.push(Ci),E},g.directionTest=function(_){var E=this.options,M=!0,R=_.distance,A=_.direction,j=_.deltaX,W=_.deltaY;return A&E.direction||(6&E.direction?(A=0===j?1:j<0?2:4,M=j!==this.pX,R=Math.abs(_.deltaX)):(A=0===W?1:W<0?8:16,M=W!==this.pY,R=Math.abs(_.deltaY))),_.direction=A,M&&R>E.threshold&&A&E.direction},g.attrTest=function(_){return Oc.prototype.attrTest.call(this,_)&&(2&this.state||!(2&this.state)&&this.directionTest(_))},g.emit=function(_){this.pX=_.deltaX,this.pY=_.deltaY;var E=Qx(_.direction);E&&(_.additionalEvent=this.options.event+E),l.prototype.emit.call(this,_)},c}(Oc),ek=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return m_.prototype.getTouchAction.call(this)},g.attrTest=function(_){var M,E=this.options.direction;return 30&E?M=_.overallVelocity:6&E?M=_.overallVelocityX:24&E&&(M=_.overallVelocityY),l.prototype.attrTest.call(this,_)&&E&_.offsetDirection&&_.distance>this.options.threshold&&_.maxPointers===this.options.pointers&&Te(M)>this.options.velocity&&4&_.eventType},g.emit=function(_){var E=Qx(_.offsetDirection);E&&this.manager.emit(this.options.event+E,_),this.manager.emit(this.options.event,_)},c}(Oc),tk=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"pinch",threshold:0,pointers:2},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[Jt]},g.attrTest=function(_){return l.prototype.attrTest.call(this,_)&&(Math.abs(_.scale-1)>this.options.threshold||2&this.state)},g.emit=function(_){1!==_.scale&&(_.additionalEvent=this.options.event+(_.scale<1?"in":"out")),l.prototype.emit.call(this,_)},c}(Oc),ik=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"rotate",threshold:0,pointers:2},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[Jt]},g.attrTest=function(_){return l.prototype.attrTest.call(this,_)&&(Math.abs(_.rotation)>this.options.threshold||2&this.state)},c}(Oc),Zk=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"press",pointers:1,time:251,threshold:9},b))||this)._timer=null,_._input=null,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return["auto"]},g.process=function(_){var E=this,M=this.options,R=_.pointers.length===M.pointers,A=_.distance<M.threshold,j=_.deltaTime>M.time;if(this._input=_,!A||!R||12&_.eventType&&!j)this.reset();else if(1&_.eventType)this.reset(),this._timer=setTimeout(function(){E.state=8,E.tryEmit()},M.time);else if(4&_.eventType)return 8;return 32},g.reset=function(){clearTimeout(this._timer)},g.emit=function(_){8===this.state&&(_&&4&_.eventType?this.manager.emit(this.options.event+"up",_):(this._input.timeStamp=Se(),this.manager.emit(this.options.event,this._input)))},c}(nm),y_={domEvents:!1,touchAction:At,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Jk=[[ik,{enable:!1}],[tk,{enable:!1},["rotate"]],[ek,{direction:6}],[m_,{direction:6},["swipe"]],[Xx],[Xx,{event:"doubletap",taps:2},["tap"]],[Zk]];function nk(l,c){var b,g=l.element;g.style&&(fs(l.options.cssProps,function(_,E){b=Re(g.style,E),c?(l.oldCssProps[b]=g.style[b],g.style[b]=_):g.style[b]=l.oldCssProps[b]||""}),c||(l.oldCssProps={}))}var eC=function(){function l(g,b){var _=this;this.options=z({},y_,b||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=function fE(l){return new(l.options.inputClass||(tf?qx:Cc?Zx:ds?Yk:Jx))(l,oE)}(this),this.touchAction=new $k(this,this.options.touchAction),nk(this,!0),fs(this.options.recognizers,function(E){var M=_.add(new E[0](E[1]));E[2]&&M.recognizeWith(E[2]),E[3]&&M.requireFailure(E[3])},this)}var c=l.prototype;return c.set=function(b){return z(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},c.stop=function(b){this.session.stopped=b?2:1},c.recognize=function(b){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(b);var E,M=this.recognizers,R=_.curRecognizer;(!R||R&&8&R.state)&&(_.curRecognizer=null,R=null);for(var A=0;A<M.length;)E=M[A],2===_.stopped||R&&E!==R&&!E.canRecognizeWith(R)?E.reset():E.recognize(b),!R&&14&E.state&&(_.curRecognizer=E,R=E),A++}},c.get=function(b){if(b instanceof nm)return b;for(var _=this.recognizers,E=0;E<_.length;E++)if(_[E].options.event===b)return _[E];return null},c.add=function(b){if(Tc(b,"add",this))return this;var _=this.get(b.options.event);return _&&this.remove(_),this.recognizers.push(b),b.manager=this,this.touchAction.update(),b},c.remove=function(b){if(Tc(b,"remove",this))return this;var _=this.get(b);if(b){var E=this.recognizers,M=Sc(E,_);-1!==M&&(E.splice(M,1),this.touchAction.update())}return this},c.on=function(b,_){if(void 0===b||void 0===_)return this;var E=this.handlers;return fs(Xg(b),function(M){E[M]=E[M]||[],E[M].push(_)}),this},c.off=function(b,_){if(void 0===b)return this;var E=this.handlers;return fs(Xg(b),function(M){_?E[M]&&E[M].splice(Sc(E[M],_),1):delete E[M]}),this},c.emit=function(b,_){this.options.domEvents&&function gE(l,c){var g=document.createEvent("Event");g.initEvent(l,!0,!0),g.gesture=c,c.target.dispatchEvent(g)}(b,_);var E=this.handlers[b]&&this.handlers[b].slice();if(E&&E.length){_.type=b,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var M=0;M<E.length;)E[M](_),M++}},c.destroy=function(){this.element&&nk(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},l}(),mE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},tC="touchstart",yE="touchstart touchmove touchend touchcancel",iC=function(l){function c(){var b,_=c.prototype;return _.evTarget=tC,_.evWin=yE,(b=l.apply(this,arguments)||this).started=!1,b}return D(c,l),c.prototype.handler=function(_){var E=mE[_.type];if(1===E&&(this.started=!0),this.started){var M=of.call(this,_,E);12&E&&M[0].length-M[1].length==0&&(this.started=!1),this.callback(this.manager,E,{pointers:M[0],changedPointers:M[1],pointerType:vt,srcEvent:_})}},c}(nf);function of(l,c){var g=tm(l.touches),b=tm(l.changedTouches);return 12&c&&(g=p_(g.concat(b),"identifier",!0)),[g,b]}function nC(l,c,g){var b="DEPRECATED METHOD: "+c+"\n"+g+" AT \n";return function(){var _=new Error("get-stack-trace"),E=_&&_.stack?_.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",M=window.console&&(window.console.warn||window.console.log);return M&&M.call(window.console,b,E),l.apply(this,arguments)}}var rk=nC(function(l,c,g){for(var b=Object.keys(c),_=0;_<b.length;)(!g||g&&void 0===l[b[_]])&&(l[b[_]]=c[b[_]]),_++;return l},"extend","Use `assign`."),bE=nC(function(l,c){return rk(l,c,!0)},"merge","Use `assign`.");function _E(l,c,g){var _,b=c.prototype;(_=l.prototype=Object.create(b)).constructor=l,_._super=b,g&&z(_,g)}function b_(l,c){return function(){return l.apply(c,arguments)}}var __=function(){var l=function(g,b){return void 0===b&&(b={}),new eC(g,O({recognizers:Jk.concat()},b))};return l.VERSION="2.0.17-rc",l.DIRECTION_ALL=30,l.DIRECTION_DOWN=16,l.DIRECTION_LEFT=2,l.DIRECTION_RIGHT=4,l.DIRECTION_UP=8,l.DIRECTION_HORIZONTAL=6,l.DIRECTION_VERTICAL=24,l.DIRECTION_NONE=1,l.DIRECTION_DOWN=16,l.INPUT_START=1,l.INPUT_MOVE=2,l.INPUT_END=4,l.INPUT_CANCEL=8,l.STATE_POSSIBLE=1,l.STATE_BEGAN=2,l.STATE_CHANGED=4,l.STATE_ENDED=8,l.STATE_RECOGNIZED=8,l.STATE_CANCELLED=16,l.STATE_FAILED=32,l.Manager=eC,l.Input=nf,l.TouchAction=$k,l.TouchInput=Zx,l.MouseInput=Jx,l.PointerEventInput=qx,l.TouchMouseInput=Yk,l.SingleTouchInput=iC,l.Recognizer=nm,l.AttrRecognizer=Oc,l.Tap=Xx,l.Pan=m_,l.Swipe=ek,l.Pinch=tk,l.Rotate=ik,l.Press=Zk,l.on=Qg,l.off=em,l.each=fs,l.merge=bE,l.extend=rk,l.bindFn=b_,l.assign=z,l.inherit=_E,l.bindFn=b_,l.prefixed=Re,l.toArray=tm,l.inArray=Sc,l.uniqueArray=p_,l.splitStr=Xg,l.boolOrFn=h_,l.hasParent=Ux,l.addEventListeners=Qg,l.removeEventListeners=em,l.defaults=z({},y_,{preset:Jk}),l}();function rC(l,c){var g=typeof rr<"u"&&dl(l)||l["@@iterator"];if(!g){if(Ui(l)||(g=function xE(l,c){var g;if(l){if("string"==typeof l)return oC(l,c);var b=sc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return ll(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return oC(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function oC(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}var rm=rr("DELETE");function aC(){var l=w_.apply(void 0,arguments);return lC(l),l}function w_(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];if(c.length<2)return c[0];var b;if(c.length>2)return w_.apply(void 0,Ih(b=[aC(c[0],c[1])]).call(b,Di(sc(c).call(c,2))));var R,_=c[0],E=c[1],M=rC($r(E));try{for(M.s();!(R=M.n()).done;){var A=R.value;Object.prototype.propertyIsEnumerable.call(E,A)&&(E[A]===rm?delete _[A]:_[A]=null===_[A]||null===E[A]||"object"!==mi(_[A])||"object"!==mi(E[A])||Ui(_[A])||Ui(E[A])?sC(E[A]):w_(_[A],E[A]))}}catch(j){M.e(j)}finally{M.f()}return _}function sC(l){return Ui(l)?Hi(l).call(l,function(c){return sC(c)}):"object"===mi(l)&&null!==l?w_({},l):l}function lC(l){for(var c=0,g=So(l);c<g.length;c++){var b=g[c];l[b]===rm?delete l[b]:"object"===mi(l[b])&&null!==l[b]&&lC(l[b])}}var Zi=typeof window<"u"?window.Hammer||__:function(){return function CE(){var l=function(){};return{on:l,off:l,destroy:l,emit:l,get:function(){return{set:l}}}}()};function Ao(l){var g,c=this;this._cleanupQueue=[],this.active=!1,this._dom={container:l,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){c._dom.overlay.parentNode.removeChild(c._dom.overlay)});var b=Zi(this._dom.overlay);b.on("tap",wr(g=this._onTapOverlay).call(g,this)),this._cleanupQueue.push(function(){b.destroy()});var _=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];To(_).call(_,function(E){b.on(E,function(M){M.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(E){(function om(l,c){for(;l;){if(l===c)return!0;l=l.parentNode}return!1})(E.target,l)||c.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",c._onClick)})),this._escListener=function(E){("key"in E?"Escape"===E.key:27===E.keyCode)&&c.deactivate()}}k(Ao.prototype),Ao.current=null,Ao.prototype.destroy=function(){var l,c;this.deactivate();var b,g=rC(function(l){var c=l.reverse;return l===sr||k0(sr,l)&&c===sr.reverse?nx:c}(l=zh(c=this._cleanupQueue).call(c,0)).call(l));try{for(g.s();!(b=g.n()).done;)(0,b.value)()}catch(E){g.e(E)}finally{g.f()}},Ao.prototype.activate=function(){Ao.current&&Ao.current.deactivate(),Ao.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Ao.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Ao.prototype._onTapOverlay=function(l){this.activate(),l.srcEvent.stopPropagation()};var EE=fd,SE=gr,TE=Q.TypeError,uC=Ue,ok=hr,x_=so,ak=function(l){if(EE(l))return l;throw TE(SE(l)+" is not a constructor")},DE=xn,cC=ri,ME=Qs,sk=_e,lk=fi("Reflect","construct"),PE=Object.prototype,dC=[].push,hC=sk(function(){function l(){}return!(lk(function(){},[],l)instanceof l)}),Al=!sk(function(){lk(function(){})}),fC=hC||Al;uC({target:"Reflect",stat:!0,forced:fC,sham:fC},{construct:function(c,g){ak(c),DE(g);var b=arguments.length<3?c:ak(arguments[2]);if(Al&&!hC)return lk(c,g,b);if(c==b){switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3])}var _=[null];return ok(dC,_,g),new(ok(x_,c,_))}var E=b.prototype,M=ME(cC(E)?E:PE),R=ok(c,M,g);return cC(R)?R:M}});var $l=yt.Reflect.construct;function cr(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var LE=qh;Ue({target:"Object",stat:!0},{setPrototypeOf:zy});var yC=yt.Object.setPrototypeOf;function dk(l,c){return(dk=yC||function(b,_){return b.__proto__=_,b})(l,c)}function hk(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");l.prototype=LE(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Ds(l,"prototype",{writable:!1}),c&&dk(l,c)}function sm(l,c){if(c&&("object"===mi(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return cr(l)}var fk=z0;function af(l){return(af=yC?fk:function(g){return g.__proto__||fk(g)})(l)}var sf={exports:{}};!function(l){var c=function(g){var E,b=Object.prototype,_=b.hasOwnProperty,M="function"==typeof Symbol?Symbol:{},R=M.iterator||"@@iterator",A=M.asyncIterator||"@@asyncIterator",j=M.toStringTag||"@@toStringTag";function W(ke,pe,Pe){return Object.defineProperty(ke,pe,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),ke[pe]}try{W({},"")}catch{W=function(pe,Pe,rt){return pe[Pe]=rt}}function U(ke,pe,Pe,rt){var Bi=Object.create((pe&&pe.prototype instanceof Wt?pe:Wt).prototype),Hr=new NS(rt||[]);return Bi._invoke=function pm(ke,pe,Pe){var rt=ae;return function(Bi,Hr){if(rt===qe)throw new Error("Generator is already running");if(rt===nt){if("throw"===Bi)throw Hr;return rT()}for(Pe.method=Bi,Pe.arg=Hr;;){var Vr=Pe.delegate;if(Vr){var va=df(Vr,Pe);if(va){if(va===Be)continue;return va}}if("next"===Pe.method)Pe.sent=Pe._sent=Pe.arg;else if("throw"===Pe.method){if(rt===ae)throw rt=nt,Pe.arg;Pe.dispatchException(Pe.arg)}else"return"===Pe.method&&Pe.abrupt("return",Pe.arg);rt=qe;var Wr=X(ke,pe,Pe);if("normal"===Wr.type){if(rt=Pe.done?nt:Le,Wr.arg===Be)continue;return{value:Wr.arg,done:Pe.done}}"throw"===Wr.type&&(rt=nt,Pe.method="throw",Pe.arg=Wr.arg)}}}(ke,Pe,Hr),Bi}function X(ke,pe,Pe){try{return{type:"normal",arg:ke.call(pe,Pe)}}catch(rt){return{type:"throw",arg:rt}}}g.wrap=U;var ae="suspendedStart",Le="suspendedYield",qe="executing",nt="completed",Be={};function Wt(){}function Ji(){}function jt(){}var bn={};W(bn,R,function(){return this});var Ln=Object.getPrototypeOf,ms=Ln&&Ln(Ln(zS([])));ms&&ms!==b&&_.call(ms,R)&&(bn=ms);var Bn=jt.prototype=Wt.prototype=Object.create(bn);function cf(ke){["next","throw","return"].forEach(function(pe){W(ke,pe,function(Pe){return this._invoke(pe,Pe)})})}function Mc(ke,pe){function Pe(Bi,Hr,Vr,va){var Wr=X(ke[Bi],ke,Hr);if("throw"!==Wr.type){var jS=Wr.arg,Fk=jS.value;return Fk&&"object"==typeof Fk&&_.call(Fk,"__await")?pe.resolve(Fk.__await).then(function(vm){Pe("next",vm,Vr,va)},function(vm){Pe("throw",vm,Vr,va)}):pe.resolve(Fk).then(function(vm){jS.value=vm,Vr(jS)},function(vm){return Pe("throw",vm,Vr,va)})}va(Wr.arg)}var rt;this._invoke=function Ze(Bi,Hr){function Vr(){return new pe(function(va,Wr){Pe(Bi,Hr,va,Wr)})}return rt=rt?rt.then(Vr,Vr):Vr()}}function df(ke,pe){var Pe=ke.iterator[pe.method];if(Pe===E){if(pe.delegate=null,"throw"===pe.method){if(ke.iterator.return&&(pe.method="return",pe.arg=E,df(ke,pe),"throw"===pe.method))return Be;pe.method="throw",pe.arg=new TypeError("The iterator does not provide a 'throw' method")}return Be}var rt=X(Pe,ke.iterator,pe.arg);if("throw"===rt.type)return pe.method="throw",pe.arg=rt.arg,pe.delegate=null,Be;var Ze=rt.arg;return Ze?Ze.done?(pe[ke.resultName]=Ze.value,pe.next=ke.nextLoc,"return"!==pe.method&&(pe.method="next",pe.arg=E),pe.delegate=null,Be):Ze:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Be)}function BS(ke){var pe={tryLoc:ke[0]};1 in ke&&(pe.catchLoc=ke[1]),2 in ke&&(pe.finallyLoc=ke[2],pe.afterLoc=ke[3]),this.tryEntries.push(pe)}function I_(ke){var pe=ke.completion||{};pe.type="normal",delete pe.arg,ke.completion=pe}function NS(ke){this.tryEntries=[{tryLoc:"root"}],ke.forEach(BS,this),this.reset(!0)}function zS(ke){if(ke){var pe=ke[R];if(pe)return pe.call(ke);if("function"==typeof ke.next)return ke;if(!isNaN(ke.length)){var Pe=-1,rt=function Ze(){for(;++Pe<ke.length;)if(_.call(ke,Pe))return Ze.value=ke[Pe],Ze.done=!1,Ze;return Ze.value=E,Ze.done=!0,Ze};return rt.next=rt}}return{next:rT}}function rT(){return{value:E,done:!0}}return Ji.prototype=jt,W(Bn,"constructor",jt),W(jt,"constructor",Ji),Ji.displayName=W(jt,j,"GeneratorFunction"),g.isGeneratorFunction=function(ke){var pe="function"==typeof ke&&ke.constructor;return!!pe&&(pe===Ji||"GeneratorFunction"===(pe.displayName||pe.name))},g.mark=function(ke){return Object.setPrototypeOf?Object.setPrototypeOf(ke,jt):(ke.__proto__=jt,W(ke,j,"GeneratorFunction")),ke.prototype=Object.create(Bn),ke},g.awrap=function(ke){return{__await:ke}},cf(Mc.prototype),W(Mc.prototype,A,function(){return this}),g.AsyncIterator=Mc,g.async=function(ke,pe,Pe,rt,Ze){void 0===Ze&&(Ze=Promise);var Bi=new Mc(U(ke,pe,Pe,rt),Ze);return g.isGeneratorFunction(pe)?Bi:Bi.next().then(function(Hr){return Hr.done?Hr.value:Bi.next()})},cf(Bn),W(Bn,j,"Generator"),W(Bn,R,function(){return this}),W(Bn,"toString",function(){return"[object Generator]"}),g.keys=function(ke){var pe=[];for(var Pe in ke)pe.push(Pe);return pe.reverse(),function rt(){for(;pe.length;){var Ze=pe.pop();if(Ze in ke)return rt.value=Ze,rt.done=!1,rt}return rt.done=!0,rt}},g.values=zS,NS.prototype={constructor:NS,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(I_),!ke)for(var pe in this)"t"===pe.charAt(0)&&_.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=E)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if("throw"===pe.type)throw pe.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var pe=this;function Pe(va,Wr){return Bi.type="throw",Bi.arg=ke,pe.next=va,Wr&&(pe.method="next",pe.arg=E),!!Wr}for(var rt=this.tryEntries.length-1;rt>=0;--rt){var Ze=this.tryEntries[rt],Bi=Ze.completion;if("root"===Ze.tryLoc)return Pe("end");if(Ze.tryLoc<=this.prev){var Hr=_.call(Ze,"catchLoc"),Vr=_.call(Ze,"finallyLoc");if(Hr&&Vr){if(this.prev<Ze.catchLoc)return Pe(Ze.catchLoc,!0);if(this.prev<Ze.finallyLoc)return Pe(Ze.finallyLoc)}else if(Hr){if(this.prev<Ze.catchLoc)return Pe(Ze.catchLoc,!0)}else{if(!Vr)throw new Error("try statement without catch or finally");if(this.prev<Ze.finallyLoc)return Pe(Ze.finallyLoc)}}}},abrupt:function(ke,pe){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var rt=this.tryEntries[Pe];if(rt.tryLoc<=this.prev&&_.call(rt,"finallyLoc")&&this.prev<rt.finallyLoc){var Ze=rt;break}}Ze&&("break"===ke||"continue"===ke)&&Ze.tryLoc<=pe&&pe<=Ze.finallyLoc&&(Ze=null);var Bi=Ze?Ze.completion:{};return Bi.type=ke,Bi.arg=pe,Ze?(this.method="next",this.next=Ze.finallyLoc,Be):this.complete(Bi)},complete:function(ke,pe){if("throw"===ke.type)throw ke.arg;return"break"===ke.type||"continue"===ke.type?this.next=ke.arg:"return"===ke.type?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):"normal"===ke.type&&pe&&(this.next=pe),Be},finish:function(ke){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Pe=this.tryEntries[pe];if(Pe.finallyLoc===ke)return this.complete(Pe.completion,Pe.afterLoc),I_(Pe),Be}},catch:function(ke){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Pe=this.tryEntries[pe];if(Pe.tryLoc===ke){var rt=Pe.completion;if("throw"===rt.type){var Ze=rt.arg;I_(Pe)}return Ze}}throw new Error("illegal catch attempt")},delegateYield:function(ke,pe,Pe){return this.delegate={iterator:zS(ke),resultName:pe,nextLoc:Pe},"next"===this.method&&(this.arg=E),Be}},g}(l.exports);try{regeneratorRuntime=c}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}}(sf);var mn=sf.exports,lf={exports:{}},_C=_e(function(){if("function"==typeof ArrayBuffer){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}}),jr=ri,Ll=ni,vs=_C,Dc=Object.isExtensible,Ht=_e(function(){Dc(1)})||vs?function(c){return!(!jr(c)||vs&&"ArrayBuffer"==Ll(c))&&(!Dc||Dc(c))}:Dc,vk=!_e(function(){return Object.isExtensible(Object.preventExtensions({}))}),wC=Ue,xC=De,kC=Vs,WE=ri,O_=Ti,CC=nn.f,EC=$u,SC=rh,gk=Ht,KE=vk,TC=!1,gs=eu("meta"),OC=0,yk=function(l){CC(l,gs,{value:{objectID:"O"+OC++,weakData:{}}})},DC=lf.exports={enable:function(){DC.enable=function(){},TC=!0;var l=EC.f,c=xC([].splice),g={};g[gs]=1,l(g).length&&(EC.f=function(b){for(var _=l(b),E=0,M=_.length;E<M;E++)if(_[E]===gs){c(_,E,1);break}return _},wC({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:SC.f}))},fastKey:function(l,c){if(!WE(l))return"symbol"==typeof l?l:("string"==typeof l?"S":"P")+l;if(!O_(l,gs)){if(!gk(l))return"F";if(!c)return"E";yk(l)}return l[gs].objectID},getWeakData:function(l,c){if(!O_(l,gs)){if(!gk(l))return!0;if(!c)return!1;yk(l)}return l[gs].weakData},onFreeze:function(l){return KE&&TC&&gk(l)&&!O_(l,gs)&&yk(l),l}};kC[gs]=!0;var ZE=No,JE=en,MC=xn,bk=gr,XE=Iu,QE=C,_k=Lt,eS=Za,PC=Mu,wk=ol,Bl=Q.TypeError,um=function(l,c){this.stopped=l,this.result=c},RC=um.prototype,FC=function(l,c,g){var A,j,W,U,X,ae,Le,_=!(!g||!g.AS_ENTRIES),E=!(!g||!g.IS_ITERATOR),M=!(!g||!g.INTERRUPTED),R=ZE(c,g&&g.that),qe=function(Be){return A&&wk(A,"normal",Be),new um(!0,Be)},nt=function(Be){return _?(MC(Be),M?R(Be[0],Be[1],qe):R(Be[0],Be[1])):M?R(Be,qe):R(Be)};if(E)A=l;else{if(!(j=PC(l)))throw Bl(bk(l)+" is not iterable");if(XE(j)){for(W=0,U=QE(l);U>W;W++)if((X=nt(l[W]))&&_k(RC,X))return X;return new um(!1)}A=eS(l,j)}for(ae=A.next;!(Le=JE(ae,A)).done;){try{X=nt(Le.value)}catch(Be){wk(A,"throw",Be)}if("object"==typeof X&&X&&_k(RC,X))return X}return new um(!1)},iS=Lt,AC=Q.TypeError,$C=function(l,c){if(iS(c,l))return l;throw AC("Incorrect invocation")},nS=Ue,rS=Q,xk=lf.exports,oS=_e,kk=zo,aS=FC,sS=$C,lS=Ot,uS=ri,cS=Cu,LC=nn.f,dS=Bs.forEach,hS=$t,NC=Ys.set,fS=Ys.getterFor,zC=function(l,c,g){var j,b=-1!==l.indexOf("Map"),_=-1!==l.indexOf("Weak"),E=b?"set":"add",M=rS[l],R=M&&M.prototype,A={};if(hS&&lS(M)&&(_||R.forEach&&!oS(function(){(new M).entries().next()}))){var W=(j=c(function(X,ae){NC(sS(X,W),{type:l,collection:new M}),null!=ae&&aS(ae,X[E],{that:X,AS_ENTRIES:b})})).prototype,U=fS(l);dS(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(X){var ae="add"==X||"set"==X;X in R&&(!_||"clear"!=X)&&kk(W,X,function(Le,qe){var nt=U(this).collection;if(!ae&&_&&!uS(Le))return"get"==X&&void 0;var Be=nt[X](0===Le?0:Le,qe);return ae?this:Be})}),_||LC(W,"size",{configurable:!0,get:function(){return U(this).collection.size}})}else j=g.getConstructor(c,l,b,E),xk.enable();return cS(j,l,!1,!0),A[l]=j,nS({global:!0,forced:!0},A),_||g.setStrong(j,l,b),j},pS=Rd,Ck=fi,gS=nn,HC=$t,cm=Gt("species"),WC=nn.f,mS=Qs,KC=function(l,c,g){for(var b in c)g&&g.unsafe&&l[b]?l[b]=c[b]:pS(l,b,c[b],g);return l},yS=No,bS=$C,_S=FC,wS=go,dm=$t,Sk=lf.exports.fastKey,Tk=Ys.set,Ok=Ys.getterFor,Ik={getConstructor:function(l,c,g,b){var _=l(function(j,W){bS(j,E),Tk(j,{type:c,index:mS(null),first:void 0,last:void 0,size:0}),dm||(j.size=0),null!=W&&_S(W,j[b],{that:j,AS_ENTRIES:g})}),E=_.prototype,M=Ok(c),R=function(j,W,U){var Le,qe,X=M(j),ae=A(j,W);return ae?ae.value=U:(X.last=ae={index:qe=Sk(W,!0),key:W,value:U,previous:Le=X.last,next:void 0,removed:!1},X.first||(X.first=ae),Le&&(Le.next=ae),dm?X.size++:j.size++,"F"!==qe&&(X.index[qe]=ae)),j},A=function(j,W){var ae,U=M(j),X=Sk(W);if("F"!==X)return U.index[X];for(ae=U.first;ae;ae=ae.next)if(ae.key==W)return ae};return KC(E,{clear:function(){for(var U=M(this),X=U.index,ae=U.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete X[ae.index],ae=ae.next;U.first=U.last=void 0,dm?U.size=0:this.size=0},delete:function(j){var W=this,U=M(W),X=A(W,j);if(X){var ae=X.next,Le=X.previous;delete U.index[X.index],X.removed=!0,Le&&(Le.next=ae),ae&&(ae.previous=Le),U.first==X&&(U.first=ae),U.last==X&&(U.last=Le),dm?U.size--:W.size--}return!!X},forEach:function(W){for(var ae,U=M(this),X=yS(W,arguments.length>1?arguments[1]:void 0);ae=ae?ae.next:U.first;)for(X(ae.value,ae.key,this);ae&&ae.removed;)ae=ae.previous},has:function(W){return!!A(this,W)}}),KC(E,g?{get:function(W){var U=A(this,W);return U&&U.value},set:function(W,U){return R(this,0===W?0:W,U)}}:{add:function(W){return R(this,W=0===W?0:W,W)}}),dm&&WC(E,"size",{get:function(){return M(this).size}}),_},setStrong:function(l,c,g){var b=c+" Iterator",_=Ok(c),E=Ok(b);wS(l,c,function(M,R){Tk(this,{type:b,target:M,state:_(M),kind:R,last:void 0})},function(){for(var M=E(this),R=M.kind,A=M.last;A&&A.removed;)A=A.previous;return M.target&&(M.last=A=A?A.next:M.state.first)?"keys"==R?{value:A.key,done:!1}:"values"==R?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(M.target=void 0,{value:void 0,done:!0})},g?"entries":"values",!g,!0),function(l){var c=Ck(l);HC&&c&&!c[cm]&&(0,gS.f)(c,cm,{configurable:!0,get:function(){return this}})}(c)}};zC("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},Ik);var ve=yt.Map,hm=Bs.some;Ue({target:"Array",proto:!0,forced:!tt("some")},{some:function(c){return hm(this,c,arguments.length>1?arguments[1]:void 0)}});var YC=oi("Array").some,Pk=Lt,qC=YC,Rk=Array.prototype,e=oi("Array").keys,r=lo,o=Ti,s=Lt,d=e,f=Array.prototype,x={DOMTokenList:!0,NodeList:!0},I=function(l){var c=l.keys;return l===f||s(f,l)&&c===f.keys||o(x,r(l))?d:c},P=_v,L=Math.floor,N=function(l,c){var g=l.length,b=L(g/2);return g<8?H(l,c):Y(l,N(P(l,0,b),c),N(P(l,b),c),c)},H=function(l,c){for(var _,E,g=l.length,b=1;b<g;){for(E=b,_=l[b];E&&c(l[E-1],_)>0;)l[E]=l[--E];E!==b++&&(l[E]=_)}return l},Y=function(l,c,g,b){for(var _=c.length,E=g.length,M=0,R=0;M<_||R<E;)l[M+R]=M<_&&R<E?b(c[M],g[R])<=0?c[M++]:g[R++]:M<_?c[M++]:g[R++];return l},V=N,J=Yr.match(/firefox\/(\d+)/i),le=!!J&&+J[1],Ce=/MSIE|Trident/.test(Yr),ce=Yr.match(/AppleWebKit\/(\d+)\./),je=Ue,We=De,Oe=Xr,it=It,st=C,ht=on,Ct=_e,Vt=V,dr=tt,HS=le,oT=Ce,VS=wa,WS=!!ce&&+ce[1],uf=[],KS=We(uf.sort),aT=We(uf.push),sT=Ct(function(){uf.sort(void 0)}),lT=Ct(function(){uf.sort(null)}),uT=dr("sort"),GS=!Ct(function(){if(VS)return VS<70;if(!(HS&&HS>3)){if(oT)return!0;if(WS)return WS<603;var c,g,b,_,l="";for(c=65;c<76;c++){switch(g=String.fromCharCode(c),c){case 66:case 69:case 70:case 72:b=3;break;case 68:case 71:b=4;break;default:b=2}for(_=0;_<47;_++)uf.push({k:g+_,v:b})}for(uf.sort(function(E,M){return M.v-E.v}),_=0;_<uf.length;_++)g=uf[_].k.charAt(0),l.charAt(l.length-1)!==g&&(l+=g);return"DGBEFHACIJK"!==l}});je({target:"Array",proto:!0,forced:sT||!lT||!uT||!GS},{sort:function(c){void 0!==c&&Oe(c);var g=it(this);if(GS)return void 0===c?KS(g):KS(g,c);var E,M,b=[],_=st(g);for(M=0;M<_;M++)M in g&&aT(b,g[M]);for(Vt(b,function(l){return function(c,g){return void 0===g?-1:void 0===c?1:void 0!==l?+l(c,g)||0:ht(c)>ht(g)?1:-1}}(c)),E=b.length,M=0;M<E;)g[M]=b[M++];for(;M<_;)delete g[M++];return g}});var ZC,fT=oi("Array").sort,pT=Lt,vT=fT,IS=Array.prototype,DS=function(l){var c=l.sort;return l===IS||pT(IS,l)&&c===IS.sort?vT:c},_T=oi("Array").values,kT=lo,CT=Ti,ET=Lt,ST=_T,MS=Array.prototype,TT={DOMTokenList:!0,NodeList:!0},US=function(l){var c=l.values;return l===MS||ET(MS,l)&&c===MS.values||CT(TT,kT(l))?ST:c},fm=ag,DT=oi("Array").entries,RT=lo,FT=Ti,AT=Lt,$T=DT,PS=Array.prototype,LT={DOMTokenList:!0,NodeList:!0},zT=new Uint8Array(16);function jT(){if(!ZC&&!(ZC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZC(zT)}var HT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VT(l){return"string"==typeof l&&HT.test(l)}for(var yn=[],RS=0;RS<256;++RS)yn.push((RS+256).toString(16).substr(1));function KT(l,c,g){var b=(l=l||{}).random||(l.rng||jT)();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,c){g=g||0;for(var _=0;_<16;++_)c[g+_]=b[_];return c}return function WT(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=(yn[l[c+0]]+yn[l[c+1]]+yn[l[c+2]]+yn[l[c+3]]+"-"+yn[l[c+4]]+yn[l[c+5]]+"-"+yn[l[c+6]]+yn[l[c+7]]+"-"+yn[l[c+8]]+yn[l[c+9]]+"-"+yn[l[c+10]]+yn[l[c+11]]+yn[l[c+12]]+yn[l[c+13]]+yn[l[c+14]]+yn[l[c+15]]).toLowerCase();if(!VT(g))throw TypeError("Stringified UUID is invalid");return g}(b)}function FS(l){return"string"==typeof l||"number"==typeof l}var YS=function(){function l(c){Ge(this,l),ze(this,"delay",void 0),ze(this,"max",void 0),ze(this,"_queue",[]),ze(this,"_timeout",null),ze(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(c)}return _r(l,[{key:"setOptions",value:function(g){g&&typeof g.delay<"u"&&(this.delay=g.delay),g&&typeof g.max<"u"&&(this.max=g.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var g=this._extended.object,b=this._extended.methods,_=0;_<b.length;_++){var E=b[_];E.original?g[E.name]=E.original:delete g[E.name]}this._extended=null}}},{key:"replace",value:function(g,b){var _=this,E=g[b];if(!E)throw new Error("Method "+b+" undefined");g[b]=function(){for(var M=arguments.length,R=new Array(M),A=0;A<M;A++)R[A]=arguments[A];_.queue({args:R,fn:E,context:this})}}},{key:"queue",value:function(g){this._queue.push("function"==typeof g?{fn:g}:g),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var g=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=ef(function(){g.flush()},this.delay))}},{key:"flush",value:function(){var g,b;To(g=zh(b=this._queue).call(b,0)).call(g,function(_){_.fn.apply(_.context||_.fn,_.args||[])})}}],[{key:"extend",value:function(g,b){var _=new l(b);if(void 0!==g.flush)throw new Error("Target object already has a property flush");g.flush=function(){_.flush()};var E=[{name:"flush",original:void 0}];if(b&&b.replace)for(var M=0;M<b.replace.length;M++){var R=b.replace[M];E.push({name:R,original:g[R]}),_.replace(g,R)}return _._extended={object:g,methods:E},_}}]),l}(),qS=function(){function l(){Ge(this,l),ze(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ze(this,"subscribe",l.prototype.on),ze(this,"unsubscribe",l.prototype.off)}return _r(l,[{key:"_trigger",value:function(g,b,_){var E,M;if("*"===g)throw new Error("Cannot trigger event *");To(E=Ih(M=[]).call(M,Di(this._subscribers[g]),Di(this._subscribers["*"]))).call(E,function(R){R(g,b,_??null)})}},{key:"on",value:function(g,b){"function"==typeof b&&this._subscribers[g].push(b)}},{key:"off",value:function(g,b){var _;this._subscribers[g]=_i(_=this._subscribers[g]).call(_,function(E){return E!==b})}}]),l}();zC("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},Ik);var ZS,JC=yt.Set,AS=Za;function Nl(l,c){var g=typeof rr<"u"&&dl(l)||l["@@iterator"];if(!g){if(Ui(l)||(g=function aO(l,c){var g;if(l){if("string"==typeof l)return JS(l,c);var b=sc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return ll(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return JS(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function JS(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}ZS=fm;var $S=function(){function l(c){Ge(this,l),ze(this,"_pairs",void 0),this._pairs=c}return _r(l,[{key:ZS,value:mn.mark(function c(){var g,b,_,E,M;return mn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:g=Nl(this._pairs),A.prev=1,g.s();case 3:if((b=g.n()).done){A.next=9;break}return _=Zt(b.value,2),E=_[0],M=_[1],A.next=7,[E,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),g.e(A.t0);case 14:return A.prev=14,g.f(),A.finish(14);case 17:case"end":return A.stop()}},c,this,[[1,11,14,17]])})},{key:"entries",value:mn.mark(function c(){var g,b,_,E,M;return mn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:g=Nl(this._pairs),A.prev=1,g.s();case 3:if((b=g.n()).done){A.next=9;break}return _=Zt(b.value,2),E=_[0],M=_[1],A.next=7,[E,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),g.e(A.t0);case 14:return A.prev=14,g.f(),A.finish(14);case 17:case"end":return A.stop()}},c,this,[[1,11,14,17]])})},{key:"keys",value:mn.mark(function c(){var g,b,_,E;return mn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=Nl(this._pairs),R.prev=1,g.s();case 3:if((b=g.n()).done){R.next=9;break}return _=Zt(b.value,1),E=_[0],R.next=7,E;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),g.e(R.t0);case 14:return R.prev=14,g.f(),R.finish(14);case 17:case"end":return R.stop()}},c,this,[[1,11,14,17]])})},{key:"values",value:mn.mark(function c(){var g,b,_,E;return mn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=Nl(this._pairs),R.prev=1,g.s();case 3:if((b=g.n()).done){R.next=9;break}return _=Zt(b.value,2),E=_[1],R.next=7,E;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),g.e(R.t0);case 14:return R.prev=14,g.f(),R.finish(14);case 17:case"end":return R.stop()}},c,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var g;return Hi(g=Di(this._pairs)).call(g,function(b){return b[0]})}},{key:"toItemArray",value:function(){var g;return Hi(g=Di(this._pairs)).call(g,function(b){return b[1]})}},{key:"toEntryArray",value:function(){return Di(this._pairs)}},{key:"toObjectMap",value:function(){var _,g=jg(null),b=Nl(this._pairs);try{for(b.s();!(_=b.n()).done;){var E=Zt(_.value,2);g[E[0]]=E[1]}}catch(A){b.e(A)}finally{b.f()}return g}},{key:"toMap",value:function(){return new ve(this._pairs)}},{key:"toIdSet",value:function(){return new JC(this.toIdArray())}},{key:"toItemSet",value:function(){return new JC(this.toItemArray())}},{key:"cache",value:function(){return new l(Di(this._pairs))}},{key:"distinct",value:function(g){var E,b=new JC,_=Nl(this._pairs);try{for(_.s();!(E=_.n()).done;){var M=Zt(E.value,2);b.add(g(M[1],M[0]))}}catch(j){_.e(j)}finally{_.f()}return b}},{key:"filter",value:function(g){var b=this._pairs;return new l(ze({},fm,mn.mark(function _(){var E,M,R,A,j;return mn.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:E=Nl(b),U.prev=1,E.s();case 3:if((M=E.n()).done){U.next=10;break}if(R=Zt(M.value,2),!g(j=R[1],A=R[0])){U.next=8;break}return U.next=8,[A,j];case 8:U.next=3;break;case 10:U.next=15;break;case 12:U.prev=12,U.t0=U.catch(1),E.e(U.t0);case 15:return U.prev=15,E.f(),U.finish(15);case 18:case"end":return U.stop()}},_,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(g){var _,b=Nl(this._pairs);try{for(b.s();!(_=b.n()).done;){var E=Zt(_.value,2);g(E[1],E[0])}}catch(A){b.e(A)}finally{b.f()}}},{key:"map",value:function(g){var b=this._pairs;return new l(ze({},fm,mn.mark(function _(){var E,M,R,A,j;return mn.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:E=Nl(b),U.prev=1,E.s();case 3:if((M=E.n()).done){U.next=9;break}return R=Zt(M.value,2),A=R[0],j=R[1],U.next=7,[A,g(j,A)];case 7:U.next=3;break;case 9:U.next=14;break;case 11:U.prev=11,U.t0=U.catch(1),E.e(U.t0);case 14:return U.prev=14,E.f(),U.finish(14);case 17:case"end":return U.stop()}},_,null,[[1,11,14,17]])})))}},{key:"max",value:function(g){var b=AS(this._pairs),_=b.next();if(_.done)return null;for(var E=_.value[1],M=g(_.value[1],_.value[0]);!(_=b.next()).done;){var R=Zt(_.value,2),j=R[1],W=g(j,R[0]);W>M&&(M=W,E=j)}return E}},{key:"min",value:function(g){var b=AS(this._pairs),_=b.next();if(_.done)return null;for(var E=_.value[1],M=g(_.value[1],_.value[0]);!(_=b.next()).done;){var R=Zt(_.value,2),j=R[1],W=g(j,R[0]);W<M&&(M=W,E=j)}return E}},{key:"reduce",value:function(g,b){var E,_=Nl(this._pairs);try{for(_.s();!(E=_.n()).done;){var M=Zt(E.value,2);b=g(b,M[1],M[0])}}catch(j){_.e(j)}finally{_.f()}return b}},{key:"sort",value:function(g){var b=this;return new l(ze({},fm,function(){var _;return AS(DS(_=Di(b._pairs)).call(_,function(E,M){var R=Zt(E,2),A=R[0],j=R[1],W=Zt(M,2);return g(j,W[1],A,W[0])}))}))}}]),l}();function XS(l,c){var g=So(l);if(fh){var b=fh(l);c&&(b=_i(b).call(b,function(_){return zv(l,_).enumerable})),g.push.apply(g,b)}return g}function QS(l){for(var c=1;c<arguments.length;c++){var g,b,_=null!=arguments[c]?arguments[c]:{};c%2?To(g=XS(Object(_),!0)).call(g,function(E){ze(l,E,_[E])}):Vb?T1(l,Vb(_)):To(b=XS(Object(_))).call(b,function(E){gh(l,E,zv(_,E))})}return l}function LS(l,c){var g=typeof rr<"u"&&dl(l)||l["@@iterator"];if(!g){if(Ui(l)||(g=function sO(l,c){var g;if(l){if("string"==typeof l)return eT(l,c);var b=sc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return ll(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return eT(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function eT(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function lO(l){var c=function uO(){if(typeof Reflect>"u"||!$l||$l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call($l(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,b=af(l);if(c){var E=af(this).constructor;_=$l(b,arguments,E)}else _=b.apply(this,arguments);return sm(this,_)}}var tT=function(l){hk(g,l);var c=lO(g);function g(b,_){var E;return Ge(this,g),ze(cr(E=c.call(this)),"flush",void 0),ze(cr(E),"length",void 0),ze(cr(E),"_options",void 0),ze(cr(E),"_data",void 0),ze(cr(E),"_idProp",void 0),ze(cr(E),"_queue",null),b&&!Ui(b)&&(_=b,b=[]),E._options=_||{},E._data=new ve,E.length=0,E._idProp=E._options.fieldId||"id",b&&b.length&&E.add(b),E.setOptions(_),E}return _r(g,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(_){_&&void 0!==_.queue&&(!1===_.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=YS.extend(this,{replace:["add","update","remove"]})),_.queue&&"object"===mi(_.queue)&&this._queue.setOptions(_.queue)))}},{key:"add",value:function(_,E){var A,M=this,R=[];if(Ui(_)){var j=Hi(_).call(_,function(X){return X[M._idProp]});if(function(l){var c=l.some;return l===Rk||Pk(Rk,l)&&c===Rk.some?qC:c}(j).call(j,function(X){return M._data.has(X)}))throw new Error("A duplicate id was found in the parameter array.");for(var W=0,U=_.length;W<U;W++)A=this._addItem(_[W]),R.push(A)}else{if(!_||"object"!==mi(_))throw new Error("Unknown dataType");A=this._addItem(_),R.push(A)}return R.length&&this._trigger("add",{items:R},E),R}},{key:"update",value:function(_,E){var M=this,R=[],A=[],j=[],W=[],U=this._idProp,X=function(Be){var Wt=Be[U];if(null!=Wt&&M._data.has(Wt)){var Ji=Be,jt=Eg({},M._data.get(Wt)),bn=M._updateItem(Ji);A.push(bn),W.push(Ji),j.push(jt)}else{var Ln=M._addItem(Be);R.push(Ln)}};if(Ui(_))for(var ae=0,Le=_.length;ae<Le;ae++)_[ae]&&"object"===mi(_[ae])?X(_[ae]):console.warn("Ignoring input item, which is not an object at index "+ae);else{if(!_||"object"!==mi(_))throw new Error("Unknown dataType");X(_)}return R.length&&this._trigger("add",{items:R},E),A.length&&this._trigger("update",{items:A,oldData:j,data:W},E),Ih(R).call(R,A)}},{key:"updateOnly",value:function(_,E){var M,R=this;Ui(_)||(_=[_]);var A=Hi(M=Hi(_).call(_,function(W){var U=R._data.get(W[R._idProp]);if(null==U)throw new Error("Updating non-existent items is not allowed.");return{oldData:U,update:W}})).call(M,function(W){var U=W.oldData,ae=U[R._idProp],Le=function kE(l){for(var c,g=arguments.length,b=new Array(g>1?g-1:0),_=1;_<g;_++)b[_-1]=arguments[_];return aC.apply(void 0,Ih(c=[{},l]).call(c,b))}(U,W.update);return R._data.set(ae,Le),{id:ae,oldData:U,updatedData:Le}});if(A.length){var j={items:Hi(A).call(A,function(W){return W.id}),oldData:Hi(A).call(A,function(W){return W.oldData}),data:Hi(A).call(A,function(W){return W.updatedData})};return this._trigger("update",j,E),j.items}return[]}},{key:"get",value:function(_,E){var M=void 0,R=void 0,A=void 0;FS(_)?(M=_,A=E):Ui(_)?(R=_,A=E):A=_;var df,j=A&&"Object"===A.returnType?"Object":"Array",W=A&&_i(A),U=[],X=void 0,ae=void 0;if(null!=M)(X=this._data.get(M))&&W&&!W(X)&&(X=void 0);else if(null!=R)for(var qe=0,nt=R.length;qe<nt;qe++)null!=(X=this._data.get(R[qe]))&&(!W||W(X))&&U.push(X);else for(var Be,Wt=0,Ji=(ae=Di(I(Be=this._data).call(Be))).length;Wt<Ji;Wt++)null!=(X=this._data.get(ae[Wt]))&&(!W||W(X))&&U.push(X);if(A&&A.order&&null==M&&this._sort(U,A.order),A&&A.fields){var jt=A.fields;if(null!=M&&null!=X)X=this._filterFields(X,jt);else for(var bn=0,Ln=U.length;bn<Ln;bn++)U[bn]=this._filterFields(U[bn],jt)}if("Object"==j){for(var ms={},Bn=0,cf=U.length;Bn<cf;Bn++){var Mc=U[Bn];ms[Mc[this._idProp]]=Mc}return ms}return null!=M?null!==(df=X)&&void 0!==df?df:null:U}},{key:"getIds",value:function(_){var E=this._data,M=_&&_i(_),R=_&&_.order,A=Di(I(E).call(E)),j=[];if(M)if(R){for(var W=[],U=0,X=A.length;U<X;U++){var Le=this._data.get(A[U]);null!=Le&&M(Le)&&W.push(Le)}this._sort(W,R);for(var qe=0,nt=W.length;qe<nt;qe++)j.push(W[qe][this._idProp])}else for(var Be=0,Wt=A.length;Be<Wt;Be++){var jt=this._data.get(A[Be]);null!=jt&&M(jt)&&j.push(jt[this._idProp])}else if(R){for(var bn=[],Ln=0,ms=A.length;Ln<ms;Ln++)bn.push(E.get(A[Ln]));this._sort(bn,R);for(var cf=0,Mc=bn.length;cf<Mc;cf++)j.push(bn[cf][this._idProp])}else for(var pm=0,df=A.length;pm<df;pm++){var I_=E.get(A[pm]);null!=I_&&j.push(I_[this._idProp])}return j}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(_,E){var M=E&&_i(E),R=this._data,A=Di(I(R).call(R));if(E&&E.order)for(var j=this.get(E),W=0,U=j.length;W<U;W++){var X=j[W];_(X,X[this._idProp])}else for(var Le=0,qe=A.length;Le<qe;Le++){var nt=A[Le],Be=this._data.get(nt);null!=Be&&(!M||M(Be))&&_(Be,nt)}}},{key:"map",value:function(_,E){for(var M=E&&_i(E),R=[],A=this._data,j=Di(I(A).call(A)),W=0,U=j.length;W<U;W++){var X=j[W],ae=this._data.get(X);null!=ae&&(!M||M(ae))&&R.push(_(ae,X))}return E&&E.order&&this._sort(R,E.order),R}},{key:"_filterFields",value:function(_,E){var M;return _&&Lm(M=Ui(E)?E:So(E)).call(M,function(R,A){return R[A]=_[A],R},{})}},{key:"_sort",value:function(_,E){if("string"==typeof E){var M=E;DS(_).call(_,function(R,A){var j=R[M],W=A[M];return j>W?1:j<W?-1:0})}else{if("function"!=typeof E)throw new TypeError("Order must be a function or a string");DS(_).call(_,E)}}},{key:"remove",value:function(_,E){for(var M=[],R=[],A=Ui(_)?_:[_],j=0,W=A.length;j<W;j++){var U=this._remove(A[j]);if(U){var X=U[this._idProp];null!=X&&(M.push(X),R.push(U))}}return M.length&&this._trigger("remove",{items:M,oldData:R},E),M}},{key:"_remove",value:function(_){var E;if(FS(_)?E=_:_&&"object"===mi(_)&&(E=_[this._idProp]),null!=E&&this._data.has(E)){var M=this._data.get(E)||null;return this._data.delete(E),--this.length,M}return null}},{key:"clear",value:function(_){for(var E,M=Di(I(E=this._data).call(E)),R=[],A=0,j=M.length;A<j;A++)R.push(this._data.get(M[A]));return this._data.clear(),this.length=0,this._trigger("remove",{items:M,oldData:R},_),M}},{key:"max",value:function(_){var E,j,M=null,R=null,A=LS(US(E=this._data).call(E));try{for(A.s();!(j=A.n()).done;){var W=j.value,U=W[_];"number"==typeof U&&(null==R||U>R)&&(M=W,R=U)}}catch(X){A.e(X)}finally{A.f()}return M||null}},{key:"min",value:function(_){var E,j,M=null,R=null,A=LS(US(E=this._data).call(E));try{for(A.s();!(j=A.n()).done;){var W=j.value,U=W[_];"number"==typeof U&&(null==R||U<R)&&(M=W,R=U)}}catch(X){A.e(X)}finally{A.f()}return M||null}},{key:"distinct",value:function(_){for(var E=this._data,M=Di(I(E).call(E)),R=[],A=0,j=0,W=M.length;j<W;j++){for(var ae=E.get(M[j])[_],Le=!1,qe=0;qe<A;qe++)if(R[qe]==ae){Le=!0;break}!Le&&void 0!==ae&&(R[A]=ae,A++)}return R}},{key:"_addItem",value:function(_){var E=function cO(l,c){return null==l[c]&&(l[c]=KT()),l}(_,this._idProp),M=E[this._idProp];if(this._data.has(M))throw new Error("Cannot add item: item with id "+M+" already exists");return this._data.set(M,E),++this.length,M}},{key:"_updateItem",value:function(_){var E=_[this._idProp];if(null==E)throw new Error("Cannot update item: item has no id (item: "+Kx(_)+")");var M=this._data.get(E);if(!M)throw new Error("Cannot update item: no item with id "+E+" found");return this._data.set(E,QS(QS({},M),_)),E}},{key:"stream",value:function(_){if(_){var E=this._data;return new $S(ze({},fm,mn.mark(function R(){var A,j,W,U;return mn.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:A=LS(_),ae.prev=1,A.s();case 3:if((j=A.n()).done){ae.next=11;break}if(null==(U=E.get(W=j.value))){ae.next=9;break}return ae.next=9,[W,U];case 9:ae.next=3;break;case 11:ae.next=16;break;case 13:ae.prev=13,ae.t0=ae.catch(1),A.e(ae.t0);case 16:return ae.prev=16,A.f(),ae.finish(16);case 19:case"end":return ae.stop()}},R,null,[[1,13,16,19]])})))}var M;return new $S(ze({},fm,wr(M=function(l){var c=l.entries;return l===PS||AT(PS,l)&&c===PS.entries||FT(LT,RT(l))?$T:c}(this._data)).call(M,this._data)))}}]),g}(qS);function dO(l,c){var g=typeof rr<"u"&&dl(l)||l["@@iterator"];if(!g){if(Ui(l)||(g=function hO(l,c){var g;if(l){if("string"==typeof l)return iT(l,c);var b=sc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return ll(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return iT(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function iT(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function fO(l){var c=function pO(){if(typeof Reflect>"u"||!$l||$l.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call($l(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,b=af(l);if(c){var E=af(this).constructor;_=$l(b,arguments,E)}else _=b.apply(this,arguments);return sm(this,_)}}var vO=function(l){hk(g,l);var c=fO(g);function g(b,_){var E,M;return Ge(this,g),ze(cr(M=c.call(this)),"length",0),ze(cr(M),"_listener",void 0),ze(cr(M),"_data",void 0),ze(cr(M),"_ids",new JC),ze(cr(M),"_options",void 0),M._options=_||{},M._listener=wr(E=M._onEvent).call(E,cr(M)),M.setData(b),M}return _r(g,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(_){if(this._data){this._data.off&&this._data.off("*",this._listener);var E=this._data.getIds({filter:_i(this._options)}),M=this._data.get(E);this._ids.clear(),this.length=0,this._trigger("remove",{items:E,oldData:M})}if(null!=_){this._data=_;for(var R=this._data.getIds({filter:_i(this._options)}),A=0,j=R.length;A<j;A++)this._ids.add(R[A]);this.length=R.length,this._trigger("add",{items:R})}else this._data=new tT;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var _=this._data.getIds({filter:_i(this._options)}),E=Di(this._ids),M={},R=[],A=[],j=[],W=0,U=_.length;W<U;W++){var X=_[W];M[X]=!0,this._ids.has(X)||(R.push(X),this._ids.add(X))}for(var ae=0,Le=E.length;ae<Le;ae++){var qe=E[ae],nt=this._data.get(qe);null==nt?console.error("If you see this, report it please."):M[qe]||(A.push(qe),j.push(nt),this._ids.delete(qe))}this.length+=R.length-A.length,R.length&&this._trigger("add",{items:R}),A.length&&this._trigger("remove",{items:A,oldData:j})}},{key:"get",value:function(_,E){if(null==this._data)return null;var R,M=null;FS(_)||Ui(_)?(M=_,R=E):R=_;var A=Eg({},this._options,R),j=_i(this._options),W=R&&_i(R);return j&&W&&(A.filter=function(U){return j(U)&&W(U)}),null==M?this._data.get(A):this._data.get(M,A)}},{key:"getIds",value:function(_){if(this._data.length){var E=_i(this._options),M=null!=_?_i(_):null;return this._data.getIds({filter:M?E?function(j){return E(j)&&M(j)}:M:E,order:_&&_.order})}return[]}},{key:"forEach",value:function(_,E){if(this._data){var M,j,R=_i(this._options),A=E&&_i(E);j=A?R?function(U){return R(U)&&A(U)}:A:R,To(M=this._data).call(M,_,{filter:j,order:E&&E.order})}}},{key:"map",value:function(_,E){if(this._data){var M,j,R=_i(this._options),A=E&&_i(E);return j=A?R?function(U){return R(U)&&A(U)}:A:R,Hi(M=this._data).call(M,_,{filter:j,order:E&&E.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(_){var E;return this._data.stream(_||ze({},fm,wr(E=I(this._ids)).call(E,this._ids)))}},{key:"dispose",value:function(){var _;null!==(_=this._data)&&void 0!==_&&_.off&&this._data.off("*",this._listener);var A,E="This data view has already been disposed of.",M={get:function(){throw new Error(E)},set:function(){throw new Error(E)},configurable:!1},R=dO($r(g.prototype));try{for(R.s();!(A=R.n()).done;)gh(this,A.value,M)}catch(W){R.e(W)}finally{R.f()}}},{key:"_onEvent",value:function(_,E,M){if(E&&E.items&&this._data){var R=E.items,A=[],j=[],W=[],U=[],X=[],ae=[];switch(_){case"add":for(var Le=0,qe=R.length;Le<qe;Le++){var nt=R[Le];this.get(nt)&&(this._ids.add(nt),A.push(nt))}break;case"update":for(var Wt=0,Ji=R.length;Wt<Ji;Wt++){var jt=R[Wt];this.get(jt)?this._ids.has(jt)?(j.push(jt),X.push(E.data[Wt]),U.push(E.oldData[Wt])):(this._ids.add(jt),A.push(jt)):this._ids.has(jt)&&(this._ids.delete(jt),W.push(jt),ae.push(E.oldData[Wt]))}break;case"remove":for(var Ln=0,ms=R.length;Ln<ms;Ln++){var Bn=R[Ln];this._ids.has(Bn)&&(this._ids.delete(Bn),W.push(Bn),ae.push(E.oldData[Ln]))}}this.length+=A.length-W.length,A.length&&this._trigger("add",{items:A},M),j.length&&this._trigger("update",{items:j,oldData:U,data:X},M),W.length&&this._trigger("remove",{items:W,oldData:ae},M)}}}]),g}(qS);function nT(l,c){return"object"===mi(c)&&null!==c&&l===c.idProp&&"function"==typeof c.add&&"function"==typeof c.clear&&"function"==typeof c.distinct&&"function"==typeof To(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Hi(c)&&"function"==typeof c.max&&"function"==typeof c.min&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.remove&&"function"==typeof c.setOptions&&"function"==typeof c.stream&&"function"==typeof c.update&&"function"==typeof c.updateOnly}Ke.DELETE=rm,Ke.DataSet=tT,Ke.DataStream=$S,Ke.DataView=vO,Ke.Queue=YS,Ke.createNewDataPipeFrom=function ow(l){return new Mp(l)},Ke.isDataSetLike=nT,Ke.isDataViewLike=function gO(l,c){return"object"===mi(c)&&null!==c&&l===c.idProp&&"function"==typeof To(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Hi(c)&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.stream&&nT(l,c.getDataSet())},Object.defineProperty(Ke,"__esModule",{value:!0})}(Pc)},1914:function(XC,Pc){!function(Ke){function Ge(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ga={exports:{}},xt=function(u){return u&&u.Math==Math&&u},Q=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof yi&&yi)||function(){return this}()||Function("return this")(),_e=function(u){try{return!!u()}catch{return!0}},Nn=!_e(function(){var u=function(){}.bind();return"function"!=typeof u||u.hasOwnProperty("prototype")}),zl=Function.prototype,ma=zl.apply,ys=zl.call,Xi="object"==typeof Reflect&&Reflect.apply||(Nn?ys.bind(ma):function(){return ys.apply(ma,arguments)}),hr=Nn,fr=Function.prototype,Ne=fr.call,pr=hr&&fr.bind.bind(Ne,Ne),Ee=hr?function(u){return u&&pr(u)}:function(u){return u&&function(){return Ne.apply(u,arguments)}},De=function(u){return"function"==typeof u},Ot={},Qe=!_e(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),$t=Function.prototype.call,Qt=Nn?$t.bind($t):function(){return $t.apply($t,arguments)},Qi={},en={}.propertyIsEnumerable,Kr=Object.getOwnPropertyDescriptor,Rc=Kr&&!en.call({1:2},1);Qi.f=Rc?function(u){var h=Kr(this,u);return!!h&&h.enumerable}:en;var bi,Gr,Pi=function(u,h){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:h}},bs=Ee,ff=bs({}.toString),pf=bs("".slice),ni=function(u){return pf(ff(u),8,-1)},gf=_e,Fc=ni,ya=Q.Object,jl=Ee("".split),Ur=gf(function(){return!ya("z").propertyIsEnumerable(0)})?function(u){return"String"==Fc(u)?jl(u,""):ya(u)}:ya,_s=Q.TypeError,zn=function(u){if(null==u)throw _s("Can't call method on "+u);return u},mf=Ur,ba=zn,Kt=function(u){return mf(ba(u))},yf=De,Ye=function(u){return"object"==typeof u?null!==u:yf(u)},Fe={},ri=Fe,yt=Q,Hl=De,_a=function(u){return Hl(u)?u:void 0},hi=function(u,h){return arguments.length<2?_a(ri[u])||_a(yt[u]):ri[u]&&ri[u][h]||yt[u]&&yt[u][h]},et=Ee({}.isPrototypeOf),fi=hi("navigator","userAgent")||"",Lt=fi,Wl=Q.process,Yr=Q.Deno,ws=Wl&&Wl.versions||Yr&&Yr.version,$o=ws&&ws.v8;$o&&(Gr=(bi=$o.split("."))[0]>0&&bi[0]<4?1:+(bi[0]+bi[1])),!Gr&&Lt&&(!(bi=Lt.match(/Edge\/(\d+)/))||bi[1]>=74)&&(bi=Lt.match(/Chrome\/(\d+)/))&&(Gr=+bi[1]);var _n=Gr,xs=_n,Lo=!!Object.getOwnPropertySymbols&&!_e(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&xs&&xs<41}),Ni=Lo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ks=hi,wa=De,$c=et,Bo=Q.Object,vr=Ni?function(u){return"symbol"==typeof u}:function(u){var h=ks("Symbol");return wa(h)&&$c(h.prototype,Bo(u))},Kl=Q.String,qr=function(u){try{return Kl(u)}catch{return"Object"}},Gl=De,_f=qr,wf=Q.TypeError,Si=function(u){if(Gl(u))return u;throw wf(_f(u)+" is not a function")},xf=Si,Zr=function(u,h){var p=u[h];return null==p?void 0:xf(p)},xa=Qt,ka=De,gr=Ye,kf=Q.TypeError,Jr={exports:{}},Ul=Q,Cf=Object.defineProperty,Yl="__core-js_shared__",Qr=Q[Yl]||function(u,h){try{Cf(Ul,u,{value:h,configurable:!0,writable:!0})}catch{Ul[u]=h}return h}(Yl,{}),ql=Qr;(Jr.exports=function(u,h){return ql[u]||(ql[u]=void 0!==h?h:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Zl=zn,Lc=Q.Object,Tt=function(u){return Lc(Zl(u))},Ef=Tt,Bc=Ee({}.hasOwnProperty),ft=Object.hasOwn||function(u,h){return Bc(Ef(u),h)},Nc=Ee,Sf=0,Tf=Math.random(),Of=Nc(1..toString),eo=function(u){return"Symbol("+(void 0===u?"":u)+")_"+Of(++Sf+Tf,36)},zc=Q,Ca=ft,jc=eo,Jl=Lo,Xl=Ni,jn=(0,Jr.exports)("wks"),It=zc.Symbol,Ql=It&&It.for,Df=Xl?It:It&&It.withoutSetter||jc,ot=function(u){if(!Ca(jn,u)||!Jl&&"string"!=typeof jn[u]){var h="Symbol."+u;jn[u]=Jl&&Ca(It,u)?It[u]:Xl&&Ql?Ql(h):Df(h)}return jn[u]},Ti=Qt,Hc=Ye,Vc=vr,gm=Zr,ym=Q.TypeError,bm=ot("toPrimitive"),Mf=function(u,h){if(!Hc(u)||Vc(u))return u;var p,v=gm(u,bm);if(v){if(void 0===h&&(h="default"),p=Ti(v,u,h),!Hc(p)||Vc(p))return p;throw ym("Can't convert object to primitive value")}return void 0===h&&(h="number"),function(u,h){var p,v;if("string"===h&&ka(p=u.toString)&&!gr(v=xa(p,u))||ka(p=u.valueOf)&&!gr(v=xa(p,u))||"string"!==h&&ka(p=u.toString)&&!gr(v=xa(p,u)))return v;throw kf("Can't convert object to primitive value")}(u,h)},_m=vr,mr=function(u){var h=Mf(u,"string");return _m(h)?h:h+""},tu=Ye,Hn=Q.document,to=tu(Hn)&&tu(Hn.createElement),Ea=function(u){return to?Hn.createElement(u):{}},Pf=Ea,Gt=!Qe&&!_e(function(){return 7!=Object.defineProperty(Pf("div"),"a",{get:function(){return 7}}).a}),Rf=Qt,Wc=Qi,Ff=Pi,Af=Kt,$f=mr,Lf=ft,Bf=Gt,iu=Object.getOwnPropertyDescriptor;Ot.f=Qe?iu:function(u,h){if(u=Af(u),h=$f(h),Bf)try{return iu(u,h)}catch{}if(Lf(u,h))return Ff(!Rf(Wc.f,u,h),u[h])};var Sa=_e,Nf=De,zf=/#|\.prototype\./,dn=function(u,h){var p=Kc[xm(u)];return p==km||p!=Gc&&(Nf(h)?Sa(h):!!h)},xm=dn.normalize=function(u){return String(u).replace(zf,".").toLowerCase()},Kc=dn.data={},Gc=dn.NATIVE="N",km=dn.POLYFILL="P",jf=dn,Cm=Si,Em=Nn,Sm=Ee(Ee.bind),wn=function(u,h){return Cm(u),void 0===h?u:Em?Sm(u,h):function(){return u.apply(h,arguments)}},Pt={},Ta=Qe&&_e(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Hf=Ye,Vf=Q.String,Wf=Q.TypeError,zt=function(u){if(Hf(u))return u;throw Wf(Vf(u)+" is not an object")},Uc=Gt,io=zt,Yc=mr,Oa=Q.TypeError,yr=Object.defineProperty,Uf=Object.getOwnPropertyDescriptor;Pt.f=Qe?Ta?function(u,h,p){if(io(u),h=Yc(h),io(p),"function"==typeof u&&"prototype"===h&&"value"in p&&"writable"in p&&!p.writable){var v=Uf(u,h);v&&v.writable&&(u[h]=p.value,p={configurable:"configurable"in p?p.configurable:v.configurable,enumerable:"enumerable"in p?p.enumerable:v.enumerable,writable:!1})}return yr(u,h,p)}:yr:function(u,h,p){if(io(u),h=Yc(h),io(p),Uc)try{return yr(u,h,p)}catch{}if("get"in p||"set"in p)throw Oa("Accessors not supported");return"value"in p&&(u[h]=p.value),u};var qc=Pt,Jf=Pi,tn=Qe?function(u,h,p){return qc.f(u,h,Jf(1,p))}:function(u,h,p){return u[h]=p,u},no=Q,No=Xi,nn=Ee,Xf=De,Qf=Ot.f,Zc=jf,rn=Fe,Tm=wn,hn=tn,Cs=ft,xn=function(u){var h=function(p,v,k){if(this instanceof h){switch(arguments.length){case 0:return new u;case 1:return new u(p);case 2:return new u(p,v)}return new u(p,v,k)}return No(u,this,arguments)};return h.prototype=u.prototype,h},me=function(u,h){var p,v,k,O,D,F,B,z,Z=u.target,q=u.global,de=u.stat,ye=u.proto,Te=q?no:de?no[Z]:(no[Z]||{}).prototype,Se=q?rn:rn[Z]||hn(rn,Z,{})[Z],Re=Se.prototype;for(k in h)p=!Zc(q?k:Z+(de?".":"#")+k,u.forced)&&Te&&Cs(Te,k),D=Se[k],p&&(F=u.noTargetGet?(z=Qf(Te,k))&&z.value:Te[k]),O=p&&F?F:h[k],p&&typeof D==typeof O||(B=u.bind&&p?Tm(O,no):u.wrap&&p?xn(O):ye&&Xf(O)?nn(O):O,(u.sham||O&&O.sham||D&&D.sham)&&hn(B,"sham",!0),hn(Se,k,B),ye&&(Cs(rn,v=Z+"Prototype")||hn(rn,v,{}),hn(rn[v],k,O),u.real&&Re&&!Re[k]&&hn(Re,k,O)))},Es=Pt.f;me({target:"Object",stat:!0,forced:Object.defineProperty!==Es,sham:!Qe},{defineProperty:Es});var Ia=Fe.Object,ep=ga.exports=function(u,h,p){return Ia.defineProperty(u,h,p)};Ia.defineProperty.sham&&(ep.sham=!0);var Jc=ga.exports,Vn=Jc;function tp(u,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Vn(u,v.key,v)}}function br(u,h,p){return h&&tp(u.prototype,h),p&&tp(u,p),Vn(u,"prototype",{writable:!1}),u}function pt(u,h,p){return h in u?Vn(u,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[h]=p,u}var Oi=Ee([].slice),ip=Ee,Dm=Si,Mm=Ye,zo=ft,ro=Oi,Ss=Nn,Ts=Q.Function,Pm=ip([].concat),np=ip([].join),ru={},oo=function(u,h,p){if(!zo(ru,h)){for(var v=[],k=0;k<h;k++)v[k]="a["+k+"]";ru[h]=Ts("C,a","return new C("+np(v,",")+")")}return ru[h](u,p)},ou=Ss?Ts.bind:function(u){var h=Dm(this),p=h.prototype,v=ro(arguments,1),k=function(){var O=Pm(v,ro(arguments));return this instanceof k?oo(h,O.length,O):h.apply(u,O)};return Mm(p)&&(k.prototype=p),k};me({target:"Function",proto:!0,forced:Function.bind!==ou},{bind:ou});var Xc=Fe,ei=function(u){return Xc[u+"Prototype"]},Ue=ei("Function").bind,Os=et,Qc=Ue,Is=Function.prototype,ao=function(u){var h=u.bind;return u===Is||Os(Is,u)&&h===Is.bind?Qc:h},ed=Math.ceil,au=Math.floor,su=function(u){var h=+u;return h!=h||0===h?0:(h>0?au:ed)(h)},rp=su,op=Math.min,pi=function(u){return function(u){return u>0?op(rp(u),9007199254740991):0}(u.length)},td=Si,Ds=Tt,id=Ur,_r=pi,ze=Q.TypeError,Ms=function(u){return function(h,p,v,k){td(p);var O=Ds(h),D=id(O),F=_r(O),B=u?F-1:0,z=u?-1:1;if(v<2)for(;;){if(B in D){k=D[B],B+=z;break}if(B+=z,u?B<0:F<=B)throw ze("Reduce of empty array with no initial value")}for(;u?B>=0:F>B;B+=z)B in D&&(k=p(k,D[B],B,O));return k}},Ps={left:Ms(!1),right:Ms(!0)},Rm=_e,Da=function(u,h){var p=[][u];return!!p&&Rm(function(){p.call(null,h||function(){return 1},1)})},Fm="process"==ni(Q.process),sp=Ps.left,lp=_n,nd=Fm;me({target:"Array",proto:!0,forced:!Da("reduce")||!nd&&lp>79&&lp<83},{reduce:function(u){var h=arguments.length;return sp(this,u,h,h>1?arguments[1]:void 0)}});var Am=ei("Array").reduce,up=et,rd=Am,od=Array.prototype,Rs=function(u){var h=u.reduce;return u===od||up(od,u)&&h===od.reduce?rd:h},cp=ni,so=Array.isArray||function(u){return"Array"==cp(u)},ci={};ci[ot("toStringTag")]="z";var lu="[object z]"===String(ci),$m=Q,oi=lu,ad=De,uu=ni,fe=ot("toStringTag"),sd=$m.Object,cu="Arguments"==uu(function(){return arguments}()),kn=oi?uu:function(u){var h,p,v;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(p=function(k,O){try{return k[O]}catch{}}(h=sd(u),fe))?p:cu?uu(h):"Object"==(v=uu(h))&&ad(h.callee)?"Arguments":v},dp=De,Fs=Qr,wr=Ee(Function.toString);dp(Fs.inspectSource)||(Fs.inspectSource=function(u){return wr(u)});var du=Fs.inspectSource,ld=Ee,Ma=_e,As=De,hp=kn,fp=du,ud=function(){},C=[],$=hi("Reflect","construct"),a=/^\s*(?:class|function)\b/,y=ld(a.exec),w=!a.exec(ud),T=function(u){if(!As(u))return!1;try{return $(ud,C,u),!0}catch{return!1}},ee=function(u){if(!As(u))return!1;switch(hp(u)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return w||!!y(a,fp(u))}catch{return!0}};ee.sham=!0;var ne=!$||Ma(function(){var u;return T(T.call)||!T(Object)||!T(function(){u=!0})||u})?ee:T,ge=Q,He=so,tt=ne,lt=Ye,Ut=ot("species"),Dt=ge.Array,Mt=function(u,h){return new(function(u){var h;return He(u)&&(tt(h=u.constructor)&&(h===Dt||He(h.prototype))||lt(h)&&null===(h=h[Ut]))&&(h=void 0),void 0===h?Dt:h}(u))(0===h?0:h)},zi=wn,hu=Ur,Pa=Tt,Cn=pi,Kn=Mt,Gn=Ee([].push),Ii=function(u){var h=1==u,p=2==u,v=3==u,k=4==u,O=6==u,D=7==u,F=5==u||O;return function(B,z,Z,q){for(var de,ye,Te=Pa(B),Se=hu(Te),Re=zi(z,Z),Ie=Cn(Se),Je=0,St=q||Kn,wt=h?St(B,Ie):p||D?St(B,0):void 0;Ie>Je;Je++)if((F||Je in Se)&&(ye=Re(de=Se[Je],Je,Te),u))if(h)wt[Je]=ye;else if(ye)switch(u){case 3:return!0;case 5:return de;case 6:return Je;case 2:Gn(wt,de)}else switch(u){case 4:return!1;case 7:Gn(wt,de)}return O?-1:v||k?k:wt}},En={forEach:Ii(0),map:Ii(1),filter:Ii(2),some:Ii(3),every:Ii(4),find:Ii(5),findIndex:Ii(6),filterReject:Ii(7)},Un=_e,ji=_n,jo=ot("species"),$s=function(u){return ji>=51||!Un(function(){var h=[];return(h.constructor={})[jo]=function(){return{foo:1}},1!==h[u](Boolean).foo})},D_=En.filter;me({target:"Array",proto:!0,forced:!$s("filter")},{filter:function(u){return D_(this,u,arguments.length>1?arguments[1]:void 0)}});var Lm=ei("Array").filter,Bm=et,xr=Lm,pp=Array.prototype,vi=function(u){var h=u.filter;return u===pp||Bm(pp,u)&&h===pp.filter?xr:h},cd=En.map;me({target:"Array",proto:!0,forced:!$s("map")},{map:function(u){return cd(this,u,arguments.length>1?arguments[1]:void 0)}});var vp=ei("Array").map,M_=et,gp=vp,fu=Array.prototype,Ri=function(u){var h=u.map;return u===fu||M_(fu,u)&&h===fu.map?gp:h},P_=so,Nm=pi,mp=wn,R_=Q.TypeError,Ho=function(u,h,p,v,k,O,D,F){for(var B,z,Z=k,q=0,de=!!D&&mp(D,F);q<v;){if(q in p){if(B=de?de(p[q],q,h):p[q],O>0&&P_(B))z=Nm(B),Z=Ho(u,h,B,z,Z,O-1)-1;else{if(Z>=9007199254740991)throw R_("Exceed the acceptable array length");u[Z]=B}Z++}q++}return Z},lo=Ho,zm=Si,F_=Tt,Vo=pi,kr=Mt;me({target:"Array",proto:!0},{flatMap:function(u){var h,p=F_(this),v=Vo(p);return zm(u),(h=kr(p,0)).length=lo(h,p,p,v,0,1,u,arguments.length>1?arguments[1]:void 0),h}});var pu,Wo,vu,dd=ei("Array").flatMap,A_=et,jm=dd,hd=Array.prototype,$_=function(){function u(h,p,v){var k,O,D;Ge(this,u),pt(this,"_source",void 0),pt(this,"_transformers",void 0),pt(this,"_target",void 0),pt(this,"_listeners",{add:ao(k=this._add).call(k,this),remove:ao(O=this._remove).call(O,this),update:ao(D=this._update).call(D,this)}),this._source=h,this._transformers=p,this._target=v}return br(u,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(h){var p;return Rs(p=this._transformers).call(p,function(v,k){return k(v)},h)}},{key:"_add",value:function(h,p){null!=p&&this._target.add(this._transformItems(this._source.get(p.items)))}},{key:"_update",value:function(h,p){null!=p&&this._target.update(this._transformItems(this._source.get(p.items)))}},{key:"_remove",value:function(h,p){null!=p&&this._target.remove(this._transformItems(p.oldData))}}]),u}(),Hm=function(){function u(h){Ge(this,u),pt(this,"_source",void 0),pt(this,"_transformers",[]),this._source=h}return br(u,[{key:"filter",value:function(h){return this._transformers.push(function(p){return vi(p).call(p,h)}),this}},{key:"map",value:function(h){return this._transformers.push(function(p){return Ri(p).call(p,h)}),this}},{key:"flatMap",value:function(h){return this._transformers.push(function(p){return function(u){var h=u.flatMap;return u===hd||A_(hd,u)&&h===hd.flatMap?jm:h}(p).call(p,h)}),this}},{key:"to",value:function(h){return new $_(this._source,this._transformers,h)}}]),u}(),bp=kn,L_=Q.String,Ra=function(u){if("Symbol"===bp(u))throw TypeError("Cannot convert a Symbol value to a string");return L_(u)},Cr=Ee,Vm=su,fd=Ra,B_=zn,_p=Cr("".charAt),Wm=Cr("".charCodeAt),N_=Cr("".slice),Km=function(u){return function(h,p){var v,k,O=fd(B_(h)),D=Vm(p),F=O.length;return D<0||D>=F?u?"":void 0:(v=Wm(O,D))<55296||v>56319||D+1===F||(k=Wm(O,D+1))<56320||k>57343?u?_p(O,D):v:u?N_(O,D,D+2):k-56320+(v-55296<<10)+65536}},Gm={codeAt:Km(!1),charAt:Km(!0)},Um=du,wp=Q.WeakMap,Fa=De(wp)&&/native code/.test(Um(wp)),Ym=eo,xp=(0,Jr.exports)("keys"),uo=function(u){return xp[u]||(xp[u]=Ym(u))},Ls={},Er=Ee,Bs=Ye,j_=tn,vd=ft,H_=uo,Ko=Ls,qm="Object already initialized",Ns=Q.TypeError;if(Fa||Qr.state){var $a=Qr.state||(Qr.state=new(0,Q.WeakMap)),W_=Er($a.get),Cp=Er($a.has),K_=Er($a.set);pu=function(u,h){if(Cp($a,u))throw new Ns(qm);return h.facade=u,K_($a,u,h),h},Wo=function(u){return W_($a,u)||{}},vu=function(u){return Cp($a,u)}}else{var Go=H_("state");Ko[Go]=!0,pu=function(u,h){if(vd(u,Go))throw new Ns(qm);return h.facade=u,j_(u,Go,h),h},Wo=function(u){return vd(u,Go)?u[Go]:{}},vu=function(u){return vd(u,Go)}}var Sr={set:pu,get:Wo,has:vu,enforce:function(u){return vu(u)?Wo(u):pu(u,{})},getterFor:function(u){return function(h){var p;if(!Bs(h)||(p=Wo(h)).type!==u)throw Ns("Incompatible receiver, "+u+" required");return p}}},Ep=Qe,Jm=Function.prototype,_i=Ep&&Object.getOwnPropertyDescriptor,Sp=ft(Jm,"name"),Xm={EXISTS:Sp,PROPER:Sp&&"something"===function(){}.name,CONFIGURABLE:Sp&&(!Ep||Ep&&_i(Jm,"name").configurable)},gd={},G_=su,U_=Math.max,Qm=Math.min,co=function(u,h){var p=G_(u);return p<0?U_(p+h,0):Qm(p,h)},zs=Kt,Tp=co,Y_=pi,ey=function(u){return function(h,p,v){var k,O=zs(h),D=Y_(O),F=Tp(v,D);if(u&&p!=p){for(;D>F;)if((k=O[F++])!=k)return!0}else for(;D>F;F++)if((u||F in O)&&O[F]===p)return u||F||0;return!u&&-1}},Op={includes:ey(!0),indexOf:ey(!1)},Hi=ft,q_=Kt,ty=Op.indexOf,Z_=Ls,iy=Ee([].push),ny=function(u,h){var p,v=q_(u),k=0,O=[];for(p in v)!Hi(Z_,p)&&Hi(v,p)&&iy(O,p);for(;h.length>k;)Hi(v,p=h[k++])&&(~ty(O,p)||iy(O,p));return O},md=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],J_=ny,X_=md,mu=Object.keys||function(u){return J_(u,X_)},tw=Pt,iw=zt,nw=Kt,ry=mu;gd.f=Qe&&!Ta?Object.defineProperties:function(u,h){iw(u);for(var p,v=nw(h),k=ry(h),O=k.length,D=0;O>D;)tw.f(u,p=k[D++],v[p]);return u};var yu,rw=hi("document","documentElement"),js=zt,Ip=gd,Dp=md,yd=Ls,oy=rw,ow=Ea,bd=uo("IE_PROTO"),Mp=function(){},ay=function(u){return"<script>"+u+"<\/script>"},Pp=function(u){u.write(ay("")),u.close();var h=u.parentWindow.Object;return u=null,h},_d=function(){try{yu=new ActiveXObject("htmlfile")}catch{}var u,h;_d=typeof document<"u"?document.domain&&yu?Pp(yu):((h=ow("iframe")).style.display="none",oy.appendChild(h),h.src=String("javascript:"),(u=h.contentWindow.document).open(),u.write(ay("document.F=Object")),u.close(),u.F):Pp(yu);for(var p=Dp.length;p--;)delete _d.prototype[Dp[p]];return _d()};yd[bd]=!0;var on,wd,sy,Hs=Object.create||function(u,h){var p;return null!==u?(Mp.prototype=js(u),p=new Mp,Mp.prototype=null,p[bd]=u):p=_d(),void 0===h?p:Ip.f(p,h)},Rp=!_e(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),aw=Q,Fp=ft,sw=De,ly=Tt,lw=Rp,uy=uo("IE_PROTO"),Ap=aw.Object,cy=Ap.prototype,xd=lw?Ap.getPrototypeOf:function(u){var h=ly(u);if(Fp(h,uy))return h[uy];var p=h.constructor;return sw(p)&&h instanceof p?p.prototype:h instanceof Ap?cy:null},uw=tn,bu=function(u,h,p,v){v&&v.enumerable?u[h]=p:uw(u,h,p)},cw=_e,dy=De,_u=Hs,Vs=xd,hy=bu,Ws=ot("iterator"),kd=!1;[].keys&&("next"in(sy=[].keys())?(wd=Vs(Vs(sy)))!==Object.prototype&&(on=wd):kd=!0);var dw=null==on||cw(function(){var u={};return on[Ws].call(u)!==u});dy((on=dw?{}:_u(on))[Ws])||hy(on,Ws,function(){return this});var Ks={IteratorPrototype:on,BUGGY_SAFARI_ITERATORS:kd},Cd=kn,hw=lu,fw=Pt.f,fy=tn,Uo=ft,pw=lu?{}.toString:function(){return"[object "+Cd(this)+"]"},Us=ot("toStringTag"),ho=function(u,h,p,v){if(u){var k=p?u:u.prototype;Uo(k,Us)||fw(k,Us,{configurable:!0,value:h}),v&&!hw&&fy(k,"toString",pw)}},fo={},Ed=Ks.IteratorPrototype,vw=Hs,La=Pi,gw=ho,py=fo,mw=function(){return this},Ys=De,$p=Q.String,yw=Q.TypeError,vy=Ee,bw=zt,_w=Object.setPrototypeOf||("__proto__"in{}?function(){var u,h=!1,p={};try{(u=vy(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(p,[]),h=p instanceof Array}catch{}return function(v,k){return bw(v),function(u){if("object"==typeof u||Ys(u))return u;throw yw("Can't set "+$p(u)+" as a prototype")}(k),h?u(v,k):v.__proto__=k,v}}():void 0),ww=me,Bp=Qt,xw=xd,gy=ho,Np=bu,Na=fo,kw=Xm.PROPER,wu=Ks.BUGGY_SAFARI_ITERATORS,zp=ot("iterator"),za="values",po="entries",Hp=function(){return this},Td=function(u,h,p,v,k,O,D){!function(u,h,p,v){var k=h+" Iterator";u.prototype=vw(Ed,{next:La(+!v,p)}),gw(u,k,!1,!0),py[k]=mw}(p,h,v);var F,B,z,Z=function(Ie){if(Ie===k&&Se)return Se;if(!wu&&Ie in ye)return ye[Ie];switch(Ie){case"keys":case za:case po:return function(){return new p(this,Ie)}}return function(){return new p(this)}},q=h+" Iterator",de=!1,ye=u.prototype,Te=ye[zp]||ye["@@iterator"]||k&&ye[k],Se=!wu&&Te||Z(k),Re="Array"==h&&ye.entries||Te;if(Re&&(F=xw(Re.call(new u)))!==Object.prototype&&F.next&&(gy(F,q,!0,!0),Na[q]=Hp),kw&&k==za&&Te&&Te.name!==za&&(de=!0,Se=function(){return Bp(Te,this)}),k)if(B={values:Z(za),keys:O?Se:Z("keys"),entries:Z(po)},D)for(z in B)(wu||de||!(z in ye))&&Np(ye,z,B[z]);else ww({target:h,proto:!0,forced:wu||de},B);return D&&ye[zp]!==Se&&Np(ye,zp,Se,{name:k}),Na[h]=Se,B},my=Gm.charAt,Cw=Ra,yy=Td,Id="String Iterator",Ew=Sr.set,Sw=Sr.getterFor(Id);yy(String,"String",function(u){Ew(this,{type:Id,string:Cw(u),index:0})},function(){var u,h=Sw(this),p=h.string,v=h.index;return v>=p.length?{value:void 0,done:!0}:(u=my(p,v),h.index+=u.length,{value:u,done:!1})});var xu=Qt,by=zt,Tw=Zr,Vp=function(u,h,p){var v,k;by(u);try{if(!(v=Tw(u,"return"))){if("throw"===h)throw p;return p}v=xu(v,u)}catch(O){k=!0,v=O}if("throw"===h)throw p;if(k)throw v;return by(v),p},_y=zt,Wp=Vp,wy=fo,Kp=ot("iterator"),Tr=Array.prototype,xy=function(u){return void 0!==u&&(wy.Array===u||Tr[Kp]===u)},qs=mr,Zs=Pt,Ow=Pi,Js=function(u,h,p){var v=qs(h);v in u?Zs.f(u,v,Ow(0,p)):u[v]=p},Dd=kn,Gp=Zr,ky=fo,Cy=ot("iterator"),Xs=function(u){if(null!=u)return Gp(u,Cy)||Gp(u,"@@iterator")||ky[Dd(u)]},Up=Qt,Yp=Si,qp=zt,Ey=qr,Zp=Xs,Iw=Q.TypeError,ja=function(u,h){var p=arguments.length<2?Zp(u):h;if(Yp(p))return qp(Up(p,u));throw Iw(Ey(u)+" is not iterable")},Ha=wn,Qs=Qt,Sy=Tt,Ty=function(u,h,p,v){try{return v?h(_y(p)[0],p[1]):h(p)}catch(k){Wp(u,"throw",k)}},Dw=xy,Mw=ne,ai=pi,Oy=Js,Iy=ja,Pw=Xs,Jp=Q.Array,Md=ot("iterator"),Xp=!1;try{var Qp=0,Pd={next:function(){return{done:!!Qp++}},return:function(){Xp=!0}};Pd[Md]=function(){return this},Array.from(Pd,function(){throw 2})}catch{}me({target:"Array",stat:!0,forced:!function(u,h){if(!Xp)return!1;var p=!1;try{var v={};v[Md]=function(){return{next:function(){return{done:p=!0}}}},function(u){Array.from(u)}(v)}catch{}return p}()},{from:function(u){var h=Sy(u),p=Mw(this),v=arguments.length,k=v>1?arguments[1]:void 0,O=void 0!==k;O&&(k=Ha(k,v>2?arguments[2]:void 0));var D,F,B,z,Z,q,de=Pw(h),ye=0;if(!de||this==Jp&&Dw(de))for(D=ai(h),F=p?new this(D):Jp(D);D>ye;ye++)q=O?k(h[ye],ye):h[ye],Oy(F,ye,q);else for(Z=(z=Iy(h,de)).next,F=p?new this:[];!(B=Qs(Z,z)).done;ye++)q=O?Ty(z,k,[B.value,ye],!0):B.value,Oy(F,ye,q);return F.length=ye,F}});var Dy=Fe.Array.from,Fd=Dy,My=Kt,ev=fo,Yn=Td,Yo="Array Iterator",qn=Sr.set,tv=Sr.getterFor(Yo);Yn(Array,"Array",function(u,h){qn(this,{type:Yo,target:My(u),index:0,kind:h})},function(){var u=tv(this),h=u.target,p=u.kind,v=u.index++;return!h||v>=h.length?(u.target=void 0,{value:void 0,done:!0}):"keys"==p?{value:v,done:!1}:"values"==p?{value:h[v],done:!1}:{value:[v,h[v]],done:!1}},"values"),ev.Arguments=ev.Array;var iv=Xs,Py=Q,el=kn,Va=tn,Ad=fo,si=ot("toStringTag");for(var nv in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Ry=Py[nv],rv=Ry&&Ry.prototype;rv&&el(rv)!==si&&Va(rv,si,nv),Ad[nv]=Ad.Array}var tl=iv,Wa={},$d=ny,Cu=md.concat("length","prototype");Wa.f=Object.getOwnPropertyNames||function(u){return $d(u,Cu)};var Zn={},Ld=co,Fy=pi,ov=Js,Eu=Q.Array,Ay=Math.max,$y=function(u,h,p){for(var v=Fy(u),k=Ld(h,v),O=Ld(void 0===p?v:p,v),D=Eu(Ay(O-k,0)),F=0;k<O;k++,F++)ov(D,F,u[k]);return D.length=F,D},Ly=ni,Bd=Kt,av=Wa.f,By=$y,Ny="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zn.f=function(u){return Ny&&"Window"==Ly(u)?function(h){try{return av(h)}catch{return By(Ny)}}(u):av(Bd(u))};var Su={};Su.f=Object.getOwnPropertySymbols;var Nd={};Nd.f=ot;var il=Fe,zy=ft,jy=Nd,Hy=Pt.f,li=function(u){var h=il.Symbol||(il.Symbol={});zy(h,u)||Hy(h,u,{value:jy.f(u)})},nl=me,lv=Q,Vy=hi,Tu=Xi,wi=Qt,Ou=Ee,Ka=Qe,Ga=Lo,Ua=_e,bt=ft,Or=so,Ir=De,uv=Ye,cv=et,go=vr,zd=zt,qo=Tt,rl=Kt,dv=mr,jd=Ra,Jn=Pi,mo=Hs,Hd=mu,Vd=Wa,Wy=Zn,ol=Su,Wd=Ot,Kd=Pt,Gd=gd,Ud=Qi,Ky=Oi,Yd=bu,al=Jr.exports,Iu=Ls,Gy=eo,Uy=ot,Zo=Nd,Ya=li,Fw=ho,hv=Sr,qd=En.forEach,Vi=uo("hidden"),Du="Symbol",Mu=Uy("toPrimitive"),Yy=hv.set,qy=hv.getterFor(Du),Sn=Object.prototype,Fi=lv.Symbol,qa=Fi&&Fi.prototype,Zy=lv.TypeError,fv=lv.QObject,Za=Vy("JSON","stringify"),Jy=Wd.f,yo=Kd.f,Xy=Wy.f,Aw=Ud.f,Qy=Ou([].push),bo=al("symbols"),Tn=al("op-symbols"),Zd=al("string-to-symbol-registry"),Jd=al("symbol-to-string-registry"),$w=al("wks"),Xd=!fv||!fv.prototype||!fv.prototype.findChild,Pu=Ka&&Ua(function(){return 7!=mo(yo({},"a",{get:function(){return yo(this,"a",{value:7}).a}})).a})?function(u,h,p){var v=Jy(Sn,h);v&&delete Sn[h],yo(u,h,p),v&&u!==Sn&&yo(Sn,h,v)}:yo,pv=function(u,h){var p=bo[u]=mo(qa);return Yy(p,{type:Du,tag:u,description:h}),Ka||(p.description=h),p},Ja=function(u,h,p){u===Sn&&Ja(Tn,h,p),zd(u);var v=dv(h);return zd(p),bt(bo,v)?(p.enumerable?(bt(u,Vi)&&u[Vi][v]&&(u[Vi][v]=!1),p=mo(p,{enumerable:Jn(0,!1)})):(bt(u,Vi)||yo(u,Vi,Jn(1,{})),u[Vi][v]=!0),Pu(u,v,p)):yo(u,v,p)},Ru=function(u,h){zd(u);var p=rl(h),v=Hd(p).concat(eh(p));return qd(v,function(k){Ka&&!wi(vv,p,k)||Ja(u,k,p[k])}),u},vv=function(u){var h=dv(u),p=wi(Aw,this,h);return!(this===Sn&&bt(bo,h)&&!bt(Tn,h))&&(!(p||!bt(this,h)||!bt(bo,h)||bt(this,Vi)&&this[Vi][h])||p)},eb=function(u,h){var p=rl(u),v=dv(h);if(p!==Sn||!bt(bo,v)||bt(Tn,v)){var k=Jy(p,v);return!k||!bt(bo,v)||bt(p,Vi)&&p[Vi][v]||(k.enumerable=!0),k}},Qd=function(u){var h=Xy(rl(u)),p=[];return qd(h,function(v){bt(bo,v)||bt(Iu,v)||Qy(p,v)}),p},eh=function(u){var h=u===Sn,p=Xy(h?Tn:rl(u)),v=[];return qd(p,function(k){!bt(bo,k)||h&&!bt(Sn,k)||Qy(v,bo[k])}),v};if(Ga||(Fi=function(){if(cv(qa,this))throw Zy("Symbol is not a constructor");var u=arguments.length&&void 0!==arguments[0]?jd(arguments[0]):void 0,h=Gy(u),p=function(v){this===Sn&&wi(p,Tn,v),bt(this,Vi)&&bt(this[Vi],h)&&(this[Vi][h]=!1),Pu(this,h,Jn(1,v))};return Ka&&Xd&&Pu(Sn,h,{configurable:!0,set:p}),pv(h,u)},Yd(qa=Fi.prototype,"toString",function(){return qy(this).tag}),Yd(Fi,"withoutSetter",function(u){return pv(Gy(u),u)}),Ud.f=vv,Kd.f=Ja,Gd.f=Ru,Wd.f=eb,Vd.f=Wy.f=Qd,ol.f=eh,Zo.f=function(u){return pv(Uy(u),u)},Ka&&yo(qa,"description",{configurable:!0,get:function(){return qy(this).description}})),nl({global:!0,wrap:!0,forced:!Ga,sham:!Ga},{Symbol:Fi}),qd(Hd($w),function(u){Ya(u)}),nl({target:Du,stat:!0,forced:!Ga},{for:function(u){var h=jd(u);if(bt(Zd,h))return Zd[h];var p=Fi(h);return Zd[h]=p,Jd[p]=h,p},keyFor:function(u){if(!go(u))throw Zy(u+" is not a symbol");if(bt(Jd,u))return Jd[u]},useSetter:function(){Xd=!0},useSimple:function(){Xd=!1}}),nl({target:"Object",stat:!0,forced:!Ga,sham:!Ka},{create:function(u,h){return void 0===h?mo(u):Ru(mo(u),h)},defineProperty:Ja,defineProperties:Ru,getOwnPropertyDescriptor:eb}),nl({target:"Object",stat:!0,forced:!Ga},{getOwnPropertyNames:Qd,getOwnPropertySymbols:eh}),nl({target:"Object",stat:!0,forced:Ua(function(){ol.f(1)})},{getOwnPropertySymbols:function(u){return ol.f(qo(u))}}),Za&&nl({target:"JSON",stat:!0,forced:!Ga||Ua(function(){var u=Fi();return"[null]"!=Za([u])||"{}"!=Za({a:u})||"{}"!=Za(Object(u))})},{stringify:function(u,h,p){var v=Ky(arguments),k=h;if((uv(h)||void 0!==u)&&!go(u))return Or(h)||(h=function(O,D){if(Ir(k)&&(D=wi(k,this,O,D)),!go(D))return D}),v[1]=h,Tu(Za,null,v)}}),!qa[Mu]){var tb=qa.valueOf;Yd(qa,Mu,function(u){return wi(tb,this)})}Fw(Fi,Du),Iu[Vi]=!0;var Fu=Fe.Object.getOwnPropertySymbols,be={exports:{}},th=me,we=Kt,sl=Ot.f,ll=Qe,nb=_e(function(){sl(1)});th({target:"Object",stat:!0,forced:!ll||nb,sham:!ll},{getOwnPropertyDescriptor:function(u,h){return sl(we(u),h)}});var gv=Fe.Object,rb=be.exports=function(u,h){return gv.getOwnPropertyDescriptor(u,h)};gv.getOwnPropertyDescriptor.sham&&(rb.sham=!0);var ob=be.exports,ul=hi,Bw=Wa,Nw=Su,zw=zt,jw=Ee([].concat),ab=ul("Reflect","ownKeys")||function(u){var h=Bw.f(zw(u)),p=Nw.f;return p?jw(h,p(u)):h},Hw=ab,Vw=Kt,sb=Ot,Ww=Js;me({target:"Object",stat:!0,sham:!Qe},{getOwnPropertyDescriptors:function(u){for(var h,p,v=Vw(u),k=sb.f,O=Hw(v),D={},F=0;O.length>F;)void 0!==(p=k(v,h=O[F++]))&&Ww(D,h,p);return D}});var mv=Fe.Object.getOwnPropertyDescriptors,lb={exports:{}},nh=gd.f;me({target:"Object",stat:!0,forced:Object.defineProperties!==nh,sham:!Qe},{defineProperties:nh});var Au=Fe.Object,Kw=lb.exports=function(u,h){return Au.defineProperties(u,h)};Au.defineProperties.sham&&(Kw.sham=!0);var Gw=lb.exports,ub=Jc;me({target:"Array",stat:!0},{isArray:so});var bv=Fe.Array.isArray,cb=bv,cl=me,dl=Q,$u=_e,db=so,Uw=Ye,Yw=Tt,rh=pi,hb=Js,fb=Mt,qw=$s,Zw=_n,pb=ot("isConcatSpreadable"),vb=9007199254740991,_v="Maximum allowed index exceeded",oh=dl.TypeError,Jw=Zw>=51||!$u(function(){var u=[];return u[pb]=!1,u.concat()[0]!==u}),gb=qw("concat"),Xw=function(u){if(!Uw(u))return!1;var h=u[pb];return void 0!==h?!!h:db(u)};cl({target:"Array",proto:!0,forced:!Jw||!gb},{concat:function(u){var h,p,v,k,O,D=Yw(this),F=fb(D,0),B=0;for(h=-1,v=arguments.length;h<v;h++)if(Xw(O=-1===h?D:arguments[h])){if(B+(k=rh(O))>vb)throw oh(_v);for(p=0;p<k;p++,B++)p in O&&hb(F,B,O[p])}else{if(B>=vb)throw oh(_v);hb(F,B++,O)}return F.length=B,F}}),li("asyncIterator"),li("hasInstance"),li("isConcatSpreadable"),li("iterator"),li("match"),li("matchAll"),li("replace"),li("search"),li("species"),li("split"),li("toPrimitive"),li("toStringTag"),li("unscopables"),ho(Q.JSON,"JSON",!0);var wv=Fe.Symbol,xv=wv;li("asyncDispose"),li("dispose"),li("matcher"),li("metadata"),li("observable"),li("patternMatch"),li("replaceAll");var _o=xv,Lu=me,Qw=Q,ah=so,kv=ne,mb=Ye,qt=co,ui=pi,_t=Kt,On=Js,wo=ot,e1=Oi,Bu=$s("slice"),t1=wo("species"),Dr=Qw.Array,Xa=Math.max;Lu({target:"Array",proto:!0,forced:!Bu},{slice:function(u,h){var p,v,k,O=_t(this),D=ui(O),F=qt(u,D),B=qt(void 0===h?D:h,D);if(ah(O)&&((kv(p=O.constructor)&&(p===Dr||ah(p.prototype))||mb(p)&&null===(p=p[t1]))&&(p=void 0),p===Dr||void 0===p))return e1(O,F,B);for(v=new(void 0===p?Dr:p)(Xa(B-F,0)),k=0;F<B;F++,k++)F in O&&On(v,k,O[F]);return v.length=k,v}});var Nu=ei("Array").slice,ct=et,Et=Nu,Cv=Array.prototype,yb=function(u){var h=u.slice;return u===Cv||ct(Cv,u)&&h===Cv.slice?Et:h},n1=yb,sh=Dy;function Qa(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}function bb(u,h){var p;if(u){if("string"==typeof u)return Qa(u,h);var v=n1(p=Object.prototype.toString.call(u)).call(p,8,-1);return"Object"===v&&u.constructor&&(v=u.constructor.name),"Map"===v||"Set"===v?sh(u):"Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?Qa(u,h):void 0}}function ti(u,h){return function(p){if(cb(p))return p}(u)||function(p,v){var k=null==p?null:void 0!==_o&&tl(p)||p["@@iterator"];if(null!=k){var O,D,F=[],B=!0,z=!1;try{for(k=k.call(p);!(B=(O=k.next()).done)&&(F.push(O.value),!v||F.length!==v);B=!0);}catch(Z){z=!0,D=Z}finally{try{B||null==k.return||k.return()}finally{if(z)throw D}}return F}}(u,h)||bb(u,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lh=Nd.f("iterator"),Ev=lh;function dt(u){return(dt="function"==typeof _o&&"symbol"==typeof Ev?function(h){return typeof h}:function(h){return h&&"function"==typeof _o&&h.constructor===_o&&h!==_o.prototype?"symbol":typeof h})(u)}function gi(u){return function(h){if(cb(h))return Qa(h)}(u)||function(h){if(void 0!==_o&&null!=tl(h)||null!=h["@@iterator"])return sh(h)}(u)||bb(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hl=wv,_b=ei("Array").concat,wb=et,fl=_b,uh=Array.prototype,Mr=function(u){var h=u.concat;return u===uh||wb(uh,u)&&h===uh.concat?fl:h},zu=yb;me({target:"Reflect",stat:!0},{ownKeys:ab});var ch=Fe.Reflect.ownKeys,Wi=bv,Sv=Tt,pl=mu;me({target:"Object",stat:!0,forced:_e(function(){pl(1)})},{keys:function(u){return pl(Sv(u))}});var Tv=Fe.Object.keys,xb=me,Ov=Q.Date,Rt=Ee(Ov.prototype.getTime);xb({target:"Date",stat:!0},{now:function(){return Rt(new Ov)}});var r1=En.forEach,kb=Da("forEach")?[].forEach:function(u){return r1(this,u,arguments.length>1?arguments[1]:void 0)};me({target:"Array",proto:!0,forced:[].forEach!=kb},{forEach:kb});var Cb=ei("Array").forEach,ju=kn,an=ft,hh=et,Hu=Cb,vl=Array.prototype,o1={DOMTokenList:!0,NodeList:!0},Ki=function(u){var h=u.forEach;return u===vl||hh(vl,u)&&h===vl.forEach||an(o1,ju(u))?Hu:h},Xn=me,xo=so,Jo=Ee([].reverse),Iv=[1,2];Xn({target:"Array",proto:!0,forced:String(Iv)===String(Iv.reverse())},{reverse:function(){return xo(this)&&(this.length=this.length),Jo(this)}});var Dv=ei("Array").reverse,Vu=et,Eb=Dv,Pr=Array.prototype,a1=me,Tb=Q,ko=co,Wu=su,Mv=pi,Pv=Tt,s1=Mt,Rv=Js,Ku=$s("splice"),Fv=Tb.TypeError,In=Math.max,Av=Math.min,l1=9007199254740991,Ob="Maximum allowed length exceeded";a1({target:"Array",proto:!0,forced:!Ku},{splice:function(u,h){var p,v,k,O,D,F,B=Pv(this),z=Mv(B),Z=ko(u,z),q=arguments.length;if(0===q?p=v=0:1===q?(p=0,v=z-Z):(p=q-2,v=Av(In(Wu(h),0),z-Z)),z+p-v>l1)throw Fv(Ob);for(k=s1(B,v),O=0;O<v;O++)(D=Z+O)in B&&Rv(k,O,B[D]);if(k.length=v,p<v){for(O=Z;O<z-v;O++)F=O+p,(D=O+v)in B?B[F]=B[D]:delete B[F];for(O=z;O>z-v+p;O--)delete B[O-1]}else if(p>v)for(O=z-v;O>Z;O--)F=O+p-1,(D=O+v-1)in B?B[F]=B[D]:delete B[F];for(O=0;O<p;O++)B[O+Z]=arguments[O+2];return B.length=z-v+p,k}});var Ib=ei("Array").splice,Db=et,$v=Ib,Lv=Array.prototype,Mb=function(u){var h=u.splice;return u===Lv||Db(Lv,u)&&h===Lv.splice?$v:h},Pb=Qe,c1=Qt,Rb=_e,fh=mu,Fb=Su,d1=Qi,Ab=Tt,h1=Ur,es=Object.assign,Gu=Object.defineProperty,Bv=Ee([].concat),f1=!es||Rb(function(){if(Pb&&1!==es({b:1},es(Gu({},"a",{enumerable:!0,get:function(){Gu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var u={},h={},p=Symbol(),v="abcdefghijklmnopqrst";return u[p]=7,v.split("").forEach(function(k){h[k]=k}),7!=es({},u)[p]||fh(es({},h)).join("")!=v})?function(u,h){for(var p=Ab(u),v=arguments.length,k=1,O=Fb.f,D=d1.f;v>k;)for(var F,B=h1(arguments[k++]),z=O?Bv(fh(B),O(B)):fh(B),Z=z.length,q=0;Z>q;)F=z[q++],Pb&&!c1(D,B,F)||(p[F]=B[F]);return p}:es;me({target:"Object",stat:!0,forced:Object.assign!==f1},{assign:f1});var Nv=Fe.Object.assign,$b=Op.includes;me({target:"Array",proto:!0},{includes:function(u){return $b(this,u,arguments.length>1?arguments[1]:void 0)}}),ei("Array");var p1=Ye,Lb=ni,zv=ot("match"),g1=Q.TypeError,m1=ot("match"),y1=me,jv=function(u){if(function(u){var h;return p1(u)&&(void 0!==(h=u[zv])?!!h:"RegExp"==Lb(u))}(u))throw g1("The method doesn't accept regular expressions");return u},b1=zn,Ai=Ra,Bb=Ee("".indexOf);y1({target:"String",proto:!0,forced:!function(u){var h=/./;try{"/./"[u](h)}catch{try{return h[m1]=!1,"/./"[u](h)}catch{}}return!1}("includes")},{includes:function(u){return!!~Bb(Ai(b1(this)),Ai(jv(u)),arguments.length>1?arguments[1]:void 0)}}),ei("String");var w1=Tt,Nb=xd,x1=Rp;me({target:"Object",stat:!0,forced:_e(function(){Nb(1)}),sham:!x1},{getPrototypeOf:function(u){return Nb(w1(u))}});var k1=Fe.Object.getPrototypeOf,zb=Qe,jb=Ee,Hb=mu,C1=Kt,Vb=jb(Qi.f),Hv=jb([].push),Uu=function(u){return function(h){for(var p,v=C1(h),k=Hb(v),O=k.length,D=0,F=[];O>D;)p=k[D++],zb&&!Vb(v,p)||Hv(F,u?[p,v[p]]:v[p]);return F}},E1=(Uu(!0),Uu(!1));me({target:"Object",stat:!0},{values:function(u){return E1(u)}});var Vv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Wv=zn,ph=Ra,Kv=Ee("".replace),vh="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",S1=RegExp("^"+vh+vh+"*"),T1=RegExp(vh+vh+"*$"),gh=function(u){return function(h){var p=ph(Wv(h));return 1&u&&(p=Kv(p,S1,"")),2&u&&(p=Kv(p,T1,"")),p}},Gv={start:gh(1),end:gh(2),trim:gh(3)},Wb=_e,Gb=Ra,Ub=Gv.trim,Uv=Vv,Gi=Q.parseInt,Yb=Q.Symbol,qb=Yb&&Yb.iterator,Yv=/^[+-]?0x/i,qv=Ee(Yv.exec),Zv=8!==Gi(Uv+"08")||22!==Gi(Uv+"0x16")||qb&&!Wb(function(){Gi(Object(qb))})?function(u,h){var p=Ub(Gb(u));return Gi(p,h>>>0||(qv(Yv,p)?16:10))}:Gi;me({global:!0,forced:parseInt!=Zv},{parseInt:Zv});var O1=me,I1=Op.indexOf,D1=Da,Jv=Ee([].indexOf),mh=!!Jv&&1/Jv([1],1,-0)<0,M1=D1("indexOf");O1({target:"Array",proto:!0,forced:mh||!M1},{indexOf:function(u){var h=arguments.length>1?arguments[1]:void 0;return mh?Jv(this,u,h)||0:I1(this,u,h)}}),ei("Array");var u,mt=Xm.PROPER,Zb=Vv,Jb=Gv.trim;me({target:"String",proto:!0,forced:(u="trim",_e(function(){return!!Zb[u]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[u]()||mt&&Zb[u].name!==u}))},{trim:function(){return Jb(this)}}),ei("String"),me({target:"Object",stat:!0,sham:!Qe},{create:Hs});var R1=Fe.Object,Xv=function(u,h){return R1.create(u,h)},Qv=Xv,Xo=me,F1=Xi,Yu=Ee,qu=_e,A1=Q.Array,yh=hi("JSON","stringify"),ts=Yu(/./.exec),Zu=Yu("".charAt),Qb=Yu("".charCodeAt),$1=Yu("".replace),L1=Yu(1..toString),B1=/[\uD800-\uDFFF]/g,e0=/^[\uD800-\uDBFF]$/,eg=/^[\uDC00-\uDFFF]$/,t0=function(u,h,p){var v=Zu(p,h-1),k=Zu(p,h+1);return ts(e0,u)&&!ts(eg,k)||ts(eg,u)&&!ts(e0,v)?"\\u"+L1(Qb(u,0),16):u},N1=qu(function(){return'"\\udf06\\ud834"'!==yh("\udf06\ud834")||'"\\udead"'!==yh("\udead")});yh&&Xo({target:"JSON",stat:!0,forced:N1},{stringify:function(u,h,p){for(var v=0,k=arguments.length,O=A1(k);v<k;v++)O[v]=arguments[v];var D=F1(yh,null,O);return"string"==typeof D?$1(D,B1,t0):D}});var tg=Fe,ig=Xi;tg.JSON||(tg.JSON={stringify:JSON.stringify});var j1=function(u,h,p){return ig(tg.JSON.stringify,null,arguments)},Ju=Q.TypeError,H1=me,ng=Q,bh=Xi,V1=De,W1=Oi,K1=function(u,h){if(u<h)throw Ju("Not enough arguments");return u},G1=/MSIE .\./.test(fi),U1=ng.Function,n0=function(u){return function(h,p){var v=K1(arguments.length,1)>2,k=V1(h)?h:U1(h),O=v?W1(arguments,2):void 0;return u(v?function(){bh(k,this,O)}:k,p)}};H1({global:!0,bind:!0,forced:G1},{setTimeout:n0(ng.setTimeout),setInterval:n0(ng.setInterval)});var r0=Fe.setTimeout,Rr=Tt,o0=co,a0=pi;me({target:"Array",proto:!0},{fill:function(u){for(var h=Rr(this),p=a0(h),v=arguments.length,k=o0(v>1?arguments[1]:void 0,p),O=v>2?arguments[2]:void 0,D=void 0===O?p:o0(O,p);D>k;)h[k++]=u;return h}}),ei("Array");var is={exports:{}};!function(u){function h(p){if(p)return function(v){for(var k in h.prototype)v[k]=h.prototype[k];return v}(p)}u.exports=h,h.prototype.on=h.prototype.addEventListener=function(p,v){return this._callbacks=this._callbacks||{},(this._callbacks["$"+p]=this._callbacks["$"+p]||[]).push(v),this},h.prototype.once=function(p,v){function k(){this.off(p,k),v.apply(this,arguments)}return k.fn=v,this.on(p,k),this},h.prototype.off=h.prototype.removeListener=h.prototype.removeAllListeners=h.prototype.removeEventListener=function(p,v){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var k,O=this._callbacks["$"+p];if(!O)return this;if(1==arguments.length)return delete this._callbacks["$"+p],this;for(var D=0;D<O.length;D++)if((k=O[D])===v||k.fn===v){O.splice(D,1);break}return 0===O.length&&delete this._callbacks["$"+p],this},h.prototype.emit=function(p){this._callbacks=this._callbacks||{};for(var v=new Array(arguments.length-1),k=this._callbacks["$"+p],O=1;O<arguments.length;O++)v[O-1]=arguments[O];if(k){O=0;for(var D=(k=k.slice(0)).length;O<D;++O)k[O].apply(this,v)}return this},h.prototype.listeners=function(p){return this._callbacks=this._callbacks||{},this._callbacks["$"+p]||[]},h.prototype.hasListeners=function(p){return!!this.listeners(p).length}}(is);var rg,q1=is.exports;function er(){return er=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},er.apply(this,arguments)}function fn(u,h){u.prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h}function ml(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}rg="function"!=typeof Object.assign?function(u){if(null==u)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),p=1;p<arguments.length;p++){var v=arguments[p];if(null!=v)for(var k in v)v.hasOwnProperty(k)&&(h[k]=v[k])}return h}:Object.assign;var Qo,Dn=rg,Mn=["","webkit","Moz","MS","ms","o"],Pn=typeof document>"u"?{style:{}}:document.createElement("div"),Co=Math.round,sn=Math.abs,Eo=Date.now;function Xu(u,h){for(var p,v,k=h[0].toUpperCase()+h.slice(1),O=0;O<Mn.length;){if((v=(p=Mn[O])?p+k:h)in u)return v;O++}}Qo=typeof window>"u"?{}:window;var s0=Xu(Pn.style,"touchAction"),ns=void 0!==s0,Fr="compute",yl="manipulation",rs="none",Qu="pan-x",ec="pan-y",os=function(){if(!ns)return!1;var u={},h=Qo.CSS&&Qo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(p){return u[p]=!h||Qo.CSS.supports("touch-action",p)}),u}(),wh="ontouchstart"in Qo,bl=void 0!==Xu(Qo,"PointerEvent"),tc=wh&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ea="touch",_l="mouse",l0=["x","y"],ta=["clientX","clientY"];function tr(u,h,p){var v;if(u)if(u.forEach)u.forEach(h,p);else if(void 0!==u.length)for(v=0;v<u.length;)h.call(p,u[v],v,u),v++;else for(v in u)u.hasOwnProperty(v)&&h.call(p,u[v],v,u)}function ia(u,h){return"function"==typeof u?u.apply(h&&h[0]||void 0,h):u}function Ar(u,h){return u.indexOf(h)>-1}var kh=function(){function u(p,v){this.manager=p,this.set(v)}var h=u.prototype;return h.set=function(p){p===Fr&&(p=this.compute()),ns&&this.manager.element.style&&os[p]&&(this.manager.element.style[s0]=p),this.actions=p.toLowerCase().trim()},h.update=function(){this.set(this.manager.options.touchAction)},h.compute=function(){var p=[];return tr(this.manager.recognizers,function(v){ia(v.options.enable,[v])&&(p=p.concat(v.getTouchAction()))}),function(v){if(Ar(v,rs))return rs;var k=Ar(v,Qu),O=Ar(v,ec);return k&&O?rs:k||O?k?Qu:ec:Ar(v,yl)?yl:"auto"}(p.join(" "))},h.preventDefaults=function(p){var v=p.srcEvent,k=p.offsetDirection;if(this.manager.session.prevented)v.preventDefault();else{var O=this.actions,D=Ar(O,rs)&&!os.none,F=Ar(O,ec)&&!os["pan-y"],B=Ar(O,Qu)&&!os["pan-x"];if(D&&1===p.pointers.length&&p.distance<2&&p.deltaTime<250)return;if(!B||!F)return D||F&&6&k||B&&24&k?this.preventSrc(v):void 0}},h.preventSrc=function(p){this.manager.session.prevented=!0,p.preventDefault()},u}();function na(u,h){for(;u;){if(u===h)return!0;u=u.parentNode}return!1}function ir(u){var h=u.length;if(1===h)return{x:Co(u[0].clientX),y:Co(u[0].clientY)};for(var p=0,v=0,k=0;k<h;)p+=u[k].clientX,v+=u[k].clientY,k++;return{x:Co(p/h),y:Co(v/h)}}function ic(u){for(var h=[],p=0;p<u.pointers.length;)h[p]={clientX:Co(u.pointers[p].clientX),clientY:Co(u.pointers[p].clientY)},p++;return{timeStamp:Eo(),pointers:h,center:ir(h),deltaX:u.deltaX,deltaY:u.deltaY}}function Zt(u,h,p){p||(p=l0);var v=h[p[0]]-u[p[0]],k=h[p[1]]-u[p[1]];return Math.sqrt(v*v+k*k)}function Ch(u,h,p){return p||(p=l0),180*Math.atan2(h[p[1]]-u[p[1]],h[p[0]]-u[p[0]])/Math.PI}function Eh(u,h){return u===h?1:sn(u)>=sn(h)?u<0?2:4:h<0?8:16}function og(u,h,p){return{x:h/u||0,y:p/u||0}}function Sh(u,h,p){var v=p.pointers.length,k=p.changedPointers.length,O=1&h&&v-k==0,D=12&h&&v-k==0;p.isFirst=!!O,p.isFinal=!!D,O&&(u.session={}),p.eventType=h,function ag(u,h){var p=u.session,v=h.pointers,k=v.length;p.firstInput||(p.firstInput=ic(h)),k>1&&!p.firstMultiple?p.firstMultiple=ic(h):1===k&&(p.firstMultiple=!1);var Se,Re,Ie,Je,St,wt,O=p.firstInput,D=p.firstMultiple,F=D?D.center:O.center,B=h.center=ir(v);h.timeStamp=Eo(),h.deltaTime=h.timeStamp-O.timeStamp,h.angle=Ch(F,B),h.distance=Zt(F,B),Ie=(Re=h).center,Je=(Se=p).offsetDelta||{},St=Se.prevDelta||{},wt=Se.prevInput||{},1!==Re.eventType&&4!==wt.eventType||(St=Se.prevDelta={x:wt.deltaX||0,y:wt.deltaY||0},Je=Se.offsetDelta={x:Ie.x,y:Ie.y}),Re.deltaX=St.x+(Ie.x-Je.x),Re.deltaY=St.y+(Ie.y-Je.y),h.offsetDirection=Eh(h.deltaX,h.deltaY);var z,Z,q=og(h.deltaTime,h.deltaX,h.deltaY);h.overallVelocityX=q.x,h.overallVelocityY=q.y,h.overallVelocity=sn(q.x)>sn(q.y)?q.x:q.y,h.scale=D?(z=D.pointers,Zt((Z=v)[0],Z[1],ta)/Zt(z[0],z[1],ta)):1,h.rotation=D?function(Se,Re){return Ch(Re[1],Re[0],ta)+Ch(Se[1],Se[0],ta)}(D.pointers,v):0,h.maxPointers=p.prevInput?h.pointers.length>p.prevInput.maxPointers?h.pointers.length:p.prevInput.maxPointers:h.pointers.length,function(Se,Re){var Ie,Je,St,wt,At=Se.lastInterval||Re,vn=Re.timeStamp-At.timeStamp;if(8!==Re.eventType&&(vn>25||void 0===At.velocity)){var un=Re.deltaX-At.deltaX,Jt=Re.deltaY-At.deltaY,Ci=og(vn,un,Jt);Je=Ci.x,St=Ci.y,Ie=sn(Ci.x)>sn(Ci.y)?Ci.x:Ci.y,wt=Eh(un,Jt),Se.lastInterval=Re}else Ie=At.velocity,Je=At.velocityX,St=At.velocityY,wt=At.direction;Re.velocity=Ie,Re.velocityX=Je,Re.velocityY=St,Re.direction=wt}(p,h);var de,ye=u.element,Te=h.srcEvent;na(de=Te.composedPath?Te.composedPath()[0]:Te.path?Te.path[0]:Te.target,ye)&&(ye=de),h.target=ye}(u,p),u.emit("hammer.input",p),u.recognize(p),u.session.prevInput=p}function as(u){return u.trim().split(/\s+/g)}function xl(u,h,p){tr(as(h),function(v){u.addEventListener(v,p,!1)})}function kl(u,h,p){tr(as(h),function(v){u.removeEventListener(v,p,!1)})}function u0(u){var h=u.ownerDocument||u;return h.defaultView||h.parentWindow||window}var mi=function(){function u(p,v){var k=this;this.manager=p,this.callback=v,this.element=p.element,this.target=p.options.inputTarget,this.domHandler=function(O){ia(p.options.enable,[p])&&k.handler(O)},this.init()}var h=u.prototype;return h.handler=function(){},h.init=function(){this.evEl&&xl(this.element,this.evEl,this.domHandler),this.evTarget&&xl(this.target,this.evTarget,this.domHandler),this.evWin&&xl(u0(this.element),this.evWin,this.domHandler)},h.destroy=function(){this.evEl&&kl(this.element,this.evEl,this.domHandler),this.evTarget&&kl(this.target,this.evTarget,this.domHandler),this.evWin&&kl(u0(this.element),this.evWin,this.domHandler)},u}();function nr(u,h,p){if(u.indexOf&&!p)return u.indexOf(h);for(var v=0;v<u.length;){if(p&&u[v][p]==h||!p&&u[v]===h)return v;v++}return-1}var nc={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},rc={2:ea,3:"pen",4:_l,5:"kinect"},Di="pointerdown",rr="pointermove pointerup pointercancel";Qo.MSPointerEvent&&!Qo.PointerEvent&&(Di="MSPointerDown",rr="MSPointerMove MSPointerUp MSPointerCancel");var ra=function(u){function h(){var p,v=h.prototype;return v.evEl=Di,v.evWin=rr,(p=u.apply(this,arguments)||this).store=p.manager.session.pointerEvents=[],p}return fn(h,u),h.prototype.handler=function(p){var v=this.store,k=!1,O=p.type.toLowerCase().replace("ms",""),D=nc[O],F=rc[p.pointerType]||p.pointerType,B=F===ea,z=nr(v,p.pointerId,"pointerId");1&D&&(0===p.button||B)?z<0&&(v.push(p),z=v.length-1):12&D&&(k=!0),z<0||(v[z]=p,this.callback(this.manager,D,{pointers:v,changedPointers:[p],pointerType:F,srcEvent:p}),k&&v.splice(z,1))},h}(mi);function oc(u){return Array.prototype.slice.call(u,0)}function sg(u,h,p){for(var v=[],k=[],O=0;O<u.length;){var D=h?u[O][h]:u[O];nr(k,D)<0&&v.push(u[O]),k[O]=D,O++}return p&&(v=h?v.sort(function(F,B){return F[h]>B[h]}):v.sort()),v}var c0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Th="touchstart touchmove touchend touchcancel",Oh=function(u){function h(){var p;return h.prototype.evTarget=Th,(p=u.apply(this,arguments)||this).targetIds={},p}return fn(h,u),h.prototype.handler=function(p){var v=c0[p.type],k=ac.call(this,p,v);k&&this.callback(this.manager,v,{pointers:k[0],changedPointers:k[1],pointerType:ea,srcEvent:p})},h}(mi);function ac(u,h){var p,v,k=oc(u.touches),O=this.targetIds;if(3&h&&1===k.length)return O[k[0].identifier]=!0,[k,k];var D=oc(u.changedTouches),F=[],B=this.target;if(v=k.filter(function(z){return na(z.target,B)}),1===h)for(p=0;p<v.length;)O[v[p].identifier]=!0,p++;for(p=0;p<D.length;)O[D[p].identifier]&&F.push(D[p]),12&h&&delete O[D[p].identifier],p++;return F.length?[sg(v.concat(F),"identifier",!0),F]:void 0}var lg={mousedown:1,mousemove:2,mouseup:4},Ih="mousedown",sc="mousemove mouseup",lc=function(u){function h(){var p,v=h.prototype;return v.evEl=Ih,v.evWin=sc,(p=u.apply(this,arguments)||this).pressed=!1,p}return fn(h,u),h.prototype.handler=function(p){var v=lg[p.type];1&v&&0===p.button&&(this.pressed=!0),2&v&&1!==p.which&&(v=4),this.pressed&&(4&v&&(this.pressed=!1),this.callback(this.manager,v,{pointers:[p],changedPointers:[p],pointerType:_l,srcEvent:p}))},h}(mi);function d0(u){var h=u.changedPointers[0];if(h.identifier===this.primaryTouch){var p={x:h.clientX,y:h.clientY},v=this.lastTouches;this.lastTouches.push(p),setTimeout(function(){var k=v.indexOf(p);k>-1&&v.splice(k,1)},2500)}}function Z1(u,h){1&u?(this.primaryTouch=h.changedPointers[0].identifier,d0.call(this,h)):12&u&&d0.call(this,h)}function J1(u){for(var h=u.srcEvent.clientX,p=u.srcEvent.clientY,v=0;v<this.lastTouches.length;v++){var k=this.lastTouches[v],O=Math.abs(h-k.x),D=Math.abs(p-k.y);if(O<=25&&D<=25)return!0}return!1}var h0=function(u){function h(p,v){var k;return(k=u.call(this,p,v)||this).handler=function(O,D,F){var z=F.pointerType===_l;if(!(z&&F.sourceCapabilities&&F.sourceCapabilities.firesTouchEvents)){if(F.pointerType===ea)Z1.call(ml(ml(k)),D,F);else if(z&&J1.call(ml(ml(k)),F))return;k.callback(O,D,F)}},k.touch=new Oh(k.manager,k.handler),k.mouse=new lc(k.manager,k.handler),k.primaryTouch=null,k.lastTouches=[],k}return fn(h,u),h.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},h}(mi);function oa(u,h,p){return!!Array.isArray(u)&&(tr(u,p[h],p),!0)}var Ui=1;function Dh(u,h){var p=h.manager;return p?p.get(u):u}function ug(u){return 16&u?"cancel":8&u?"end":4&u?"move":2&u?"start":""}var or=function(){function u(p){void 0===p&&(p={}),this.options=er({enable:!0},p),this.id=Ui++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var h=u.prototype;return h.set=function(p){return Dn(this.options,p),this.manager&&this.manager.touchAction.update(),this},h.recognizeWith=function(p){if(oa(p,"recognizeWith",this))return this;var v=this.simultaneous;return v[(p=Dh(p,this)).id]||(v[p.id]=p,p.recognizeWith(this)),this},h.dropRecognizeWith=function(p){return oa(p,"dropRecognizeWith",this)||(p=Dh(p,this),delete this.simultaneous[p.id]),this},h.requireFailure=function(p){if(oa(p,"requireFailure",this))return this;var v=this.requireFail;return-1===nr(v,p=Dh(p,this))&&(v.push(p),p.requireFailure(this)),this},h.dropRequireFailure=function(p){if(oa(p,"dropRequireFailure",this))return this;p=Dh(p,this);var v=nr(this.requireFail,p);return v>-1&&this.requireFail.splice(v,1),this},h.hasRequireFailures=function(){return this.requireFail.length>0},h.canRecognizeWith=function(p){return!!this.simultaneous[p.id]},h.emit=function(p){var v=this,k=this.state;function O(D){v.manager.emit(D,p)}k<8&&O(v.options.event+ug(k)),O(v.options.event),p.additionalEvent&&O(p.additionalEvent),k>=8&&O(v.options.event+ug(k))},h.tryEmit=function(p){if(this.canEmit())return this.emit(p);this.state=32},h.canEmit=function(){for(var p=0;p<this.requireFail.length;){if(!(33&this.requireFail[p].state))return!1;p++}return!0},h.recognize=function(p){var v=Dn({},p);if(!ia(this.options.enable,[this,v]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(v),30&this.state&&this.tryEmit(v)},h.process=function(p){},h.getTouchAction=function(){},h.reset=function(){},u}(),Lr=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},v))||this).pTime=!1,k.pCenter=!1,k._timer=null,k._input=null,k.count=0,k}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[yl]},p.process=function(v){var k=this,O=this.options,D=v.pointers.length===O.pointers,F=v.distance<O.threshold,B=v.deltaTime<O.time;if(this.reset(),1&v.eventType&&0===this.count)return this.failTimeout();if(F&&B&&D){if(4!==v.eventType)return this.failTimeout();var z=!this.pTime||v.timeStamp-this.pTime<O.interval,Z=!this.pCenter||Zt(this.pCenter,v.center)<O.posThreshold;if(this.pTime=v.timeStamp,this.pCenter=v.center,Z&&z?this.count+=1:this.count=1,this._input=v,this.count%O.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){k.state=8,k.tryEmit()},O.interval),2):8}return 32},p.failTimeout=function(){var v=this;return this._timer=setTimeout(function(){v.state=32},this.options.interval),32},p.reset=function(){clearTimeout(this._timer)},p.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},h}(or),Cl=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({pointers:1},v))||this}fn(h,u);var p=h.prototype;return p.attrTest=function(v){var k=this.options.pointers;return 0===k||v.pointers.length===k},p.process=function(v){var k=this.state,O=v.eventType,D=6&k,F=this.attrTest(v);return D&&(8&O||!F)?16|k:D||F?4&O?8|k:2&k?4|k:2:32},h}(or);function uc(u){return 16===u?"down":8===u?"up":2===u?"left":4===u?"right":""}var Mh=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"pan",threshold:10,pointers:1,direction:30},v))||this).pX=null,k.pY=null,k}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){var v=this.options.direction,k=[];return 6&v&&k.push(ec),24&v&&k.push(Qu),k},p.directionTest=function(v){var k=this.options,O=!0,D=v.distance,F=v.direction,B=v.deltaX,z=v.deltaY;return F&k.direction||(6&k.direction?(F=0===B?1:B<0?2:4,O=B!==this.pX,D=Math.abs(v.deltaX)):(F=0===z?1:z<0?8:16,O=z!==this.pY,D=Math.abs(v.deltaY))),v.direction=F,O&&D>k.threshold&&F&k.direction},p.attrTest=function(v){return Cl.prototype.attrTest.call(this,v)&&(2&this.state||!(2&this.state)&&this.directionTest(v))},p.emit=function(v){this.pX=v.deltaX,this.pY=v.deltaY;var k=uc(v.direction);k&&(v.additionalEvent=this.options.event+k),u.prototype.emit.call(this,v)},h}(Cl),El=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},v))||this}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){return Mh.prototype.getTouchAction.call(this)},p.attrTest=function(v){var k,O=this.options.direction;return 30&O?k=v.overallVelocity:6&O?k=v.overallVelocityX:24&O&&(k=v.overallVelocityY),u.prototype.attrTest.call(this,v)&&O&v.offsetDirection&&v.distance>this.options.threshold&&v.maxPointers===this.options.pointers&&sn(k)>this.options.velocity&&4&v.eventType},p.emit=function(v){var k=uc(v.offsetDirection);k&&this.manager.emit(this.options.event+k,v),this.manager.emit(this.options.event,v)},h}(Cl),Ph=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"pinch",threshold:0,pointers:2},v))||this}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[rs]},p.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||2&this.state)},p.emit=function(v){1!==v.scale&&(v.additionalEvent=this.options.event+(v.scale<1?"in":"out")),u.prototype.emit.call(this,v)},h}(Cl),So=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"rotate",threshold:0,pointers:2},v))||this}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[rs]},p.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||2&this.state)},h}(Cl),cg=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"press",pointers:1,time:251,threshold:9},v))||this)._timer=null,k._input=null,k}fn(h,u);var p=h.prototype;return p.getTouchAction=function(){return["auto"]},p.process=function(v){var k=this,O=this.options,D=v.pointers.length===O.pointers,F=v.distance<O.threshold,B=v.deltaTime>O.time;if(this._input=v,!F||!D||12&v.eventType&&!B)this.reset();else if(1&v.eventType)this.reset(),this._timer=setTimeout(function(){k.state=8,k.tryEmit()},O.time);else if(4&v.eventType)return 8;return 32},p.reset=function(){clearTimeout(this._timer)},p.emit=function(v){8===this.state&&(v&&4&v.eventType?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=Eo(),this.manager.emit(this.options.event,this._input)))},h}(or),Rh={domEvents:!1,touchAction:Fr,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dg=[[So,{enable:!1}],[Ph,{enable:!1},["rotate"]],[El,{direction:6}],[Mh,{direction:6},["swipe"]],[Lr],[Lr,{event:"doubletap",taps:2},["tap"]],[cg]];function Fh(u,h){var p,v=u.element;v.style&&(tr(u.options.cssProps,function(k,O){p=Xu(v.style,O),h?(u.oldCssProps[p]=v.style[p],v.style[p]=k):v.style[p]=u.oldCssProps[p]||""}),h||(u.oldCssProps={}))}var hg=function(){function u(p,v){var O=this;this.options=Dn({},Rh,v||{}),this.options.inputTarget=this.options.inputTarget||p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=p,this.input=new(this.options.inputClass||(bl?ra:tc?Oh:wh?h0:lc))(this,Sh),this.touchAction=new kh(this,this.options.touchAction),Fh(this,!0),tr(this.options.recognizers,function(D){var F=O.add(new D[0](D[1]));D[2]&&F.recognizeWith(D[2]),D[3]&&F.requireFailure(D[3])},this)}var h=u.prototype;return h.set=function(p){return Dn(this.options,p),p.touchAction&&this.touchAction.update(),p.inputTarget&&(this.input.destroy(),this.input.target=p.inputTarget,this.input.init()),this},h.stop=function(p){this.session.stopped=p?2:1},h.recognize=function(p){var v=this.session;if(!v.stopped){var k;this.touchAction.preventDefaults(p);var O=this.recognizers,D=v.curRecognizer;(!D||D&&8&D.state)&&(v.curRecognizer=null,D=null);for(var F=0;F<O.length;)k=O[F],2===v.stopped||D&&k!==D&&!k.canRecognizeWith(D)?k.reset():k.recognize(p),!D&&14&k.state&&(v.curRecognizer=k,D=k),F++}},h.get=function(p){if(p instanceof or)return p;for(var v=this.recognizers,k=0;k<v.length;k++)if(v[k].options.event===p)return v[k];return null},h.add=function(p){if(oa(p,"add",this))return this;var v=this.get(p.options.event);return v&&this.remove(v),this.recognizers.push(p),p.manager=this,this.touchAction.update(),p},h.remove=function(p){if(oa(p,"remove",this))return this;var v=this.get(p);if(p){var k=this.recognizers,O=nr(k,v);-1!==O&&(k.splice(O,1),this.touchAction.update())}return this},h.on=function(p,v){if(void 0===p||void 0===v)return this;var k=this.handlers;return tr(as(p),function(O){k[O]=k[O]||[],k[O].push(v)}),this},h.off=function(p,v){if(void 0===p)return this;var k=this.handlers;return tr(as(p),function(O){v?k[O]&&k[O].splice(nr(k[O],v),1):delete k[O]}),this},h.emit=function(p,v){var D,F,B;this.options.domEvents&&(D=p,F=v,(B=document.createEvent("Event")).initEvent(D,!0,!0),B.gesture=F,F.target.dispatchEvent(B));var k=this.handlers[p]&&this.handlers[p].slice();if(k&&k.length){v.type=p,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var O=0;O<k.length;)k[O](v),O++}},h.destroy=function(){this.element&&Fh(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},u}(),f0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},p0="touchstart",v0="touchstart touchmove touchend touchcancel",g0=function(u){function h(){var p,v=h.prototype;return v.evTarget=p0,v.evWin=v0,(p=u.apply(this,arguments)||this).started=!1,p}return fn(h,u),h.prototype.handler=function(p){var v=f0[p.type];if(1===v&&(this.started=!0),this.started){var k=m0.call(this,p,v);12&v&&k[0].length-k[1].length==0&&(this.started=!1),this.callback(this.manager,v,{pointers:k[0],changedPointers:k[1],pointerType:ea,srcEvent:p})}},h}(mi);function m0(u,h){var p=oc(u.touches),v=oc(u.changedTouches);return 12&h&&(p=sg(p.concat(v),"identifier",!0)),[p,v]}function y0(u,h,p){var v="DEPRECATED METHOD: "+h+"\n"+p+" AT \n";return function(){var k=new Error("get-stack-trace"),O=k&&k.stack?k.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",D=window.console&&(window.console.warn||window.console.log);return D&&D.call(window.console,v,O),u.apply(this,arguments)}}var fg=y0(function(u,h,p){for(var v=Object.keys(h),k=0;k<v.length;)(!p||p&&void 0===u[v[k]])&&(u[v[k]]=h[v[k]]),k++;return u},"extend","Use `assign`."),X1=y0(function(u,h){return fg(u,h,!0)},"merge","Use `assign`.");function Q1(u,h,p){var v,k=h.prototype;(v=u.prototype=Object.create(k)).constructor=u,v._super=k,p&&Dn(v,p)}function b0(u,h){return function(){return u.apply(h,arguments)}}var _0=function(){var u=function(h,p){return void 0===p&&(p={}),new hg(h,er({recognizers:dg.concat()},p))};return u.VERSION="2.0.17-rc",u.DIRECTION_ALL=30,u.DIRECTION_DOWN=16,u.DIRECTION_LEFT=2,u.DIRECTION_RIGHT=4,u.DIRECTION_UP=8,u.DIRECTION_HORIZONTAL=6,u.DIRECTION_VERTICAL=24,u.DIRECTION_NONE=1,u.DIRECTION_DOWN=16,u.INPUT_START=1,u.INPUT_MOVE=2,u.INPUT_END=4,u.INPUT_CANCEL=8,u.STATE_POSSIBLE=1,u.STATE_BEGAN=2,u.STATE_CHANGED=4,u.STATE_ENDED=8,u.STATE_RECOGNIZED=8,u.STATE_CANCELLED=16,u.STATE_FAILED=32,u.Manager=hg,u.Input=mi,u.TouchAction=kh,u.TouchInput=Oh,u.MouseInput=lc,u.PointerEventInput=ra,u.TouchMouseInput=h0,u.SingleTouchInput=g0,u.Recognizer=or,u.AttrRecognizer=Cl,u.Tap=Lr,u.Pan=Mh,u.Swipe=El,u.Pinch=Ph,u.Rotate=So,u.Press=cg,u.on=xl,u.off=kl,u.each=tr,u.merge=X1,u.extend=fg,u.bindFn=b0,u.assign=Dn,u.inherit=Q1,u.bindFn=b0,u.prefixed=Xu,u.toArray=oc,u.inArray=nr,u.uniqueArray=sg,u.splitStr=as,u.boolOrFn=ia,u.hasParent=na,u.addEventListeners=xl,u.removeEventListeners=kl,u.defaults=Dn({},Rh,{preset:dg}),u}();function pg(u,h){var p=void 0!==hl&&tl(u)||u["@@iterator"];if(!p){if(Wi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return w0(B,z);var q=zu(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Fd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return w0(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function w0(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var vg=hl("DELETE");function gg(){var u=Sl.apply(void 0,arguments);return mg(u),u}function Sl(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];if(h.length<2)return h[0];var v;if(h.length>2)return Sl.apply(void 0,Mr(v=[gg(h[0],h[1])]).call(v,gi(zu(h).call(h,2))));var k,O=h[0],D=h[1],F=pg(ch(D));try{for(F.s();!(k=F.n()).done;){var B=k.value;Object.prototype.propertyIsEnumerable.call(D,B)&&(D[B]===vg?delete O[B]:O[B]=null===O[B]||null===D[B]||"object"!==dt(O[B])||"object"!==dt(D[B])||Wi(O[B])||Wi(D[B])?x0(D[B]):Sl(O[B],D[B]))}}catch(z){F.e(z)}finally{F.f()}return O}function x0(u){return Wi(u)?Ri(u).call(u,function(h){return x0(h)}):"object"===dt(u)&&null!==u?Sl({},u):u}function mg(u){for(var h=0,p=Tv(u);h<p.length;h++){var v=p[h];u[v]===vg?delete u[v]:"object"===dt(u[v])&&null!==u[v]&&mg(u[v])}}var To=typeof window<"u"?window.Hammer||_0:function(){return function(){var u=function(){};return{on:u,off:u,destroy:u,emit:u,get:function(){return{set:u}}}}()};function Rn(u){var h,p=this;this._cleanupQueue=[],this.active=!1,this._dom={container:u,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){p._dom.overlay.parentNode.removeChild(p._dom.overlay)});var v=To(this._dom.overlay);v.on("tap",ao(h=this._onTapOverlay).call(h,this)),this._cleanupQueue.push(function(){v.destroy()});var k=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ki(k).call(k,function(O){v.on(O,function(D){D.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(O){(function(D,F){for(;D;){if(D===F)return!0;D=D.parentNode}return!1})(O.target,u)||p.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",p._onClick)})),this._escListener=function(O){("key"in O?"Escape"===O.key:27===O.keyCode)&&p.deactivate()}}q1(Rn.prototype),Rn.current=null,Rn.prototype.destroy=function(){var u,h;this.deactivate();var p,v=pg(function(u){var h=u.reverse;return u===Pr||Vu(Pr,u)&&h===Pr.reverse?Eb:h}(u=Mb(h=this._cleanupQueue).call(h,0)).call(u));try{for(v.s();!(p=v.n()).done;)(0,p.value)()}catch(k){v.e(k)}finally{v.f()}},Rn.prototype.activate=function(){Rn.current&&Rn.current.deactivate(),Rn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Rn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Rn.prototype._onTapOverlay=function(u){this.activate(),u.srcEvent.stopPropagation()};var ex=ne,tx=qr,yg=Q.TypeError,ar=me,bg=Xi,ix=ou,k0=function(u){if(ex(u))return u;throw yg(tx(u)+" is not a constructor")},nx=zt,sr=Ye,aa=Hs,_g=_e,Oo=hi("Reflect","construct"),C0=Object.prototype,Tl=[].push,cc=_g(function(){function u(){}return!(Oo(function(){},[],u)instanceof u)}),Ft=!_g(function(){Oo(function(){})}),dc=cc||Ft;ar({target:"Reflect",stat:!0,forced:dc,sham:dc},{construct:function(u,h){k0(u),nx(h);var p=arguments.length<3?u:k0(arguments[2]);if(Ft&&!cc)return Oo(u,h,p);if(u==p){switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3])}var v=[null];return bg(Tl,v,h),new(bg(ix,u,v))}var k=p.prototype,O=aa(sr(k)?k:C0),D=bg(u,O,h);return sr(D)?D:O}});var sa=Fe.Reflect.construct;function pn(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}var ut=Xv;me({target:"Object",stat:!0},{setPrototypeOf:_w});var Ah=Fe.Object.setPrototypeOf;function ln(u,h){return(ln=Ah||function(p,v){return p.__proto__=v,p})(u,h)}function wg(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");u.prototype=ut(h&&h.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Vn(u,"prototype",{writable:!1}),h&&ln(u,h)}function $h(u,h){if(h&&("object"===dt(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return pn(u)}var Ol=k1;function Io(u){return(Io=Ah?Ol:function(h){return h.__proto__||Ol(h)})(u)}var Lh={exports:{}};!function(u){var h=function(p){var v,k=Object.prototype,O=k.hasOwnProperty,D="function"==typeof Symbol?Symbol:{},F=D.iterator||"@@iterator",B=D.asyncIterator||"@@asyncIterator",z=D.toStringTag||"@@toStringTag";function Z(se,he,ue){return Object.defineProperty(se,he,{value:ue,enumerable:!0,configurable:!0,writable:!0}),se[he]}try{Z({},"")}catch{Z=function(he,ue,Xe){return he[ue]=Xe}}function q(se,he,ue,Xe){var Nt,An,kt,Mi,Xt=Object.create((he&&he.prototype instanceof Je?he:Je).prototype),gt=new tf(Xe||[]);return Xt._invoke=(Nt=se,An=ue,kt=gt,Mi=ye,function(cn,hs){if(Mi===Se)throw new Error("Generator is already running");if(Mi===Re){if("throw"===cn)throw hs;return vt()}for(kt.method=cn,kt.arg=hs;;){var Ei=kt.delegate;if(Ei){var Nr=fa(Ei,kt);if(Nr){if(Nr===Ie)continue;return Nr}}if("next"===kt.method)kt.sent=kt._sent=kt.arg;else if("throw"===kt.method){if(Mi===ye)throw Mi=Re,kt.arg;kt.dispatchException(kt.arg)}else"return"===kt.method&&kt.abrupt("return",kt.arg);Mi=Se;var Rl=de(Nt,An,kt);if("normal"===Rl.type){if(Mi=kt.done?Re:Te,Rl.arg===Ie)continue;return{value:Rl.arg,done:kt.done}}"throw"===Rl.type&&(Mi=Re,kt.method="throw",kt.arg=Rl.arg)}}),Xt}function de(se,he,ue){try{return{type:"normal",arg:se.call(he,ue)}}catch(Xe){return{type:"throw",arg:Xe}}}p.wrap=q;var ye="suspendedStart",Te="suspendedYield",Se="executing",Re="completed",Ie={};function Je(){}function St(){}function wt(){}var At={};Z(At,F,function(){return this});var vn=Object.getPrototypeOf,un=vn&&vn(vn(Cc([])));un&&un!==k&&O.call(un,F)&&(At=un);var Jt=wt.prototype=Je.prototype=Object.create(At);function Ci(se){["next","throw","return"].forEach(function(he){Z(se,he,function(ue){return this._invoke(he,ue)})})}function Li(se,he){function ue(Me,Xt,gt,Nt){var An=de(se[Me],se,Xt);if("throw"!==An.type){var kt=An.arg,Mi=kt.value;return Mi&&"object"==typeof Mi&&O.call(Mi,"__await")?he.resolve(Mi.__await).then(function(cn){ue("next",cn,gt,Nt)},function(cn){ue("throw",cn,gt,Nt)}):he.resolve(Mi).then(function(cn){kt.value=cn,gt(kt)},function(cn){return ue("throw",cn,gt,Nt)})}Nt(An.arg)}var Xe;this._invoke=function(Me,Xt){function gt(){return new he(function(Nt,An){ue(Me,Xt,Nt,An)})}return Xe=Xe?Xe.then(gt,gt):gt()}}function fa(se,he){var ue=se.iterator[he.method];if(ue===v){if(he.delegate=null,"throw"===he.method){if(se.iterator.return&&(he.method="return",he.arg=v,fa(se,he),"throw"===he.method))return Ie;he.method="throw",he.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ie}var Xe=de(ue,se.iterator,he.arg);if("throw"===Xe.type)return he.method="throw",he.arg=Xe.arg,he.delegate=null,Ie;var Me=Xe.arg;return Me?Me.done?(he[se.resultName]=Me.value,he.next=se.nextLoc,"return"!==he.method&&(he.method="next",he.arg=v),he.delegate=null,Ie):Me:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ie)}function oe(se){var he={tryLoc:se[0]};1 in se&&(he.catchLoc=se[1]),2 in se&&(he.finallyLoc=se[2],he.afterLoc=se[3]),this.tryEntries.push(he)}function ds(se){var he=se.completion||{};he.type="normal",delete he.arg,se.completion=he}function tf(se){this.tryEntries=[{tryLoc:"root"}],se.forEach(oe,this),this.reset(!0)}function Cc(se){if(se){var he=se[F];if(he)return he.call(se);if("function"==typeof se.next)return se;if(!isNaN(se.length)){var ue=-1,Xe=function Me(){for(;++ue<se.length;)if(O.call(se,ue))return Me.value=se[ue],Me.done=!1,Me;return Me.value=v,Me.done=!0,Me};return Xe.next=Xe}}return{next:vt}}function vt(){return{value:v,done:!0}}return St.prototype=wt,Z(Jt,"constructor",wt),Z(wt,"constructor",St),St.displayName=Z(wt,z,"GeneratorFunction"),p.isGeneratorFunction=function(se){var he="function"==typeof se&&se.constructor;return!!he&&(he===St||"GeneratorFunction"===(he.displayName||he.name))},p.mark=function(se){return Object.setPrototypeOf?Object.setPrototypeOf(se,wt):(se.__proto__=wt,Z(se,z,"GeneratorFunction")),se.prototype=Object.create(Jt),se},p.awrap=function(se){return{__await:se}},Ci(Li.prototype),Z(Li.prototype,B,function(){return this}),p.AsyncIterator=Li,p.async=function(se,he,ue,Xe,Me){void 0===Me&&(Me=Promise);var Xt=new Li(q(se,he,ue,Xe),Me);return p.isGeneratorFunction(he)?Xt:Xt.next().then(function(gt){return gt.done?gt.value:Xt.next()})},Ci(Jt),Z(Jt,z,"Generator"),Z(Jt,F,function(){return this}),Z(Jt,"toString",function(){return"[object Generator]"}),p.keys=function(se){var he=[];for(var ue in se)he.push(ue);return he.reverse(),function Xe(){for(;he.length;){var Me=he.pop();if(Me in se)return Xe.value=Me,Xe.done=!1,Xe}return Xe.done=!0,Xe}},p.values=Cc,tf.prototype={constructor:tf,reset:function(se){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(ds),!se)for(var he in this)"t"===he.charAt(0)&&O.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=v)},stop:function(){this.done=!0;var se=this.tryEntries[0].completion;if("throw"===se.type)throw se.arg;return this.rval},dispatchException:function(se){if(this.done)throw se;var he=this;function ue(An,kt){return Xt.type="throw",Xt.arg=se,he.next=An,kt&&(he.method="next",he.arg=v),!!kt}for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var Me=this.tryEntries[Xe],Xt=Me.completion;if("root"===Me.tryLoc)return ue("end");if(Me.tryLoc<=this.prev){var gt=O.call(Me,"catchLoc"),Nt=O.call(Me,"finallyLoc");if(gt&&Nt){if(this.prev<Me.catchLoc)return ue(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return ue(Me.finallyLoc)}else if(gt){if(this.prev<Me.catchLoc)return ue(Me.catchLoc,!0)}else{if(!Nt)throw new Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return ue(Me.finallyLoc)}}}},abrupt:function(se,he){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Xe=this.tryEntries[ue];if(Xe.tryLoc<=this.prev&&O.call(Xe,"finallyLoc")&&this.prev<Xe.finallyLoc){var Me=Xe;break}}Me&&("break"===se||"continue"===se)&&Me.tryLoc<=he&&he<=Me.finallyLoc&&(Me=null);var Xt=Me?Me.completion:{};return Xt.type=se,Xt.arg=he,Me?(this.method="next",this.next=Me.finallyLoc,Ie):this.complete(Xt)},complete:function(se,he){if("throw"===se.type)throw se.arg;return"break"===se.type||"continue"===se.type?this.next=se.arg:"return"===se.type?(this.rval=this.arg=se.arg,this.method="return",this.next="end"):"normal"===se.type&&he&&(this.next=he),Ie},finish:function(se){for(var he=this.tryEntries.length-1;he>=0;--he){var ue=this.tryEntries[he];if(ue.finallyLoc===se)return this.complete(ue.completion,ue.afterLoc),ds(ue),Ie}},catch:function(se){for(var he=this.tryEntries.length-1;he>=0;--he){var ue=this.tryEntries[he];if(ue.tryLoc===se){var Xe=ue.completion;if("throw"===Xe.type){var Me=Xe.arg;ds(ue)}return Me}}throw new Error("illegal catch attempt")},delegateYield:function(se,he,ue){return this.delegate={iterator:Cc(se),resultName:he,nextLoc:ue},"next"===this.method&&(this.arg=v),Ie}},p}(u.exports);try{regeneratorRuntime=h}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=h:Function("r","regeneratorRuntime = r")(h)}}(Lh);var Yi=Lh.exports,Bh={exports:{}},rx=_e(function(){if("function"==typeof ArrayBuffer){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}),Fn=Ye,xg=ni,Do=rx,Nh=Object.isExtensible,ox=_e(function(){Nh(1)})||Do?function(u){return!!Fn(u)&&(!Do||"ArrayBuffer"!=xg(u))&&(!Nh||Nh(u))}:Nh,zh=!_e(function(){return Object.isExtensible(Object.preventExtensions({}))}),kg=me,ax=Ee,sx=Ls,hc=Ye,ss=ft,lx=Pt.f,E0=Wa,ux=Zn,ua=ox,Il=zh,jh=!1,Mo=eo("meta"),S0=0,Hh=function(u){lx(u,Mo,{value:{objectID:"O"+S0++,weakData:{}}})},Vh=Bh.exports={enable:function(){Vh.enable=function(){},jh=!0;var u=E0.f,h=ax([].splice),p={};p[Mo]=1,u(p).length&&(E0.f=function(v){for(var k=u(v),O=0,D=k.length;O<D;O++)if(k[O]===Mo){h(k,O,1);break}return k},kg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ux.f}))},fastKey:function(u,h){if(!hc(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!ss(u,Mo)){if(!ua(u))return"F";if(!h)return"E";Hh(u)}return u[Mo].objectID},getWeakData:function(u,h){if(!ss(u,Mo)){if(!ua(u))return!0;if(!h)return!1;Hh(u)}return u[Mo].weakData},onFreeze:function(u){return Il&&jh&&ua(u)&&!ss(u,Mo)&&Hh(u),u}};sx[Mo]=!0;var T0=wn,Cg=Qt,Po=zt,cx=qr,Eg=xy,ca=pi,ls=et,at=ja,Ve=Xs,qi=Vp,xi=Q.TypeError,Ro=function(u,h){this.stopped=u,this.result=h},Sg=Ro.prototype,Fo=function(u,h,p){var v,k,O,D,F,B,z,q=!(!p||!p.AS_ENTRIES),de=!(!p||!p.IS_ITERATOR),ye=!(!p||!p.INTERRUPTED),Te=T0(h,p&&p.that),Se=function(Ie){return v&&qi(v,"normal",Ie),new Ro(!0,Ie)},Re=function(Ie){return q?(Po(Ie),ye?Te(Ie[0],Ie[1],Se):Te(Ie[0],Ie[1])):ye?Te(Ie,Se):Te(Ie)};if(de)v=u;else{if(!(k=Ve(u)))throw xi(cx(u)+" is not iterable");if(Eg(k)){for(O=0,D=ca(u);D>O;O++)if((F=Re(u[O]))&&ls(Sg,F))return F;return new Ro(!1)}v=at(u,k)}for(B=v.next;!(z=Cg(B,v)).done;){try{F=Re(z.value)}catch(Ie){qi(v,"throw",Ie)}if("object"==typeof F&&F&&ls(Sg,F))return F}return new Ro(!1)},dx=et,O0=Q.TypeError,I0=function(u,h){if(dx(h,u))return u;throw O0("Incorrect invocation")},D0=me,Bt=Q,M0=Bh.exports,hx=_e,P0=tn,R0=Fo,fc=I0,$i=De,F0=Ye,A0=ho,$0=Pt.f,Tg=En.forEach,fx=Qe,Og=Sr.set,L0=Sr.getterFor,B0=function(u,h,p){var v,k=-1!==u.indexOf("Map"),O=-1!==u.indexOf("Weak"),D=k?"set":"add",F=Bt[u],B=F&&F.prototype,z={};if(fx&&$i(F)&&(O||B.forEach&&!hx(function(){(new F).entries().next()}))){var Z=(v=h(function(de,ye){Og(fc(de,Z),{type:u,collection:new F}),null!=ye&&R0(ye,de[D],{that:de,AS_ENTRIES:k})})).prototype,q=L0(u);Tg(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(de){var ye="add"==de||"set"==de;!(de in B)||O&&"clear"==de||P0(Z,de,function(Te,Se){var Re=q(this).collection;if(!ye&&O&&!F0(Te))return"get"==de&&void 0;var Ie=Re[de](0===Te?0:Te,Se);return ye?this:Ie})}),O||$0(Z,"size",{configurable:!0,get:function(){return q(this).collection.size}})}else v=p.getConstructor(h,u,k,D),M0.enable();return A0(v,u,!1,!0),z[u]=v,D0({global:!0,forced:!0},z),O||p.setStrong(v,u,k),v},px=bu,N0=hi,pc=Pt,vx=Qe,z0=ot("species"),gx=Pt.f,j0=Hs,Ig=function(u,h,p){for(var v in h)p&&p.unsafe&&u[v]?u[v]=h[v]:px(u,v,h[v],p);return u},Wh=wn,H0=I0,mx=Fo,yx=Td,vc=Qe,W0=Bh.exports.fastKey,Kh=Sr.set,Dg=Sr.getterFor,gc={getConstructor:function(u,h,p,v){var k=u(function(z,Z){H0(z,O),Kh(z,{type:h,index:j0(null),first:void 0,last:void 0,size:0}),vc||(z.size=0),null!=Z&&mx(Z,z[v],{that:z,AS_ENTRIES:p})}),O=k.prototype,D=Dg(h),F=function(z,Z,q){var de,ye,Te=D(z),Se=B(z,Z);return Se?Se.value=q:(Te.last=Se={index:ye=W0(Z,!0),key:Z,value:q,previous:de=Te.last,next:void 0,removed:!1},Te.first||(Te.first=Se),de&&(de.next=Se),vc?Te.size++:z.size++,"F"!==ye&&(Te.index[ye]=Se)),z},B=function(z,Z){var q,de=D(z),ye=W0(Z);if("F"!==ye)return de.index[ye];for(q=de.first;q;q=q.next)if(q.key==Z)return q};return Ig(O,{clear:function(){for(var z=D(this),Z=z.index,q=z.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete Z[q.index],q=q.next;z.first=z.last=void 0,vc?z.size=0:this.size=0},delete:function(z){var Z=this,q=D(Z),de=B(Z,z);if(de){var ye=de.next,Te=de.previous;delete q.index[de.index],de.removed=!0,Te&&(Te.next=ye),ye&&(ye.previous=Te),q.first==de&&(q.first=ye),q.last==de&&(q.last=Te),vc?q.size--:Z.size--}return!!de},forEach:function(z){for(var Z,q=D(this),de=Wh(z,arguments.length>1?arguments[1]:void 0);Z=Z?Z.next:q.first;)for(de(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(z){return!!B(this,z)}}),Ig(O,p?{get:function(z){var Z=B(this,z);return Z&&Z.value},set:function(z,Z){return F(this,0===z?0:z,Z)}}:{add:function(z){return F(this,z=0===z?0:z,z)}}),vc&&gx(O,"size",{get:function(){return D(this).size}}),k},setStrong:function(u,h,p){var v=h+" Iterator",k=Dg(h),O=Dg(v);yx(u,h,function(D,F){Kh(this,{type:v,target:D,state:k(D),kind:F,last:void 0})},function(){for(var D=O(this),F=D.kind,B=D.last;B&&B.removed;)B=B.previous;return D.target&&(D.last=B=B?B.next:D.state.first)?"keys"==F?{value:B.key,done:!1}:"values"==F?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(D.target=void 0,{value:void 0,done:!0})},p?"entries":"values",!p,!0),function(u){var h=N0(u);vx&&h&&!h[z0]&&(0,pc.f)(h,z0,{configurable:!0,get:function(){return this}})}(h)}};B0("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},gc);var K0=Fe.Map,Mg=En.some;me({target:"Array",proto:!0,forced:!Da("some")},{some:function(u){return Mg(this,u,arguments.length>1?arguments[1]:void 0)}});var bx=ei("Array").some,G0=et,Br=bx,Dl=Array.prototype,_x=ei("Array").keys,Rg=kn,U0=ft,Y0=et,wx=_x,Fg=Array.prototype,xx={DOMTokenList:!0,NodeList:!0},da=function(u){var h=u.keys;return u===Fg||Y0(Fg,u)&&h===Fg.keys||U0(xx,Rg(u))?wx:h},Ag=$y,mc=Math.floor,yc=function(u,h){var p=u.length,v=mc(p/2);return p<8?q0(u,h):bc(u,yc(Ag(u,0,v),h),yc(Ag(u,v),h),h)},q0=function(u,h){for(var p,v,k=u.length,O=1;O<k;){for(v=O,p=u[O];v&&h(u[v-1],p)>0;)u[v]=u[--v];v!==O++&&(u[v]=p)}return u},bc=function(u,h,p,v){for(var k=h.length,O=p.length,D=0,F=0;D<k||F<O;)u[D+F]=D<k&&F<O?v(h[D],p[F])<=0?h[D++]:p[F++]:D<k?h[D++]:p[F++];return u},Z0=yc,Gh=fi.match(/firefox\/(\d+)/i),kx=!!Gh&&+Gh[1],Cx=/MSIE|Trident/.test(fi),_c=fi.match(/AppleWebKit\/(\d+)\./),Sx=me,J0=Ee,Tx=Si,Ox=Tt,$g=pi,Lg=Ra,Bg=_e,Ix=Z0,Dx=Da,X0=kx,Q0=Cx,Ng=_n,e_=!!_c&&+_c[1],ha=[],Uh=J0(ha.sort),Mx=J0(ha.push),zg=Bg(function(){ha.sort(void 0)}),Px=Bg(function(){ha.sort(null)}),Rx=Dx("sort"),t_=!Bg(function(){if(Ng)return Ng<70;if(!(X0&&X0>3)){if(Q0)return!0;if(e_)return e_<603;var u,h,p,v,k="";for(u=65;u<76;u++){switch(h=String.fromCharCode(u),u){case 66:case 69:case 70:case 72:p=3;break;case 68:case 71:p=4;break;default:p=2}for(v=0;v<47;v++)ha.push({k:h+v,v:p})}for(ha.sort(function(O,D){return D.v-O.v}),v=0;v<ha.length;v++)h=ha[v].k.charAt(0),k.charAt(k.length-1)!==h&&(k+=h);return"DGBEFHACIJK"!==k}});Sx({target:"Array",proto:!0,forced:zg||!Px||!Rx||!t_},{sort:function(u){void 0!==u&&Tx(u);var h=Ox(this);if(t_)return void 0===u?Uh(h):Uh(h,u);var p,v,k=[],O=$g(h);for(v=0;v<O;v++)v in h&&Mx(k,h[v]);for(Ix(k,function(D){return function(F,B){return void 0===B?-1:void 0===F?1:void 0!==D?+D(F,B)||0:Lg(F)>Lg(B)?1:-1}}(u)),p=k.length,v=0;v<p;)h[v]=k[v++];for(;v<O;)delete h[v++];return h}});var Yh,Fx=ei("Array").sort,Ax=et,i_=Fx,qh=Array.prototype,jg=function(u){var h=u.sort;return u===qh||Ax(qh,u)&&h===qh.sort?i_:h},$x=ei("Array").values,Lx=kn,Bx=ft,wc=et,Ml=$x,Zh=Array.prototype,Hg={DOMTokenList:!0,NodeList:!0},Pl=function(u){var h=u.values;return u===Zh||wc(Zh,u)&&h===Zh.values||Bx(Hg,Lx(u))?Ml:h},lr=lh,n_=ei("Array").entries,Vg=kn,Nx=ft,zx=et,us=n_,Jh=Array.prototype,r_={DOMTokenList:!0,NodeList:!0},Hx=new Uint8Array(16);function xc(){if(!Yh&&!(Yh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yh(Hx)}var Vx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wx(u){return"string"==typeof u&&Vx.test(u)}for(var ki=[],Wg=0;Wg<256;++Wg)ki.push((Wg+256).toString(16).substr(1));function Kx(u,h,p){var v=(u=u||{}).random||(u.rng||xc)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,h){p=p||0;for(var k=0;k<16;++k)h[p+k]=v[k];return h}return function(O){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=(ki[O[D+0]]+ki[O[D+1]]+ki[O[D+2]]+ki[O[D+3]]+"-"+ki[O[D+4]]+ki[O[D+5]]+"-"+ki[O[D+6]]+ki[O[D+7]]+"-"+ki[O[D+8]]+ki[O[D+9]]+"-"+ki[O[D+10]]+ki[O[D+11]]+ki[O[D+12]]+ki[O[D+13]]+ki[O[D+14]]+ki[O[D+15]]).toLowerCase();if(!Wx(F))throw TypeError("Stringified UUID is invalid");return F}(v)}function Kg(u){return"string"==typeof u||"number"==typeof u}var o_=function(){function u(h){Ge(this,u),pt(this,"delay",void 0),pt(this,"max",void 0),pt(this,"_queue",[]),pt(this,"_timeout",null),pt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(h)}return br(u,[{key:"setOptions",value:function(h){h&&void 0!==h.delay&&(this.delay=h.delay),h&&void 0!==h.max&&(this.max=h.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var h=this._extended.object,p=this._extended.methods,v=0;v<p.length;v++){var k=p[v];k.original?h[k.name]=k.original:delete h[k.name]}this._extended=null}}},{key:"replace",value:function(h,p){var v=this,k=h[p];if(!k)throw new Error("Method "+p+" undefined");h[p]=function(){for(var O=arguments.length,D=new Array(O),F=0;F<O;F++)D[F]=arguments[F];v.queue({args:D,fn:k,context:this})}}},{key:"queue",value:function(h){this._queue.push("function"==typeof h?{fn:h}:h),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var h=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=r0(function(){h.flush()},this.delay))}},{key:"flush",value:function(){var h,p;Ki(h=Mb(p=this._queue).call(p,0)).call(h,function(v){v.fn.apply(v.context||v.fn,v.args||[])})}}],[{key:"extend",value:function(h,p){var v=new u(p);if(void 0!==h.flush)throw new Error("Target object already has a property flush");h.flush=function(){v.flush()};var k=[{name:"flush",original:void 0}];if(p&&p.replace)for(var O=0;O<p.replace.length;O++){var D=p.replace[O];k.push({name:D,original:h[D]}),v.replace(h,D)}return v._extended={object:h,methods:k},v}}]),u}(),kc=function(){function u(){Ge(this,u),pt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),pt(this,"subscribe",u.prototype.on),pt(this,"unsubscribe",u.prototype.off)}return br(u,[{key:"_trigger",value:function(h,p,v){var k,O;if("*"===h)throw new Error("Cannot trigger event *");Ki(k=Mr(O=[]).call(O,gi(this._subscribers[h]),gi(this._subscribers["*"]))).call(k,function(D){D(h,p,v??null)})}},{key:"on",value:function(h,p){"function"==typeof p&&this._subscribers[h].push(p)}},{key:"off",value:function(h,p){var v;this._subscribers[h]=vi(v=this._subscribers[h]).call(v,function(k){return k!==p})}}]),u}();B0("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},gc);var Gg,cs=Fe.Set,Xh=ja;function ur(u,h){var p=void 0!==hl&&tl(u)||u["@@iterator"];if(!p){if(Wi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return a_(B,z);var q=zu(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Fd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return a_(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function a_(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}Gg=lr;var Ug=function(){function u(h){Ge(this,u),pt(this,"_pairs",void 0),this._pairs=h}return br(u,[{key:Gg,value:Yi.mark(function h(){var p,v,k,O,D;return Yi.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:p=ur(this._pairs),F.prev=1,p.s();case 3:if((v=p.n()).done){F.next=9;break}return k=ti(v.value,2),O=k[0],D=k[1],F.next=7,[O,D];case 7:F.next=3;break;case 9:F.next=14;break;case 11:F.prev=11,F.t0=F.catch(1),p.e(F.t0);case 14:return F.prev=14,p.f(),F.finish(14);case 17:case"end":return F.stop()}},h,this,[[1,11,14,17]])})},{key:"entries",value:Yi.mark(function h(){var p,v,k,O,D;return Yi.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:p=ur(this._pairs),F.prev=1,p.s();case 3:if((v=p.n()).done){F.next=9;break}return k=ti(v.value,2),O=k[0],D=k[1],F.next=7,[O,D];case 7:F.next=3;break;case 9:F.next=14;break;case 11:F.prev=11,F.t0=F.catch(1),p.e(F.t0);case 14:return F.prev=14,p.f(),F.finish(14);case 17:case"end":return F.stop()}},h,this,[[1,11,14,17]])})},{key:"keys",value:Yi.mark(function h(){var p,v,k,O;return Yi.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:p=ur(this._pairs),D.prev=1,p.s();case 3:if((v=p.n()).done){D.next=9;break}return k=ti(v.value,1),O=k[0],D.next=7,O;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),p.e(D.t0);case 14:return D.prev=14,p.f(),D.finish(14);case 17:case"end":return D.stop()}},h,this,[[1,11,14,17]])})},{key:"values",value:Yi.mark(function h(){var p,v,k,O;return Yi.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:p=ur(this._pairs),D.prev=1,p.s();case 3:if((v=p.n()).done){D.next=9;break}return k=ti(v.value,2),O=k[1],D.next=7,O;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),p.e(D.t0);case 14:return D.prev=14,p.f(),D.finish(14);case 17:case"end":return D.stop()}},h,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var h;return Ri(h=gi(this._pairs)).call(h,function(p){return p[0]})}},{key:"toItemArray",value:function(){var h;return Ri(h=gi(this._pairs)).call(h,function(p){return p[1]})}},{key:"toEntryArray",value:function(){return gi(this._pairs)}},{key:"toObjectMap",value:function(){var h,p=Qv(null),v=ur(this._pairs);try{for(v.s();!(h=v.n()).done;){var k=ti(h.value,2);p[k[0]]=k[1]}}catch(F){v.e(F)}finally{v.f()}return p}},{key:"toMap",value:function(){return new K0(this._pairs)}},{key:"toIdSet",value:function(){return new cs(this.toIdArray())}},{key:"toItemSet",value:function(){return new cs(this.toItemArray())}},{key:"cache",value:function(){return new u(gi(this._pairs))}},{key:"distinct",value:function(h){var p,v=new cs,k=ur(this._pairs);try{for(k.s();!(p=k.n()).done;){var O=ti(p.value,2);v.add(h(O[1],O[0]))}}catch(B){k.e(B)}finally{k.f()}return v}},{key:"filter",value:function(h){var p=this._pairs;return new u(pt({},lr,Yi.mark(function v(){var k,O,D,F,B;return Yi.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:k=ur(p),z.prev=1,k.s();case 3:if((O=k.n()).done){z.next=10;break}if(D=ti(O.value,2),!h(B=D[1],F=D[0])){z.next=8;break}return z.next=8,[F,B];case 8:z.next=3;break;case 10:z.next=15;break;case 12:z.prev=12,z.t0=z.catch(1),k.e(z.t0);case 15:return z.prev=15,k.f(),z.finish(15);case 18:case"end":return z.stop()}},v,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(h){var p,v=ur(this._pairs);try{for(v.s();!(p=v.n()).done;){var k=ti(p.value,2);h(k[1],k[0])}}catch(D){v.e(D)}finally{v.f()}}},{key:"map",value:function(h){var p=this._pairs;return new u(pt({},lr,Yi.mark(function v(){var k,O,D,F,B;return Yi.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:k=ur(p),z.prev=1,k.s();case 3:if((O=k.n()).done){z.next=9;break}return D=ti(O.value,2),F=D[0],B=D[1],z.next=7,[F,h(B,F)];case 7:z.next=3;break;case 9:z.next=14;break;case 11:z.prev=11,z.t0=z.catch(1),k.e(z.t0);case 14:return z.prev=14,k.f(),z.finish(14);case 17:case"end":return z.stop()}},v,null,[[1,11,14,17]])})))}},{key:"max",value:function(h){var p=Xh(this._pairs),v=p.next();if(v.done)return null;for(var k=v.value[1],O=h(v.value[1],v.value[0]);!(v=p.next()).done;){var D=ti(v.value,2),B=D[1],z=h(B,D[0]);z>O&&(O=z,k=B)}return k}},{key:"min",value:function(h){var p=Xh(this._pairs),v=p.next();if(v.done)return null;for(var k=v.value[1],O=h(v.value[1],v.value[0]);!(v=p.next()).done;){var D=ti(v.value,2),B=D[1],z=h(B,D[0]);z<O&&(O=z,k=B)}return k}},{key:"reduce",value:function(h,p){var v,k=ur(this._pairs);try{for(k.s();!(v=k.n()).done;){var O=ti(v.value,2);p=h(p,O[1],O[0])}}catch(F){k.e(F)}finally{k.f()}return p}},{key:"sort",value:function(h){var p=this;return new u(pt({},lr,function(){var v;return Xh(jg(v=gi(p._pairs)).call(v,function(k,O){var D=ti(k,2),F=D[0],B=D[1],z=ti(O,2);return h(B,z[1],F,z[0])}))}))}}]),u}();function s_(u,h){var p=Tv(u);if(Fu){var v=Fu(u);h&&(v=vi(v).call(v,function(k){return ob(u,k).enumerable})),p.push.apply(p,v)}return p}function l_(u){for(var h=1;h<arguments.length;h++){var p,v,k=null!=arguments[h]?arguments[h]:{};h%2?Ki(p=s_(Object(k),!0)).call(p,function(O){pt(u,O,k[O])}):mv?Gw(u,mv(k)):Ki(v=s_(Object(k))).call(v,function(O){ub(u,O,ob(k,O))})}return u}function Yg(u,h){var p=void 0!==hl&&tl(u)||u["@@iterator"];if(!p){if(Wi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return qg(B,z);var q=zu(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Fd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return qg(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function qg(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var Qh=function(u){wg(p,u);var h=function Zg(u){var h=function(){if(typeof Reflect>"u"||!sa||sa.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sa(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,v=Io(u);if(h){var k=Io(this).constructor;p=sa(v,arguments,k)}else p=v.apply(this,arguments);return $h(this,p)}}(p);function p(v,k){var O;return Ge(this,p),pt(pn(O=h.call(this)),"flush",void 0),pt(pn(O),"length",void 0),pt(pn(O),"_options",void 0),pt(pn(O),"_data",void 0),pt(pn(O),"_idProp",void 0),pt(pn(O),"_queue",null),v&&!Wi(v)&&(k=v,v=[]),O._options=k||{},O._data=new K0,O.length=0,O._idProp=O._options.fieldId||"id",v&&v.length&&O.add(v),O.setOptions(k),O}return br(p,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(v){v&&void 0!==v.queue&&(!1===v.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=o_.extend(this,{replace:["add","update","remove"]})),v.queue&&"object"===dt(v.queue)&&this._queue.setOptions(v.queue)))}},{key:"add",value:function(v,k){var O,D=this,F=[];if(Wi(v)){var B=Ri(v).call(v,function(q){return q[D._idProp]});if(function(u){var h=u.some;return u===Dl||G0(Dl,u)&&h===Dl.some?Br:h}(B).call(B,function(q){return D._data.has(q)}))throw new Error("A duplicate id was found in the parameter array.");for(var z=0,Z=v.length;z<Z;z++)O=this._addItem(v[z]),F.push(O)}else{if(!v||"object"!==dt(v))throw new Error("Unknown dataType");O=this._addItem(v),F.push(O)}return F.length&&this._trigger("add",{items:F},k),F}},{key:"update",value:function(v,k){var O=this,D=[],F=[],B=[],z=[],Z=this._idProp,q=function(Se){var Re=Se[Z];if(null!=Re&&O._data.has(Re)){var Ie=Se,Je=Nv({},O._data.get(Re)),St=O._updateItem(Ie);F.push(St),z.push(Ie),B.push(Je)}else{var wt=O._addItem(Se);D.push(wt)}};if(Wi(v))for(var de=0,ye=v.length;de<ye;de++)v[de]&&"object"===dt(v[de])?q(v[de]):console.warn("Ignoring input item, which is not an object at index "+de);else{if(!v||"object"!==dt(v))throw new Error("Unknown dataType");q(v)}return D.length&&this._trigger("add",{items:D},k),F.length&&this._trigger("update",{items:F,oldData:B,data:z},k),Mr(D).call(D,F)}},{key:"updateOnly",value:function(v,k){var O,D=this;Wi(v)||(v=[v]);var F=Ri(O=Ri(v).call(v,function(z){var Z=D._data.get(z[D._idProp]);if(null==Z)throw new Error("Updating non-existent items is not allowed.");return{oldData:Z,update:z}})).call(O,function(z){var Z=z.oldData,de=Z[D._idProp],ye=function(Te){for(var Se,Re=arguments.length,Ie=new Array(Re>1?Re-1:0),Je=1;Je<Re;Je++)Ie[Je-1]=arguments[Je];return gg.apply(void 0,Mr(Se=[{},Te]).call(Se,Ie))}(Z,z.update);return D._data.set(de,ye),{id:de,oldData:Z,updatedData:ye}});if(F.length){var B={items:Ri(F).call(F,function(z){return z.id}),oldData:Ri(F).call(F,function(z){return z.oldData}),data:Ri(F).call(F,function(z){return z.updatedData})};return this._trigger("update",B,k),B.items}return[]}},{key:"get",value:function(v,k){var O=void 0,D=void 0,F=void 0;Kg(v)?(O=v,F=k):Wi(v)?(D=v,F=k):F=v;var B,z=F&&"Object"===F.returnType?"Object":"Array",Z=F&&vi(F),q=[],de=void 0,ye=void 0;if(null!=O)(de=this._data.get(O))&&Z&&!Z(de)&&(de=void 0);else if(null!=D)for(var Se=0,Re=D.length;Se<Re;Se++)null==(de=this._data.get(D[Se]))||Z&&!Z(de)||q.push(de);else for(var Ie,Je=0,St=(ye=gi(da(Ie=this._data).call(Ie))).length;Je<St;Je++)null==(de=this._data.get(ye[Je]))||Z&&!Z(de)||q.push(de);if(F&&F.order&&null==O&&this._sort(q,F.order),F&&F.fields){var wt=F.fields;if(null!=O&&null!=de)de=this._filterFields(de,wt);else for(var At=0,vn=q.length;At<vn;At++)q[At]=this._filterFields(q[At],wt)}if("Object"==z){for(var un={},Jt=0,Ci=q.length;Jt<Ci;Jt++){var Li=q[Jt];un[Li[this._idProp]]=Li}return un}return null!=O?null!==(B=de)&&void 0!==B?B:null:q}},{key:"getIds",value:function(v){var k=this._data,O=v&&vi(v),D=v&&v.order,F=gi(da(k).call(k)),B=[];if(O)if(D){for(var z=[],Z=0,q=F.length;Z<q;Z++){var ye=this._data.get(F[Z]);null!=ye&&O(ye)&&z.push(ye)}this._sort(z,D);for(var Te=0,Se=z.length;Te<Se;Te++)B.push(z[Te][this._idProp])}else for(var Re=0,Ie=F.length;Re<Ie;Re++){var St=this._data.get(F[Re]);null!=St&&O(St)&&B.push(St[this._idProp])}else if(D){for(var wt=[],At=0,vn=F.length;At<vn;At++)wt.push(k.get(F[At]));this._sort(wt,D);for(var Jt=0,Ci=wt.length;Jt<Ci;Jt++)B.push(wt[Jt][this._idProp])}else for(var Li=0,fa=F.length;Li<fa;Li++){var ds=k.get(F[Li]);null!=ds&&B.push(ds[this._idProp])}return B}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(v,k){var O=k&&vi(k),D=this._data,F=gi(da(D).call(D));if(k&&k.order)for(var B=this.get(k),z=0,Z=B.length;z<Z;z++){var q=B[z];v(q,q[this._idProp])}else for(var de=0,ye=F.length;de<ye;de++){var Te=F[de],Se=this._data.get(Te);null==Se||O&&!O(Se)||v(Se,Te)}}},{key:"map",value:function(v,k){for(var O=k&&vi(k),D=[],F=this._data,B=gi(da(F).call(F)),z=0,Z=B.length;z<Z;z++){var q=B[z],de=this._data.get(q);null==de||O&&!O(de)||D.push(v(de,q))}return k&&k.order&&this._sort(D,k.order),D}},{key:"_filterFields",value:function(v,k){var O;return v&&Rs(O=Wi(k)?k:Tv(k)).call(O,function(D,F){return D[F]=v[F],D},{})}},{key:"_sort",value:function(v,k){if("string"==typeof k){var O=k;jg(v).call(v,function(D,F){var B=D[O],z=F[O];return B>z?1:B<z?-1:0})}else{if("function"!=typeof k)throw new TypeError("Order must be a function or a string");jg(v).call(v,k)}}},{key:"remove",value:function(v,k){for(var O=[],D=[],F=Wi(v)?v:[v],B=0,z=F.length;B<z;B++){var Z=this._remove(F[B]);if(Z){var q=Z[this._idProp];null!=q&&(O.push(q),D.push(Z))}}return O.length&&this._trigger("remove",{items:O,oldData:D},k),O}},{key:"_remove",value:function(v){var k;if(Kg(v)?k=v:v&&"object"===dt(v)&&(k=v[this._idProp]),null!=k&&this._data.has(k)){var O=this._data.get(k)||null;return this._data.delete(k),--this.length,O}return null}},{key:"clear",value:function(v){for(var k,O=gi(da(k=this._data).call(k)),D=[],F=0,B=O.length;F<B;F++)D.push(this._data.get(O[F]));return this._data.clear(),this.length=0,this._trigger("remove",{items:O,oldData:D},v),O}},{key:"max",value:function(v){var k,O,D=null,F=null,B=Yg(Pl(k=this._data).call(k));try{for(B.s();!(O=B.n()).done;){var z=O.value,Z=z[v];"number"==typeof Z&&(null==F||Z>F)&&(D=z,F=Z)}}catch(q){B.e(q)}finally{B.f()}return D||null}},{key:"min",value:function(v){var k,O,D=null,F=null,B=Yg(Pl(k=this._data).call(k));try{for(B.s();!(O=B.n()).done;){var z=O.value,Z=z[v];"number"==typeof Z&&(null==F||Z<F)&&(D=z,F=Z)}}catch(q){B.e(q)}finally{B.f()}return D||null}},{key:"distinct",value:function(v){for(var k=this._data,O=gi(da(k).call(k)),D=[],F=0,B=0,z=O.length;B<z;B++){for(var q=k.get(O[B])[v],de=!1,ye=0;ye<F;ye++)if(D[ye]==q){de=!0;break}de||void 0===q||(D[F]=q,F++)}return D}},{key:"_addItem",value:function(v){var D,F,k=(null==(D=v)[F=this._idProp]&&(D[F]=Kx()),D),O=k[this._idProp];if(this._data.has(O))throw new Error("Cannot add item: item with id "+O+" already exists");return this._data.set(O,k),++this.length,O}},{key:"_updateItem",value:function(v){var k=v[this._idProp];if(null==k)throw new Error("Cannot update item: item has no id (item: "+j1(v)+")");var O=this._data.get(k);if(!O)throw new Error("Cannot update item: no item with id "+k+" found");return this._data.set(k,l_(l_({},O),v)),k}},{key:"stream",value:function(v){if(v){var k=this._data;return new Ug(pt({},lr,Yi.mark(function D(){var F,B,z,Z;return Yi.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:F=Yg(v),q.prev=1,F.s();case 3:if((B=F.n()).done){q.next=11;break}if(null==(Z=k.get(z=B.value))){q.next=9;break}return q.next=9,[z,Z];case 9:q.next=3;break;case 11:q.next=16;break;case 13:q.prev=13,q.t0=q.catch(1),F.e(q.t0);case 16:return q.prev=16,F.f(),q.finish(16);case 19:case"end":return q.stop()}},D,null,[[1,13,16,19]])})))}var O;return new Ug(pt({},lr,ao(O=function(u){var h=u.entries;return u===Jh||zx(Jh,u)&&h===Jh.entries||Nx(r_,Vg(u))?us:h}(this._data)).call(O,this._data)))}}]),p}(kc);function Jg(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var Gx=function(u){wg(p,u);var h=function u_(u){var h=function(){if(typeof Reflect>"u"||!sa||sa.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sa(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,v=Io(u);if(h){var k=Io(this).constructor;p=sa(v,arguments,k)}else p=v.apply(this,arguments);return $h(this,p)}}(p);function p(v,k){var O,D;return Ge(this,p),pt(pn(D=h.call(this)),"length",0),pt(pn(D),"_listener",void 0),pt(pn(D),"_data",void 0),pt(pn(D),"_ids",new cs),pt(pn(D),"_options",void 0),D._options=k||{},D._listener=ao(O=D._onEvent).call(O,pn(D)),D.setData(v),D}return br(p,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(v){if(this._data){this._data.off&&this._data.off("*",this._listener);var k=this._data.getIds({filter:vi(this._options)}),O=this._data.get(k);this._ids.clear(),this.length=0,this._trigger("remove",{items:k,oldData:O})}if(null!=v){this._data=v;for(var D=this._data.getIds({filter:vi(this._options)}),F=0,B=D.length;F<B;F++)this._ids.add(D[F]);this.length=D.length,this._trigger("add",{items:D})}else this._data=new Qh;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var v=this._data.getIds({filter:vi(this._options)}),k=gi(this._ids),O={},D=[],F=[],B=[],z=0,Z=v.length;z<Z;z++){var q=v[z];O[q]=!0,this._ids.has(q)||(D.push(q),this._ids.add(q))}for(var de=0,ye=k.length;de<ye;de++){var Te=k[de],Se=this._data.get(Te);null==Se?console.error("If you see this, report it please."):O[Te]||(F.push(Te),B.push(Se),this._ids.delete(Te))}this.length+=D.length-F.length,D.length&&this._trigger("add",{items:D}),F.length&&this._trigger("remove",{items:F,oldData:B})}},{key:"get",value:function(v,k){if(null==this._data)return null;var O,D=null;Kg(v)||Wi(v)?(D=v,O=k):O=v;var F=Nv({},this._options,O),B=vi(this._options),z=O&&vi(O);return B&&z&&(F.filter=function(Z){return B(Z)&&z(Z)}),null==D?this._data.get(F):this._data.get(D,F)}},{key:"getIds",value:function(v){if(this._data.length){var O=vi(this._options),D=null!=v?vi(v):null;return this._data.getIds({filter:D?O?function(F){return O(F)&&D(F)}:D:O,order:v&&v.order})}return[]}},{key:"forEach",value:function(v,k){if(this._data){var O,D,F=vi(this._options),B=k&&vi(k);D=B?F?function(z){return F(z)&&B(z)}:B:F,Ki(O=this._data).call(O,v,{filter:D,order:k&&k.order})}}},{key:"map",value:function(v,k){if(this._data){var O,D,F=vi(this._options),B=k&&vi(k);return D=B?F?function(z){return F(z)&&B(z)}:B:F,Ri(O=this._data).call(O,v,{filter:D,order:k&&k.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(v){var k;return this._data.stream(v||pt({},lr,ao(k=da(this._ids)).call(k,this._ids)))}},{key:"dispose",value:function(){var v;null!==(v=this._data)&&void 0!==v&&v.off&&this._data.off("*",this._listener);var k,O="This data view has already been disposed of.",D={get:function(){throw new Error(O)},set:function(){throw new Error(O)},configurable:!1},F=function ef(u,h){var p=void 0!==hl&&tl(u)||u["@@iterator"];if(!p){if(Wi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return Jg(B,z);var q=zu(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Fd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Jg(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}(ch(p.prototype));try{for(F.s();!(k=F.n()).done;)ub(this,k.value,D)}catch(z){F.e(z)}finally{F.f()}}},{key:"_onEvent",value:function(v,k,O){if(k&&k.items&&this._data){var D=k.items,F=[],B=[],z=[],Z=[],q=[],de=[];switch(v){case"add":for(var ye=0,Te=D.length;ye<Te;ye++){var Se=D[ye];this.get(Se)&&(this._ids.add(Se),F.push(Se))}break;case"update":for(var Re=0,Ie=D.length;Re<Ie;Re++){var Je=D[Re];this.get(Je)?this._ids.has(Je)?(B.push(Je),q.push(k.data[Re]),Z.push(k.oldData[Re])):(this._ids.add(Je),F.push(Je)):this._ids.has(Je)&&(this._ids.delete(Je),z.push(Je),de.push(k.oldData[Re]))}break;case"remove":for(var St=0,wt=D.length;St<wt;St++){var At=D[St];this._ids.has(At)&&(this._ids.delete(At),z.push(At),de.push(k.oldData[St]))}}this.length+=F.length-z.length,F.length&&this._trigger("add",{items:F},O),B.length&&this._trigger("update",{items:B,oldData:Z,data:q},O),z.length&&this._trigger("remove",{items:z,oldData:de},O)}}}]),p}(kc);function c_(u,h){return"object"===dt(h)&&null!==h&&u===h.idProp&&"function"==typeof h.add&&"function"==typeof h.clear&&"function"==typeof h.distinct&&"function"==typeof Ki(h)&&"function"==typeof h.get&&"function"==typeof h.getDataSet&&"function"==typeof h.getIds&&"number"==typeof h.length&&"function"==typeof Ri(h)&&"function"==typeof h.max&&"function"==typeof h.min&&"function"==typeof h.off&&"function"==typeof h.on&&"function"==typeof h.remove&&"function"==typeof h.setOptions&&"function"==typeof h.stream&&"function"==typeof h.update&&"function"==typeof h.updateOnly}Ke.DELETE=vg,Ke.DataSet=Qh,Ke.DataStream=Ug,Ke.DataView=Gx,Ke.Queue=o_,Ke.createNewDataPipeFrom=function(u){return new Hm(u)},Ke.isDataSetLike=c_,Ke.isDataViewLike=function(u,h){return"object"===dt(h)&&null!==h&&u===h.idProp&&"function"==typeof Ki(h)&&"function"==typeof h.get&&"function"==typeof h.getDataSet&&"function"==typeof h.getIds&&"number"==typeof h.length&&"function"==typeof Ri(h)&&"function"==typeof h.off&&"function"==typeof h.on&&"function"==typeof h.stream&&c_(u,h.getDataSet())},Object.defineProperty(Ke,"__esModule",{value:!0})}(Pc)},1282:function(XC,Pc,Ke){!function(Ge,yi){var ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xt=function(n){return n&&n.Math==Math&&n},Q=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof ga&&ga)||function(){return this}()||Function("return this")(),_e=function(n){try{return!!n()}catch{return!0}},Nn=!_e(function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}),zl=Function.prototype,ma=zl.apply,ys=zl.call,Xi="object"==typeof Reflect&&Reflect.apply||(Nn?ys.bind(ma):function(){return ys.apply(ma,arguments)}),hr=Nn,fr=Function.prototype,Ne=fr.call,pr=hr&&fr.bind.bind(Ne,Ne),Ee=hr?function(n){return n&&pr(n)}:function(n){return n&&function(){return Ne.apply(n,arguments)}},De=function(n){return"function"==typeof n},Ot={},Qe=!_e(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),$t=Function.prototype.call,Qt=Nn?$t.bind($t):function(){return $t.apply($t,arguments)},Qi={},en={}.propertyIsEnumerable,Kr=Object.getOwnPropertyDescriptor,Rc=Kr&&!en.call({1:2},1);Qi.f=Rc?function(n){var e=Kr(this,n);return!!e&&e.enumerable}:en;var bi,Gr,Pi=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}},bs=Ee,ff=bs({}.toString),pf=bs("".slice),ni=function(n){return pf(ff(n),8,-1)},gf=_e,Fc=ni,ya=Q.Object,jl=Ee("".split),Ur=gf(function(){return!ya("z").propertyIsEnumerable(0)})?function(n){return"String"==Fc(n)?jl(n,""):ya(n)}:ya,_s=Q.TypeError,zn=function(n){if(null==n)throw _s("Can't call method on "+n);return n},mf=Ur,ba=zn,Kt=function(n){return mf(ba(n))},yf=De,Ye=function(n){return"object"==typeof n?null!==n:yf(n)},Fe={},ri=Fe,yt=Q,Hl=De,_a=function(n){return Hl(n)?n:void 0},hi=function(n,e){return arguments.length<2?_a(ri[n])||_a(yt[n]):ri[n]&&ri[n][e]||yt[n]&&yt[n][e]},et=Ee({}.isPrototypeOf),fi=hi("navigator","userAgent")||"",Lt=fi,Wl=Q.process,Yr=Q.Deno,ws=Wl&&Wl.versions||Yr&&Yr.version,$o=ws&&ws.v8;$o&&(Gr=(bi=$o.split("."))[0]>0&&bi[0]<4?1:+(bi[0]+bi[1])),!Gr&&Lt&&(!(bi=Lt.match(/Edge\/(\d+)/))||bi[1]>=74)&&(bi=Lt.match(/Chrome\/(\d+)/))&&(Gr=+bi[1]);var _n=Gr,xs=_n,Lo=!!Object.getOwnPropertySymbols&&!_e(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&xs&&xs<41}),Ni=Lo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ks=hi,wa=De,$c=et,Bo=Q.Object,vr=Ni?function(n){return"symbol"==typeof n}:function(n){var e=ks("Symbol");return wa(e)&&$c(e.prototype,Bo(n))},Kl=Q.String,qr=function(n){try{return Kl(n)}catch{return"Object"}},Gl=De,_f=qr,wf=Q.TypeError,Si=function(n){if(Gl(n))return n;throw wf(_f(n)+" is not a function")},xf=Si,Zr=function(n,e){var t=n[e];return null==t?void 0:xf(t)},xa=Qt,ka=De,gr=Ye,kf=Q.TypeError,Jr={exports:{}},Ul=Q,Cf=Object.defineProperty,Yl="__core-js_shared__",Qr=Q[Yl]||function(n,e){try{Cf(Ul,n,{value:e,configurable:!0,writable:!0})}catch{Ul[n]=e}return e}(Yl,{}),ql=Qr;(Jr.exports=function(n,e){return ql[n]||(ql[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Zl=zn,Lc=Q.Object,Tt=function(n){return Lc(Zl(n))},Ef=Tt,Bc=Ee({}.hasOwnProperty),ft=Object.hasOwn||function(n,e){return Bc(Ef(n),e)},Nc=Ee,Sf=0,Tf=Math.random(),Of=Nc(1..toString),eo=function(n){return"Symbol("+(void 0===n?"":n)+")_"+Of(++Sf+Tf,36)},zc=Q,Ca=ft,jc=eo,Jl=Lo,Xl=Ni,jn=(0,Jr.exports)("wks"),It=zc.Symbol,Ql=It&&It.for,Df=Xl?It:It&&It.withoutSetter||jc,ot=function(n){if(!Ca(jn,n)||!Jl&&"string"!=typeof jn[n]){var e="Symbol."+n;jn[n]=Jl&&Ca(It,n)?It[n]:Xl&&Ql?Ql(e):Df(e)}return jn[n]},Ti=Qt,Hc=Ye,Vc=vr,gm=Zr,ym=Q.TypeError,bm=ot("toPrimitive"),Mf=function(n,e){if(!Hc(n)||Vc(n))return n;var t,i=gm(n,bm);if(i){if(void 0===e&&(e="default"),t=Ti(i,n,e),!Hc(t)||Vc(t))return t;throw ym("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(n,e){var t,i;if("string"===e&&ka(t=n.toString)&&!gr(i=xa(t,n))||ka(t=n.valueOf)&&!gr(i=xa(t,n))||"string"!==e&&ka(t=n.toString)&&!gr(i=xa(t,n)))return i;throw kf("Can't convert object to primitive value")}(n,e)},_m=vr,mr=function(n){var e=Mf(n,"string");return _m(e)?e:e+""},tu=Ye,Hn=Q.document,to=tu(Hn)&&tu(Hn.createElement),Ea=function(n){return to?Hn.createElement(n):{}},Pf=Ea,Gt=!Qe&&!_e(function(){return 7!=Object.defineProperty(Pf("div"),"a",{get:function(){return 7}}).a}),Rf=Qt,Wc=Qi,Ff=Pi,Af=Kt,$f=mr,Lf=ft,Bf=Gt,iu=Object.getOwnPropertyDescriptor;Ot.f=Qe?iu:function(n,e){if(n=Af(n),e=$f(e),Bf)try{return iu(n,e)}catch{}if(Lf(n,e))return Ff(!Rf(Wc.f,n,e),n[e])};var Sa=_e,Nf=De,zf=/#|\.prototype\./,dn=function(n,e){var t=Kc[xm(n)];return t==km||t!=Gc&&(Nf(e)?Sa(e):!!e)},xm=dn.normalize=function(n){return String(n).replace(zf,".").toLowerCase()},Kc=dn.data={},Gc=dn.NATIVE="N",km=dn.POLYFILL="P",jf=dn,Cm=Si,Em=Nn,Sm=Ee(Ee.bind),wn=function(n,e){return Cm(n),void 0===e?n:Em?Sm(n,e):function(){return n.apply(e,arguments)}},Pt={},Ta=Qe&&_e(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Hf=Ye,Vf=Q.String,Wf=Q.TypeError,zt=function(n){if(Hf(n))return n;throw Wf(Vf(n)+" is not an object")},Uc=Gt,io=zt,Yc=mr,Oa=Q.TypeError,yr=Object.defineProperty,Uf=Object.getOwnPropertyDescriptor;Pt.f=Qe?Ta?function(n,e,t){if(io(n),e=Yc(e),io(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var i=Uf(n,e);i&&i.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:i.configurable,enumerable:"enumerable"in t?t.enumerable:i.enumerable,writable:!1})}return yr(n,e,t)}:yr:function(n,e,t){if(io(n),e=Yc(e),io(t),Uc)try{return yr(n,e,t)}catch{}if("get"in t||"set"in t)throw Oa("Accessors not supported");return"value"in t&&(n[e]=t.value),n};var qc=Pt,Jf=Pi,tn=Qe?function(n,e,t){return qc.f(n,e,Jf(1,t))}:function(n,e,t){return n[e]=t,n},no=Q,No=Xi,nn=Ee,Xf=De,Qf=Ot.f,Zc=jf,rn=Fe,Tm=wn,hn=tn,Cs=ft,xn=function(n){var e=function(t,i,r){if(this instanceof e){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return No(n,this,arguments)};return e.prototype=n.prototype,e},me=function(n,e){var t,i,r,o,s,d,f,x,S=n.target,I=n.global,P=n.stat,L=n.proto,N=I?no:P?no[S]:(no[S]||{}).prototype,H=I?rn:rn[S]||hn(rn,S,{})[S],Y=H.prototype;for(r in e)t=!Zc(I?r:S+(P?".":"#")+r,n.forced)&&N&&Cs(N,r),s=H[r],t&&(d=n.noTargetGet?(x=Qf(N,r))&&x.value:N[r]),o=t&&d?d:e[r],t&&typeof s==typeof o||(f=n.bind&&t?Tm(o,no):n.wrap&&t?xn(o):L&&Xf(o)?nn(o):o,(n.sham||o&&o.sham||s&&s.sham)&&hn(f,"sham",!0),hn(H,r,f),L&&(Cs(rn,i=S+"Prototype")||hn(rn,i,{}),hn(rn[i],r,o),n.real&&Y&&!Y[r]&&hn(Y,r,o)))},Om=Math.ceil,Im=Math.floor,Es=function(n){var e=+n;return e!=e||0===e?0:(e>0?Im:Om)(e)},Ia=Es,ep=Math.max,Jc=Math.min,Vn=function(n,e){var t=Ia(n);return t<0?ep(t+e,0):Jc(t,e)},tp=Es,br=Math.min,Oi=function(n){return function(n){return n>0?br(tp(n),9007199254740991):0}(n.length)},ip=Kt,Dm=Vn,Mm=Oi,zo=function(n){return function(e,t,i){var r,o=ip(e),s=Mm(o),d=Dm(i,s);if(n&&t!=t){for(;s>d;)if((r=o[d++])!=r)return!0}else for(;s>d;d++)if((n||d in o)&&o[d]===t)return n||d||0;return!n&&-1}},ro={includes:zo(!0),indexOf:zo(!1)},Ss={},Ts=ft,Pm=Kt,np=ro.indexOf,ru=Ss,oo=Ee([].push),ou=function(n,e){var t,i=Pm(n),r=0,o=[];for(t in i)!Ts(ru,t)&&Ts(i,t)&&oo(o,t);for(;e.length>r;)Ts(i,t=e[r++])&&(~np(o,t)||oo(o,t));return o},Wn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xc=ou,ei=Wn,Ue=Object.keys||function(n){return Xc(n,ei)},Os={};Os.f=Object.getOwnPropertySymbols;var Qc=Qe,ao=Qt,ed=_e,au=Ue,su=Os,rp=Qi,op=Tt,ap=Ur,pi=Object.assign,td=Object.defineProperty,Ds=Ee([].concat),id=!pi||ed(function(){if(Qc&&1!==pi({b:1},pi(td({},"a",{enumerable:!0,get:function(){td(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol(),i="abcdefghijklmnopqrst";return n[t]=7,i.split("").forEach(function(r){e[r]=r}),7!=pi({},n)[t]||au(pi({},e)).join("")!=i})?function(n,e){for(var t=op(n),i=arguments.length,r=1,o=su.f,s=rp.f;i>r;)for(var d,f=ap(arguments[r++]),x=o?Ds(au(f),o(f)):au(f),S=x.length,I=0;S>I;)d=x[I++],Qc&&!ao(s,f,d)||(t[d]=f[d]);return t}:pi;me({target:"Object",stat:!0,forced:Object.assign!==id},{assign:id});var ze=Fe.Object.assign,Ms=Ee([].slice),Ps=Ee,Rm=Si,Da=Ye,Fm=ft,sp=Ms,lp=Nn,nd=Q.Function,Am=Ps([].concat),up=Ps([].join),rd={},od=function(n,e,t){if(!Fm(rd,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";rd[e]=nd("C,a","return new C("+up(i,",")+")")}return rd[e](n,t)},Rs=lp?nd.bind:function(n){var e=Rm(this),t=e.prototype,i=sp(arguments,1),r=function(){var o=Am(i,sp(arguments));return this instanceof r?od(e,o.length,o):e.apply(n,o)};return Da(t)&&(r.prototype=t),r};me({target:"Function",proto:!0,forced:Function.bind!==Rs},{bind:Rs});var so=Fe,ci=function(n){return so[n+"Prototype"]},lu=ci("Function").bind,$m=et,oi=lu,ad=Function.prototype,fe=function(n){var e=n.bind;return n===ad||$m(ad,n)&&e===ad.bind?oi:e};function sd(n,e,t,i){n.beginPath(),n.arc(e,t,i,0,2*Math.PI,!1),n.closePath()}function cu(n,e,t,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+i-o,t),n.arc(e+i-o,t+o,o,270*s,360*s,!1),n.lineTo(e+i,t+r-o),n.arc(e+i-o,t+r-o,o,0,90*s,!1),n.lineTo(e+o,t+r),n.arc(e+o,t+r-o,o,90*s,180*s,!1),n.lineTo(e,t+o),n.arc(e+o,t+o,o,180*s,270*s,!1),n.closePath()}function kn(n,e,t,i,r){var o=.5522848,s=i/2*o,d=r/2*o,f=e+i,x=t+r,S=e+i/2,I=t+r/2;n.beginPath(),n.moveTo(e,I),n.bezierCurveTo(e,I-d,S-s,t,S,t),n.bezierCurveTo(S+s,t,f,I-d,f,I),n.bezierCurveTo(f,I+d,S+s,x,S,x),n.bezierCurveTo(S-s,x,e,I+d,e,I),n.closePath()}function dp(n,e,t,i,r){var o=.3333333333333333*r,s=.5522848,d=i/2*s,f=o/2*s,x=e+i,S=t+o,I=e+i/2,P=t+o/2,L=t+(r-o/2),N=t+r;n.beginPath(),n.moveTo(x,P),n.bezierCurveTo(x,P+f,I+d,S,I,S),n.bezierCurveTo(I-d,S,e,P+f,e,P),n.bezierCurveTo(e,P-f,I-d,t,I,t),n.bezierCurveTo(I+d,t,x,P-f,x,P),n.lineTo(x,L),n.bezierCurveTo(x,L+f,I+d,N,I,N),n.bezierCurveTo(I-d,N,e,L+f,e,L),n.lineTo(e,P)}function Fs(n,e,t,i,r,o){n.beginPath(),n.moveTo(e,t);for(var s=o.length,d=i-e,f=r-t,x=f/d,S=Math.sqrt(d*d+f*f),I=0,P=!0,L=0,N=+o[0];S>=.1;)(N=+o[I++%s])>S&&(N=S),L=Math.sqrt(N*N/(1+x*x)),e+=L=d<0?-L:L,t+=x*L,!0===P?n.lineTo(e,t):n.moveTo(e,t),S-=N,P=!P}var wr={circle:sd,dashedLine:Fs,database:dp,diamond:function(n,e,t,i){n.beginPath(),n.lineTo(e,t+i),n.lineTo(e+i,t),n.lineTo(e,t-i),n.lineTo(e-i,t),n.closePath()},ellipse:kn,ellipse_vis:kn,hexagon:function(n,e,t,i){n.beginPath();var r=2*Math.PI/6;n.moveTo(e+i,t);for(var o=1;o<6;o++)n.lineTo(e+i*Math.cos(r*o),t+i*Math.sin(r*o));n.closePath()},roundRect:cu,square:function(n,e,t,i){n.beginPath(),n.rect(e-i,t-i,2*i,2*i),n.closePath()},star:function(n,e,t,i){n.beginPath(),t+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;n.lineTo(e+o*Math.sin(2*r*Math.PI/10),t-o*Math.cos(2*r*Math.PI/10))}n.closePath()},triangle:function(n,e,t,i){n.beginPath(),t+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-o*o);n.moveTo(e,t-(d-s)),n.lineTo(e+o,t+s),n.lineTo(e-o,t+s),n.lineTo(e,t-(d-s)),n.closePath()},triangleDown:function(n,e,t,i){n.beginPath(),t-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-o*o);n.moveTo(e,t+(d-s)),n.lineTo(e+o,t-s),n.lineTo(e-o,t-s),n.lineTo(e,t+(d-s)),n.closePath()}},du={exports:{}};!function(n){function e(t){if(t)return function(i){for(var r in e.prototype)i[r]=e.prototype[r];return i}(t)}n.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this},e.prototype.once=function(t,i){function r(){this.off(t,r),i.apply(this,arguments)}return r.fn=i,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var s=0;s<o.length;s++)if((r=o[s])===i||r.fn===i){o.splice(s,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),r=this._callbacks["$"+t],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(r){o=0;for(var s=(r=r.slice(0)).length;o<s;++o)r[o].apply(this,i)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(du);var ld=du.exports,Ma={};Ma[ot("toStringTag")]="z";var As="[object z]"===String(Ma),hp=Q,fp=As,ud=De,C=ni,$=ot("toStringTag"),a=hp.Object,y="Arguments"==C(function(){return arguments}()),w=fp?C:function(n){var e,t,i;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(r,o){try{return r[o]}catch{}}(e=a(n),$))?t:y?C(e):"Object"==(i=C(e))&&ud(e.callee)?"Arguments":i},T=w,ee=Q.String,ne=function(n){if("Symbol"===T(n))throw TypeError("Cannot convert a Symbol value to a string");return ee(n)},ge=Ee,He=Es,tt=ne,lt=zn,Ut=ge("".charAt),Dt=ge("".charCodeAt),Yt=ge("".slice),Mt=function(n){return function(e,t){var i,r,o=tt(lt(e)),s=He(t),d=o.length;return s<0||s>=d?n?"":void 0:(i=Dt(o,s))<55296||i>56319||s+1===d||(r=Dt(o,s+1))<56320||r>57343?n?Ut(o,s):i:n?Yt(o,s,s+2):r-56320+(i-55296<<10)+65536}},zi={codeAt:Mt(!1),charAt:Mt(!0)},hu=De,Pa=Qr,Cn=Ee(Function.toString);hu(Pa.inspectSource)||(Pa.inspectSource=function(n){return Cn(n)});var Kn,Gn,Ii,En=Pa.inspectSource,ji=En,jo=Q.WeakMap,$s=De(jo)&&/native code/.test(ji(jo)),Lm=eo,Bm=(0,Jr.exports)("keys"),xr=function(n){return Bm[n]||(Bm[n]=Lm(n))},cd=Ee,vp=Ye,M_=tn,gp=ft,Ri=xr,P_=Ss,Nm="Object already initialized",mp=Q.TypeError;if($s||Qr.state){var Ho=Qr.state||(Qr.state=new(0,Q.WeakMap)),lo=cd(Ho.get),zm=cd(Ho.has),F_=cd(Ho.set);Kn=function(n,e){if(zm(Ho,n))throw new mp(Nm);return e.facade=n,F_(Ho,n,e),e},Gn=function(n){return lo(Ho,n)||{}},Ii=function(n){return zm(Ho,n)}}else{var Vo=Ri("state");P_[Vo]=!0,Kn=function(n,e){if(gp(n,Vo))throw new mp(Nm);return e.facade=n,M_(n,Vo,e),e},Gn=function(n){return gp(n,Vo)?n[Vo]:{}},Ii=function(n){return gp(n,Vo)}}var kr={set:Kn,get:Gn,has:Ii,enforce:function(n){return Ii(n)?Gn(n):Kn(n,{})},getterFor:function(n){return function(e){var t;if(!vp(e)||(t=Gn(e)).type!==n)throw mp("Incompatible receiver, "+n+" required");return t}}},dd=Qe,jm=Function.prototype,hd=dd&&Object.getOwnPropertyDescriptor,yp=ft(jm,"name"),pu={EXISTS:yp,PROPER:yp&&"something"===function(){}.name,CONFIGURABLE:yp&&(!dd||dd&&hd(jm,"name").configurable)},Wo={},Hm=Pt,bp=zt,L_=Kt,Ra=Ue;Wo.f=Qe&&!Ta?Object.defineProperties:function(n,e){bp(n);for(var t,i=L_(e),r=Ra(e),o=r.length,s=0;o>s;)Hm.f(n,t=r[s++],i[t]);return n};var Cr,Vm=hi("document","documentElement"),fd=zt,B_=Wo,_p=Wn,Wm=Ss,N_=Vm,Km=Ea,Gm=xr("IE_PROTO"),pd=function(){},Um=function(n){return"<script>"+n+"<\/script>"},wp=function(n){n.write(Um("")),n.close();var e=n.parentWindow.Object;return n=null,e},Fa=function(){try{Cr=new ActiveXObject("htmlfile")}catch{}var n,e;Fa=typeof document<"u"?document.domain&&Cr?wp(Cr):((e=Km("iframe")).style.display="none",N_.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(Um("document.F=Object")),n.close(),n.F):wp(Cr);for(var t=_p.length;t--;)delete Fa.prototype[_p[t]];return Fa()};Wm[Gm]=!0;var Aa,Ym,xp,uo=Object.create||function(n,e){var t;return null!==n?(pd.prototype=fd(n),t=new pd,pd.prototype=null,t[Gm]=n):t=Fa(),void 0===e?t:B_.f(t,e)},Ls=!_e(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),z_=Q,kp=ft,Er=De,Bs=Tt,j_=Ls,vd=xr("IE_PROTO"),gu=z_.Object,H_=gu.prototype,Ko=j_?gu.getPrototypeOf:function(n){var e=Bs(n);if(kp(e,vd))return e[vd];var t=e.constructor;return Er(t)&&e instanceof t?t.prototype:e instanceof gu?H_:null},qm=tn,Ns=function(n,e,t,i){i&&i.enumerable?n[e]=t:qm(n,e,t)},V_=_e,$a=De,W_=uo,Cp=Ko,K_=Ns,Go=ot("iterator"),Sr=!1;[].keys&&("next"in(xp=[].keys())?(Ym=Cp(Cp(xp)))!==Object.prototype&&(Aa=Ym):Sr=!0);var Ep=null==Aa||V_(function(){var n={};return Aa[Go].call(n)!==n});$a((Aa=Ep?{}:W_(Aa))[Go])||K_(Aa,Go,function(){return this});var Zm={IteratorPrototype:Aa,BUGGY_SAFARI_ITERATORS:Sr},Jm=w,Sp=As,Xm=Pt.f,gd=tn,G_=ft,U_=As?{}.toString:function(){return"[object "+Jm(this)+"]"},Qm=ot("toStringTag"),co=function(n,e,t,i){if(n){var r=t?n:n.prototype;G_(r,Qm)||Xm(r,Qm,{configurable:!0,value:e}),i&&!Sp&&gd(r,"toString",U_)}},zs={},Tp=Zm.IteratorPrototype,Y_=uo,ey=Pi,Op=co,Hi=zs,q_=function(){return this},Z_=De,iy=Q.String,ny=Q.TypeError,md=Ee,J_=zt,mu=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=md(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch{}return function(i,r){return J_(i),function(n){if("object"==typeof n||Z_(n))return n;throw ny("Can't set "+iy(n)+" as a prototype")}(r),e?n(i,r):i.__proto__=r,i}}():void 0),Q_=me,ew=Qt,iw=Ko,nw=co,ry=Ns,yu=zs,rw=pu.PROPER,js=Zm.BUGGY_SAFARI_ITERATORS,Ip=ot("iterator"),yd="values",oy="entries",ow=function(){return this},bd=function(n,e,t,i,r,o,s){!function(n,e,t,i){var r=e+" Iterator";n.prototype=Y_(Tp,{next:ey(+!i,t)}),Op(n,r,!1,!0),Hi[r]=q_}(t,e,i);var d,f,x,S=function(V){if(V===r&&H)return H;if(!js&&V in L)return L[V];switch(V){case"keys":case yd:case oy:return function(){return new t(this,V)}}return function(){return new t(this)}},I=e+" Iterator",P=!1,L=n.prototype,N=L[Ip]||L["@@iterator"]||r&&L[r],H=!js&&N||S(r),Y="Array"==e&&L.entries||N;if(Y&&(d=iw(Y.call(new n)))!==Object.prototype&&d.next&&(nw(d,I,!0,!0),yu[I]=ow),rw&&r==yd&&N&&N.name!==yd&&(P=!0,H=function(){return ew(N,this)}),r)if(f={values:S(yd),keys:o?H:S("keys"),entries:S(oy)},s)for(x in f)(js||P||!(x in L))&&ry(L,x,f[x]);else Q_({target:e,proto:!0,forced:js||P},f);return s&&L[Ip]!==H&&ry(L,Ip,H,{name:r}),yu[e]=H,f},Mp=zi.charAt,ay=ne,_d=bd,on="String Iterator",wd=kr.set,sy=kr.getterFor(on);_d(String,"String",function(n){wd(this,{type:on,string:ay(n),index:0})},function(){var n,e=sy(this),t=e.string,i=e.index;return i>=t.length?{value:void 0,done:!0}:(n=Mp(t,i),e.index+=n.length,{value:n,done:!1})});var Hs=Qt,Rp=zt,aw=Zr,Fp=function(n,e,t){var i,r;Rp(n);try{if(!(i=aw(n,"return"))){if("throw"===e)throw t;return t}i=Hs(i,n)}catch(o){r=!0,i=o}if("throw"===e)throw t;if(r)throw i;return Rp(i),t},sw=zt,ly=Fp,lw=zs,uy=ot("iterator"),Ap=Array.prototype,cy=function(n){return void 0!==n&&(lw.Array===n||Ap[uy]===n)},xd=Ee,uw=_e,bu=De,cw=w,dy=En,_u=function(){},Vs=[],hy=hi("Reflect","construct"),Ws=/^\s*(?:class|function)\b/,kd=xd(Ws.exec),dw=!Ws.exec(_u),Ks=function(n){if(!bu(n))return!1;try{return hy(_u,Vs,n),!0}catch{return!1}},Cd=function(n){if(!bu(n))return!1;switch(cw(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return dw||!!kd(Ws,dy(n))}catch{return!0}};Cd.sham=!0;var Gs=!hy||uw(function(){var n;return Ks(Ks.call)||!Ks(Object)||!Ks(function(){n=!0})||n})?Cd:Ks,hw=mr,fw=Pt,fy=Pi,Uo=function(n,e,t){var i=hw(e);i in n?fw.f(n,i,fy(0,t)):n[i]=t},pw=w,Us=Zr,ho=zs,fo=ot("iterator"),Ed=function(n){if(null!=n)return Us(n,fo)||Us(n,"@@iterator")||ho[pw(n)]},vw=Qt,La=Si,gw=zt,py=qr,mw=Ed,Ba=Q.TypeError,Ys=function(n,e){var t=arguments.length<2?mw(n):e;if(La(t))return gw(vw(t,n));throw Ba(py(n)+" is not iterable")},$p=wn,yw=Qt,vy=Tt,bw=function(n,e,t,i){try{return i?e(sw(t)[0],t[1]):e(t)}catch(r){ly(n,"throw",r)}},Lp=cy,_w=Gs,ww=Oi,Bp=Uo,Sd=Ys,xw=Ed,gy=Q.Array,Np=ot("iterator"),Na=!1;try{var kw=0,wu={next:function(){return{done:!!kw++}},return:function(){Na=!0}};wu[Np]=function(){return this},Array.from(wu,function(){throw 2})}catch{}me({target:"Array",stat:!0,forced:!function(n,e){if(!Na)return!1;var t=!1;try{var i={};i[Np]=function(){return{next:function(){return{done:t=!0}}}},function(n){Array.from(n)}(i)}catch{}return t}()},{from:function(n){var e=vy(n),t=_w(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=$p(r,i>2?arguments[2]:void 0));var s,d,f,x,S,I,P=xw(e),L=0;if(!P||this==gy&&Lp(P))for(s=ww(e),d=t?new this(s):gy(s);s>L;L++)I=o?r(e[L],L):e[L],Bp(d,L,I);else for(S=(x=Sd(e,P)).next,d=t?new this:[];!(f=yw(S,x)).done;L++)I=o?bw(x,r,[f.value,L],!0):f.value,Bp(d,L,I);return d.length=L,d}});var za=Fe.Array.from,po=za,Hp=Kt,Td=zs,Cw=bd,Od="Array Iterator",yy=kr.set,Id=kr.getterFor(Od);Cw(Array,"Array",function(n,e){yy(this,{type:Od,target:Hp(n),index:0,kind:e})},function(){var n=Id(this),e=n.target,t=n.kind,i=n.index++;return!e||i>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:i,done:!1}:"values"==t?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values"),Td.Arguments=Td.Array;var Ew=Ed,xu=Q,by=w,Tw=tn,Vp=zs,_y=ot("toStringTag");for(var Wp in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var wy=xu[Wp],Kp=wy&&wy.prototype;Kp&&by(Kp)!==_y&&Tw(Kp,_y,Wp),Vp[Wp]=Vp.Array}var Tr=Ew,xy=ni,qs=Array.isArray||function(n){return"Array"==xy(n)},Zs={},Ow=ou,Js=Wn.concat("length","prototype");Zs.f=Object.getOwnPropertyNames||function(n){return Ow(n,Js)};var Dd={},Gp=Vn,ky=Oi,Cy=Uo,Xs=Q.Array,Up=Math.max,Yp=function(n,e,t){for(var i=ky(n),r=Gp(e,i),o=Gp(void 0===t?i:t,i),s=Xs(Up(o-r,0)),d=0;r<o;r++,d++)Cy(s,d,n[r]);return s.length=d,s},qp=ni,Ey=Kt,Zp=Zs.f,Iw=Yp,ja="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Dd.f=function(n){return ja&&"Window"==qp(n)?function(e){try{return Zp(e)}catch{return Iw(ja)}}(n):Zp(Ey(n))};var Ha={};Ha.f=ot;var Sy=Fe,Ty=ft,Dw=Ha,Mw=Pt.f,ai=function(n){var e=Sy.Symbol||(Sy.Symbol={});Ty(e,n)||Mw(e,n,{value:Dw.f(n)})},Oy=Q,Iy=qs,Pw=Gs,Jp=Ye,Md=ot("species"),Xp=Oy.Array,Pd=function(n,e){return new(function(n){var e;return Iy(n)&&(Pw(e=n.constructor)&&(e===Xp||Iy(e.prototype))||Jp(e)&&null===(e=e[Md]))&&(e=void 0),void 0===e?Xp:e}(n))(0===e?0:e)},Rd=wn,Rw=Ur,Dy=Tt,Fd=Oi,My=Pd,ev=Ee([].push),vo=function(n){var e=1==n,t=2==n,i=3==n,r=4==n,o=6==n,s=7==n,d=5==n||o;return function(f,x,S,I){for(var P,L,N=Dy(f),H=Rw(N),Y=Rd(x,S),V=Fd(H),K=0,J=I||My,le=e?J(f,V):t||s?J(f,0):void 0;V>K;K++)if((d||K in H)&&(L=Y(P=H[K],K,N),n))if(e)le[K]=L;else if(L)switch(n){case 3:return!0;case 5:return P;case 6:return K;case 2:ev(le,P)}else switch(n){case 4:return!1;case 7:ev(le,P)}return o?-1:i||r?r:le}},Yn={forEach:vo(0),map:vo(1),filter:vo(2),some:vo(3),every:vo(4),find:vo(5),findIndex:vo(6),filterReject:vo(7)},Yo=me,qn=Q,tv=hi,iv=Xi,ku=Qt,Py=Ee,el=Qe,Va=Lo,Ad=_e,si=ft,nv=qs,Ry=De,rv=Ye,tl=et,Wa=vr,$d=zt,Cu=Tt,Zn=Kt,Ld=mr,Fy=ne,ov=Pi,Eu=uo,Ay=Ue,$y=Zs,Ly=Dd,Bd=Os,av=Ot,By=Pt,Ny=Wo,Su=Qi,Nd=Ms,sv=Ns,il=Jr.exports,zy=Ss,jy=eo,Hy=ot,li=Ha,nl=ai,lv=co,Vy=kr,Tu=Yn.forEach,wi=xr("hidden"),Ou="Symbol",Ka=Hy("toPrimitive"),Ga=Vy.set,Ua=Vy.getterFor(Ou),bt=Object.prototype,Or=qn.Symbol,Ir=Or&&Or.prototype,uv=qn.TypeError,cv=qn.QObject,go=tv("JSON","stringify"),zd=av.f,qo=By.f,rl=Ly.f,dv=Su.f,jd=Py([].push),Jn=il("symbols"),mo=il("op-symbols"),Hd=il("string-to-symbol-registry"),Vd=il("symbol-to-string-registry"),Wy=il("wks"),ol=!cv||!cv.prototype||!cv.prototype.findChild,Wd=el&&Ad(function(){return 7!=Eu(qo({},"a",{get:function(){return qo(this,"a",{value:7}).a}})).a})?function(n,e,t){var i=zd(bt,e);i&&delete bt[e],qo(n,e,t),i&&n!==bt&&qo(bt,e,i)}:qo,Kd=function(n,e){var t=Jn[n]=Eu(Ir);return Ga(t,{type:Ou,tag:n,description:e}),el||(t.description=e),t},Gd=function(n,e,t){n===bt&&Gd(mo,e,t),$d(n);var i=Ld(e);return $d(t),si(Jn,i)?(t.enumerable?(si(n,wi)&&n[wi][i]&&(n[wi][i]=!1),t=Eu(t,{enumerable:ov(0,!1)})):(si(n,wi)||qo(n,wi,ov(1,{})),n[wi][i]=!0),Wd(n,i,t)):qo(n,i,t)},Ud=function(n,e){$d(n);var t=Zn(e),i=Ay(t).concat(Iu(t));return Tu(i,function(r){el&&!ku(Ky,t,r)||Gd(n,r,t[r])}),n},Ky=function(n){var e=Ld(n),t=ku(dv,this,e);return!(this===bt&&si(Jn,e)&&!si(mo,e))&&(!(t||!si(this,e)||!si(Jn,e)||si(this,wi)&&this[wi][e])||t)},Yd=function(n,e){var t=Zn(n),i=Ld(e);if(t!==bt||!si(Jn,i)||si(mo,i)){var r=zd(t,i);return!r||!si(Jn,i)||si(t,wi)&&t[wi][i]||(r.enumerable=!0),r}},al=function(n){var e=rl(Zn(n)),t=[];return Tu(e,function(i){si(Jn,i)||si(zy,i)||jd(t,i)}),t},Iu=function(n){var e=n===bt,t=rl(e?mo:Zn(n)),i=[];return Tu(t,function(r){!si(Jn,r)||e&&!si(bt,r)||jd(i,Jn[r])}),i};if(Va||(Or=function(){if(tl(Ir,this))throw uv("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?Fy(arguments[0]):void 0,e=jy(n),t=function(i){this===bt&&ku(t,mo,i),si(this,wi)&&si(this[wi],e)&&(this[wi][e]=!1),Wd(this,e,ov(1,i))};return el&&ol&&Wd(bt,e,{configurable:!0,set:t}),Kd(e,n)},sv(Ir=Or.prototype,"toString",function(){return Ua(this).tag}),sv(Or,"withoutSetter",function(n){return Kd(jy(n),n)}),Su.f=Ky,By.f=Gd,Ny.f=Ud,av.f=Yd,$y.f=Ly.f=al,Bd.f=Iu,li.f=function(n){return Kd(Hy(n),n)},el&&qo(Ir,"description",{configurable:!0,get:function(){return Ua(this).description}})),Yo({global:!0,wrap:!0,forced:!Va,sham:!Va},{Symbol:Or}),Tu(Ay(Wy),function(n){nl(n)}),Yo({target:Ou,stat:!0,forced:!Va},{for:function(n){var e=Fy(n);if(si(Hd,e))return Hd[e];var t=Or(e);return Hd[e]=t,Vd[t]=e,t},keyFor:function(n){if(!Wa(n))throw uv(n+" is not a symbol");if(si(Vd,n))return Vd[n]},useSetter:function(){ol=!0},useSimple:function(){ol=!1}}),Yo({target:"Object",stat:!0,forced:!Va,sham:!el},{create:function(n,e){return void 0===e?Eu(n):Ud(Eu(n),e)},defineProperty:Gd,defineProperties:Ud,getOwnPropertyDescriptor:Yd}),Yo({target:"Object",stat:!0,forced:!Va},{getOwnPropertyNames:al,getOwnPropertySymbols:Iu}),Yo({target:"Object",stat:!0,forced:Ad(function(){Bd.f(1)})},{getOwnPropertySymbols:function(n){return Bd.f(Cu(n))}}),go&&Yo({target:"JSON",stat:!0,forced:!Va||Ad(function(){var n=Or();return"[null]"!=go([n])||"{}"!=go({a:n})||"{}"!=go(Object(n))})},{stringify:function(n,e,t){var i=Nd(arguments),r=e;if((rv(e)||void 0!==n)&&!Wa(n))return nv(e)||(e=function(o,s){if(Ry(r)&&(s=ku(r,this,o,s)),!Wa(s))return s}),i[1]=e,iv(go,null,i)}}),!Ir[Ka]){var Uy=Ir.valueOf;sv(Ir,Ka,function(n){return ku(Uy,this)})}lv(Or,Ou),zy[wi]=!0;var Zo=Fe.Object.getOwnPropertySymbols,Ya={exports:{}},Fw=me,qd=Kt,Vi=Ot.f,Du=Qe,Mu=_e(function(){Vi(1)});Fw({target:"Object",stat:!0,forced:!Du||Mu,sham:!Du},{getOwnPropertyDescriptor:function(n,e){return Vi(qd(n),e)}});var Yy=Fe.Object,qy=Ya.exports=function(n,e){return Yy.getOwnPropertyDescriptor(n,e)};Yy.getOwnPropertyDescriptor.sham&&(qy.sham=!0);var Sn=Ya.exports,Fi=Sn,qa=hi,Zy=Zs,fv=Os,Za=zt,Jy=Ee([].concat),yo=qa("Reflect","ownKeys")||function(n){var e=Zy.f(Za(n)),t=fv.f;return t?Jy(e,t(n)):e},Xy=yo,Aw=Kt,Qy=Ot,bo=Uo;me({target:"Object",stat:!0,sham:!Qe},{getOwnPropertyDescriptors:function(n){for(var e,t,i=Aw(n),r=Qy.f,o=Xy(i),s={},d=0;o.length>d;)void 0!==(t=r(i,e=o[d++]))&&bo(s,e,t);return s}});var Tn=Fe.Object.getOwnPropertyDescriptors,Zd={exports:{}},Xd=Wo.f;me({target:"Object",stat:!0,forced:Object.defineProperties!==Xd,sham:!Qe},{defineProperties:Xd});var Pu=Fe.Object,pv=Zd.exports=function(n,e){return Pu.defineProperties(n,e)};Pu.defineProperties.sham&&(pv.sham=!0);var Ja=Zd.exports,Ru={exports:{}},Qd=Pt.f;me({target:"Object",stat:!0,forced:Object.defineProperty!==Qd,sham:!Qe},{defineProperty:Qd});var eh=Fe.Object,Lw=Ru.exports=function(n,e,t){return eh.defineProperty(n,e,t)};eh.defineProperty.sham&&(Lw.sham=!0);var tb=Ru.exports,Fu=tb;function be(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var th=tb;function ib(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),th(n,i.key,i)}}function we(n,e,t){return e&&ib(n.prototype,e),t&&ib(n,t),th(n,"prototype",{writable:!1}),n}function sl(n,e,t){return e in n?th(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}me({target:"Array",stat:!0},{isArray:qs});var ll=Fe.Array.isArray,nb=ll,gv=_e,rb=_n,ob=ot("species"),ul=function(n){return rb>=51||!gv(function(){var e=[];return(e.constructor={})[ob]=function(){return{foo:1}},1!==e[n](Boolean).foo})},Bw=me,Nw=Q,zw=_e,jw=qs,ab=Ye,Hw=Tt,Vw=Oi,sb=Uo,Ww=Pd,mv=ul,lb=_n,yv=ot("isConcatSpreadable"),ih=9007199254740991,nh="Maximum allowed index exceeded",Au=Nw.TypeError,Kw=lb>=51||!zw(function(){var n=[];return n[yv]=!1,n.concat()[0]!==n}),Gw=mv("concat"),ub=function(n){if(!ab(n))return!1;var e=n[yv];return void 0!==e?!!e:jw(n)};Bw({target:"Array",proto:!0,forced:!Kw||!Gw},{concat:function(n){var e,t,i,r,o,s=Hw(this),d=Ww(s,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(ub(o=-1===e?s:arguments[e])){if(f+(r=Vw(o))>ih)throw Au(nh);for(t=0;t<r;t++,f++)t in o&&sb(d,f,o[t])}else{if(f>=ih)throw Au(nh);sb(d,f++,o)}return d.length=f,d}}),ai("asyncIterator"),ai("hasInstance"),ai("isConcatSpreadable"),ai("iterator"),ai("match"),ai("matchAll"),ai("replace"),ai("search"),ai("species"),ai("split"),ai("toPrimitive"),ai("toStringTag"),ai("unscopables"),co(Q.JSON,"JSON",!0);var bv=Fe.Symbol,cb=bv;ai("asyncDispose"),ai("dispose"),ai("matcher"),ai("metadata"),ai("observable"),ai("patternMatch"),ai("replaceAll");var cl=cb,dl=me,$u=Q,db=qs,Uw=Gs,Yw=Ye,rh=Vn,hb=Oi,fb=Kt,qw=Uo,Zw=ot,pb=Ms,vb=ul("slice"),_v=Zw("species"),oh=$u.Array,Jw=Math.max;dl({target:"Array",proto:!0,forced:!vb},{slice:function(n,e){var t,i,r,o=fb(this),s=hb(o),d=rh(n,s),f=rh(void 0===e?s:e,s);if(db(o)&&((Uw(t=o.constructor)&&(t===oh||db(t.prototype))||Yw(t)&&null===(t=t[_v]))&&(t=void 0),t===oh||void 0===t))return pb(o,d,f);for(i=new(void 0===t?oh:t)(Jw(f-d,0)),r=0;d<f;d++,r++)d in o&&qw(i,r,o[d]);return i.length=r,i}});var gb=ci("Array").slice,Xw=et,wv=gb,xv=Array.prototype,Lu=function(n){var e=n.slice;return n===xv||Xw(xv,n)&&e===xv.slice?wv:e},Qw=Lu,ah=za;function kv(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function mb(n,e){var t;if(n){if("string"==typeof n)return kv(n,e);var i=Qw(t=Object.prototype.toString.call(n)).call(t,8,-1);return"Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i?ah(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kv(n,e):void 0}}function qt(n,e){return function(t){if(nb(t))return t}(n)||function(t,i){var r=null==t?null:void 0!==cl&&Tr(t)||t["@@iterator"];if(null!=r){var o,s,d=[],f=!0,x=!1;try{for(r=r.call(t);!(f=(o=r.next()).done)&&(d.push(o.value),!i||d.length!==i);f=!0);}catch(S){x=!0,s=S}finally{try{f||null==r.return||r.return()}finally{if(x)throw s}}return d}}(n,e)||mb(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ui=Ha.f("iterator");function _t(n){return(_t="function"==typeof cl&&"symbol"==typeof ui?function(e){return typeof e}:function(e){return e&&"function"==typeof cl&&e.constructor===cl&&e!==cl.prototype?"symbol":typeof e})(n)}function On(n){return function(e){if(nb(e))return kv(e)}(n)||function(e){if(void 0!==cl&&null!=Tr(e)||null!=e["@@iterator"])return ah(e)}(n)||mb(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wo=bv,e1=ci("Array").concat,Bu=et,t1=e1,Dr=Array.prototype,Nu=function(n){var e=n.concat;return n===Dr||Bu(Dr,n)&&e===Dr.concat?t1:e},ct=Lu;me({target:"Reflect",stat:!0},{ownKeys:yo});var Et=ll,Cv=Yn.map;me({target:"Array",proto:!0,forced:!ul("map")},{map:function(n){return Cv(this,n,arguments.length>1?arguments[1]:void 0)}});var yb=ci("Array").map,n1=et,sh=yb,Qa=Array.prototype,ti=function(n){var e=n.map;return n===Qa||n1(Qa,n)&&e===Qa.map?sh:e},lh=Tt,Ev=Ue;me({target:"Object",stat:!0,forced:_e(function(){Ev(1)})},{keys:function(n){return Ev(lh(n))}});var dt=Fe.Object.keys,gi=me,_b=Q.Date,wb=Ee(_b.prototype.getTime);gi({target:"Date",stat:!0},{now:function(){return wb(new _b)}});var fl=Fe.Date.now,uh=_e,Mr=function(n,e){var t=[][n];return!!t&&uh(function(){t.call(null,e||function(){return 1},1)})},zu=Yn.forEach,ch=Mr("forEach")?[].forEach:function(n){return zu(this,n,arguments.length>1?arguments[1]:void 0)};me({target:"Array",proto:!0,forced:[].forEach!=ch},{forEach:ch});var Wi=ci("Array").forEach,Sv=w,pl=ft,Tv=et,xb=Wi,dh=Array.prototype,Ov={DOMTokenList:!0,NodeList:!0},Rt=function(n){var e=n.forEach;return n===dh||Tv(dh,n)&&e===dh.forEach||pl(Ov,Sv(n))?xb:e},r1=me,kb=qs,Cb=Ee([].reverse),ju=[1,2];r1({target:"Array",proto:!0,forced:String(ju)===String(ju.reverse())},{reverse:function(){return kb(this)&&(this.length=this.length),Cb(this)}});var an=ci("Array").reverse,hh=et,Hu=an,vl=Array.prototype,Ki=function(n){var e=n.reverse;return n===vl||hh(vl,n)&&e===vl.reverse?Hu:e},Xn=me,xo=Q,Jo=Vn,Iv=Es,Dv=Oi,Vu=Tt,Eb=Pd,Pr=Uo,Sb=ul("splice"),a1=xo.TypeError,Tb=Math.max,ko=Math.min,Wu=9007199254740991,Mv="Maximum allowed length exceeded";Xn({target:"Array",proto:!0,forced:!Sb},{splice:function(n,e){var t,i,r,o,s,d,f=Vu(this),x=Dv(f),S=Jo(n,x),I=arguments.length;if(0===I?t=i=0:1===I?(t=0,i=x-S):(t=I-2,i=ko(Tb(Iv(e),0),x-S)),x+t-i>Wu)throw a1(Mv);for(r=Eb(f,i),o=0;o<i;o++)(s=S+o)in f&&Pr(r,o,f[s]);if(r.length=i,t<i){for(o=S;o<x-i;o++)d=o+t,(s=o+i)in f?f[d]=f[s]:delete f[d];for(o=x;o>x-i+t;o--)delete f[o-1]}else if(t>i)for(o=x-i;o>S;o--)d=o+t-1,(s=o+i-1)in f?f[d]=f[s]:delete f[d];for(o=0;o<t;o++)f[o+S]=arguments[o+2];return f.length=x-i+t,r}});var Pv=ci("Array").splice,s1=et,Rv=Pv,Ku=Array.prototype,In=function(n){var e=n.splice;return n===Ku||s1(Ku,n)&&e===Ku.splice?Rv:e},Av=ro.includes;me({target:"Array",proto:!0},{includes:function(n){return Av(this,n,arguments.length>1?arguments[1]:void 0)}});var l1=ci("Array").includes,Ob=Ye,Ib=ni,Db=ot("match"),Lv=Q.TypeError,Mb=ot("match"),Pb=me,u1=function(n){if(function(n){var e;return Ob(n)&&(void 0!==(e=n[Db])?!!e:"RegExp"==Ib(n))}(n))throw Lv("The method doesn't accept regular expressions");return n},c1=zn,Rb=ne,Fb=Ee("".indexOf);Pb({target:"String",proto:!0,forced:!function(n){var e=/./;try{"/./"[n](e)}catch{try{return e[Mb]=!1,"/./"[n](e)}catch{}}return!1}("includes")},{includes:function(n){return!!~Fb(Rb(c1(this)),Rb(u1(n)),arguments.length>1?arguments[1]:void 0)}});var d1=ci("String").includes,Ab=et,h1=l1,es=d1,Gu=Array.prototype,Bv=String.prototype,Qn=function(n){var e=n.includes;return n===Gu||Ab(Gu,n)&&e===Gu.includes?h1:"string"==typeof n||n===Bv||Ab(Bv,n)&&e===Bv.includes?es:e},Nv=Tt,$b=Ko,p1=Ls;me({target:"Object",stat:!0,forced:_e(function(){$b(1)}),sham:!p1},{getPrototypeOf:function(n){return $b(Nv(n))}});var Lb=Fe.Object.getPrototypeOf,zv=Lb,v1=Yn.filter;me({target:"Array",proto:!0,forced:!ul("filter")},{filter:function(n){return v1(this,n,arguments.length>1?arguments[1]:void 0)}});var g1=ci("Array").filter,m1=et,y1=g1,jv=Array.prototype,Ai=function(n){var e=n.filter;return n===jv||m1(jv,n)&&e===jv.filter?y1:e},_1=Qe,Bb=Ee,w1=Ue,Nb=Kt,x1=Bb(Qi.f),k1=Bb([].push),zb=function(n){return function(e){for(var t,i=Nb(e),r=w1(i),o=r.length,s=0,d=[];o>s;)t=r[s++],_1&&!x1(i,t)||k1(d,n?[t,i[t]]:i[t]);return d}},jb=(zb(!0),zb(!1));me({target:"Object",stat:!0},{values:function(n){return jb(n)}});var Hb="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",C1=zn,Vb=ne,Hv=Ee("".replace),Uu="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",E1=RegExp("^"+Uu+Uu+"*"),Vv=RegExp(Uu+Uu+"*$"),Wv=function(n){return function(e){var t=Vb(C1(e));return 1&n&&(t=Hv(t,E1,"")),2&n&&(t=Hv(t,Vv,"")),t}},ph={start:Wv(1),end:Wv(2),trim:Wv(3)},vh=_e,T1=ne,gh=ph.trim,Gv=Hb,gl=Q.parseInt,Wb=Q.Symbol,Kb=Wb&&Wb.iterator,Gb=/^[+-]?0x/i,Ub=Ee(Gb.exec),Uv=8!==gl(Gv+"08")||22!==gl(Gv+"0x16")||Kb&&!vh(function(){gl(Object(Kb))})?function(n,e){var t=gh(T1(n));return gl(t,e>>>0||(Ub(Gb,t)?16:10))}:gl;me({global:!0,forced:parseInt!=Uv},{parseInt:Uv});var Gi=Fe.parseInt,Yb=me,qb=ro.indexOf,Yv=Mr,qv=Ee([].indexOf),Zv=!!qv&&1/qv([1],1,-0)<0,O1=Yv("indexOf");Yb({target:"Array",proto:!0,forced:Zv||!O1},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return Zv?qv(this,n,e)||0:qb(this,n,e)}});var n,I1=ci("Array").indexOf,D1=et,Jv=I1,mh=Array.prototype,mt=function(n){var e=n.indexOf;return n===mh||D1(mh,n)&&e===mh.indexOf?Jv:e},P1=pu.PROPER,Jb=Hb,R1=ph.trim;me({target:"String",proto:!0,forced:(n="trim",_e(function(){return!!Jb[n]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[n]()||P1&&Jb[n].name!==n}))},{trim:function(){return R1(this)}}),ci("String"),me({target:"Object",stat:!0,sham:!Qe},{create:uo});var Xv=Fe.Object,Qv=function(n,e){return Xv.create(n,e)},Xo=Qv,Xb=me,Yu=Xi,qu=Ee,A1=_e,yh=Q.Array,ts=hi("JSON","stringify"),Zu=qu(/./.exec),Qb=qu("".charAt),$1=qu("".charCodeAt),L1=qu("".replace),B1=qu(1..toString),e0=/[\uD800-\uDFFF]/g,eg=/^[\uD800-\uDBFF]$/,t0=/^[\uDC00-\uDFFF]$/,N1=function(n,e,t){var i=Qb(t,e-1),r=Qb(t,e+1);return Zu(eg,n)&&!Zu(t0,r)||Zu(t0,n)&&!Zu(eg,i)?"\\u"+B1($1(n,0),16):n},tg=A1(function(){return'"\\udf06\\ud834"'!==ts("\udf06\ud834")||'"\\udead"'!==ts("\udead")});ts&&Xb({target:"JSON",stat:!0,forced:tg},{stringify:function(n,e,t){for(var i=0,r=arguments.length,o=yh(r);i<r;i++)o[i]=arguments[i];var s=Yu(ts,null,o);return"string"==typeof s?L1(s,e0,N1):s}});var ig=Fe,z1=Xi;ig.JSON||(ig.JSON={stringify:JSON.stringify});var Ju=function(n,e,t){return z1(ig.JSON.stringify,null,arguments)},H1=Q.TypeError,ng=me,bh=Q,V1=Xi,W1=De,K1=Ms,G1=function(n,e){if(n<e)throw H1("Not enough arguments");return n},U1=/MSIE .\./.test(fi),n0=bh.Function,r0=function(n){return function(e,t){var i=G1(arguments.length,1)>2,r=W1(e)?e:n0(e),o=i?K1(arguments,2):void 0;return n(i?function(){V1(r,this,o)}:r,t)}};ng({global:!0,bind:!0,forced:U1},{setTimeout:r0(bh.setTimeout),setInterval:r0(bh.setInterval)});var Rr=Fe.setTimeout,o0=Tt,a0=Vn,Y1=Oi;me({target:"Array",proto:!0},{fill:function(n){for(var e=o0(this),t=Y1(e),i=arguments.length,r=a0(i>1?arguments[1]:void 0,t),o=i>2?arguments[2]:void 0,s=void 0===o?t:a0(o,t);s>r;)e[r++]=n;return e}});var rg,q1=ci("Array").fill,er=et,fn=q1,ml=Array.prototype,Dn=function(n){var e=n.fill;return n===ml||er(ml,n)&&e===ml.fill?fn:e};function Mn(){return Mn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mn.apply(this,arguments)}function Pn(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Co(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}rg="function"!=typeof Object.assign?function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var sn,Eo=rg,Xu=["","webkit","Moz","MS","ms","o"],s0=typeof document>"u"?{style:{}}:document.createElement("div"),ns=Math.round,Fr=Math.abs,_h=Date.now;function yl(n,e){for(var t,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Xu.length;){if((i=(t=Xu[o])?t+r:e)in n)return i;o++}}sn=typeof window>"u"?{}:window;var rs=yl(s0.style,"touchAction"),Qu=void 0!==rs,ec="compute",wh="manipulation",bl="none",tc="pan-x",ea="pan-y",_l=function(){if(!Qu)return!1;var n={},e=sn.CSS&&sn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=!e||sn.CSS.supports("touch-action",t)}),n}(),wl="ontouchstart"in sn,xh=void 0!==yl(sn,"PointerEvent"),l0=wl&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ta="touch",tr="mouse",kh=["x","y"],na=["clientX","clientY"];function ir(n,e,t){var i;if(n)if(n.forEach)n.forEach(e,t);else if(void 0!==n.length)for(i=0;i<n.length;)e.call(t,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i,n)}function ic(n,e){return"function"==typeof n?n.apply(e&&e[0]||void 0,e):n}function Zt(n,e){return n.indexOf(e)>-1}var Ch=function(){function n(t,i){this.manager=t,this.set(i)}var e=n.prototype;return e.set=function(t){t===ec&&(t=this.compute()),Qu&&this.manager.element.style&&_l[t]&&(this.manager.element.style[rs]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ir(this.manager.recognizers,function(i){ic(i.options.enable,[i])&&(t=t.concat(i.getTouchAction()))}),function(i){if(Zt(i,bl))return bl;var r=Zt(i,tc),o=Zt(i,ea);return r&&o?bl:r||o?r?tc:ea:Zt(i,wh)?wh:"auto"}(t.join(" "))},e.preventDefaults=function(t){var i=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var o=this.actions,s=Zt(o,bl)&&!_l.none,d=Zt(o,ea)&&!_l["pan-y"],f=Zt(o,tc)&&!_l["pan-x"];if(s&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!f||!d)return s||d&&6&r||f&&24&r?this.preventSrc(i):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},n}();function Eh(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function og(n){var e=n.length;if(1===e)return{x:ns(n[0].clientX),y:ns(n[0].clientY)};for(var t=0,i=0,r=0;r<e;)t+=n[r].clientX,i+=n[r].clientY,r++;return{x:ns(t/e),y:ns(i/e)}}function ag(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:ns(n.pointers[t].clientX),clientY:ns(n.pointers[t].clientY)},t++;return{timeStamp:_h(),pointers:e,center:og(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Sh(n,e,t){t||(t=kh);var i=e[t[0]]-n[t[0]],r=e[t[1]]-n[t[1]];return Math.sqrt(i*i+r*r)}function as(n,e,t){return t||(t=kh),180*Math.atan2(e[t[1]]-n[t[1]],e[t[0]]-n[t[0]])/Math.PI}function xl(n,e){return n===e?1:Fr(n)>=Fr(e)?n<0?2:4:e<0?8:16}function kl(n,e,t){return{x:e/n||0,y:t/n||0}}function mi(n,e,t){var i=t.pointers.length,r=t.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;t.isFirst=!!o,t.isFinal=!!s,o&&(n.session={}),t.eventType=e,function u0(n,e){var t=n.session,i=e.pointers,r=i.length;t.firstInput||(t.firstInput=ag(e)),r>1&&!t.firstMultiple?t.firstMultiple=ag(e):1===r&&(t.firstMultiple=!1);var H,Y,V,K,J,le,o=t.firstInput,s=t.firstMultiple,d=s?s.center:o.center,f=e.center=og(i);e.timeStamp=_h(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=as(d,f),e.distance=Sh(d,f),V=(Y=e).center,K=(H=t).offsetDelta||{},J=H.prevDelta||{},le=H.prevInput||{},1!==Y.eventType&&4!==le.eventType||(J=H.prevDelta={x:le.deltaX||0,y:le.deltaY||0},K=H.offsetDelta={x:V.x,y:V.y}),Y.deltaX=J.x+(V.x-K.x),Y.deltaY=J.y+(V.y-K.y),e.offsetDirection=xl(e.deltaX,e.deltaY);var x,S,I=kl(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=I.x,e.overallVelocityY=I.y,e.overallVelocity=Fr(I.x)>Fr(I.y)?I.x:I.y,e.scale=s?(x=s.pointers,Sh((S=i)[0],S[1],na)/Sh(x[0],x[1],na)):1,e.rotation=s?function(H,Y){return as(Y[1],Y[0],na)+as(H[1],H[0],na)}(s.pointers,i):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(H,Y){var V,K,J,le,ie=H.lastInterval||Y,Ce=Y.timeStamp-ie.timeStamp;if(8!==Y.eventType&&(Ce>25||void 0===ie.velocity)){var te=Y.deltaX-ie.deltaX,ce=Y.deltaY-ie.deltaY,G=kl(Ce,te,ce);K=G.x,J=G.y,V=Fr(G.x)>Fr(G.y)?G.x:G.y,le=xl(te,ce),H.lastInterval=Y}else V=ie.velocity,K=ie.velocityX,J=ie.velocityY,le=ie.direction;Y.velocity=V,Y.velocityX=K,Y.velocityY=J,Y.direction=le}(t,e);var P,L=n.element,N=e.srcEvent;Eh(P=N.composedPath?N.composedPath()[0]:N.path?N.path[0]:N.target,L)&&(L=P),e.target=L}(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function nr(n){return n.trim().split(/\s+/g)}function nc(n,e,t){ir(nr(e),function(i){n.addEventListener(i,t,!1)})}function rc(n,e,t){ir(nr(e),function(i){n.removeEventListener(i,t,!1)})}function Di(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var rr=function(){function n(t,i){var r=this;this.manager=t,this.callback=i,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){ic(t.options.enable,[t])&&r.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&nc(this.element,this.evEl,this.domHandler),this.evTarget&&nc(this.target,this.evTarget,this.domHandler),this.evWin&&nc(Di(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&rc(this.element,this.evEl,this.domHandler),this.evTarget&&rc(this.target,this.evTarget,this.domHandler),this.evWin&&rc(Di(this.element),this.evWin,this.domHandler)},n}();function ra(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var i=0;i<n.length;){if(t&&n[i][t]==e||!t&&n[i]===e)return i;i++}return-1}var oc={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},sg={2:ta,3:"pen",4:tr,5:"kinect"},c0="pointerdown",Th="pointermove pointerup pointercancel";sn.MSPointerEvent&&!sn.PointerEvent&&(c0="MSPointerDown",Th="MSPointerMove MSPointerUp MSPointerCancel");var Oh=function(n){function e(){var t,i=e.prototype;return i.evEl=c0,i.evWin=Th,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return Pn(e,n),e.prototype.handler=function(t){var i=this.store,r=!1,o=t.type.toLowerCase().replace("ms",""),s=oc[o],d=sg[t.pointerType]||t.pointerType,f=d===ta,x=ra(i,t.pointerId,"pointerId");1&s&&(0===t.button||f)?x<0&&(i.push(t),x=i.length-1):12&s&&(r=!0),x<0||(i[x]=t,this.callback(this.manager,s,{pointers:i,changedPointers:[t],pointerType:d,srcEvent:t}),r&&i.splice(x,1))},e}(rr);function ac(n){return Array.prototype.slice.call(n,0)}function lg(n,e,t){for(var i=[],r=[],o=0;o<n.length;){var s=e?n[o][e]:n[o];ra(r,s)<0&&i.push(n[o]),r[o]=s,o++}return t&&(i=e?i.sort(function(d,f){return d[e]>f[e]}):i.sort()),i}var Ih={touchstart:1,touchmove:2,touchend:4,touchcancel:8},sc="touchstart touchmove touchend touchcancel",lc=function(n){function e(){var t;return e.prototype.evTarget=sc,(t=n.apply(this,arguments)||this).targetIds={},t}return Pn(e,n),e.prototype.handler=function(t){var i=Ih[t.type],r=d0.call(this,t,i);r&&this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:ta,srcEvent:t})},e}(rr);function d0(n,e){var t,i,r=ac(n.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=ac(n.changedTouches),d=[],f=this.target;if(i=r.filter(function(x){return Eh(x.target,f)}),1===e)for(t=0;t<i.length;)o[i[t].identifier]=!0,t++;for(t=0;t<s.length;)o[s[t].identifier]&&d.push(s[t]),12&e&&delete o[s[t].identifier],t++;return d.length?[lg(i.concat(d),"identifier",!0),d]:void 0}var Z1={mousedown:1,mousemove:2,mouseup:4},J1="mousedown",h0="mousemove mouseup",oa=function(n){function e(){var t,i=e.prototype;return i.evEl=J1,i.evWin=h0,(t=n.apply(this,arguments)||this).pressed=!1,t}return Pn(e,n),e.prototype.handler=function(t){var i=Z1[t.type];1&i&&0===t.button&&(this.pressed=!0),2&i&&1!==t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:tr,srcEvent:t}))},e}(rr);function $r(n){var e=n.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var r=i.indexOf(t);r>-1&&i.splice(r,1)},2500)}}function Ui(n,e){1&n?(this.primaryTouch=e.changedPointers[0].identifier,$r.call(this,e)):12&n&&$r.call(this,e)}function Dh(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(t-r.y);if(o<=25&&s<=25)return!0}return!1}var ug=function(n){function e(t,i){var r;return(r=n.call(this,t,i)||this).handler=function(o,s,d){var x=d.pointerType===tr;if(!(x&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(d.pointerType===ta)Ui.call(Co(Co(r)),s,d);else if(x&&Dh.call(Co(Co(r)),d))return;r.callback(o,s,d)}},r.touch=new lc(r.manager,r.handler),r.mouse=new oa(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Pn(e,n),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(rr);function or(n,e,t){return!!Array.isArray(n)&&(ir(n,t[e],t),!0)}var Cl=1;function uc(n,e){var t=e.manager;return t?t.get(n):n}function Mh(n){return 16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":""}var El=function(){function n(t){void 0===t&&(t={}),this.options=Mn({enable:!0},t),this.id=Cl++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(t){return Eo(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(or(t,"recognizeWith",this))return this;var i=this.simultaneous;return i[(t=uc(t,this)).id]||(i[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return or(t,"dropRecognizeWith",this)||(t=uc(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(or(t,"requireFailure",this))return this;var i=this.requireFail;return-1===ra(i,t=uc(t,this))&&(i.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(or(t,"dropRequireFailure",this))return this;t=uc(t,this);var i=ra(this.requireFail,t);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var i=this,r=this.state;function o(s){i.manager.emit(s,t)}r<8&&o(i.options.event+Mh(r)),o(i.options.event),t.additionalEvent&&o(t.additionalEvent),r>=8&&o(i.options.event+Mh(r))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var i=Eo({},t);if(!ic(this.options.enable,[this,i]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(i),30&this.state&&this.tryEmit(i)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},n}(),Ph=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,Mn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[wh]},t.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,d=i.distance<o.threshold,f=i.deltaTime<o.time;if(this.reset(),1&i.eventType&&0===this.count)return this.failTimeout();if(d&&f&&s){if(4!==i.eventType)return this.failTimeout();var x=!this.pTime||i.timeStamp-this.pTime<o.interval,S=!this.pCenter||Sh(this.pCenter,i.center)<o.posThreshold;if(this.pTime=i.timeStamp,this.pCenter=i.center,S&&x?this.count+=1:this.count=1,this._input=i,this.count%o.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.interval),2):8}return 32},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=32},this.options.interval),32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(El),So=function(n){function e(i){return void 0===i&&(i={}),n.call(this,Mn({pointers:1},i))||this}Pn(e,n);var t=e.prototype;return t.attrTest=function(i){var r=this.options.pointers;return 0===r||i.pointers.length===r},t.process=function(i){var r=this.state,o=i.eventType,s=6&r,d=this.attrTest(i);return s&&(8&o||!d)?16|r:s||d?4&o?8|r:2&r?4|r:2:32},e}(El);function cg(n){return 16===n?"down":8===n?"up":2===n?"left":4===n?"right":""}var Rh=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,Mn({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,r.pY=null,r}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,r=[];return 6&i&&r.push(ea),24&i&&r.push(tc),r},t.directionTest=function(i){var r=this.options,o=!0,s=i.distance,d=i.direction,f=i.deltaX,x=i.deltaY;return d&r.direction||(6&r.direction?(d=0===f?1:f<0?2:4,o=f!==this.pX,s=Math.abs(i.deltaX)):(d=0===x?1:x<0?8:16,o=x!==this.pY,s=Math.abs(i.deltaY))),i.direction=d,o&&s>r.threshold&&d&r.direction},t.attrTest=function(i){return So.prototype.attrTest.call(this,i)&&(2&this.state||!(2&this.state)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var r=cg(i.direction);r&&(i.additionalEvent=this.options.event+r),n.prototype.emit.call(this,i)},e}(So),dg=function(n){function e(i){return void 0===i&&(i={}),n.call(this,Mn({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return Rh.prototype.getTouchAction.call(this)},t.attrTest=function(i){var r,o=this.options.direction;return 30&o?r=i.overallVelocity:6&o?r=i.overallVelocityX:24&o&&(r=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&o&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Fr(r)>this.options.velocity&&4&i.eventType},t.emit=function(i){var r=cg(i.offsetDirection);r&&this.manager.emit(this.options.event+r,i),this.manager.emit(this.options.event,i)},e}(So),Fh=function(n){function e(i){return void 0===i&&(i={}),n.call(this,Mn({event:"pinch",threshold:0,pointers:2},i))||this}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[bl]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||2&this.state)},t.emit=function(i){1!==i.scale&&(i.additionalEvent=this.options.event+(i.scale<1?"in":"out")),n.prototype.emit.call(this,i)},e}(So),hg=function(n){function e(i){return void 0===i&&(i={}),n.call(this,Mn({event:"rotate",threshold:0,pointers:2},i))||this}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return[bl]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||2&this.state)},e}(So),f0=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,Mn({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,r._input=null,r}Pn(e,n);var t=e.prototype;return t.getTouchAction=function(){return["auto"]},t.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,d=i.distance<o.threshold,f=i.deltaTime>o.time;if(this._input=i,!d||!s||12&i.eventType&&!f)this.reset();else if(1&i.eventType)this.reset(),this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.time);else if(4&i.eventType)return 8;return 32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){8===this.state&&(i&&4&i.eventType?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=_h(),this.manager.emit(this.options.event,this._input)))},e}(El),p0={domEvents:!1,touchAction:ec,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},v0=[[hg,{enable:!1}],[Fh,{enable:!1},["rotate"]],[dg,{direction:6}],[Rh,{direction:6},["swipe"]],[Ph],[Ph,{event:"doubletap",taps:2},["tap"]],[f0]];function g0(n,e){var t,i=n.element;i.style&&(ir(n.options.cssProps,function(r,o){t=yl(i.style,o),e?(n.oldCssProps[t]=i.style[t],i.style[t]=r):i.style[t]=n.oldCssProps[t]||""}),e||(n.oldCssProps={}))}var m0=function(){function n(t,i){var o=this;this.options=Eo({},p0,i||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(xh?Oh:l0?lc:wl?ug:oa))(this,mi),this.touchAction=new Ch(this,this.options.touchAction),g0(this,!0),ir(this.options.recognizers,function(s){var d=o.add(new s[0](s[1]));s[2]&&d.recognizeWith(s[2]),s[3]&&d.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(t){return Eo(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var i=this.session;if(!i.stopped){var r;this.touchAction.preventDefaults(t);var o=this.recognizers,s=i.curRecognizer;(!s||s&&8&s.state)&&(i.curRecognizer=null,s=null);for(var d=0;d<o.length;)r=o[d],2===i.stopped||s&&r!==s&&!r.canRecognizeWith(s)?r.reset():r.recognize(t),!s&&14&r.state&&(i.curRecognizer=r,s=r),d++}},e.get=function(t){if(t instanceof El)return t;for(var i=this.recognizers,r=0;r<i.length;r++)if(i[r].options.event===t)return i[r];return null},e.add=function(t){if(or(t,"add",this))return this;var i=this.get(t.options.event);return i&&this.remove(i),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(or(t,"remove",this))return this;var i=this.get(t);if(t){var r=this.recognizers,o=ra(r,i);-1!==o&&(r.splice(o,1),this.touchAction.update())}return this},e.on=function(t,i){if(void 0===t||void 0===i)return this;var r=this.handlers;return ir(nr(t),function(o){r[o]=r[o]||[],r[o].push(i)}),this},e.off=function(t,i){if(void 0===t)return this;var r=this.handlers;return ir(nr(t),function(o){i?r[o]&&r[o].splice(ra(r[o],i),1):delete r[o]}),this},e.emit=function(t,i){var s,d,f;this.options.domEvents&&(s=t,d=i,(f=document.createEvent("Event")).initEvent(s,!0,!0),f.gesture=d,d.target.dispatchEvent(f));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](i),o++}},e.destroy=function(){this.element&&g0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),y0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fg="touchstart",X1="touchstart touchmove touchend touchcancel",Q1=function(n){function e(){var t,i=e.prototype;return i.evTarget=fg,i.evWin=X1,(t=n.apply(this,arguments)||this).started=!1,t}return Pn(e,n),e.prototype.handler=function(t){var i=y0[t.type];if(1===i&&(this.started=!0),this.started){var r=b0.call(this,t,i);12&i&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:ta,srcEvent:t})}},e}(rr);function b0(n,e){var t=ac(n.touches),i=ac(n.changedTouches);return 12&e&&(t=lg(t.concat(i),"identifier",!0)),[t,i]}function _0(n,e,t){var i="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var r=new Error("get-stack-trace"),o=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),n.apply(this,arguments)}}var pg=_0(function(n,e,t){for(var i=Object.keys(e),r=0;r<i.length;)(!t||t&&void 0===n[i[r]])&&(n[i[r]]=e[i[r]]),r++;return n},"extend","Use `assign`."),w0=_0(function(n,e){return pg(n,e,!0)},"merge","Use `assign`.");function vg(n,e,t){var i,r=e.prototype;(i=n.prototype=Object.create(r)).constructor=n,i._super=r,t&&Eo(i,t)}function gg(n,e){return function(){return n.apply(e,arguments)}}var x0=function(){var n=function(e,t){return void 0===t&&(t={}),new m0(e,Mn({recognizers:v0.concat()},t))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=30,n.DIRECTION_DOWN=16,n.DIRECTION_LEFT=2,n.DIRECTION_RIGHT=4,n.DIRECTION_UP=8,n.DIRECTION_HORIZONTAL=6,n.DIRECTION_VERTICAL=24,n.DIRECTION_NONE=1,n.DIRECTION_DOWN=16,n.INPUT_START=1,n.INPUT_MOVE=2,n.INPUT_END=4,n.INPUT_CANCEL=8,n.STATE_POSSIBLE=1,n.STATE_BEGAN=2,n.STATE_CHANGED=4,n.STATE_ENDED=8,n.STATE_RECOGNIZED=8,n.STATE_CANCELLED=16,n.STATE_FAILED=32,n.Manager=m0,n.Input=rr,n.TouchAction=Ch,n.TouchInput=lc,n.MouseInput=oa,n.PointerEventInput=Oh,n.TouchMouseInput=ug,n.SingleTouchInput=Q1,n.Recognizer=El,n.AttrRecognizer=So,n.Tap=Ph,n.Pan=Rh,n.Swipe=dg,n.Pinch=Fh,n.Rotate=hg,n.Press=f0,n.on=nc,n.off=rc,n.each=ir,n.merge=w0,n.extend=pg,n.bindFn=gg,n.assign=Eo,n.inherit=vg,n.bindFn=gg,n.prefixed=yl,n.toArray=ac,n.inArray=ra,n.uniqueArray=lg,n.splitStr=nr,n.boolOrFn=ic,n.hasParent=Eh,n.addEventListeners=nc,n.removeEventListeners=rc,n.defaults=Eo({},p0,{preset:v0}),n}();function mg(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return To(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return To(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function To(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Rn(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ex(e.length?e:[fl()])}function ex(n){var e=function(){for(var f=tx(),x=f(" "),S=f(" "),I=f(" "),P=0;P<arguments.length;P++)(x-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(x+=1),(S-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(S+=1),(I-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(I+=1);return[x,S,I]}(n),t=qt(e,3),i=t[0],r=t[1],o=t[2],s=1,d=function(){var f=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=f-(s=0|f)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.algorithm="Alea",d.seed=n,d.version="0.9",d}function tx(){var n=4022871197;return function(e){for(var t=e.toString(),i=0;i<t.length;i++){var r=.02519603282416938*(n+=t.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)}}wo("DELETE");var yg=typeof window<"u"?window.Hammer||x0:function(){return function(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}()};function ar(n){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=yg(this._dom.overlay);i.on("tap",fe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Rt(r).call(r,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(s,d){for(;s;){if(s===d)return!0;s=s.parentNode}return!1})(o.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?"Escape"===o.key:27===o.keyCode)&&t.deactivate()}}ld(ar.prototype),ar.current=null,ar.prototype.destroy=function(){var n,e;this.deactivate();var t,i=mg(Ki(n=In(e=this._cleanupQueue).call(e,0)).call(n));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(r){i.e(r)}finally{i.f()}},ar.prototype.activate=function(){ar.current&&ar.current.deactivate(),ar.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},ar.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},ar.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};var bg=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ix=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,k0=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,nx=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function sr(n){if(n)for(;!0===n.hasChildNodes();){var e=n.firstChild;e&&(sr(e),n.removeChild(e))}}function aa(n){return n instanceof String||"string"==typeof n}function _g(n){return"object"===_t(n)&&null!==n}function Oo(n,e,t,i){var r=!1;!0===i&&(r=null===e[t]&&void 0!==n[t]),r?delete n[t]:n[t]=e[t]}function C0(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in n)if(void 0!==e[i])if(null===e[i]||"object"!==_t(e[i]))Oo(n,e,i,t);else{var r=n[i],o=e[i];_g(r)&&_g(o)&&C0(r,o,t)}}function Tl(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Et(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<n.length;r++){var o=n[r];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?Ft(e[o],t[o],!1,i):Oo(e,t,o,i);else{if(Et(t[o]))throw new TypeError("Arrays are not supported by deepExtend");Oo(e,t,o,i)}}return e}function cc(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Et(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!Qn(n).call(n,r))if(t[r]&&t[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Ft(e[r],t[r]):Oo(e,t,r,i);else if(Et(t[r])){e[r]=[];for(var o=0;o<t[r].length;o++)e[r].push(t[r][o])}else Oo(e,t,r,i);return e}function Ft(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===t)if("object"===_t(e[r])&&null!==e[r]&&zv(e[r])===Object.prototype)void 0===n[r]?n[r]=Ft({},e[r],t):"object"===_t(n[r])&&null!==n[r]&&zv(n[r])===Object.prototype?Ft(n[r],e[r],t):Oo(n,e,r,i);else if(Et(e[r])){var o;n[r]=ct(o=e[r]).call(o)}else Oo(n,e,r,i);return n}function dc(n,e){var t;return Nu(t=[]).call(t,On(n),[e])}function sa(n){return ct(n).call(n)}function pn(n){return n.getBoundingClientRect().top}function ut(n,e){if(Et(n))for(var t=n.length,i=0;i<t;i++)e(n[i],i,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}function Ah(n){var e;switch(n.length){case 3:case 4:return(e=ix.exec(n))?{r:Gi(e[1]+e[1],16),g:Gi(e[2]+e[2],16),b:Gi(e[3]+e[3],16)}:null;case 6:case 7:return(e=bg.exec(n))?{r:Gi(e[1],16),g:Gi(e[2],16),b:Gi(e[3],16)}:null;default:return null}}function ln(n,e){if(Qn(n).call(n,"rgba"))return n;if(Qn(n).call(n,"rgb")){var t=n.substr(mt(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var i=Ah(n);return null==i?n:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function wg(n,e,t){var i;return"#"+ct(i=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(i,1)}function $h(n,e){if(aa(n)){var t=n;if(Bh(t)){var i,r=ti(i=t.substr(4).substr(0,t.length-5).split(",")).call(i,function(S){return Gi(S)});t=wg(r[0],r[1],r[2])}if(!0===Yi(t)){var o=function(S){var I=Ah(S);if(!I)throw new TypeError("'".concat(S,"' is not a valid color."));return Ol(I.r,I.g,I.b)}(t),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},d={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},f=Lh(d.h,d.s,d.v),x=Lh(s.h,s.s,s.v);return{background:t,border:f,highlight:{background:x,border:f},hover:{background:x,border:f}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:n.background||e.background,border:n.border||e.border,highlight:aa(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:aa(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:aa(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:aa(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Ol(n,e,t){n/=255,e/=255,t/=255;var i=Math.min(n,Math.min(e,t)),r=Math.max(n,Math.max(e,t));return i===r?{h:0,s:0,v:i}:{h:60*((n===i?3:t===i?1:5)-(n===i?e-t:t===i?n-e:t-n)/(r-i))/360,s:(r-i)/r,v:r}}function Io(n,e,t){var i,r,o,s=Math.floor(6*n),d=6*n-s,f=t*(1-e),x=t*(1-d*e),S=t*(1-(1-d)*e);switch(s%6){case 0:i=t,r=S,o=f;break;case 1:i=x,r=t,o=f;break;case 2:i=f,r=t,o=S;break;case 3:i=f,r=x,o=t;break;case 4:i=S,r=f,o=t;break;case 5:i=t,r=f,o=x}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function Lh(n,e,t){var i=Io(n,e,t);return wg(i.r,i.g,i.b)}function Yi(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function Bh(n){return k0.test(n)}function rx(n){return nx.test(n)}function la(n){if(null===n||"object"!==_t(n))return null;if(n instanceof Element)return n;var e=Xo(n);for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&"object"==_t(n[t])&&(e[t]=la(n[t]));return e}function Fn(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(L){return null!=L},o=function(L){return null!==L&&"object"===_t(L)},s=function(L){for(var N in L)if(Object.prototype.hasOwnProperty.call(L,N))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(t))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var d=function(L,N,H){o(L[H])||(L[H]={});var Y=N[H],V=L[H];for(var K in Y)Object.prototype.hasOwnProperty.call(Y,K)&&(V[K]=Y[K])},f=e[t],S=o(i)&&!s(i)?i[t]:void 0,I=S?S.enabled:void 0;if(void 0!==f){if("boolean"==typeof f)return o(n[t])||(n[t]={}),void(n[t].enabled=f);if(null===f&&!o(n[t])){if(!r(S))return;n[t]=Xo(S)}if(o(f)){var P=!0;void 0!==f.enabled?P=f.enabled:void 0!==I&&(P=S.enabled),d(n,e,t),n[t].enabled=P}}}var xg={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function Do(n,e){var t;Et(e)||(e=[e]);var i,r=mg(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){t=o[e[0]];for(var s=1;s<e.length;s++)t&&(t=t[e[s]]);if(void 0!==t)break}}}catch(d){r.e(d)}finally{r.f()}return t}var Nh={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ox=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;be(this,n),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return we(n,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return Nh[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var i,r=this._isColorString(e);if(void 0!==r&&(e=r),!0===aa(e)){if(!0===Bh(e)){var o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===rx(e)){var s=e.substr(5).substr(0,e.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===Yi(e)){var d=Ah(e);i={r:d.r,g:d.g,b:d.b,a:1}}}else e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&(i={r:e.r,g:e.g,b:e.b,a:void 0!==e.a?e.a:"1.0"});if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ju(e));this._setColor(i,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=ze({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Rr(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=ze({},e)),this.color=e;var i=Ol(e.r,e.g,e.b),r=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(r*i.h),d=this.centerCoordinates.y+o*Math.cos(r*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=Ol(this.color.r,this.color.g,this.color.b);t.v=e/100;var i=Io(t.h,t.s,t.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=Ol(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-t.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Dn(i).call(i),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,i,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var d=this;this.opacityRange.onchange=function(){d._setOpacity(this.value)},this.opacityRange.oninput=function(){d._setOpacity(this.value)},this.brightnessRange.onchange=function(){d._setBrightness(this.value)},this.brightnessRange.oninput=function(){d._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=fe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=fe(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=fe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=fe(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new yg(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,i,r,o,s=this.colorPickerCanvas.clientWidth,d=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,s,d),this.centerCoordinates={x:.5*s,y:.5*d},this.r=.49*s;var f,x=2*Math.PI/360,S=1/this.r;for(r=0;r<360;r++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(x*r),i=this.centerCoordinates.y+o*Math.cos(x*r),f=Io(.002777777777777778*r,o*S,1),e.fillStyle="rgb("+f.r+","+f.g+","+f.b+")",e.fillRect(t-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,s,d)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,d=e.center.x-t.left-s,f=e.center.y-t.top-o,x=Math.atan2(d,f),S=.98*Math.min(Math.sqrt(d*d+f*f),s),I=Math.cos(x)*S+o,P=Math.sin(x)*S+s;this.colorPickerSelector.style.top=I-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=P-.5*this.colorPickerSelector.clientWidth+"px";var L=x/(2*Math.PI);L=L<0?L+1:L;var N=S/this.r,H=Ol(this.color.r,this.color.g,this.color.b);H.h=L,H.s=N;var Y=Io(H.h,H.s,H.v);Y.a=this.color.a,this.color=Y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();function zh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(zh.apply(void 0,On(ct(e).call(e,1)))),i}var kg,ax=function(){function n(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};be(this,n),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ze(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ox(r),this.wrapper=void 0}return we(n,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if("object"===_t(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Ai(e)&&(this.options.filter=Ai(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Ai(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Ai(this.options),t=0,i=!1;for(var r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,i=!1,"function"==typeof e?i=(i=e(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==e&&-1===mt(e).call(e,r)||(i=!0),!1!==i&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,i=0;i<e.length;i++){if(void 0===t[e[i]]){t=void 0;break}t=t[e[i]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return Rt(r).call(r,function(s){t.appendChild(s)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===i){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(zh("i","b",e))}else r.innerText=e+":";return r}},{key:"_makeDropdown",value:function(e,t,i){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var o=0;void 0!==t&&-1!==mt(e).call(e,t)&&(o=mt(e).call(e,t));for(var s=0;s<e.length;s++){var d=document.createElement("option");d.value=e[s],s===o&&(d.selected="selected"),d.innerText=e[s],r.appendChild(d)}var f=this;r.onchange=function(){f._update(this.value,i)};var x=this._makeLabel(i[i.length-1],i);this._makeItem(i,x,r)}},{key:"_makeRange",value:function(e,t,i){var r=e[0],o=e[1],s=e[2],d=e[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=o,f.max=s}catch{}f.step=d;var x="",S=0;if(void 0!==t){var I=1.2;t<0&&t*I<o?(f.min=Math.ceil(t*I),S=f.min,x="range increased"):t/I<o&&(f.min=Math.ceil(t/I),S=f.min,x="range increased"),t*I>s&&1!==s&&(f.max=Math.ceil(t*I),S=f.max,x="range increased"),f.value=t}else f.value=r;var P=document.createElement("input");P.className="vis-configuration vis-config-rangeinput",P.value=f.value;var L=this;f.onchange=function(){P.value=this.value,L._update(Number(this.value),i)},f.oninput=function(){P.value=this.value};var N=this._makeLabel(i[i.length-1],i),H=this._makeItem(i,N,f,P);""!==x&&this.popupHistory[H]!==S&&(this.popupHistory[H]=S,this._setupPopup(x,H))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Rr(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Rr(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,i){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"===_t(e)?t!==e.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));var o=this;r.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeTextInput",value:function(e,t,i){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:i,value:t});var o=this;r.onchange=function(){o._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeColorField",value:function(e,t,i){var r=this,o=e[1],s=document.createElement("div");"none"!==(t=void 0===t?o:t)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=void 0===t?o:t,s.onclick=function(){r._showColorPicker(t,s,i)};var d=this._makeLabel(i[i.length-1],i);this._makeItem(i,d,s)}},{key:"_showColorPicker",value:function(e,t,i){var r=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=s,r._update(s,i)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){r._showColorPicker(e,t,i)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=Ai(this.options),s=!1;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){r=!0;var f=e[d],x=dc(t,d);if("function"==typeof o&&!1===(r=o(d,t))&&!Et(f)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,r=this._handleObject(f,x,!0),this.allowCreation=!1===i),!1!==r){s=!0;var S=this._getValue(x);if(Et(f))this._handleArray(f,S,x);else if("string"==typeof f)this._makeTextInput(f,S,x);else if("boolean"==typeof f)this._makeCheckbox(f,S,x);else if(f instanceof Object){if(!this.hideOption(t,d,this.moduleOptions))if(void 0!==f.enabled){var I=dc(x,"enabled"),P=this._getValue(I);if(!0===P){var L=this._makeLabel(d,x,!0);this._makeItem(x,L),s=this._handleObject(f,x)||s}else this._makeCheckbox(f,P,x)}else{var N=this._makeLabel(d,x,!0);this._makeItem(x,N),s=this._handleObject(f,x)||s}}else console.error("dont know how to handle",f,d,x)}}return s}},{key:"_handleArray",value:function(e,t,i){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,i),e[1]!==t&&this.changedOptions.push({path:i,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(e,t){var i=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i;e="false"!==(e="true"===e||e)&&e;for(var o=0;o<t.length;o++)"global"!==t[o]&&(void 0===r[t[o]]&&(r[t[o]]={}),o!==t.length-1?r=r[t[o]]:r[t[o]]=e);return i}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(zh("pre","const options = "+Ju(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),n}(),sx=function(){function n(e,t){be(this,n),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return we(n,[{key:"setPosition",value:function(e,t){this.x=Gi(e),this.y=Gi(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,i=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,d=0;if("flip"==this.overflowMethod){var f=!1,x=!0;this.y-t<this.padding&&(x=!1),this.x+i>o-this.padding&&(f=!0),s=f?this.x-i:this.x,d=x?this.y-t:this.y}else(d=this.y-t)+t+this.padding>r&&(d=r-t-this.padding),d<this.padding&&(d=this.padding),(s=this.x)+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=d+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}(),hc=!1,ss="background: #FFeeee; color: #dd0000",lx=function(){function n(){be(this,n)}return we(n,null,[{key:"validate",value:function(e,t,i){hc=!1,kg=t;var r=t;return void 0!==i&&(r=t[i]),n.parse(e,r,[]),hc}},{key:"parse",value:function(e,t,i){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.check(r,e,t,i)}},{key:"check",value:function(e,t,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",s="object"===n.getType(t[e]));var d=i[o];s&&void 0!==d.__type__&&(d=d.__type__),n.checkFields(e,t,i,o,d,r)}else n.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,t,i,r,o,s){var d=function(S){console.error("%c"+S+n.printLocation(s,e),ss)},f=n.getType(t[e]),x=o[f];void 0!==x?"array"===n.getType(x)&&-1===mt(x).call(x,t[e])?(d('Invalid option detected in "'+e+'". Allowed values are:'+n.print(x)+' not "'+t[e]+'". '),hc=!0):"object"===f&&"__any__"!==r&&(s=dc(s,e),n.parse(t[e],i[r],s)):void 0===o.any&&(d('Invalid type received for "'+e+'". Expected: '+n.print(dt(o))+". Received ["+f+'] "'+t[e]+'"'),hc=!0)}},{key:"getType",value:function(e){var t=_t(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,t,i){var r,o=n.findInOptions(e,t,i,!1),s=n.findInOptions(e,kg,[],!0);r=void 0!==o.indexMatch?" in "+n.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+n.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+n.printLocation(o.path,e):". Did you mean one of these: "+n.print(dt(t))+n.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+r,ss),hc=!0}},{key:"findInOptions",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",d=[],f=e.toLowerCase(),x=void 0;for(var S in t){var I=void 0;if(void 0!==t[S].__type__&&!0===r){var P=n.findInOptions(e,t[S],dc(i,S));o>P.distance&&(s=P.closestMatch,d=P.path,o=P.distance,x=P.indexMatch)}else{var L;-1!==mt(L=S.toLowerCase()).call(L,f)&&(x=S),o>(I=n.levenshteinDistance(e,S))&&(s=S,d=sa(i),o=I)}}return{closestMatch:s,path:d,distance:o,indexMatch:x}}},{key:"printLocation",value:function(e,t){for(var r="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<e.length;o++){for(var s=0;s<o+1;s++)r+="  ";r+=e[o]+": {\n"}for(var d=0;d<e.length+1;d++)r+="  ";r+=t+"\n";for(var f=0;f<e.length+1;f++){for(var x=0;x<e.length-f;x++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return Ju(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var i,r,o=[];for(i=0;i<=t.length;i++)o[i]=[i];for(r=0;r<=e.length;r++)o[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=e.length;r++)o[i][r]=t.charAt(i-1)==e.charAt(r-1)?o[i-1][r-1]:Math.min(o[i-1][r-1]+1,Math.min(o[i][r-1]+1,o[i-1][r]+1));return o[t.length][e.length]}}]),n}(),E0=ar,ux=ax,ua=yg,Il=sx,jh=ss,Mo=lx;function S0(n){return ca=n,function(){var e={};if(ls=0,at=ca.charAt(0),Bt(),"strict"===Ve&&(e.strict=!0,Bt()),"graph"!==Ve&&"digraph"!==Ve||(e.type=Ve,Bt()),qi===Po&&(e.id=Ve,Bt()),"{"!=Ve)throw $i("Angle bracket { expected");if(Bt(),M0(e),"}"!=Ve)throw $i("Angle bracket } expected");if(Bt(),""!==Ve)throw $i("End of file expected");return Bt(),delete e.node,delete e.edge,delete e.graph,e}()}var Hh={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Vh=Xo(Hh);Vh.color="color.color",Vh.style="dashes";var Po=2,Eg={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ca="",ls=0,at="",Ve="",qi=0;function xi(){ls++,at=ca.charAt(ls)}function Ro(){return ca.charAt(ls+1)}function Sg(n){var e=n.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Fo(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dx(n,e,t){for(var i=e.split("."),r=n;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=t}}function O0(n,e){for(var t,i,r=null,o=[n],s=n;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(t=0,i=s.nodes.length;t<i;t++)if(e.id===s.nodes[t].id){r=s.nodes[t];break}for(r||(r={id:e.id},n.node&&(r.attr=Fo(r.attr,n.node))),t=o.length-1;t>=0;t--){var d,f=o[t];f.nodes||(f.nodes=[]),-1===mt(d=f.nodes).call(d,r)&&f.nodes.push(r)}e.attr&&(r.attr=Fo(r.attr,e.attr))}function I0(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=Fo({},n.edge);e.attr=Fo(t,e.attr)}}function D0(n,e,t,i,r){var o={from:e,to:t,type:i};return n.edge&&(o.attr=Fo({},n.edge)),o.attr=Fo(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function Bt(){for(qi=0,Ve="";" "===at||"\t"===at||"\n"===at||"\r"===at;)xi();do{var n=!1;if("#"===at){for(var e=ls-1;" "===ca.charAt(e)||"\t"===ca.charAt(e);)e--;if("\n"===ca.charAt(e)||""===ca.charAt(e)){for(;""!=at&&"\n"!=at;)xi();n=!0}}if("/"===at&&"/"===Ro()){for(;""!=at&&"\n"!=at;)xi();n=!0}if("/"===at&&"*"===Ro()){for(;""!=at;){if("*"===at&&"/"===Ro()){xi(),xi();break}xi()}n=!0}for(;" "===at||"\t"===at||"\n"===at||"\r"===at;)xi()}while(n);if(""!==at){var t=at+Ro();if(Eg[t])return qi=1,Ve=t,xi(),void xi();if(Eg[at])return qi=1,Ve=at,void xi();if(Sg(at)||"-"===at){for(Ve+=at,xi();Sg(at);)Ve+=at,xi();return"false"===Ve?Ve=!1:"true"===Ve?Ve=!0:isNaN(Number(Ve))||(Ve=Number(Ve)),void(qi=Po)}if('"'===at){for(xi();""!=at&&('"'!=at||'"'===at&&'"'===Ro());)'"'===at?(Ve+=at,xi()):"\\"===at&&"n"===Ro()?(Ve+="\n",xi()):Ve+=at,xi();if('"'!=at)throw $i('End of string " expected');return xi(),void(qi=Po)}for(qi=3;""!=at;)Ve+=at,xi();throw new SyntaxError('Syntax error in part "'+F0(Ve,30)+'"')}qi=1}function M0(n){for(;""!==Ve&&"}"!=Ve;)hx(n),";"===Ve&&Bt()}function hx(n){var r,e=P0(n);if(e)R0(n,e);else if(r=n,!("node"===Ve?(Bt(),r.node=fc(),"node"):"edge"===Ve?(Bt(),r.edge=fc(),"edge"):"graph"===Ve&&(Bt(),r.graph=fc(),"graph"))){if(qi!=Po)throw $i("Identifier expected");var i=Ve;if(Bt(),"="===Ve){if(Bt(),qi!=Po)throw $i("Identifier expected");n[i]=Ve,Bt()}else!function(r,o){var s={id:o},d=fc();d&&(s.attr=d),O0(r,s),R0(r,o)}(n,i)}}function P0(n){var e=null;if("subgraph"===Ve&&((e={}).type="subgraph",Bt(),qi===Po&&(e.id=Ve,Bt())),"{"===Ve){if(Bt(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,M0(e),"}"!=Ve)throw $i("Angle bracket } expected");Bt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function R0(n,e){for(;"->"===Ve||"--"===Ve;){var t,i=Ve;Bt();var r=P0(n);if(r)t=r;else{if(qi!=Po)throw $i("Identifier or subgraph expected");O0(n,{id:t=Ve}),Bt()}I0(n,D0(n,e,t,i,fc())),e=t}}function fc(){for(var n,e,t=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Ve;){for(Bt(),t={};""!==Ve&&"]"!=Ve;){if(qi!=Po)throw $i("Attribute name expected");var d=Ve;if(Bt(),"="!=Ve)throw $i("Equal sign = expected");if(Bt(),qi!=Po)throw $i("Attribute value expected");var f=Ve;"style"===d&&(f=i[f]),"arrowhead"===d&&(d="arrows",f={to:{enabled:!0,type:r[f]}}),"arrowtail"===d&&(d="arrows",f={from:{enabled:!0,type:r[f]}}),o.push({attr:t,name:d,value:f}),s.push(d),Bt(),","==Ve&&Bt()}if("]"!=Ve)throw $i("Bracket ] expected");Bt()}if(Qn(s).call(s,"dir")){var x={arrows:{}};for(n=0;n<o.length;n++)if("arrows"===o[n].name)if(null!=o[n].value.to)x.arrows.to=n;else{if(null==o[n].value.from)throw $i("Invalid value of arrows");x.arrows.from=n}else"dir"===o[n].name&&(x.dir=n);var S,I,P=o[x.dir].value;if(!Qn(s).call(s,"arrows"))if("both"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),x.arrows.to=o.length-1,o.push({attr:o[x.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),x.arrows.from=o.length-1;else if("forward"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),x.arrows.to=o.length-1;else if("back"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),x.arrows.from=o.length-1;else{if("none"!==P)throw $i('Invalid dir type "'+P+'"');o.push({attr:o[x.dir].attr,name:"arrows",value:""}),x.arrows.to=o.length-1}if("both"===P)x.arrows.to&&x.arrows.from?(o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:S=o[x.arrows.from].value.from.type}}},In(o).call(o,x.arrows.from,1)):x.arrows.to?o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:S="arrow"}}}:x.arrows.from&&(o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I="arrow"},from:{enabled:!0,type:S=o[x.arrows.from].value.from.type}}});else if("back"===P)x.arrows.to&&x.arrows.from?o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I=""},from:{enabled:!0,type:S=o[x.arrows.from].value.from.type}}}:x.arrows.to?(I="",S="arrow",x.arrows.from=x.arrows.to,o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:S}}}):x.arrows.from&&(o[x.arrows.to]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I=""},from:{enabled:!0,type:S=o[x.arrows.from].value.from.type}}}),o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{from:{enabled:!0,type:o[x.arrows.from].value.from.type}}};else if("none"===P){var L;o[L=x.arrows.to?x.arrows.to:x.arrows.from]={attr:o[L].attr,name:o[L].name,value:""}}else{if("forward"!==P)throw $i('Invalid dir type "'+P+'"');x.arrows.to&&x.arrows.from||x.arrows.to?o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:S=""}}}:x.arrows.from&&(I="arrow",S="",x.arrows.to=x.arrows.from,o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:S}}}),o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:o[x.arrows.to].value.to.type}}}}In(o).call(o,x.dir,1)}if(Qn(s).call(s,"penwidth")){var N=[];for(e=o.length,n=0;n<e;n++)"width"!==o[n].name&&("penwidth"===o[n].name&&(o[n].name="width"),N.push(o[n]));o=N}for(e=o.length,n=0;n<e;n++)dx(o[n].attr,o[n].name,o[n].value);return t}function $i(n){return new SyntaxError(n+', got "'+F0(Ve,30)+'" (char '+ls+")")}function F0(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function A0(n,e,t){for(var i=e.split("."),r=i.pop(),o=n,s=0;s<i.length;s++){var d=i[s];d in o||(o[d]={}),o=o[d]}return o[r]=t,n}function $0(n,e){var t={};for(var i in n)if(n.hasOwnProperty(i)){var r=e[i];Et(r)?Rt(r).call(r,function(o){A0(t,o,n[i])}):A0(t,"string"==typeof r?r:i,n[i])}return t}function Tg(n){var e,t=S0(n),i={nodes:[],edges:[],options:{}};if(t.nodes&&Rt(e=t.nodes).call(e,function(s){var d={id:s.id,label:String(s.label||s.id)};Fo(d,$0(s.attr,Hh)),d.image&&(d.shape="image"),i.nodes.push(d)}),t.edges){var r,o=function(s){var d={from:s.from,to:s.to};return Fo(d,$0(s.attr,Vh)),null==d.arrows&&"->"===s.type&&(d.arrows="to"),d};Rt(r=t.edges).call(r,function(s){var d,f,x,S,I,P,L;d=s.from instanceof Object?s.from.nodes:{id:s.from},f=s.to instanceof Object?s.to.nodes:{id:s.to},s.from instanceof Object&&s.from.edges&&Rt(x=s.from.edges).call(x,function(N){var H=o(N);i.edges.push(H)}),I=f,P=function(N,H){var Y=D0(i,N.id,H.id,s.type,s.attr),V=o(Y);i.edges.push(V)},Et(S=d)?Rt(S).call(S,function(N){Et(I)?Rt(I).call(I,function(H){P(N,H)}):P(N,I)}):Et(I)?Rt(I).call(I,function(N){P(S,N)}):P(S,I),s.to instanceof Object&&s.to.edges&&Rt(L=s.to.edges).call(L,function(N){var H=o(N);i.edges.push(H)})})}return t.attr&&(i.options=t.attr),i}var fx=Object.freeze({__proto__:null,parseDOT:S0,DOTToGraph:Tg});function Og(n,e){var t,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var r=n.edges,o=ti(r).call(r,function(s){var d={from:s.source,id:s.id,to:s.target};return null!=s.attributes&&(d.attributes=s.attributes),null!=s.label&&(d.label=s.label),null!=s.attributes&&null!=s.attributes.title&&(d.title=s.attributes.title),"Directed"===s.type&&(d.arrows="to"),s.color&&!1===i.edges.inheritColor&&(d.color=s.color),d});return{nodes:ti(t=n.nodes).call(t,function(s){var d={id:s.id,fixed:i.nodes.fixed&&null!=s.x&&null!=s.y};return null!=s.attributes&&(d.attributes=s.attributes),null!=s.label&&(d.label=s.label),null!=s.size&&(d.size=s.size),null!=s.attributes&&null!=s.attributes.title&&(d.title=s.attributes.title),null!=s.title&&(d.title=s.title),null!=s.x&&(d.x=s.x),null!=s.y&&(d.y=s.y),null!=s.color&&(d.color=!0===i.nodes.parseColor?s.color:{background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),d}),edges:o}}var L0=Object.freeze({__proto__:null,parseGephi:Og}),B0=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),px=function(){function n(){be(this,n),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return we(n,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var i=Math.floor(t/2),r=Math.floor(t/4),o=Math.floor(t/8),s=Math.floor(t/16),d=Math.floor(e/2),f=Math.floor(e/4),x=Math.floor(e/8),S=Math.floor(e/16);this.canvas.width=3*f,this.canvas.height=i,this.coordinates=[[0,0,d,i],[d,0,f,r],[d,r,x,o],[5*x,r,S,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var r=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,r[0],r[1],r[2],r[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,i,r,o,s){if(this.initialized())if(t>2){t*=.5;for(var d=0;t>2&&d<this.NUM_ITERATIONS;)t*=.5,d+=1;d>=this.NUM_ITERATIONS&&(d=this.NUM_ITERATIONS-1);var f=this.coordinates[d];e.drawImage(this.canvas,f[0],f[1],f[2],f[3],i,r,o,s)}else e.drawImage(this.image,i,r,o,s)}}]),n}(),N0=function(){function n(e){be(this,n),this.images={},this.imageBroken={},this.callback=e}return we(n,[{key:"_tryloadBrokenUrl",value:function(e,t,i){void 0!==e&&void 0!==i&&(void 0!==t?(i.image.onerror=function(){console.error("Could not load brokenImage:",t)},i.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var i=this,r=this.images[e];if(r)return r;var o=new px;return this.images[e]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),n}(),pc={exports:{}},vx=_e(function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),gx=Ye,j0=ni,Ig=vx,Wh=Object.isExtensible,H0=_e(function(){Wh(1)})||Ig?function(n){return!!gx(n)&&(!Ig||"ArrayBuffer"!=j0(n))&&(!Wh||Wh(n))}:Wh,mx=!_e(function(){return Object.isExtensible(Object.preventExtensions({}))}),yx=me,V0=Ee,vc=Ss,W0=Ye,Kh=ft,Dg=Pt.f,gc=Zs,K0=Dd,Mg=H0,bx=mx,G0=!1,Br=eo("meta"),Dl=0,Pg=function(n){Dg(n,Br,{value:{objectID:"O"+Dl++,weakData:{}}})},_x=pc.exports={enable:function(){_x.enable=function(){},G0=!0;var n=gc.f,e=V0([].splice),t={};t[Br]=1,n(t).length&&(gc.f=function(i){for(var r=n(i),o=0,s=r.length;o<s;o++)if(r[o]===Br){e(r,o,1);break}return r},yx({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:K0.f}))},fastKey:function(n,e){if(!W0(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!Kh(n,Br)){if(!Mg(n))return"F";if(!e)return"E";Pg(n)}return n[Br].objectID},getWeakData:function(n,e){if(!Kh(n,Br)){if(!Mg(n))return!0;if(!e)return!1;Pg(n)}return n[Br].weakData},onFreeze:function(n){return bx&&G0&&Mg(n)&&!Kh(n,Br)&&Pg(n),n}};vc[Br]=!0;var Rg=wn,U0=Qt,Y0=zt,wx=qr,Fg=cy,xx=Oi,da=et,Ag=Ys,mc=Ed,yc=Fp,q0=Q.TypeError,bc=function(n,e){this.stopped=n,this.result=e},Z0=bc.prototype,Gh=function(n,e,t){var i,r,o,s,d,f,x,I=!(!t||!t.AS_ENTRIES),P=!(!t||!t.IS_ITERATOR),L=!(!t||!t.INTERRUPTED),N=Rg(e,t&&t.that),H=function(V){return i&&yc(i,"normal",V),new bc(!0,V)},Y=function(V){return I?(Y0(V),L?N(V[0],V[1],H):N(V[0],V[1])):L?N(V,H):N(V)};if(P)i=n;else{if(!(r=mc(n)))throw q0(wx(n)+" is not iterable");if(Fg(r)){for(o=0,s=xx(n);s>o;o++)if((d=Y(n[o]))&&da(Z0,d))return d;return new bc(!1)}i=Ag(n,r)}for(f=i.next;!(x=U0(f,i)).done;){try{d=Y(x.value)}catch(V){yc(i,"throw",V)}if("object"==typeof d&&d&&da(Z0,d))return d}return new bc(!1)},kx=et,Cx=Q.TypeError,_c=function(n,e){if(kx(e,n))return n;throw Cx("Incorrect invocation")},Ex=me,Sx=Q,J0=pc.exports,Tx=_e,Ox=tn,$g=Gh,Lg=_c,Bg=De,Ix=Ye,Dx=co,X0=Pt.f,Q0=Yn.forEach,Ng=Qe,e_=kr.set,ha=kr.getterFor,Uh=function(n,e,t){var i,r=-1!==n.indexOf("Map"),o=-1!==n.indexOf("Weak"),s=r?"set":"add",d=Sx[n],f=d&&d.prototype,x={};if(Ng&&Bg(d)&&(o||f.forEach&&!Tx(function(){(new d).entries().next()}))){var S=(i=e(function(P,L){e_(Lg(P,S),{type:n,collection:new d}),null!=L&&$g(L,P[s],{that:P,AS_ENTRIES:r})})).prototype,I=ha(n);Q0(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var L="add"==P||"set"==P;!(P in f)||o&&"clear"==P||Ox(S,P,function(N,H){var Y=I(this).collection;if(!L&&o&&!Ix(N))return"get"==P&&void 0;var V=Y[P](0===N?0:N,H);return L?this:V})}),o||X0(S,"size",{configurable:!0,get:function(){return I(this).collection.size}})}else i=t.getConstructor(e,n,r,s),J0.enable();return Dx(i,n,!1,!0),x[n]=i,Ex({global:!0,forced:!0},x),o||t.setStrong(i,n,r),i},Mx=Ns,zg=function(n,e,t){for(var i in e)t&&t.unsafe&&n[i]?n[i]=e[i]:Mx(n,i,e[i],t);return n},Px=hi,Rx=Pt,t_=Qe,Yh=ot("species"),Fx=Pt.f,Ax=uo,i_=zg,qh=wn,jg=_c,$x=Gh,Lx=bd,wc=Qe,Ml=pc.exports.fastKey,Zh=kr.set,Hg=kr.getterFor,Pl={getConstructor:function(n,e,t,i){var r=n(function(x,S){jg(x,o),Zh(x,{type:e,index:Ax(null),first:void 0,last:void 0,size:0}),wc||(x.size=0),null!=S&&$x(S,x[i],{that:x,AS_ENTRIES:t})}),o=r.prototype,s=Hg(e),d=function(x,S,I){var P,L,N=s(x),H=f(x,S);return H?H.value=I:(N.last=H={index:L=Ml(S,!0),key:S,value:I,previous:P=N.last,next:void 0,removed:!1},N.first||(N.first=H),P&&(P.next=H),wc?N.size++:x.size++,"F"!==L&&(N.index[L]=H)),x},f=function(x,S){var I,P=s(x),L=Ml(S);if("F"!==L)return P.index[L];for(I=P.first;I;I=I.next)if(I.key==S)return I};return i_(o,{clear:function(){for(var x=s(this),S=x.index,I=x.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete S[I.index],I=I.next;x.first=x.last=void 0,wc?x.size=0:this.size=0},delete:function(x){var S=this,I=s(S),P=f(S,x);if(P){var L=P.next,N=P.previous;delete I.index[P.index],P.removed=!0,N&&(N.next=L),L&&(L.previous=N),I.first==P&&(I.first=L),I.last==P&&(I.last=N),wc?I.size--:S.size--}return!!P},forEach:function(x){for(var S,I=s(this),P=qh(x,arguments.length>1?arguments[1]:void 0);S=S?S.next:I.first;)for(P(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(x){return!!f(this,x)}}),i_(o,t?{get:function(x){var S=f(this,x);return S&&S.value},set:function(x,S){return d(this,0===x?0:x,S)}}:{add:function(x){return d(this,x=0===x?0:x,x)}}),wc&&Fx(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(n,e,t){var i=e+" Iterator",r=Hg(e),o=Hg(i);Lx(n,e,function(s,d){Zh(this,{type:i,target:s,state:r(s),kind:d,last:void 0})},function(){for(var s=o(this),d=s.kind,f=s.last;f&&f.removed;)f=f.previous;return s.target&&(s.last=f=f?f.next:s.state.first)?"keys"==d?{value:f.key,done:!1}:"values"==d?{value:f.value,done:!1}:{value:[f.key,f.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},t?"entries":"values",!t,!0),function(n){var e=Px(n);t_&&e&&!e[Yh]&&(0,Rx.f)(e,Yh,{configurable:!0,get:function(){return this}})}(e)}};Uh("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Pl);var lr=Fe.Map,n_=function(){function n(){be(this,n),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ze(this.options,this.defaultOptions)}return we(n,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===mt(t).call(t,i)&&this.add(i,e[i])}},{key:"clear",value:function(){this._groups=new lr,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(e);if(void 0===i&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var r=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[r]),this._groups.set(e,i)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[o],this._groups.set(e,i)}return i}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),n}();me({target:"Number",stat:!0},{isNaN:function(n){return n!=n}});var Vg=Fe.Number.isNaN,Nx=Q.isFinite;me({target:"Number",stat:!0},{isFinite:Number.isFinite||function(n){return"number"==typeof n&&Nx(n)}});var us=Fe.Number.isFinite,Jh=Yn.some;me({target:"Array",proto:!0,forced:!Mr("some")},{some:function(n){return Jh(this,n,arguments.length>1?arguments[1]:void 0)}});var r_=ci("Array").some,jx=et,Hx=r_,xc=Array.prototype,ki=Q,Wg=_e,Kx=ne,Kg=ph.trim,o_=Ee("".charAt),kc=ki.parseFloat,Gg=ki.Symbol,cs=Gg&&Gg.iterator,Xh=1/kc("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0||cs&&!Wg(function(){kc(Object(cs))})?function(n){var e=Kg(Kx(n)),t=kc(e);return 0===t&&"-"==o_(e,0)?-0:t}:kc;me({global:!0,forced:parseFloat!=Xh},{parseFloat:Xh});var ur=Fe.parseFloat,s_=Dd.f;me({target:"Object",stat:!0,forced:_e(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s_});var l_=Fe.Object;function Zg(n,e){var t=["node","edge","label"],i=!0,r=Do(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===_t(r)){if(-1===mt(t).call(t,n))throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");var o=Do(e,["chosen",n]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function Qh(n,e,t){if(n.width<=0||n.height<=0)return!1;if(void 0!==t){var i={x:e.x-t.x,y:e.y-t.y};if(0!==t.angle){var r=-t.angle;e={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else e=i}return n.left<e.x&&n.x+n.width>e.x&&n.top<e.y&&n.y+n.width>e.y}function ef(n){return"string"==typeof n&&""!==n}function Jg(n,e,t,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(n,e),d=Math.sin(e)*s,f=Math.cos(e)*s;f===s?(r+=s,o=i.y):d===s?(r=i.x,o-=s):(r+=f,o-=d)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-t):(r=i.x+t,o=i.y-.5*i.shape.height);return{x:r,y:o}}var u_=ci("Array").values,Gx=w,c_=ft,u=et,h=u_,p=Array.prototype,v={DOMTokenList:!0,NodeList:!0},k=function(n){var e=n.values;return n===p||u(p,n)&&e===p.values||c_(v,Gx(n))?h:e},O=function(){function n(e){be(this,n),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return we(n,[{key:"_add",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var r=t;void 0!==t&&""!==t||(r=" ");var o=this.measureText(r,i),s=ze({},k(o));s.text=t,s.width=o.width,s.mod=i,void 0!==t&&""!==t||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],i=0;if(void 0!==t.blocks)for(var r=0;r<t.blocks.length;r++){var o=t.blocks[r];i<o.height&&(i=o.height)}t.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,i=0;i<this.lines.length;i++){var r=this.lines[i];r.width>e&&(e=r.width),t+=r.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var i=this.lines[t];if(0!==i.blocks.length&&(t!==this.lines.length-1||0!==i.width)){var r={};ze(r,i),r.blocks=[];for(var o=void 0,s=[],d=0;d<i.blocks.length;d++){var f=i.blocks[d];0!==f.width?s.push(f):void 0===o&&(o=f)}0===s.length&&void 0!==o&&s.push(o),r.blocks=s,e.push(r)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),n}(),D={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},F=function(){function n(e){be(this,n),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return we(n,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=qt(this.prepareRegExp(e),2),s=r[1],d=r[0].test(this.text.substr(this.position,s));return d&&t&&(this.position+=s-1),d}},{key:"parseEndTag",value:function(e,t,i){var r=this.mod()===e;return!(!(r="mono"===e?r&&this.mono:r&&!this.mono)||!this.match(t)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,i;if(e instanceof RegExp)i=e,t=1;else{var r=D[e];i=void 0!==r?r:new RegExp(e),t=e.length}return[i,t]}}]),n}(),B=function(){function n(e,t,i,r){var o=this;be(this,n),this.ctx=e,this.parent=t,this.selected=i,this.hover=r,this.lines=new O(function(s,d){if(void 0===s)return 0;var f=o.parent.getFormattingValues(e,i,r,d),x=0;return""!==s&&(x=o.ctx.measureText(s).width),{width:x,values:f}})}return we(n,[{key:"process",value:function(e){if(!ef(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(e).split("\n"),r=i.length;if(t.multi)for(var o=0;o<r;o++){var s=this.splitBlocks(i[o],t.multi);if(void 0!==s)if(0!==s.length){if(t.maxWdt>0)for(var d=0;d<s.length;d++)this.splitStringIntoLines(s[d].text,s[d].mod,!0);else for(var S=0;S<s.length;S++)this.lines.append(s[S].text,s[S].mod);this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var L=0;L<r;L++)this.splitStringIntoLines(i[L]);else for(var N=0;N<r;N++)this.lines.newLine(i[N]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new F(e);t.position<t.text.length;){var r=t.text.charAt(t.position);t.parseWS(r)||/</.test(r)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||!!/&/.test(r)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)||t.add(r),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,i=new F(e),r=!0;i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||!!/\\/.test(d=s)&&(i.position<t.text.length+1&&(i.position++,d=t.text.charAt(i.position),/ \t/.test(d)?i.spacing=!0:(i.add(d),r=!1)),!0)||(r||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),r=!1),i.position++}var d;return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,t){var i=this.decodeMarkupSystem(t);return"none"===i?[{text:e,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(e):"html"===i?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",i=0;i<e.length;){var r=t+(""===t?"":" ")+e[i];if(this.overMaxWidth(r))break;t=r,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(ct(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var r=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");r.length>0;){var o=this.getLongestFit(r);if(0===o){var s=r[0],d=this.getLongestFitWord(s);this.lines.newLine(ct(s).call(s,0,d),t),r[0]=ct(s).call(s,d)}else{var f=o;" "===r[o-1]?o--:" "===r[f]&&f++;var x=ct(r).call(r,0,o).join("");o==r.length&&i?this.lines.append(x,t):this.lines.newLine(x,t),r=ct(r).call(r,f)}}}}]),n}(),z=["bold","ital","boldital","mono"],Z=function(){function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];be(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return we(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),ef(e.label)?this.labelDirty=!0:e.label=void 0,null!=e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===_t(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(e){var t=this;ut(z,function(i){t.fontOptions[i]={}}),n.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:ut(e,function(i,r){null!=i&&"object"!==_t(i)&&(t.fontOptions[r]=i)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Do(e,"widthConstraint");if("number"==typeof i)t.maxWdt=Number(i),t.minWdt=Number(i);else if("object"===_t(i)){var r=Do(e,["widthConstraint","maximum"]);"number"==typeof r&&(t.maxWdt=Number(r));var o=Do(e,["widthConstraint","minimum"]);"number"==typeof o&&(t.minWdt=Number(o))}var s=Do(e,"heightConstraint");if("number"==typeof s)t.minHgt=Number(s);else if("object"===_t(s)){var d=Do(e,["heightConstraint","minimum"]);"number"==typeof d&&(t.minHgt=Number(d));var f=Do(e,["heightConstraint","valign"]);"string"==typeof f&&("top"!==f&&"bottom"!==f||(t.valign=f))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Ft(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Zg("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e?e.top+e.bottom:0)}},{key:"addFontOptionsToPile",value:function(e,t){for(var i=0;i<t.length;++i)this.addFontToPile(e,t[i])}},{key:"addFontToPile",value:function(e,t){void 0!==t&&null!=t.font&&e.push(t.font)}},{key:"getBasicOptions",value:function(e){for(var t={},i=0;i<e.length;++i){var r=e[i],o={};n.parseFontString(o,r)&&(r=o),ut(r,function(s,d){void 0!==s&&(Object.prototype.hasOwnProperty.call(t,d)||(t[d]=-1!==mt(z).call(z,d)?{}:s))})}return t}},{key:"getFontOption",value:function(e,t,i){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,t)){if(null==(r=s[t]))continue;var d={};if(n.parseFontString(d,r)&&(r=d),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var i={},r=["color","size","face","mod","vadjust"],o=0;o<r.length;++o){var s=r[o];i[s]=this.getFontOption(e,t,s)}return i}},{key:"propagateFonts",value:function(e){var t=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var r=function(s){var d=z[s],f=t.fontOptions[d];ut(t.getFontOptions(i,d),function(x,S){f[S]=x}),f.size=Number(f.size),f.vadjust=Number(f.vadjust)},o=0;o<z.length;++o)r(o)}},{key:"draw",value:function(e,t,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var d=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&d<this.elementOptions.scaling.label.drawThreshold-1||(d>=this.elementOptions.scaling.label.maxVisible&&(d=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,r,o,t,i,s),this._drawBackground(e),this._drawText(e,t,this.size.yLine,s,d))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,i){var o=arguments.length>4?arguments[4]:void 0,d=qt(this._setAlignment(e,t,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),2);t=d[0],i=d[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var f=0;f<this.lineCount;f++){var x=this.lines[f];if(x&&x.blocks){var S=0;this.isEdgeLabel||"center"===this.fontOptions.align?S+=(this.size.width-x.width)/2:"right"===this.fontOptions.align&&(S+=this.size.width-x.width);for(var I=0;I<x.blocks.length;I++){var P=x.blocks[I];e.font=P.font;var N=qt(this._getColor(P.color,o,P.strokeColor),2),H=N[0],Y=N[1];P.strokeWidth>0&&(e.lineWidth=P.strokeWidth,e.strokeStyle=Y,e.lineJoin="round"),e.fillStyle=H,P.strokeWidth>0&&e.strokeText(P.text,t+S,i+P.vadjust),e.fillText(P.text,t+S,i+P.vadjust),S+=P.width}i+=x.height}}}},{key:"_setAlignment",value:function(e,t,i,r){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,i=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",i+=4):e.textBaseline="middle"):e.textBaseline=r,[t,i]}},{key:"_getColor",value:function(e,t,i){var r=e||"#000000",o=i||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));r=ln(r,s),o=ln(o,s)}return[r,o]}},{key:"getTextSize",value:function(e){return this._processLabel(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=i,t=.5*-this.size.height;break;case"top":e=i,t=-(this.size.height+2);break;case"bottom":e=i,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,i),this.size.left=r-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,i,r){var o=function(f,x,S){return"normal"===x?"mod"===S?"":f[S]:void 0!==f[x][S]?f[x][S]:f[S]},s={color:o(this.fontOptions,r,"color"),size:o(this.fontOptions,r,"size"),face:o(this.fontOptions,r,"face"),mod:o(this.fontOptions,r,"mod"),vadjust:o(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||i)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,t,i));var d="";return void 0!==s.mod&&""!==s.mod&&(d+=s.mod+" "),e.font=(d+=s.size+"px "+s.face).replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,i,r){return new B(e,this,t,i).process(r)}},{key:"_processLabel",value:function(e,t,i){if(!1!==this.labelDirty||this.differentState(t,i)){var r=this._processLabelText(e,t,i,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=t,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var i=t.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),n}(),q=Gs,de=qr,ye=Q.TypeError,Te=me,Se=Xi,Re=Rs,Ie=function(n){if(q(n))return n;throw ye(de(n)+" is not a constructor")},Je=zt,St=Ye,wt=uo,At=_e,vn=hi("Reflect","construct"),un=Object.prototype,Jt=[].push,Ci=At(function(){function n(){}return!(vn(function(){},[],n)instanceof n)}),Li=!At(function(){vn(function(){})}),fa=Ci||Li;Te({target:"Reflect",stat:!0,forced:fa,sham:fa},{construct:function(n,e){Ie(n),Je(e);var t=arguments.length<3?n:Ie(arguments[2]);if(Li&&!Ci)return vn(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var i=[null];return Se(Jt,i,e),new(Se(Re,n,i))}var r=t.prototype,o=wt(St(r)?r:un),s=Se(n,o,e);return St(s)?s:o}});var oe=Fe.Reflect.construct,ds=Qv;me({target:"Object",stat:!0},{setPrototypeOf:mu});var tf=Fe.Object.setPrototypeOf;function Cc(n,e){return(Cc=tf||function(t,i){return t.__proto__=i,t})(n,e)}function vt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=ds(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),th(n,"prototype",{writable:!1}),e&&Cc(n,e)}function se(n,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}var he=Lb;function ue(n){return(ue=tf?he:function(e){return e.__proto__||he(e)})(n)}var Xe=function(){function n(e,t,i){be(this,n),this.body=t,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return we(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==_t(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var i=t.borderDashes;!0===i&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){e.lineWidth=Math.min(this.width,t.borderWidth/this.body.view.scale),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Dn(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,i,r,o){void 0!==i&&this.resize(i,r,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,i,r,o){this._updateBoundingBox(e,t,i,r,o)}},{key:"getDimensionsFromLabel",value:function(e,t,i){this.textSize=this.labelModule.getTextSize(e,t,i);var r=this.textSize.width,o=this.textSize.height;return 0===r&&(r=14,o=14),{width:r,height:o}}}]),n}();var Xt=function(n){vt(t,n);var e=function Me(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,f),cu(i,this.left,this.top,this.width,this.height,f.borderRadius),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d)}},{key:"updateBoundingBox",value:function(i,r,o,s,d){this._updateBoundingBox(i,r,o,s,d),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+o}}]),t}(Xe);var Nt=function(n){vt(t,n);var e=function gt(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o)).labelOffset=0,s.selected=!1,s}return we(t,[{key:"setOptions",value:function(i,r,o){this.options=i,void 0===r&&void 0===o||this.setImages(r,o)}},{key:"setImages",value:function(i,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=r)}},{key:"switchImages",value:function(i){var r=i&&!this.selected||!i&&this.selected;if(this.selected=i,void 0!==this.imageObjAlt&&r){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var r=this.options.imagePadding;"object"==_t(r)?(i.top=r.top,i.right=r.right,i.bottom=r.bottom,i.left=r.left):(i.top=r,i.right=r,i.bottom=r,i.left=r)}return i}},{key:"_resizeImage",value:function(){var i,r;if(!1===this.options.shapeProperties.useImageSize){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),i=2*this.options.size*o,r=2*this.options.size*s}else{var d=this._getImagePadding();i=this.imageObj.width+d.left+d.right,r=this.imageObj.height+d.top+d.bottom}this.width=i,this.height=r,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,r,o,s){this.initContextForDraw(i,s),sd(i,r,o,s.size),this.performFill(i,s)}},{key:"_drawImageAtPosition",value:function(i,r){if(0!=this.imageObj.width){i.globalAlpha=void 0!==r.opacity?r.opacity:1,this.enableShadow(i,r);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding();this.imageObj.drawImageAtPosition(i,o,this.left+s.left,this.top+s.top,this.width-s.left-s.right,this.height-s.top-s.bottom),this.disableShadow(i,r)}}},{key:"_drawImageLabel",value:function(i,r,o,s,d){var f=0;if(void 0!==this.height){f=.5*this.height;var x=this.labelModule.getTextSize(i,s,d);x.lineCount>=1&&(f+=x.height/2)}var S=o+f;this.options.label&&(this.labelOffset=f),this.labelModule.draw(i,r,S,s,d,"hanging")}}]),t}(Xe);var kt=function(n){vt(t,n);var e=function An(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o),d=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=d/2,this.width=d,this.height=d,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this._drawRawCircle(i,r,o,f),this.updateBoundingBox(r,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,o,s,d)}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}(Nt);var cn=function(n){vt(t,n);var e=function Mi(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d){var f;return be(this,t),(f=e.call(this,i,r,o)).setImages(s,d),f}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var d=2*this.options.size;return this.width=d,this.height=d,void(this.radius=.5*this.width)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,d,f){this.switchImages(s),this.resize();var x=r,S=o;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,x+=this.width/2,S+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),this._drawRawCircle(i,x,S,f),i.save(),i.clip(),this._drawImageAtPosition(i,f),i.restore(),this._drawImageLabel(i,x,S,s,d),this.updateBoundingBox(r,o)}},{key:"updateBoundingBox",value:function(i,r){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=r,this.boundingBox.left=i,this.boundingBox.right=i+2*this.options.size,this.boundingBox.bottom=r+2*this.options.size):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}(Nt);var Ei=function(n){vt(t,n);var e=function hs(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,o)){var d,f;this.labelModule.getTextSize(i,r,o);var x=2*s.size;this.width=null!==(d=this.customSizeWidth)&&void 0!==d?d:x,this.height=null!==(f=this.customSizeHeight)&&void 0!==f?f:x,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,r,o,s,d,f,x,S){var I,P=this;return this.resize(i,f,x,S),this.left=s-this.width/2,this.top=d-this.height/2,this.initContextForDraw(i,S),(I=r,Object.prototype.hasOwnProperty.call(wr,I)?wr[I]:function(L){for(var N=arguments.length,H=new Array(N>1?N-1:0),Y=1;Y<N;Y++)H[Y-1]=arguments[Y];CanvasRenderingContext2D.prototype[I].call(L,H)})(i,s,d,S.size),this.performFill(i,S),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(i.font=(f?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,s,d)),{drawExternalLabel:function(){void 0!==P.options.label&&(P.labelModule.calculateLabelSize(i,f,x,s,d,"hanging"),P.labelModule.draw(i,s,d+.5*P.height+.5*P.labelModule.size.height,f,x,"hanging")),P.updateBoundingBox(s,d)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(Xe);function Nr(n,e){var t=dt(n);if(Zo){var i=Zo(n);e&&(i=Ai(i).call(i,function(r){return Fi(n,r).enumerable})),t.push.apply(t,i)}return t}function Rl(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Rt(t=Nr(Object(r),!0)).call(t,function(o){sl(n,o,r[o])}):Tn?Ja(n,Tn(r)):Rt(i=Nr(Object(r))).call(i,function(o){Fu(n,o,Fi(r,o))})}return n}var d_=function(n){vt(t,n);var e=function Ak(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s){var d;return be(this,t),(d=e.call(this,i,r,o,s)).ctxRenderer=s,d}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d,f),this.left=r-this.width/2,this.top=o-this.height/2,i.save();var x=this.ctxRenderer({ctx:i,id:this.options.id,x:r,y:o,state:{selected:s,hover:d},style:Rl({},f),label:this.options.label});if(null!=x.drawNode&&x.drawNode(),i.restore(),x.drawExternalLabel){var S=x.drawExternalLabel;x.drawExternalLabel=function(){i.save(),S(),i.restore()}}return x.nodeDimensions&&(this.customSizeWidth=x.nodeDimensions.width,this.customSizeHeight=x.nodeDimensions.height),x}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var h_=function(n){vt(t,n);var e=function fs(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return we(t,[{key:"resize",value:function(i,r,o){if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,f),dp(i,r-this.width/2,o-this.height/2,this.width,this.height),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Xe);var QC=function(n){vt(t,n);var e=function Ec(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"diamond",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var Ux=function(n){vt(t,n);var e=function $k(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"circle",2,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),t}(Ei);var Bk=function(n){vt(t,n);var e=function Lk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(i,f),kn(i,this.left,this.top,this.width,this.height),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,r,o,s,d)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=.5*this.width,s=.5*this.height,d=Math.sin(r)*o,f=Math.cos(r)*s;return o*s/Math.sqrt(d*d+f*f)}}]),t}(Xe);var Yx=function(n){vt(t,n);var e=function f_(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return we(t,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,d,f){var x=this;return this.resize(i,s,d),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=o-this.height/2,this._icon(i,r,o,s,d,f),{drawExternalLabel:function(){void 0!==x.options.label&&x.labelModule.draw(i,x.left+x.iconSize.width/2+x.margin.left,o+x.height/2+5,s),x.updateBoundingBox(r,o)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-.5*this.options.icon.size,this.boundingBox.left=i-.5*this.options.icon.size,this.boundingBox.right=i+.5*this.options.icon.size,this.boundingBox.bottom=r+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(i,r,o,s,d,f){var x=Number(this.options.icon.size);void 0!==this.options.icon.code?(i.font=[null!=this.options.icon.weight?this.options.icon.weight:s?"bold":"",(null!=this.options.icon.weight&&s?5:0)+x+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,f),i.fillText(this.options.icon.code,r,o),this.disableShadow(i,f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Xe);var eE=function(n){vt(t,n);var e=function Nk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d){var f;return be(this,t),(f=e.call(this,i,r,o)).setImages(s,d),f}return we(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var d=2*this.options.size;return this.width=d,void(this.height=d)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,d,f){i.save(),this.switchImages(s),this.resize();var x=r,S=o;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,x+=this.width/2,S+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){i.lineWidth=Math.min(this.width,(s?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),i.beginPath();var N=s?this.options.color.highlight.border:d?this.options.color.hover.border:this.options.color.border,H=s?this.options.color.highlight.background:d?this.options.color.hover.background:this.options.color.background;void 0!==f.opacity&&(N=ln(N,f.opacity),H=ln(H,f.opacity)),i.strokeStyle=N,i.fillStyle=H,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Dn(i).call(i),this.performStroke(i,f),i.closePath()}this._drawImageAtPosition(i,f),this._drawImageLabel(i,x,S,s,d),this.updateBoundingBox(r,o),i.restore()}},{key:"updateBoundingBox",value:function(i,r){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=r):(this.left=i-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Nt);var tE=function(n){vt(t,n);var e=function zk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"square",2,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var nE=function(n){vt(t,n);var e=function iE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"hexagon",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var oE=function(n){vt(t,n);var e=function rE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"star",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var Qg=function(n){vt(t,n);var e=function Xg(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return we(t,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.textSize=this.labelModule.getTextSize(i,r,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.enableShadow(i,f),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d),this.disableShadow(i,f),this.updateBoundingBox(r,o,i,s,d)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Xe);var jk=function(n){vt(t,n);var e=function em(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"triangle",3,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);var Sc=function(n){vt(t,n);var e=function nf(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"triangleDown",3,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Ei);function Hk(n,e){var t=dt(n);if(Zo){var i=Zo(n);e&&(i=Ai(i).call(i,function(r){return Fi(n,r).enumerable})),t.push.apply(t,i)}return t}function Vk(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Rt(t=Hk(Object(r),!0)).call(t,function(o){sl(n,o,r[o])}):Tn?Ja(n,Tn(r)):Rt(i=Hk(Object(r))).call(i,function(o){Fu(n,o,Fi(r,o))})}return n}var $n=function(){function n(e,t,i,r,o,s){be(this,n),this.options=la(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Z(this.body,this.options,!1),this.setOptions(e)}return we(n,[{key:"attachEdge",value:function(e){var t;-1===mt(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,i,r=mt(t=this.edges).call(t,e);-1!=r&&In(i=this.edges).call(i,r,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return n.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Gi(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Gi(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=ur(e.value)),n.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=Zg("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&n.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=ln(e.borderColor,t),e.color=ln(e.color,t),e.shadowColor=ln(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),n.updateGroupOptions(this.options,Vk(Vk({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,t,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Xt(this.options,this.body,this.labelModule);break;case"circle":this.shape=new kt(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new cn(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new d_(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new h_(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new QC(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Ux(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Bk(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Yx(this.options,this.body,this.labelModule);break;case"image":this.shape=new eE(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new tE(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new nE(this.options,this.body,this.labelModule);break;case"star":this.shape=new oE(this.options,this.body,this.labelModule);break;case"text":this.shape=new Qg(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new jk(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Sc(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+r*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&Qh(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Qh(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(e,t,i){var r;if(void 0!==i){var o=e.group;if(void 0!==t&&void 0!==t.group&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===t.opacity&&(n.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var d=Ai(r=function(n){return l_.getOwnPropertyNames(n)}(t)).call(r,function(f){return null!=t[f]});d.push("font"),cc(d,e,s),e.color=$h(e.color)}}}},{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(cc(["color","fixed","shadow"],e,t,i),n.checkMass(t),void 0!==e.opacity&&(n.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==t.opacity&&(n.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!n.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Fn(e,t,"shadow",r),null!=t.color){var d=$h(t.color);C0(e.color,d)}else!0===i&&null===t.color&&(e.color=la(r.color));null!=t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),!0===i&&null===t.font&&(e.font=la(r.font)),n.updateGroupOptions(e,t,o),void 0!==t.scaling&&Fn(e.scaling,t.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var i="";void 0!==t&&(i=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",jh),e.mass=1}}}]),n}();function qx(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var tm=function(){function n(e,t,i,r){var o,s=this;if(be(this,n),this.body=e,this.images=t,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=fe(o=this.create).call(o,this),this.nodesListeners={add:function(d,f){s.add(f.items)},update:function(d,f){s.update(f.items,f.data,f.oldData)},remove:function(d,f){s.remove(f.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,f,x,S){return f===d?.5:Math.max(0,1/(f-d)*(S-d))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=la(this.defaultOptions),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("refreshNodes",fe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",fe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){ut(i.nodesListeners,function(r,o){i.body.data.nodes&&i.body.data.nodes.off(o,r)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if($n.parseOptions(this.options,e),void 0!==e.opacity&&(Vg(e.opacity)||!us(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var i=0,r=dt(this.body.nodes);i<r.length;i++){var o=r[i];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(void 0!==e.size)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(yi.isDataViewLike("id",e))this.body.data.nodes=e;else if(Et(e))this.body.data.nodes=new yi.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new yi.DataSet}if(i&&ut(this.nodesListeners,function(s,d){i.off(d,s)}),this.body.nodes={},this.body.data.nodes){var r=this;ut(this.nodesListeners,function(s,d){r.body.data.nodes.on(d,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=0;o<e.length;o++){var s=this.body.data.nodes.get(t=e[o]),d=this.create(s);r.push(d),this.body.nodes[t]=d}this.layoutEngine.positionInitially(r),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,i){for(var r=this.body.nodes,o=!1,s=0;s<e.length;s++){var d=e[s],f=r[d],x=t[s];void 0!==f?f.setOptions(x)&&(o=!0):(o=!0,f=this.create(x),r[d]=f)}o||void 0===i||(o=function(n){var e=n.some;return n===xc||jx(xc,n)&&e===xc.some?Hx:e}(t).call(t,function(S,I){var P=i[I];return P&&P.level!==S.level})),this.body.emitter.emit(!0===o?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,i=0;i<e.length;i++)delete t[e[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ut(this.body.nodes,function(i,r){var o=e.body.data.nodes.get(r);void 0!==o&&(!0===t&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Et(e)){for(var i=0;i<e.length;i++)if(void 0!==this.body.nodes[e[i]]){var r=this.body.nodes[e[i]];t[e[i]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[e]){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var d=this.body.nodes[this.body.nodeIndices[s]];t[this.body.nodeIndices[s]]={x:Math.round(d.x),y:Math.round(d.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],i=this.body.data.nodes.getDataSet(),r=function Wk(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return qx(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return qx(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(i.get());try{for(r.s();!(e=r.n()).done;){var o=e.value,s=o.id,d=this.body.nodes[s],f=Math.round(d.x),x=Math.round(d.y);o.x===f&&o.y===x||t.push({id:s,x:f,y:x})}}catch(S){r.e(S)}finally{r.f()}i.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var i=[];if(void 0!==this.body.nodes[e])for(var r=this.body.nodes[e],o={},s=0;s<r.edges.length;s++){var d=r.edges[s];"to"!==t&&d.toId==r.id?void 0===o[d.fromId]&&(i.push(d.fromId),o[d.fromId]=!0):"from"!==t&&d.fromId==r.id&&void 0===o[d.toId]&&(i.push(d.toId),o[d.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],r=0;r<i.edges.length;r++)t.push(i.edges[r].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,i){var r=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(i),Rr(function(){r.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),n}(),p_=ft,aE=Qt,sE=Ye,Zx=zt,lE=function(n){return void 0!==n&&(p_(n,"value")||p_(n,"writable"))},uE=Ot,cE=Ko;me({target:"Reflect",stat:!0},{get:function n(e,t){var i,r,o=arguments.length<3?e:arguments[2];return Zx(e)===o?e[t]:(i=uE.f(e,t))?lE(i)?i.value:void 0===i.get?void 0:aE(i.get,o):sE(r=cE(e))?n(r,t,o):void 0}});var Kk=Fe.Reflect.get,Jx=Sn;function dE(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ue(n)););return n}function v_(){return v_=typeof Reflect<"u"&&Kk?Kk:function(n,e,t){var i=dE(n,e);if(i){var r=Jx(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},v_.apply(this,arguments)}var Uk=Math.hypot,hE=Math.abs,Yk=Math.sqrt;me({target:"Math",stat:!0,forced:!!Uk&&Uk(1/0,NaN)!==1/0},{hypot:function(n,e){for(var t,i,r=0,o=0,s=arguments.length,d=0;o<s;)d<(t=hE(arguments[o++]))?(r=r*(i=d/t)*i+1,d=t):r+=t>0?(i=t/d)*i:t;return d===1/0?1/0:d*Yk(r)}});var fE=Fe.Math.hypot;function Tc(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}var ii=function(){function n(){be(this,n)}return we(n,null,[{key:"transform",value:function(e,t){Et(e)||(e=[e]);for(var i=t.point.x,r=t.point.y,o=t.angle,s=t.length,d=0;d<e.length;++d){var f=e[d],x=f.x*Math.cos(o)-f.y*Math.sin(o),S=f.x*Math.sin(o)+f.y*Math.cos(o);f.x=i+s*x,f.y=r+s*S}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.closePath()}}]),n}(),zr=function(n){vt(t,n);var e=Tc(t);function t(){return be(this,t),e.apply(this,arguments)}return we(t,null,[{key:"draw",value:function(i,r){if(r.image){i.save(),i.translate(r.point.x,r.point.y),i.rotate(Math.PI/2+r.angle);var o=null!=r.imageWidth?r.imageWidth:r.image.width;r.image.drawImageAtPosition(i,1,-o/2,0,o,null!=r.imageHeight?r.imageHeight:r.image.height),i.restore()}return!1}}]),t}(ii),rf=function(n){vt(t,n);var e=Tc(t);function t(){return be(this,t),e.apply(this,arguments)}return we(t,null,[{key:"draw",value:function(i,r){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return ii.transform(o,r),ii.drawPath(i,o),!0}}]),t}(ii),Fl=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),ps=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};ii.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=t.angle-r/2,s=t.angle+r/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),n}(),im=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i={x:-.3,y:0};ii.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=t.angle+r/2,s=t.angle+3*r/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),n}(),pa=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),pE=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),vE=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};return ii.transform(i,t),sd(e,i.x,i.y,.4*t.length),!0}}]),n}(),g_=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),qk=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),nm=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),Xx=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return ii.transform(i,t),ii.drawPath(e,i),!0}}]),n}(),Oc=function(){function n(){be(this,n)}return we(n,null,[{key:"draw",value:function(e,t){var i;switch(t.type&&(i=t.type.toLowerCase()),i){case"image":return zr.draw(e,t);case"circle":return vE.draw(e,t);case"box":return qk.draw(e,t);case"crow":return Fl.draw(e,t);case"curve":return ps.draw(e,t);case"diamond":return nm.draw(e,t);case"inv_curve":return im.draw(e,t);case"triangle":return pa.draw(e,t);case"inv_triangle":return pE.draw(e,t);case"bar":return g_.draw(e,t);case"vee":return Xx.draw(e,t);default:return rf.draw(e,t)}}}]),n}();function Qx(n,e){var t=dt(n);if(Zo){var i=Zo(n);e&&(i=Ai(i).call(i,function(r){return Fi(n,r).enumerable})),t.push.apply(t,i)}return t}function m_(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Rt(t=Qx(Object(r),!0)).call(t,function(o){sl(n,o,r[o])}):Tn?Ja(n,Tn(r)):Rt(i=Qx(Object(r))).call(i,function(o){Fu(n,o,Fi(r,o))})}return n}var ek=function(){function n(e,t,i){be(this,n),this._body=t,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return we(n,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,i,r,o){if(this.from!=this.to)this._line(e,t,i,r,o);else{var s=qt(this._getCircleData(e),3);this._circle(e,t,s[0],s[1],s[2])}}},{key:"_drawDashedLine",value:function(e,t,i,r,o){e.lineCap="round";var s=Et(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,i);else{var d=qt(this._getCircleData(e),3);this._circle(e,t,d[0],d[1],d[2])}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Fs(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var I=qt(this._getCircleData(e),3);this._circle(e,t,I[0],I[1],I[2])}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,i){return this.from!=this.to?this._findBorderPosition(e,t,i):this._findBorderPositionCircle(e,t,i)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,i=qt(ct(t=this._getCircleData(e)).call(t,0,2),2),r=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var i=Jg(e,this.options.selfReference.angle,t,this.from);return[i.x,i.y,t]}},{key:"_pointOnCircle",value:function(e,t,i,r){var o=2*r*Math.PI;return{x:e+i*Math.cos(o),y:t-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,i){var r,o=i.x,s=i.y,d=i.low,f=i.high,x=i.direction,S=this.options.selfReference.size,I=.5*(d+f),P=0;!0===this.options.arrowStrikethrough&&(-1===x?P=this.options.endPointOffset.from:1===x&&(P=this.options.endPointOffset.to));var L=0;do{r=this._pointOnCircle(o,s,S,I=.5*(d+f));var N=Math.atan2(e.y-r.y,e.x-r.x),H=e.distanceToBorder(t,N)+P-Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));if(Math.abs(H)<.05)break;H>0?x>0?d=I:f=I:x>0?f=I:d=I,++L}while(d<=f&&L<10);return m_(m_({},r),{},{t:I})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=ln(this.from.options.color.border,t.opacity),o=ln(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),i.addColorStop(0,r),i.addColorStop(1,o),i}return ln("to"===t.inheritsColor?this.to.options.color.border:this.from.options.color.border,t.opacity)}return ln(t.color,t.opacity)}},{key:"_circle",value:function(e,t,i,r,o){this.enableShadow(e,t);var s=0,d=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var f=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:f,high:x,direction:-1}),I=this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:f,high:x,direction:1});s=Math.atan2(S.y-r,S.x-i),d=Math.atan2(I.y-r,I.x-i)}e.beginPath(),e.arc(i,r,o,s,d,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,i,r,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,t,i,r,o,s);var d=qt(this._getCircleData(void 0),3),S=d[2],I=d[0]-o,P=d[1]-s;return Math.abs(Math.sqrt(I*I+P*P)-S)}},{key:"_getDistanceToLine",value:function(e,t,i,r,o,s){var d=i-e,f=r-t,x=((o-e)*d+(s-t)*f)/(d*d+f*f);x>1?x=1:x<0&&(x=0);var S=e+x*d-o,I=t+x*f-s;return Math.sqrt(S*S+I*I)}},{key:"getArrowData",value:function(e,t,i,r,o,s){var d,f,x,S,I,P,L,N=s.width;"from"===t?(x=this.from,S=this.to,I=s.fromArrowScale<0,P=Math.abs(s.fromArrowScale),L=s.fromArrowType):"to"===t?(x=this.to,S=this.from,I=s.toArrowScale<0,P=Math.abs(s.toArrowScale),L=s.toArrowType):(x=this.to,S=this.from,I=s.middleArrowScale<0,P=Math.abs(s.middleArrowScale),L=s.middleArrowType);var H=15*P+3*N;if(x!=S){var Y=H/fE(x.x-S.x,x.y-S.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var V=this._findBorderPosition(x,e,{via:i}),K=this.getPoint(V.t+Y*("from"===t?1:-1),i);d=Math.atan2(V.y-K.y,V.x-K.x),f=V}else d=Math.atan2(x.y-S.y,x.x-S.x),f=this._findBorderPosition(x,e);else{var J=(I?-Y:Y)/2,le=this.getPoint(.5+J,i),ie=this.getPoint(.5-J,i);d=Math.atan2(le.y-ie.y,le.x-ie.x),f=this.getPoint(.5,i)}}else{var Ce=qt(this._getCircleData(e),3),te=Ce[0],ce=Ce[1],G=Ce[2];if("from"===t){var We=this.options.selfReference.angle+Math.PI,Oe=this._findBorderPositionCircle(this.from,e,{x:te,y:ce,low:this.options.selfReference.angle,high:We,direction:-1});d=-2*Oe.t*Math.PI+1.5*Math.PI+.1*Math.PI,f=Oe}else if("to"===t){var st=this.options.selfReference.angle+Math.PI,ht=this._findBorderPositionCircle(this.from,e,{x:te,y:ce,low:this.options.selfReference.angle,high:st,direction:1});d=-2*ht.t*Math.PI+1.5*Math.PI-1.1*Math.PI,f=ht}else{var Ct=this.options.selfReference.angle/(2*Math.PI);f=this._pointOnCircle(te,ce,G,Ct),d=-2*Ct*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:f,core:{x:f.x-.9*H*Math.cos(d),y:f.y-.9*H*Math.sin(d)},angle:d,length:H,type:L}}},{key:"drawArrowHead",value:function(e,t,i,r,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Oc.draw(e,o)&&(this.enableShadow(e,t),Dn(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var i=Et(t)?t:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),n}();function tk(n,e){var t=dt(n);if(Zo){var i=Zo(n);e&&(i=Ai(i).call(i,function(r){return Fi(n,r).enumerable})),t.push.apply(t,i)}return t}function ik(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Rt(t=tk(Object(r),!0)).call(t,function(o){sl(n,o,r[o])}):Tn?Ja(n,Tn(r)):Rt(i=tk(Object(r))).call(i,function(o){Fu(n,o,Fi(r,o))})}return n}var y_=function(n){vt(t,n);var e=function Zk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_findBorderPositionBezier",value:function(i,r){var o,s,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),f=10,x=.2,S=!1,I=1,P=0,L=this.to,N=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(L=this.from,S=!0,N=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(N=0);var H=0;do{o=this.getPoint(s=.5*(P+I),d);var Y=Math.atan2(L.y-o.y,L.x-o.x),J=L.distanceToBorder(r,Y)+N-Math.sqrt(Math.pow(o.x-L.x,2)+Math.pow(o.y-L.y,2));if(Math.abs(J)<x)break;J<0?!1===S?P=s:I=s:!1===S?I=s:P=s,++H}while(P<=I&&H<f);return ik(ik({},o),{},{t:s})}},{key:"_getDistanceToBezierEdge",value:function(i,r,o,s,d,f,x){var S,I,P,L,N,H=1e9,Y=i,V=r;for(I=1;I<10;I++)P=.1*I,L=Math.pow(1-P,2)*i+2*P*(1-P)*x.x+Math.pow(P,2)*o,N=Math.pow(1-P,2)*r+2*P*(1-P)*x.y+Math.pow(P,2)*s,I>0&&(H=(S=this._getDistanceToLine(Y,V,L,N,d,f))<H?S:H),Y=L,V=N;return H}},{key:"_bezierCurve",value:function(i,r,o,s){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),null!=o&&null!=o.x?null!=s&&null!=s.x?i.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,r),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(ek);var Xk=function(n){vt(t,n);var e=function Jk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return we(t,[{key:"setOptions",value:function(i){v_(ue(t.prototype),"setOptions",this).call(this,i);var r=!1;this.options.physics!==i.physics&&(r=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===r&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var i="edgeId:"+this.id,r=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var s=qt(this._getCircleData(),3),f=s[1],x=s[2],S=2*Math.PI*(1-i);return{x:s[0]+x*Math.sin(S),y:f+x-x*(1-Math.cos(S))}}return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r,this.via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){return this._getDistanceToBezierEdge(i,r,o,s,d,f,this.via)}}]),t}(y_);var nk=function(n){vt(t,n);var e=function Qk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i,r,o=this.options.smooth.roundness,s=this.options.smooth.type,d=Math.abs(this.from.x-this.to.x),f=Math.abs(this.from.y-this.to.y);if("discrete"===s||"diagonalCross"===s){var x,S;x=S=d<=f?o*f:o*d,this.from.x>this.to.x&&(x=-x),this.from.y>=this.to.y&&(S=-S);var I=this.from.x+x,P=this.from.y+S;return"discrete"===s&&(d<=f?I=d<o*f?this.from.x:I:P=f<o*d?this.from.y:P),{x:I,y:P}}if("straightCross"===s){var L=(1-o)*d,N=(1-o)*f;return d<=f?(L=0,this.from.y<this.to.y&&(N=-N)):(this.from.x<this.to.x&&(L=-L),N=0),{x:this.to.x+L,y:this.to.y+N}}if("horizontal"===s){var H=(1-o)*d;return this.from.x<this.to.x&&(H=-H),{x:this.to.x+H,y:this.from.y}}if("vertical"===s){var Y=(1-o)*f;return this.from.y<this.to.y&&(Y=-Y),{x:this.from.x,y:this.to.y+Y}}if("curvedCW"===s){d=this.to.x-this.from.x,f=this.from.y-this.to.y;var V=Math.sqrt(d*d+f*f),K=Math.PI,J=(Math.atan2(f,d)+(.5*o+.5)*K)%(2*K);return{x:this.from.x+(.5*o+.5)*V*Math.sin(J),y:this.from.y+(.5*o+.5)*V*Math.cos(J)}}if("curvedCCW"===s){d=this.to.x-this.from.x,f=this.from.y-this.to.y;var le=Math.sqrt(d*d+f*f),ie=Math.PI,Ce=(Math.atan2(f,d)+(.5*-o+.5)*ie)%(2*ie);return{x:this.from.x+(.5*o+.5)*le*Math.sin(Ce),y:this.from.y+(.5*o+.5)*le*Math.cos(Ce)}}i=r=d<=f?o*f:o*d,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(r=-r);var te=this.from.x+i,ce=this.from.y+r;return d<=f?te=this.from.x<=this.to.x?this.to.x<te?this.to.x:te:this.to.x>te?this.to.x:te:ce=this.from.y>=this.to.y?this.to.y>ce?this.to.y:ce:this.to.y<ce?this.to.y:ce,{x:te,y:ce}}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){var x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,r,o,s,d,f,x)}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=i;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*r.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*r.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(y_);var tC=function(n){vt(t,n);var e=function mE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o[0],o[1])}},{key:"_getViaCoordinates",value:function(){var i,r,o,s,d=this.from.x-this.to.x,f=this.from.y-this.to.y,x=this.options.smooth.roundness;return(Math.abs(d)>Math.abs(f)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,s=this.to.y,i=this.from.x-x*d,o=this.to.x+x*d):(r=this.from.y-x*f,s=this.to.y+x*f,i=this.from.x,o=this.to.x),[{x:i,y:r},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){var S=qt(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2);return this._getDistanceToBezierEdge2(i,r,o,s,d,f,S[0],S[1])}},{key:"getPoint",value:function(i){var o=qt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),s=o[0],d=o[1],f=i,x=[Math.pow(1-f,3),3*f*Math.pow(1-f,2),3*Math.pow(f,2)*(1-f),Math.pow(f,3)];return{x:x[0]*this.fromPoint.x+x[1]*s.x+x[2]*d.x+x[3]*this.toPoint.x,y:x[0]*this.fromPoint.y+x[1]*s.y+x[2]*d.y+x[3]*this.toPoint.y}}}]),t}(function(n){vt(t,n);var e=function gE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_getDistanceToBezierEdge2",value:function(i,r,o,s,d,f,x,S){for(var I=1e9,P=i,L=r,N=[0,0,0,0],H=1;H<10;H++){var Y=.1*H;N[0]=Math.pow(1-Y,3),N[1]=3*Y*Math.pow(1-Y,2),N[2]=3*Math.pow(Y,2)*(1-Y),N[3]=Math.pow(Y,3);var V=N[0]*i+N[1]*x.x+N[2]*S.x+N[3]*o,K=N[0]*r+N[1]*x.y+N[2]*S.y+N[3]*s;if(H>0){var J=this._getDistanceToLine(P,L,V,K,d,f);I=J<I?J:I}P=V,L=K}return I}}]),t}(y_));var iC=function(n){vt(t,n);var e=function yE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_line",value:function(i,r){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){var o=this.to,s=this.from;i.id===this.from.id&&(o=this.from,s=this.to);var d=Math.atan2(o.y-s.y,o.x-s.x),f=o.x-s.x,x=o.y-s.y,S=Math.sqrt(f*f+x*x),I=(S-i.distanceToBorder(r,d))/S;return{x:(1-I)*s.x+I*o.x,y:(1-I)*s.y+I*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){return this._getDistanceToLine(i,r,o,s,d,f)}}]),t}(ek),of=function(){function n(e,t,i,r,o){if(be(this,n),void 0===t)throw new Error("No body provided");this.options=la(r),this.globalOptions=r,this.defaultOptions=o,this.body=t,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Z(this.body,this.options,!0),this.setOptions(e)}return we(n,[{key:"setOptions",value:function(e){if(e){var t=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return n.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=ur(e.value)),this.chooser=Zg("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var r=this.options.color.inherit,o={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var d=this.options.hoverWidth;"function"==typeof d?o.width=d(o.width):"number"==typeof d&&(o.width+=d),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){this.labelModule.update(this.options,[e,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Xk&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof tC&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof nk&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof iC&&!1===e.type.enabled)&&(i=!1),!0===i&&(t=this.cleanup())),!0===i?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new Xk(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===e.type?new tC(this.options,this.body,this.labelModule):new nk(this.options,this.body,this.labelModule):this.edgeType=new iC(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+r*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,i),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(r.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core),t.fromArrowSrc&&(r.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(r.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(r.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(r.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core),t.toArrowSrc&&(r.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(r.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(r.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(r.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,t),t.middleArrowSrc&&(r.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(r.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(r.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var i,r=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),r.id!=o.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,t),e.save();var s=this._getRotation(e);0!=s.angle&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var d=Jg(e,this.options.selfReference.angle,this.options.selfReference.size,r);i=this._pointOnCircle(d.x,d.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var i=this._getRotation();Qh(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:e.x,top:e.y})&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,e.left,e.top)<10}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var r={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return r;var s=this.from.x-this.to.x,d=Math.atan2(this.from.y-this.to.y,s);return(d<-1&&s<0||d>0&&s<0)&&(d+=Math.PI),r.angle=d,r}},{key:"_pointOnCircle",value:function(e,t,i,r){return{x:e+i*Math.cos(r),y:t-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Tl(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,i),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(us(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==r.endPointOffset.from?r.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(us(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==r.endPointOffset.to?r.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ef(t.label)?e.label=t.label:ef(e.label)||(e.label=void 0),Fn(e,t,"smooth",r),Fn(e,t,"shadow",r),Fn(e,t,"background",r),null!=t.dashes?e.dashes=t.dashes:!0===i&&null===t.dashes&&(e.dashes=Xo(r.dashes)),null!=t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Fn(e.scaling,t.scaling,"label",r.scaling)):!0===i&&null===t.scaling&&(e.scaling=Xo(r.scaling)),null!=t.arrows)if("string"==typeof t.arrows){var d=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=mt(d).call(d,"to"),e.arrows.middle.enabled=-1!=mt(d).call(d,"middle"),e.arrows.from.enabled=-1!=mt(d).call(d,"from")}else{if("object"!==_t(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ju(t.arrows));Fn(e.arrows,t.arrows,"to",r.arrows),Fn(e.arrows,t.arrows,"middle",r.arrows),Fn(e.arrows,t.arrows,"from",r.arrows)}else!0===i&&null===t.arrows&&(e.arrows=Xo(r.arrows));if(null!=t.color){var f=aa(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,x=e.color;if(o)Ft(x,r.color,!1,i);else for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&delete x[S];if(aa(x))x.color=x,x.highlight=x,x.hover=x,x.inherit=!1,void 0===f.opacity&&(x.opacity=1);else{var I=!1;void 0!==f.color&&(x.color=f.color,I=!0),void 0!==f.highlight&&(x.highlight=f.highlight,I=!0),void 0!==f.hover&&(x.hover=f.hover,I=!0),void 0!==f.inherit&&(x.inherit=f.inherit),void 0!==f.opacity&&(x.opacity=Math.min(1,Math.max(0,f.opacity))),!0===I?x.inherit=!1:void 0===x.inherit&&(x.inherit="from")}}else!0===i&&null===t.color&&(e.color=la(r.color));!0===i&&null===t.font&&(e.font=la(r.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),n}(),nC=function(){function n(e,t,i){var r,o=this;be(this,n),this.body=e,this.images=t,this.groups=i,this.body.functions.createEdge=fe(r=this.create).call(r,this),this.edgesListeners={add:function(s,d){o.add(d.items)},update:function(s,d){o.update(d.items)},remove:function(s,d){o.remove(d.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,d,f,x){return d===s?.5:Math.max(0,1/(d-s)*(x-s))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ft(this.options,this.defaultOptions),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===r&&(r="continuous");var s=!1;for(var d in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,d)){var f=i.body.edges[d],x=i.body.data.edges.get(d);if(null!=x){var S=x.smooth;void 0!==S&&!0===S.enabled&&"dynamic"===S.type&&(f.setOptions(void 0===r?{smooth:!1}:{smooth:{type:r}}),s=!0)}}!0===o&&!0===s&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",fe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",fe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){ut(i.edgesListeners,function(r,o){i.body.data.edges&&i.body.data.edges.off(o,r)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){of.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(t=this.body.edges[i].updateEdgeType()||t);if(void 0!==e.font)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(yi.isDataViewLike("id",e))this.body.data.edges=e;else if(Et(e))this.body.data.edges=new yi.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new yi.DataSet}if(r&&ut(this.edgesListeners,function(s,d){r.off(d,s)}),this.body.edges={},this.body.data.edges){ut(this.edgesListeners,function(s,d){t.body.data.edges.on(d,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,r=this.body.data.edges,o=0;o<e.length;o++){var s=e[o],d=i[s];d&&d.disconnect();var f=r.get(s,{showInternalIds:!0});i[s]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,i=this.body.data.edges,r=!1,o=0;o<e.length;o++){var s=e[o],d=i.get(s),f=t[s];void 0!==f?(f.disconnect(),r=f.setOptions(d)||r,f.connect()):(this.body.edges[s]=this.create(d),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var i=this.body.edges;ut(e,function(r){var o=i[r];void 0!==o&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;ut(this.body.edges,function(t,i){var r=e.body.data.edges.get(i);void 0!==r&&t.setOptions(r)})}},{key:"create",value:function(e){return new of(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,i=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var r=i[e];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var i=this.body.edges[e];void 0!==i.fromId&&t.push(i.fromId),void 0!==i.toId&&t.push(i.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];ut(this.body.edges,function(i,r){var o=e.body.nodes[i.toId],s=e.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==s&&!0===s.isCluster||void 0!==o&&void 0!==s||t.push(r)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,i=[];Rt(e).call(e,function(r,o){void 0===t[o]&&i.push(o)}),this.add(i,!0)}}}]),n}(),rk=function(){function n(e,t,i){be(this,n),this.body=e,this.physicsBody=t,this.setOptions(i),this._rng=Rn("BARNES HUT SOLVER")}return we(n,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,i=this.physicsBody.physicsNodeIndices,r=i.length,o=this._formBarnesHutTree(t,i);this.barnesHutTree=o;for(var s=0;s<r;s++)(e=t[i[s]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var i=e.centerOfMass.x-t.x,r=e.centerOfMass.y-t.y,o=Math.sqrt(i*i+r*r);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,r,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,i,r,t,e)}}},{key:"_calculateForces",value:function(e,t,i,r,o){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var s=this.options.gravitationalConstant*o.mass*r.options.mass/Math.pow(e,3),f=i*s;this.physicsBody.forces[r.id].x+=t*s,this.physicsBody.forces[r.id].y+=f}},{key:"_formBarnesHutTree",value:function(e,t){for(var i,r=t.length,o=e[t[0]].x,s=e[t[0]].y,d=e[t[0]].x,f=e[t[0]].y,x=1;x<r;x++){var S=e[t[x]],I=S.x,P=S.y;S.options.mass>0&&(I<o&&(o=I),I>d&&(d=I),P<s&&(s=P),P>f&&(f=P))}var L=Math.abs(d-o)-Math.abs(f-s);L>0?(s-=.5*L,f+=.5*L):(o+=.5*L,d-=.5*L);var N=Math.max(1e-5,Math.abs(d-o)),H=.5*N,Y=.5*(o+d),V=.5*(s+f),K={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Y-H,maxX:Y+H,minY:V-H,maxY:V+H},size:N,calcSize:1/N,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(K.root);for(var J=0;J<r;J++)(i=e[t[J]]).options.mass>0&&this._placeInTree(K.root,i);return K}},{key:"_updateBranchMass",value:function(e,t){var i=e.centerOfMass,r=e.mass+t.options.mass,o=1/r;i.x=i.x*e.mass+t.x*t.options.mass,i.x*=o,i.y=i.y*e.mass+t.y*t.options.mass,i.y*=o,e.mass=r;var s=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,t,i){1==i&&void 0!==i||this._updateBranchMass(e,t);var o=e.children.NW.range;this._placeInRegion(e,t,o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE")}},{key:"_placeInRegion",value:function(e,t,i){var r=e.children[i];switch(r.childrenCount){case 0:r.children.data=t,r.childrenCount=1,this._updateBranchMass(r,t);break;case 1:r.children.data.x===t.x&&r.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(r),this._placeInTree(r,t));break;case 4:this._placeInTree(r,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var i,r,o,s,d=.5*e.size;switch(t){case"NW":i=e.range.minX,r=e.range.minX+d,o=e.range.minY,s=e.range.minY+d;break;case"NE":i=e.range.minX+d,r=e.range.maxX,o=e.range.minY,s=e.range.minY+d;break;case"SW":i=e.range.minX,r=e.range.minX+d,o=e.range.minY+d,s=e.range.maxY;break;case"SE":i=e.range.minX+d,r=e.range.maxX,o=e.range.minY+d,s=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:r,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,i){void 0===i&&(i="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=i,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),n}(),bE=function(){function n(e,t,i){be(this,n),this._rng=Rn("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(i)}return we(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o,s,d,f,x=this.body.nodes,S=this.physicsBody.physicsNodeIndices,I=this.physicsBody.forces,P=this.options.nodeDistance,L=-2/3/P,N=0;N<S.length-1;N++){d=x[S[N]];for(var H=N+1;H<S.length;H++)e=(f=x[S[H]]).x-d.x,t=f.y-d.y,0===(i=Math.sqrt(e*e+t*t))&&(e=i=.1*this._rng()),i<2*P&&(s=i<.5*P?1:L*i+1.3333333333333333,r=e*(s/=i),o=t*s,I[d.id].x-=r,I[d.id].y-=o,I[f.id].x+=r,I[f.id].y+=o)}}}]),n}(),_E=function(){function n(e,t,i){be(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return we(n,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,r=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var s=e[t[o]],d=o+1;d<t.length;d++){var f=e[t[d]];if(s.level===f.level){var x=r+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(f.shape.radius||0)/2),S=f.x-s.x,I=f.y-s.y,P=Math.sqrt(S*S+I*I),L=void 0;L=P<x?-Math.pow(.05*P,2)+Math.pow(.05*x,2):0,0!==P&&(L/=P);var N=S*L,H=I*L;i[s.id].x-=N,i[s.id].y-=H,i[f.id].x+=N,i[f.id].y+=H}}}}]),n}(),b_=function(){function n(e,t,i){be(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return we(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,o,s=this.physicsBody.physicsEdgeIndices,d=this.body.edges,f=0;f<s.length;f++)!0===(t=d[s[f]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(o=t.from,this._calculateSpringForce(t.to,r=t.edgeType.via,.5*(e=void 0===t.options.length?this.options.springLength:t.options.length)),this._calculateSpringForce(r,o,.5*e)):this._calculateSpringForce(t.from,t.to,e=void 0===t.options.length?1.5*this.options.springLength:t.options.length))}},{key:"_calculateSpringForce",value:function(e,t,i){var r=e.x-t.x,o=e.y-t.y,s=Math.max(Math.sqrt(r*r+o*o),.01),d=this.options.springConstant*(i-s)/s,f=r*d,x=o*d;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=f,this.physicsBody.forces[e.id].y+=x),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=f,this.physicsBody.forces[t.id].y-=x)}}]),n}(),wE=function(){function n(e,t,i){be(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return we(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o,s,d,f,x,S,I=this.body.edges,P=.5,L=this.physicsBody.physicsEdgeIndices,N=this.physicsBody.physicsNodeIndices,H=this.physicsBody.forces,Y=0;Y<N.length;Y++){var V=N[Y];H[V].springFx=0,H[V].springFy=0}for(var K=0;K<L.length;K++)!0===(t=I[L[K]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,r=t.from.y-t.to.y,f=0===(f=Math.sqrt(i*i+r*r))?.01:f,o=i*(d=this.options.springConstant*(e-f)/f),s=r*d,t.to.level!=t.from.level?(void 0!==H[t.toId]&&(H[t.toId].springFx-=o,H[t.toId].springFy-=s),void 0!==H[t.fromId]&&(H[t.fromId].springFx+=o,H[t.fromId].springFy+=s)):(void 0!==H[t.toId]&&(H[t.toId].x-=P*o,H[t.toId].y-=P*s),void 0!==H[t.fromId]&&(H[t.fromId].x+=P*o,H[t.fromId].y+=P*s)));d=1;for(var J=0;J<N.length;J++){var le=N[J];x=Math.min(d,Math.max(-d,H[le].springFx)),S=Math.min(d,Math.max(-d,H[le].springFy)),H[le].x+=x,H[le].y+=S}for(var ie=0,Ce=0,te=0;te<N.length;te++){var ce=N[te];ie+=H[ce].x,Ce+=H[ce].y}for(var G=ie/N.length,je=Ce/N.length,We=0;We<N.length;We++){var Oe=N[We];H[Oe].x-=G,H[Oe].y-=je}}}]),n}(),__=function(){function n(e,t,i){be(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return we(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=0;f<s.length;f++)e=-(r=o[s[f]]).x,t=-r.y,i=Math.sqrt(e*e+t*t),this._calculateForces(i,e,t,d,r)}},{key:"_calculateForces",value:function(e,t,i,r,o){var s=0===e?0:this.options.centralGravity/e;r[o.id].x=t*s,r[o.id].y=i*s}}]),n}();var xE=function(n){vt(t,n);var e=function rC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return be(this,t),(s=e.call(this,i,r,o))._rng=Rn("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return we(t,[{key:"_calculateForces",value:function(i,r,o,s,d){0===i&&(r=i=.1*this._rng()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,i-s.shape.radius));var x=this.options.gravitationalConstant*d.mass*s.options.mass*(s.edges.length+1)/Math.pow(i,2),I=o*x;this.physicsBody.forces[s.id].x+=r*x,this.physicsBody.forces[s.id].y+=I}}]),t}(rk);var rm,kE=function(n){vt(t,n);var e=function oC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return be(this,t),e.call(this,i,r,o)}return we(t,[{key:"_calculateForces",value:function(i,r,o,s,d){if(i>0){var x=this.options.centralGravity*(d.edges.length+1)*d.options.mass;s[d.id].x=r*x,s[d.id].y=o*x}}}]),t}(__),aC=function(){function n(e){be(this,n),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},ze(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,cc(["stabilization"],this.options,e),Fn(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||Vg(t.x))&&(t.x=0),("number"!=typeof t.y||Vg(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new xE(this.body,this.physicsBody,e=this.options.forceAtlas2Based),this.edgesSolver=new b_(this.body,this.physicsBody,e),this.gravitySolver=new kE(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(this.nodesSolver=new bE(this.body,this.physicsBody,e=this.options.repulsion),this.edgesSolver=new b_(this.body,this.physicsBody,e),this.gravitySolver=new __(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new _E(this.body,this.physicsBody,e=this.options.hierarchicalRepulsion),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new __(this.body,this.physicsBody,e)):(this.nodesSolver=new rk(this.body,this.physicsBody,e=this.options.barnesHut),this.edgesSolver=new b_(this.body,this.physicsBody,e),this.gravitySolver=new __(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=fe(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=fl();this.physicsTick(),(fl()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Rr(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&!0===t[r].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var d in this.physicsBody.velocities)void 0===e[d]&&delete this.physicsBody.velocities[d]}},{key:"revert",value:function(){var e=dt(this.previousStates),t=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var r=0;r<e.length;r++){var o=e[r];void 0!==t[o]?!0===t[o].options.physics&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t,i=this.body.nodes,r=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==i[o]&&(t=i[o].y-r[o].positions.y,Math.sqrt(Math.pow(i[o].x-r[o].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,i=0,r=0;r<e.length;r++){var s=this._performStep(e[r]);t=Math.max(t,s),i+=s}this.adaptiveTimestepEnabled=i/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,i){e+=(t-this.modelOptions.damping*e)/i*this.timestep;var r=this.options.maxVelocity||1e9;return Math.abs(e)>r&&(e=e>0?r:-r),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var r=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:r.x,vy:r.y},!1===t.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,i.x,t.options.mass),t.x+=r.x*this.timestep):(i.x=0,r.x=0),!1===t.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,i.y,t.options.mass),t.y+=r.y*this.timestep):(i.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var i=e[t].options.fixed;this.freezeCache[t]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Rr(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var r,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;i(),t()?Rr(fe(r=this._stabilizationBatch).call(r,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var i=this.physicsBody.physicsNodeIndices[t],r=this.body.nodes[i],o=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),d=Math.min(Math.max(5,s),15),f=3*d,x=Lh((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),S={x:r.x+20*o.x,y:r.y+20*o.y};e.lineWidth=d,e.strokeStyle=x,e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(S.x,S.y),e.stroke();var I=Math.atan2(o.y,o.x);e.fillStyle=x,Oc.draw(e,{type:"arrow",point:S,angle:I,length:f}),Dn(e).call(e)}}}]),n}(),w_=new Uint8Array(16);function sC(){if(!rm&&!(rm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rm(w_)}var lC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function CE(n){return"string"==typeof n&&lC.test(n)}for(var Zi=[],Ao=0;Ao<256;++Ao)Zi.push((Ao+256).toString(16).substr(1));function om(n,e,t){var i=(n=n||{}).random||(n.rng||sC)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=(Zi[o[s+0]]+Zi[o[s+1]]+Zi[o[s+2]]+Zi[o[s+3]]+"-"+Zi[o[s+4]]+Zi[o[s+5]]+"-"+Zi[o[s+6]]+Zi[o[s+7]]+"-"+Zi[o[s+8]]+Zi[o[s+9]]+"-"+Zi[o[s+10]]+Zi[o[s+11]]+Zi[o[s+12]]+Zi[o[s+13]]+Zi[o[s+14]]+Zi[o[s+15]]).toLowerCase();if(!CE(d))throw TypeError("Stringified UUID is invalid");return d}(i)}var gn=function(){function n(){be(this,n)}return we(n,null,[{key:"getRange",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,d=-1e9;if(i.length>0)for(var f=0;f<i.length;f++)s>(t=e[i[f]]).shape.boundingBox.left&&(s=t.shape.boundingBox.left),d<t.shape.boundingBox.right&&(d=t.shape.boundingBox.right),r>t.shape.boundingBox.top&&(r=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return 1e9===s&&-1e9===d&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,d=0),{minX:s,maxX:d,minY:r,maxY:o}}},{key:"getRangeCore",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,d=-1e9;if(i.length>0)for(var f=0;f<i.length;f++)s>(t=e[i[f]]).x&&(s=t.x),d<t.x&&(d=t.x),r>t.y&&(r=t.y),o<t.y&&(o=t.y);return 1e9===s&&-1e9===d&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,d=0),{minX:s,maxX:d,minY:r,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var i={};return void 0===t||"node"===t?(Ft(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):Ft(i,e.options,!0),i}}]),n}();var SE=function(n){vt(t,n);var e=function EE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d,f){var x;return be(this,t),(x=e.call(this,i,r,o,s,d,f)).isCluster=!0,x.containedNodes={},x.containedEdges={},x}return we(t,[{key:"_openChildCluster",value:function(i){var r=this,o=this.body.nodes[i];if(void 0===this.containedNodes[i])throw new Error("node with id: "+i+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],ut(o.edges,function(s){delete r.containedEdges[s.id]}),ut(o.containedNodes,function(s,d){r.containedNodes[d]=s}),o.containedNodes={},ut(o.containedEdges,function(s,d){r.containedEdges[d]=s}),o.containedEdges={},ut(o.edges,function(s){ut(r.edges,function(d){var f,x,S=mt(f=d.clusteringEdgeReplacingIds).call(f,s.id);-1!==S&&(ut(s.clusteringEdgeReplacingIds,function(I){d.clusteringEdgeReplacingIds.push(I),r.body.edges[I].edgeReplacedById=d.id}),In(x=d.clusteringEdgeReplacingIds).call(x,S,1))})}),o.edges=[]}}]),t}($n),TE=function(){function n(e){var t=this;be(this,n),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},ze(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return we(n,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===_t(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var i=[],r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>=e&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var r={},o={};ut(this.body.nodes,function(s,d){s.options&&!0===t.joinCondition(s.options)&&(r[d]=s,ut(s.edges,function(f){void 0===e.clusteredEdges[f.id]&&(o[f.id]=f)}))}),this._cluster(r,o,t,i)}},{key:"clusterByEdgeCount",value:function(e,t){var i=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var o,s,d,f=[],x={},S=function(L){var N={},H={},Y=i.body.nodeIndices[L],V=i.body.nodes[Y];if(void 0===x[Y]){d=0,s=[];for(var K=0;K<V.edges.length;K++)void 0===i.clusteredEdges[(o=V.edges[K]).id]&&(o.toId!==o.fromId&&d++,s.push(o));if(d===e){for(var J=function(je){if(null==t.joinCondition)return!0;var We=gn.cloneOptions(je);return t.joinCondition(We)},le=!0,ie=0;ie<s.length;ie++){var Ce=i._getConnectedId(o=s[ie],Y);if(!J(V)){le=!1;break}H[o.id]=o,N[Y]=V,N[Ce]=i.body.nodes[Ce],x[Y]=!0}if(dt(N).length>0&&dt(H).length>0&&!0===le){var te=function(){for(var je=0;je<f.length;++je)for(var We in N)if(void 0!==f[je].nodes[We])return f[je]}();if(void 0!==te){for(var ce in N)void 0===te.nodes[ce]&&(te.nodes[ce]=N[ce]);for(var G in H)void 0===te.edges[G]&&(te.edges[G]=H[G])}else f.push({nodes:N,edges:H})}}}},I=0;I<this.body.nodeIndices.length;I++)S(I);for(var P=0;P<f.length;P++)this._cluster(f[P].nodes,f[P].edges,t,!1);!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){this.clusterByEdgeCount(1,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(e){this.clusterByEdgeCount(2,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];void 0===(t=this._checkOptions(t,o)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=o.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=o.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},d={},f=o.id,x=gn.cloneOptions(o);s[f]=o;for(var S=0;S<o.edges.length;S++){var I=o.edges[S];if(void 0===this.clusteredEdges[I.id]){var P=this._getConnectedId(I,f);if(void 0===this.clusteredNodes[P])if(P!==f)if(void 0===t.joinCondition)d[I.id]=I,s[P]=this.body.nodes[P];else{var L=gn.cloneOptions(this.body.nodes[P]);!0===t.joinCondition(x,L)&&(d[I.id]=I,s[P]=this.body.nodes[P])}else d[I.id]=I}}var N=ti(i=dt(s)).call(i,function(J){return s[J].id});for(var H in s)if(Object.prototype.hasOwnProperty.call(s,H))for(var Y=s[H],V=0;V<Y.edges.length;V++){var K=Y.edges[V];mt(N).call(N,this._getConnectedId(K,Y.id))>-1&&(d[K.id]=K)}this._cluster(s,d,t,r)}},{key:"_createClusterEdges",value:function(e,t,i,r){for(var o,s,d,f,x,S,I=dt(e),P=[],L=0;L<I.length;L++){d=e[s=I[L]];for(var N=0;N<d.edges.length;N++)void 0===this.clusteredEdges[(o=d.edges[N]).id]&&(o.toId==o.fromId?t[o.id]=o:o.toId==s?(f=i.id,S=x=o.fromId):(x=i.id,S=f=o.toId),void 0===e[S]&&P.push({edge:o,fromId:x,toId:f}))}for(var H=[],Y=function(ie){for(var Ce=0;Ce<H.length;Ce++){var te=H[Ce];if(ie.fromId===te.fromId&&ie.toId===te.toId||ie.fromId===te.toId&&ie.toId===te.fromId)return te}return null},V=0;V<P.length;V++){var K=P[V],J=K.edge,le=Y(K);null===le?(le=this._createClusteredEdge(K.fromId,K.toId,J,r),H.push(le)):le.clusteringEdgeReplacingIds.push(J.id),this.body.edges[J.id].edgeReplacedById=le.id,this._backupEdgeOptions(J),J.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&void 0!==this.clusteredNodes[s]&&o.push(s);for(var d=0;d<o.length;++d)delete e[o[d]];if(0!=dt(e).length&&(1!=dt(e).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var f=Ft({},i.clusterNodeProperties);if(void 0!==i.processProperties){var x=[];for(var S in e)if(Object.prototype.hasOwnProperty.call(e,S)){var I=gn.cloneOptions(e[S]);x.push(I)}var P=[];for(var L in t)if(Object.prototype.hasOwnProperty.call(t,L)&&"clusterEdge:"!==L.substr(0,12)){var N=gn.cloneOptions(t[L],"edge");P.push(N)}if(!(f=i.processProperties(f,x,P)))throw new Error("The processProperties function does not return properties!")}void 0===f.id&&(f.id="cluster:"+om());var H=f.id;void 0===f.label&&(f.label="cluster");var Y=void 0;void 0===f.x&&(Y=this._getClusterPosition(e),f.x=Y.x),void 0===f.y&&(void 0===Y&&(Y=this._getClusterPosition(e)),f.y=Y.y),f.id=H;var V=this.body.functions.createNode(f,SE);V.containedNodes=e,V.containedEdges=t,V.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[f.id]=V,this._clusterEdges(e,t,f,i.clusterEdgeProperties),f.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,i=dt(e),r=e[i[0]].x,o=e[i[0]].x,s=e[i[0]].y,d=e[i[0]].y,f=1;f<i.length;f++)r=(t=e[i[f]]).x<r?t.x:r,o=t.x>o?t.x:o,s=t.y<s?t.y:s,d=t.y>d?t.y:d;return{x:.5*(r+o),y:.5*(s+d)}}},{key:"openCluster",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var r=this.body.nodes[e];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),s=mt(o).call(o,e)-1;if(s>=0)return this.body.nodes[o[s]]._openChildCluster(e),delete this.body.nodes[e],void(!0===i&&this.body.emitter.emit("_dataChanged"));var x=r.containedNodes,S=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var I={},P={x:r.x,y:r.y};for(var L in x)if(Object.prototype.hasOwnProperty.call(x,L)){var N=this.body.nodes[L];I[L]={x:N.x,y:N.y}}var H=t.releaseFunction(P,I);for(var Y in x)if(Object.prototype.hasOwnProperty.call(x,Y)){var V=this.body.nodes[Y];void 0!==H[Y]&&(V.x=void 0===H[Y].x?r.x:H[Y].x,V.y=void 0===H[Y].y?r.y:H[Y].y)}}else ut(x,function(Vt){!1===Vt.options.fixed.x&&(Vt.x=r.x),!1===Vt.options.fixed.y&&(Vt.y=r.y)});for(var K in x)if(Object.prototype.hasOwnProperty.call(x,K)){var J=this.body.nodes[K];J.vx=r.vx,J.vy=r.vy,J.setOptions({physics:!0}),delete this.clusteredNodes[K]}for(var le=[],ie=0;ie<r.edges.length;ie++)le.push(r.edges[ie]);for(var Ce=0;Ce<le.length;Ce++){for(var te=le[Ce],ce=this._getConnectedId(te,e),G=this.clusteredNodes[ce],je=0;je<te.clusteringEdgeReplacingIds.length;je++){var Oe=this.body.edges[te.clusteringEdgeReplacingIds[je]];if(void 0!==Oe)if(void 0!==G){var it=this.body.nodes[G.clusterId];it.containedEdges[Oe.id]=Oe,delete S[Oe.id];var st=Oe.fromId,ht=Oe.toId;Oe.toId==ce?ht=G.clusterId:st=G.clusterId,this._createClusteredEdge(st,ht,Oe,it.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Oe)}te.remove()}for(var Ct in S)Object.prototype.hasOwnProperty.call(S,Ct)&&this._restoreEdge(S[Ct]);delete this.body.nodes[e],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var i=this.body.nodes[e].containedNodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.push(this.body.nodes[r].id)}return t}},{key:"findNode",value:function(e){for(var t,i=[],r=0;void 0!==this.clusteredNodes[e]&&r<100;){if(void 0===(t=this.body.nodes[e]))return[];i.push(t.id),e=this.clusteredNodes[e].clusterId,r++}return void 0===(t=this.body.nodes[e])?[]:(i.push(t.id),Ki(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),r=0;r<i.length;r++)this.body.edges[i[r]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],i=0;void 0!==e&&void 0!==this.body.edges[e]&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Ki(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],i=[],r=[],o=0;t.length>0&&o<100;){var s=t.pop();if(void 0!==s){var d=this.body.edges[s];if(void 0!==d){o++;var f=d.clusteringEdgeReplacingIds;if(void 0===f)r.push(s);else for(var x=0;x<f.length;++x){var S=f[x];-1===mt(t).call(t,f)&&-1===mt(i).call(i,f)&&t.push(S)}i.push(s)}}}return r}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,i=0,r=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>r&&(r=s.edges.length),e+=s.edges.length,t+=Math.pow(s.edges.length,2),i+=1}e/=i;var d=(t/=i)-Math.pow(e,2),f=Math.sqrt(d),x=Math.floor(e+2*f);return x>r&&(x=r),x}},{key:"_createClusteredEdge",value:function(e,t,i,r,o){var s=gn.cloneOptions(i,"edge");Ft(s,r),s.from=e,s.to=t,s.id="clusterEdge:"+om(),void 0!==o&&Ft(s,o);var d=this.body.functions.createEdge(s);return d.clusteringEdgeReplacingIds=[i.id],d.connect(),this.body.edges[d.id]=d,d}},{key:"_clusterEdges",value:function(e,t,i,r){if(t instanceof of){var s={};s[t.id]=t,t=s}if(e instanceof $n){var f={};f[e.id]=e,e=f}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var x in void 0===r&&(r=i.clusterEdgeProperties),this._createClusterEdges(e,t,i,r),t)if(Object.prototype.hasOwnProperty.call(t,x)&&void 0!==this.body.edges[x]){var S=this.body.edges[x];this._backupEdgeOptions(S),S.setOptions({physics:!1})}for(var I in e)Object.prototype.hasOwnProperty.call(e,I)&&(this.clusteredNodes[I]={clusterId:i.id,node:this.body.nodes[I]},this.body.nodes[I].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var i=t.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,t){var i=[];return ut(e,function(r){t(r)&&i.push(r)}),i}},{key:"_updateState",value:function(){var e,t=this,i=[],r={},o=function(S){ut(t.body.nodes,function(I){!0===I.isCluster&&S(I)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&i.push(e);o(function(S){for(var I=0;I<i.length;I++)delete S.containedNodes[i[I]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];ut(this.clusteredEdges,function(S){var I=t.body.edges[S];void 0!==I&&I.endPointsValid()||(r[S]=S)}),o(function(S){ut(S.containedEdges,function(I,P){I.endPointsValid()||r[P]||(r[P]=P)})}),ut(this.body.edges,function(S,I){var P=!0,L=S.clusteringEdgeReplacingIds;if(void 0!==L){var N=0;ut(L,function(H){var Y=t.body.edges[H];void 0!==Y&&Y.endPointsValid()&&(N+=1)}),P=N>0}S.endPointsValid()&&P||(r[I]=I)}),o(function(S){ut(r,function(I){delete S.containedEdges[I],ut(S.edges,function(P,L){P.id!==I?P.clusteringEdgeReplacingIds=t._filter(P.clusteringEdgeReplacingIds,function(N){return!r[N]}):S.edges[L]=null}),S.edges=t._filter(S.edges,function(P){return null!==P})})}),ut(r,function(S){delete t.clusteredEdges[S]}),ut(r,function(S){delete t.body.edges[S]}),ut(dt(this.body.edges),function(S){var I=t.body.edges[S],P=t._isClusteredNode(I.fromId)||t._isClusteredNode(I.toId);if(P!==t._isClusteredEdge(I.id))if(P){var L=t._getClusterNodeForNode(I.fromId);void 0!==L&&t._clusterEdges(t.body.nodes[I.fromId],I,L);var N=t._getClusterNodeForNode(I.toId);void 0!==N&&t._clusterEdges(t.body.nodes[I.toId],I,N)}else delete t._clusterEdges[S],t._restoreEdge(I)});for(var d=!1,f=!0,x=function(){var S=[];o(function(P){var L=dt(P.containedNodes).length,N=!0===P.options.allowSingleNodeCluster;(N&&L<1||!N&&L<2)&&S.push(P.id)});for(var I=0;I<S.length;++I)t.openCluster(S[I],{},!1);f=S.length>0,d=d||f};f;)x();d&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),n}();function OE(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return uC(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return uC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function uC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var IE=function(){function n(e,t){var i;be(this,n),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(r){r()}:i,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ze(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Rr(function(){var i;t.zooming=!1,fe(i=t._requestRedraw).call(i,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",fe(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&Tl(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var i,r=window;return!0===this.requiresTimeout?i=Rr(e,t):r.requestAnimationFrame&&(i=r.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(fe(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,r,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var s=this._drawNodes(i,e);t.drawExternalLabels=s.drawExternalLabels}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===e&&i.clearRect(0,0,r,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,i=this.body.nodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&((t=i[r]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.nodes,s=this.body.nodeIndices,d=[],f=[],x=20,S=this.canvas.DOMtoCanvas({x:-x,y:-x}),I=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+x,y:this.canvas.frame.canvas.clientHeight+x}),P={top:S.y,left:S.x,bottom:I.y,right:I.x},L=[],N=0;N<s.length;N++)if((t=o[s[N]]).hover)f.push(s[N]);else if(t.isSelected())d.push(s[N]);else if(!0===r){var H=t.draw(e);null!=H.drawExternalLabel&&L.push(H.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(P)){var Y=t.draw(e);null!=Y.drawExternalLabel&&L.push(Y.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var V=d.length,K=f.length;for(i=0;i<V;i++){var J=(t=o[d[i]]).draw(e);null!=J.drawExternalLabel&&L.push(J.drawExternalLabel)}for(i=0;i<K;i++){var le=(t=o[f[i]]).draw(e);null!=le.drawExternalLabel&&L.push(le.drawExternalLabel)}return{drawExternalLabels:function(){var ie,Ce=OE(L);try{for(Ce.s();!(ie=Ce.n()).done;)(0,ie.value)()}catch(te){Ce.e(te)}finally{Ce.f()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=t[i[r]];!0===o.connected&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=t[i[r]];!0===o.connected&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=mt(e).call(e,"msie 9.0")||-1!=mt(e).call(e,"safari")&&mt(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),n}(),ok=Fe.setInterval;function x_(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function ak(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}var DE=function(){function n(e){be(this,n),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},ze(this.options,this.defaultOptions),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(i){0!==i.width&&(t.body.view.translation.x=.5*i.width),0!==i.height&&(t.body.view.translation.y=.5*i.height)}),this.body.emitter.on("setSize",fe(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,i,r,o,s,d=this;if(void 0!==e&&Tl(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var f;if(window.ResizeObserver){var x=new ResizeObserver(function(){!0===d.setSize()&&d.body.emitter.emit("_requestRedraw")}),S=this.frame;x.observe(S),this._cleanupCallbacks.push(function(){x.unobserve(S)})}else{var I=ok(function(){!0===d.setSize()&&d.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(I)})}var P=fe(f=this._onResize).call(f,this);t=window,i="resize",r=P,t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===i&&Qn(s=navigator.userAgent).call(s,"Firefox")&&(i="DOMMouseScroll"),t.addEventListener(i,r,o)):t.attachEvent("on"+i,r),this._cleanupCallbacks.push(function(){var L,N,H,Y,V;L=window,N="resize",H=P,L.removeEventListener?(void 0===Y&&(Y=!1),"mousewheel"===N&&Qn(V=navigator.userAgent).call(V,"Firefox")&&(N="DOMMouseScroll"),L.removeEventListener(N,H,Y)):L.detachEvent("on"+N,H)})}}},{key:"_cleanUp",value:function(){var e,t,i;Rt(e=Ki(t=In(i=this._cleanupCallbacks).call(i,0)).call(t)).call(e,function(r){try{r()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=e&&1!=t?i=.5*this.cameraState.scale*(e+t):1!=e?i=this.cameraState.scale*e:1!=t&&(i=this.cameraState.scale*t),this.body.view.scale=i;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==mt(e).call(e,"%")||-1!==mt(e).call(e,"px"))return e;if(-1===mt(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ua(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ua.DIRECTION_ALL}),x_(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new ua(this.frame),ak(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var i=!1,r=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var d=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===d&&this.frame.canvas.height===f||this._getCameraState(s),this.frame.canvas.width!==d&&(this.frame.canvas.width=d,i=!0),this.frame.canvas.height!==f&&(this.frame.canvas.height=f,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),n}();function cC(n,e){var t=ze({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Et(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===t.nodes.length&&(t.nodes=e),!("number"==typeof t.minZoomLevel&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof t.maxZoomLevel&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var ME=function(){function n(e,t){var i,r,o=this;be(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",fe(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",fe(r=this.releaseNode).call(r,this))}return we(n,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=cC(e,this.body.nodeIndices);var i,r,o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(0===o||0===s)r=1,i=gn.getRange(this.body.nodes,e.nodes);else if(!0===t){var d=0;for(var f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&!0===this.body.nodes[f].predefinedPosition&&(d+=1);if(d>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=gn.getRange(this.body.nodes,e.nodes),r=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,r*=Math.min(o/600,s/600)}else{this.body.emitter.emit("_resizeNodes"),i=gn.getRange(this.body.nodes,e.nodes);var N=o/(1.1*Math.abs(i.maxX-i.minX)),H=s/(1.1*Math.abs(i.maxY-i.minY));r=N<=H?N:H}r>e.maxZoomLevel?r=e.maxZoomLevel:r<e.minZoomLevel&&(r=e.minZoomLevel);var Y=gn.findCenter(i);this.moveTo({position:Y,scale:r,animation:e.animation})}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[e]?(t.position={x:this.body.nodes[e].x,y:this.body.nodes[e].y},t.lockedOnNode=e,this.moveTo(t)):console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!us(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!us(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!us(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!us(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,i,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(r.x-e.position.x)*this.targetScale+e.offset.x,y:this.sourceTranslation.y+(r.y-e.position.y)*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=fe(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=fe(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),s=this.body.view.translation;this.body.view.translation={x:s.x+(i.x-e)*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+(i.y-t)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var i,t=xg[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=fe(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();var lk=function(){function n(e,t){var i=this;be(this,n),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return we(n,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);var o,s,d=new ua(this.navigationDOM[t[r]]);x_(d,"_fit"===i[r]?fe(o=this._fit).call(o,this):fe(s=this.bindToRedraw).call(s,this,i[r])),this.navigationHammers.push(d)}var f=new ua(this.canvas.frame);ak(f,function(){e._stopMovement()}),this.navigationHammers.push(f),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=fe(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=t/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=t/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,i,r,o,s,d,f,x,S,I,P,L,N,H,Y,V,K,J,le,ie,Ce,te,ce,G=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function sk(n){var e,t=n&&n.preventDefault||!1,i=n&&n.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var d=function(S){x(S,"keydown")},f=function(S){x(S,"keyup")},x=function(S,I){if(void 0!==o[I][S.keyCode]){for(var P=o[I][S.keyCode],L=0;L<P.length;L++)(void 0===P[L].shift||1==P[L].shift&&1==S.shiftKey||0==P[L].shift&&0==S.shiftKey)&&P[L].fn(S);1==t&&S.preventDefault()}};return r.bind=function(S,I,P){if(void 0===P&&(P="keydown"),void 0===s[S])throw new Error("unsupported key: "+S);void 0===o[P][s[S].code]&&(o[P][s[S].code]=[]),o[P][s[S].code].push({fn:I,shift:s[S].shift})},r.bindAll=function(S,I){for(var P in void 0===I&&(I="keydown"),s)s.hasOwnProperty(P)&&r.bind(P,S,I)},r.getKey=function(S){for(var I in s)if(s.hasOwnProperty(I)&&(1==S.shiftKey&&1==s[I].shift&&S.keyCode==s[I].code||0==S.shiftKey&&0==s[I].shift&&S.keyCode==s[I].code||S.keyCode==s[I].code&&"shift"==I))return I;return"unknown key, currently not supported"},r.unbind=function(S,I,P){if(void 0===P&&(P="keydown"),void 0===s[S])throw new Error("unsupported key: "+S);if(void 0!==I){var L=[],N=o[P][s[S].code];if(void 0!==N)for(var H=0;H<N.length;H++)N[H].fn==I&&N[H].shift==s[S].shift||L.push(o[P][s[S].code][H]);o[P][s[S].code]=L}else o[P][s[S].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",d,!0),i.removeEventListener("keyup",f,!0)},i.addEventListener("keydown",d,!0),i.addEventListener("keyup",f,!0),r}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(fe(e=this.keycharm).call(e,"up",function(){G.bindToRedraw("_moveUp")},"keydown"),fe(t=this.keycharm).call(t,"down",function(){G.bindToRedraw("_moveDown")},"keydown"),fe(i=this.keycharm).call(i,"left",function(){G.bindToRedraw("_moveLeft")},"keydown"),fe(r=this.keycharm).call(r,"right",function(){G.bindToRedraw("_moveRight")},"keydown"),fe(o=this.keycharm).call(o,"=",function(){G.bindToRedraw("_zoomIn")},"keydown"),fe(s=this.keycharm).call(s,"num+",function(){G.bindToRedraw("_zoomIn")},"keydown"),fe(d=this.keycharm).call(d,"num-",function(){G.bindToRedraw("_zoomOut")},"keydown"),fe(f=this.keycharm).call(f,"-",function(){G.bindToRedraw("_zoomOut")},"keydown"),fe(x=this.keycharm).call(x,"[",function(){G.bindToRedraw("_zoomOut")},"keydown"),fe(S=this.keycharm).call(S,"]",function(){G.bindToRedraw("_zoomIn")},"keydown"),fe(I=this.keycharm).call(I,"pageup",function(){G.bindToRedraw("_zoomIn")},"keydown"),fe(P=this.keycharm).call(P,"pagedown",function(){G.bindToRedraw("_zoomOut")},"keydown"),fe(L=this.keycharm).call(L,"up",function(){G.unbindFromRedraw("_moveUp")},"keyup"),fe(N=this.keycharm).call(N,"down",function(){G.unbindFromRedraw("_moveDown")},"keyup"),fe(H=this.keycharm).call(H,"left",function(){G.unbindFromRedraw("_moveLeft")},"keyup"),fe(Y=this.keycharm).call(Y,"right",function(){G.unbindFromRedraw("_moveRight")},"keyup"),fe(V=this.keycharm).call(V,"=",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),fe(K=this.keycharm).call(K,"num+",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),fe(J=this.keycharm).call(J,"num-",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),fe(le=this.keycharm).call(le,"-",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),fe(ie=this.keycharm).call(ie,"[",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),fe(Ce=this.keycharm).call(Ce,"]",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),fe(te=this.keycharm).call(te,"pageup",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),fe(ce=this.keycharm).call(ce,"pagedown",function(){G.unbindFromRedraw("_zoomOut")},"keyup")))}}]),n}();function dC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var hC=function(){function n(e,t,i){var r,o,s,d,f,x,S,I,P,L,N,H,Y;be(this,n),this.body=e,this.canvas=t,this.selectionHandler=i,this.navigationHandler=new lk(e,t),this.body.eventListeners.onTap=fe(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=fe(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=fe(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=fe(d=this.onHold).call(d,this),this.body.eventListeners.onDragStart=fe(f=this.onDragStart).call(f,this),this.body.eventListeners.onDrag=fe(x=this.onDrag).call(x,this),this.body.eventListeners.onDragEnd=fe(S=this.onDragEnd).call(S,this),this.body.eventListeners.onMouseWheel=fe(I=this.onMouseWheel).call(I,this),this.body.eventListeners.onPinch=fe(P=this.onPinch).call(P,this),this.body.eventListeners.onMouseMove=fe(L=this.onMouseMove).call(L,this),this.body.eventListeners.onRelease=fe(N=this.onRelease).call(N,this),this.body.eventListeners.onContext=fe(H=this.onContext).call(H,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=fe(Y=this.getPointer).call(Y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},ze(this.options,this.defaultOptions),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(cc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Fn(this.options,e,"keyboard"),e.tooltip&&(ze(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=$h(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-pn(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var i=function(r,o){for(var s=[],d=0;d<r.length;d++){var f=r[d];-1===mt(o).call(o,f)&&s.push(f)}return s};return{nodes:i(e.nodes,t.nodes),edges:i(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=ze({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var r,o=function PE(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return dC(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return dC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(o.s();!(r=o.n()).done;){var s=r.value,d={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(d)}}catch(f){o.e(f)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,i);var o=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;Rt(r).call(r,function(x){var S=x.node;!1===x.xFixed&&(S.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(x.x)+o)),!1===x.yFixed&&(S.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(x.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var r=this.body.selectionBox.position,o={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=Ai(i=this.body.nodeIndices).call(i,function(x){var S=t.body.nodes[x];return S.x>=o.minX&&S.x<=o.maxX&&S.y>=o.minY&&S.y<=o.maxY});Rt(s).call(s,function(x){return t.selectionHandler.selectObject(t.body.nodes[x])});var d=this.getPointer(e.center);this.selectionHandler.commitAndEmit(d,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var f=this.drag.selection;f&&f.length?(Rt(f).call(f,function(x){x.node.options.fixed.x=x.xFixed,x.node.options.fixed.y=x.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*e.scale,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var r=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=e/i,d=(1-s)*t.x+o.x*s,f=(1-s)*t.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:d,y:f},null!=r){var x=this.canvas.canvasToDOM(r);this.drag.pointer.x=x.x,this.drag.pointer.y=x.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<e?{direction:"+",scale:this.body.view.scale,pointer:t}:{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+.1*this.options.zoomSpeed*(e.deltaY<0?1:-1);var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,i=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(r=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===r&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Rr(function(){return t._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:i,right:t,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,d="node";if(void 0===this.popupObj){for(var f,x=this.body.nodeIndices,S=this.body.nodes,I=[],P=0;P<x.length;P++)!0===(f=S[x[P]]).isOverlappingWith(r)&&(s=!0,void 0!==f.getTitle()&&I.push(x[P]));I.length>0&&(this.popupObj=S[I[I.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var L,N=this.body.edgeIndices,H=this.body.edges,Y=[],V=0;V<N.length;V++)!0===(L=H[N[V]]).isOverlappingWith(r)&&!0===L.connected&&void 0!==L.getTitle()&&Y.push(N[V]);Y.length>0&&(this.popupObj=H[Y[Y.length-1]],d="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new Il(this.canvas.frame)),this.popup.popupTargetType=d,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var r=this.selectionHandler.getNodeAt(e);i=void 0!==r&&r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}();Uh("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Pl);var Al=Fe.Set,pC=zg,k_=pc.exports.getWeakData,RE=zt,uk=Ye,$l=_c,cr=Gh,vC=ft,FE=kr.set,AE=kr.getterFor,$E=Yn.find,LE=Yn.findIndex,BE=Ee([].splice),NE=0,C_=function(n){return n.frozen||(n.frozen=new gC)},gC=function(){this.entries=[]},ck=function(n,e){return $E(n.entries,function(t){return t[0]===e})};gC.prototype={get:function(n){var e=ck(this,n);if(e)return e[1]},has:function(n){return!!ck(this,n)},set:function(n,e){var t=ck(this,n);t?t[1]=e:this.entries.push([n,e])},delete:function(n){var e=LE(this.entries,function(t){return t[0]===n});return~e&&BE(this.entries,e,1),!!~e}};var am,E_=Ee,jE=zg,yC=pc.exports,hk={getConstructor:function(n,e,t,i){var r=n(function(f,x){$l(f,o),FE(f,{type:e,id:NE++,frozen:void 0}),null!=x&&cr(x,f[i],{that:f,AS_ENTRIES:t})}),o=r.prototype,s=AE(e),d=function(f,x,S){var I=s(f),P=k_(RE(x),!0);return!0===P?C_(I).set(x,S):P[I.id]=S,f};return pC(o,{delete:function(f){var x=s(this);if(!uk(f))return!1;var S=k_(f);return!0===S?C_(x).delete(f):S&&vC(S,x.id)&&delete S[x.id]},has:function(f){var x=s(this);if(!uk(f))return!1;var S=k_(f);return!0===S?C_(x).has(f):S&&vC(S,x.id)}}),pC(o,t?{get:function(f){var x=s(this);if(uk(f)){var S=k_(f);return!0===S?C_(x).get(f):S?S[x.id]:void 0}},set:function(f,x){return d(this,f,x)}}:{add:function(f){return d(this,f,!0)}}),r}},sm=Ye,S_=H0,T_=kr.enforce,HE=$s,VE=!Q.ActiveXObject&&"ActiveXObject"in Q,fk=function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},af=Uh("WeakMap",fk,hk);if(HE&&VE){am=hk.getConstructor(fk,"WeakMap",!0),yC.enable();var sf=af.prototype,mn=E_(sf.delete),lf=E_(sf.has),bC=E_(sf.get),_C=E_(sf.set);jE(sf,{delete:function(n){if(sm(n)&&!S_(n)){var e=T_(this);return e.frozen||(e.frozen=new am),mn(this,n)||e.frozen.delete(n)}return mn(this,n)},has:function(n){if(sm(n)&&!S_(n)){var e=T_(this);return e.frozen||(e.frozen=new am),lf(this,n)||e.frozen.has(n)}return lf(this,n)},get:function(n){if(sm(n)&&!S_(n)){var e=T_(this);return e.frozen||(e.frozen=new am),lf(this,n)?bC(this,n):e.frozen.get(n)}return bC(this,n)},set:function(n,e){if(sm(n)&&!S_(n)){var t=T_(this);t.frozen||(t.frozen=new am),lf(this,n)?_C(this,n,e):t.frozen.set(n,e)}else _C(this,n,e);return this}})}var Ic,jr,Ll,vs,Dc,lm=Fe.WeakMap;function Ht(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)}function pk(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t}function vk(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return wC(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return wC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function wC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function xC(n,e){var t,i=new Al,r=vk(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.has(o)||i.add(o)}}catch(s){r.e(s)}finally{r.f()}return i}var kC=function(){function n(){be(this,n),Ic.set(this,new Al),jr.set(this,new Al)}return we(n,[{key:"size",get:function(){return Ht(this,jr,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,o=t;r<o.length;r++){var s=o[r];Ht(this,jr,"f").add(s)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,o=t;r<o.length;r++){var s=o[r];Ht(this,jr,"f").delete(s)}}},{key:"clear",value:function(){Ht(this,jr,"f").clear()}},{key:"getSelection",value:function(){return On(Ht(this,jr,"f"))}},{key:"getChanges",value:function(){return{added:On(xC(Ht(this,Ic,"f"),Ht(this,jr,"f"))),deleted:On(xC(Ht(this,jr,"f"),Ht(this,Ic,"f"))),previous:On(new Al(Ht(this,Ic,"f"))),current:On(new Al(Ht(this,jr,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();pk(this,Ic,Ht(this,jr,"f"),"f"),pk(this,jr,new Al(Ht(this,Ic,"f")),"f");var t,i=vk(e.added);try{for(i.s();!(t=i.n()).done;)t.value.select()}catch(s){i.e(s)}finally{i.f()}var r,o=vk(e.deleted);try{for(o.s();!(r=o.n()).done;)r.value.unselect()}catch(s){o.e(s)}finally{o.f()}return e}}]),n}();Ic=new lm,jr=new lm;var WE=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};be(this,n),Ll.set(this,new kC),vs.set(this,new kC),Dc.set(this,void 0),pk(this,Dc,e,"f")}return we(n,[{key:"sizeNodes",get:function(){return Ht(this,Ll,"f").size}},{key:"sizeEdges",get:function(){return Ht(this,vs,"f").size}},{key:"getNodes",value:function(){return Ht(this,Ll,"f").getSelection()}},{key:"getEdges",value:function(){return Ht(this,vs,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ht(this,Ll,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ht(this,vs,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ht(this,Ll,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ht(this,vs,"f").delete(e)}},{key:"clear",value:function(){Ht(this,Ll,"f").clear(),Ht(this,vs,"f").clear()}},{key:"commit",value:function(){for(var e,t,i={nodes:Ht(this,Ll,"f").commit(),edges:Ht(this,vs,"f").commit()},r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=Ht(this,Dc,"f")).call.apply(e,Nu(t=[this,i]).call(t,o)),i}}]),n}();function O_(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return CC(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return CC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function CC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}Ll=new lm,vs=new lm,Dc=new lm;var EC=function(){function n(e,t){var i=this;be(this,n),this.body=e,this.canvas=t,this._selectionAccumulator=new WE,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},ze(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return we(n,[{key:"setOptions",value:function(e){void 0!==e&&Tl(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==i&&(t=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==i&&(t=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var i={};return i.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},i.event=e,i}},{key:"generateClickEvent",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(t,i);if(!0===o)s.nodes=[],s.edges=[];else{var d=this.getSelection();s.nodes=d.nodes,s.edges=d.edges}void 0!==r&&(s.previousSelection=r),"click"==e&&(s.items=this.getClickedItems(i)),void 0!==t.controlEdge&&(s.controlEdge=t.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var i;return void 0!==e&&(e instanceof $n?(!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&(i=this._selectionAccumulator).addEdges.apply(i,On(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],i=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodeIndices[r];i[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(i);return r.length>0?!0===t?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var i=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var o=this.body.edgeIndices[r];i[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(e),r=10,o=null,s=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var f=this.body.edgeIndices[d],x=s[f];if(x.connected){var N=x.edgeType.getDistanceToEdge(x.from.x,x.from.y,x.to.x,x.to.y,i.x,i.y);N<r&&(o=f,r=N)}}return null!==o?!0===t?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof $n?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof $n?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,On(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(e,t,i){var r=this._initBaseEvent(e,t);!0===i.hover&&(i.hover=!1,i instanceof $n?(r.node=i.id,this.body.emitter.emit("blurNode",r)):(r.edge=i.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(e,t,i){var r=this._initBaseEvent(e,t),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof $n?(r.node=i.id,this.body.emitter.emit("hoverNode",r)):(r.edge=i.id,this.body.emitter.emit("hoverEdge",r))),o}},{key:"hoverObject",value:function(e,t){var i=this.getNodeAt(t);void 0===i&&(i=this.getEdgeAt(t));var r=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof $n&&i.id!=o||i instanceof of)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],r=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(!0===r?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof of&&i.id!=s||i instanceof $n&&!i.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],r=!0));if(void 0!==i){var d=dt(this.hoverObj.edges).length,f=dt(this.hoverObj.nodes).length;(r||i instanceof of&&0===d&&0===f||i instanceof $n&&0===d&&0===f)&&(r=this.emitHoverEvent(e,t,i)),i instanceof $n&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===r&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var i=!1,r=this._selectionAccumulator.commit(),o={nodes:r.nodes.previous,edges:r.edges.previous};r.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),i=!0),r.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),i=!0),r.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),i=!0),r.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),i=!0),!0===i&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return ti(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return ti(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var i,r=O_(e.nodes);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,t.highlightEdges)}}catch(I){r.e(I)}finally{r.f()}}if(e.edges){var d,f=O_(e.edges);try{for(f.s();!(d=f.n()).done;){var x=d.value,S=this.body.edges[x];if(!S)throw new RangeError('Edge with id "'+x+'" not found');this.selectObject(S)}}catch(I){f.e(I)}finally{f.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),i=[],r=this.body.nodeIndices,o=this.body.nodes,s=r.length-1;s>=0;s--){var d=o[r[s]].getItemsOnPoint(t);i.push.apply(i,d)}for(var f=this.body.edgeIndices,x=this.body.edges,S=f.length-1;S>=0;S--){var I=x[f[S]].getItemsOnPoint(t);i.push.apply(i,I)}return i}}]),n}(),SC=Yp,gk=Math.floor,mk=function(n,e){var t=n.length,i=gk(t/2);return t<8?KE(n,e):TC(n,mk(SC(n,0,i),e),mk(SC(n,i),e),e)},KE=function(n,e){for(var t,i,r=n.length,o=1;o<r;){for(i=o,t=n[o];i&&e(n[i-1],t)>0;)n[i]=n[--i];i!==o++&&(n[i]=t)}return n},TC=function(n,e,t,i){for(var r=e.length,o=t.length,s=0,d=0;s<r||d<o;)n[s+d]=s<r&&d<o?i(e[s],t[d])<=0?e[s++]:t[d++]:s<r?e[s++]:t[d++];return n},gs=mk,OC=fi.match(/firefox\/(\d+)/i),yk=!!OC&&+OC[1],GE=/MSIE|Trident/.test(fi),IC=fi.match(/AppleWebKit\/(\d+)\./),YE=me,DC=Ee,qE=Si,ZE=Tt,JE=Oi,MC=ne,bk=_e,XE=gs,QE=Mr,_k=yk,eS=GE,PC=_n,wk=!!IC&&+IC[1],Bl=[],um=DC(Bl.sort),RC=DC(Bl.push),FC=bk(function(){Bl.sort(void 0)}),tS=bk(function(){Bl.sort(null)}),iS=QE("sort"),AC=!bk(function(){if(PC)return PC<70;if(!(_k&&_k>3)){if(eS)return!0;if(wk)return wk<603;var n,e,t,i,r="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(i=0;i<47;i++)Bl.push({k:e+i,v:t})}for(Bl.sort(function(o,s){return s.v-o.v}),i=0;i<Bl.length;i++)e=Bl[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});YE({target:"Array",proto:!0,forced:FC||!tS||!iS||!AC},{sort:function(n){void 0!==n&&qE(n);var e=ZE(this);if(AC)return void 0===n?um(e):um(e,n);var t,i,r=[],o=JE(e);for(i=0;i<o;i++)i in e&&RC(r,e[i]);for(XE(r,function(s){return function(d,f){return void 0===f?-1:void 0===d?1:void 0!==s?+s(d,f)||0:MC(d)>MC(f)?1:-1}}(n)),t=r.length,i=0;i<t;)e[i]=r[i++];for(;i<o;)delete e[i++];return e}});var $C=ci("Array").sort,nS=et,rS=$C,xk=Array.prototype,kk=function(n){var e=n.sort;return n===xk||nS(xk,n)&&e===xk.sort?rS:e},aS=Si,sS=Tt,lS=Ur,uS=Oi,cS=Q.TypeError,LC=function(n){return function(e,t,i,r){aS(t);var o=sS(e),s=lS(o),d=uS(o),f=n?d-1:0,x=n?-1:1;if(i<2)for(;;){if(f in s){r=s[f],f+=x;break}if(f+=x,n?f<0:d<=f)throw cS("Reduce of empty array with no initial value")}for(;n?f>=0:d>f;f+=x)f in s&&(r=t(r,s[f],f,o));return r}},dS={left:LC(!1),right:LC(!0)},hS="process"==ni(Q.process),BC=dS.left,NC=_n,fS=hS;me({target:"Array",proto:!0,forced:!Mr("reduce")||!fS&&NC>79&&NC<83},{reduce:function(n){var e=arguments.length;return BC(this,n,e,e>1?arguments[1]:void 0)}});var zC=ci("Array").reduce,pS=et,vS=zC,Ck=Array.prototype,jC=function(n){var e=n.reduce;return n===Ck||pS(Ck,n)&&e===Ck.reduce?vS:e},HC={};!function(n){!function(e){e.__esModule=!0,e.sort=function Y(V,K,J,le){if(!Array.isArray(V))throw new TypeError("Can only sort arrays");K?"function"!=typeof K&&(le=J,J=K,K=f):K=f,J||(J=0),le||(le=V.length);var ie=le-J;if(!(ie<2)){var Ce=0;if(ie<32)P(V,J,le,J+(Ce=S(V,J,le,K)),K);else{var te=new H(V,K),ce=function x(V){for(var K=0;V>=32;)K|=1&V,V>>=1;return V+K}(ie);do{if((Ce=S(V,J,le,K))<ce){var G=ie;G>ce&&(G=ce),P(V,J,J+G,J+Ce,K),Ce=G}te.pushRun(J,Ce),te.mergeRuns(),ie-=Ce,J+=Ce}while(0!==ie);te.forceMergeRuns()}}};var s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function d(V){return V<1e5?V<100?V<10?0:1:V<1e4?V<1e3?2:3:4:V<1e7?V<1e6?5:6:V<1e9?V<1e8?7:8:9}function f(V,K){if(V===K)return 0;if(~~V===V&&~~K===K){if(0===V||0===K)return V<K?-1:1;if(V<0||K<0){if(K>=0)return-1;if(V>=0)return 1;V=-V,K=-K}var J=d(V),le=d(K),ie=0;return J<le?(V*=s[le-J-1],K/=10,ie=-1):J>le&&(K*=s[J-le-1],V/=10,ie=1),V===K?ie:V<K?-1:1}var Ce=String(V),te=String(K);return Ce===te?0:Ce<te?-1:1}function S(V,K,J,le){var ie=K+1;if(ie===J)return 1;if(le(V[ie++],V[K])<0){for(;ie<J&&le(V[ie],V[ie-1])<0;)ie++;!function I(V,K,J){for(J--;K<J;){var le=V[K];V[K++]=V[J],V[J--]=le}}(V,K,ie)}else for(;ie<J&&le(V[ie],V[ie-1])>=0;)ie++;return ie-K}function P(V,K,J,le,ie){for(le===K&&le++;le<J;le++){for(var Ce=V[le],te=K,ce=le;te<ce;){var G=te+ce>>>1;ie(Ce,V[G])<0?ce=G:te=G+1}var je=le-te;switch(je){case 3:V[te+3]=V[te+2];case 2:V[te+2]=V[te+1];case 1:V[te+1]=V[te];break;default:for(;je>0;)V[te+je]=V[te+je-1],je--}V[te]=Ce}}function L(V,K,J,le,ie,Ce){var te=0,ce=0,G=1;if(Ce(V,K[J+ie])>0){for(ce=le-ie;G<ce&&Ce(V,K[J+ie+G])>0;)te=G,(G=1+(G<<1))<=0&&(G=ce);G>ce&&(G=ce),te+=ie,G+=ie}else{for(ce=ie+1;G<ce&&Ce(V,K[J+ie-G])<=0;)te=G,(G=1+(G<<1))<=0&&(G=ce);G>ce&&(G=ce);var je=te;te=ie-G,G=ie-je}for(te++;te<G;){var We=te+(G-te>>>1);Ce(V,K[J+We])>0?te=We+1:G=We}return G}function N(V,K,J,le,ie,Ce){var te=0,ce=0,G=1;if(Ce(V,K[J+ie])<0){for(ce=ie+1;G<ce&&Ce(V,K[J+ie-G])<0;)te=G,(G=1+(G<<1))<=0&&(G=ce);G>ce&&(G=ce);var je=te;te=ie-G,G=ie-je}else{for(ce=le-ie;G<ce&&Ce(V,K[J+ie+G])>=0;)te=G,(G=1+(G<<1))<=0&&(G=ce);G>ce&&(G=ce),te+=ie,G+=ie}for(te++;te<G;){var We=te+(G-te>>>1);Ce(V,K[J+We])<0?G=We:te=We+1}return G}var H=function(){function V(K,J){(function t(V,K){if(!(V instanceof K))throw new TypeError("Cannot call a class as a function")})(this,V),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=K,this.compare=J,this.length=K.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return V.prototype.pushRun=function(K,J){this.runStart[this.stackSize]=K,this.runLength[this.stackSize]=J,this.stackSize+=1},V.prototype.mergeRuns=function(){for(;this.stackSize>1;){var K=this.stackSize-2;if(K>=1&&this.runLength[K-1]<=this.runLength[K]+this.runLength[K+1]||K>=2&&this.runLength[K-2]<=this.runLength[K]+this.runLength[K-1])this.runLength[K-1]<this.runLength[K+1]&&K--;else if(this.runLength[K]>this.runLength[K+1])break;this.mergeAt(K)}},V.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var K=this.stackSize-2;K>0&&this.runLength[K-1]<this.runLength[K+1]&&K--,this.mergeAt(K)}},V.prototype.mergeAt=function(K){var J=this.compare,le=this.array,ie=this.runStart[K],Ce=this.runLength[K],te=this.runStart[K+1],ce=this.runLength[K+1];this.runLength[K]=Ce+ce,K===this.stackSize-3&&(this.runStart[K+1]=this.runStart[K+2],this.runLength[K+1]=this.runLength[K+2]),this.stackSize--;var G=N(le[te],le,ie,Ce,0,J);ie+=G,0!=(Ce-=G)&&0!==(ce=L(le[ie+Ce-1],le,te,ce,ce-1,J))&&(Ce<=ce?this.mergeLow(ie,Ce,te,ce):this.mergeHigh(ie,Ce,te,ce))},V.prototype.mergeLow=function(K,J,le,ie){var Ce=this.compare,te=this.array,ce=this.tmp,G=0;for(G=0;G<J;G++)ce[G]=te[K+G];var je=0,We=le,Oe=K;if(te[Oe++]=te[We++],0!=--ie)if(1!==J){for(var it=this.minGallop;;){var st=0,ht=0,Ct=!1;do{if(Ce(te[We],ce[je])<0){if(te[Oe++]=te[We++],ht++,st=0,0==--ie){Ct=!0;break}}else if(te[Oe++]=ce[je++],st++,ht=0,1==--J){Ct=!0;break}}while((st|ht)<it);if(Ct)break;do{if(0!==(st=N(te[We],ce,je,J,0,Ce))){for(G=0;G<st;G++)te[Oe+G]=ce[je+G];if(Oe+=st,je+=st,(J-=st)<=1){Ct=!0;break}}if(te[Oe++]=te[We++],0==--ie){Ct=!0;break}if(0!==(ht=L(ce[je],te,We,ie,0,Ce))){for(G=0;G<ht;G++)te[Oe+G]=te[We+G];if(Oe+=ht,We+=ht,0==(ie-=ht)){Ct=!0;break}}if(te[Oe++]=ce[je++],1==--J){Ct=!0;break}it--}while(st>=7||ht>=7);if(Ct)break;it<0&&(it=0),it+=2}if(this.minGallop=it,it<1&&(this.minGallop=1),1===J){for(G=0;G<ie;G++)te[Oe+G]=te[We+G];te[Oe+ie]=ce[je]}else{if(0===J)throw new Error("mergeLow preconditions were not respected");for(G=0;G<J;G++)te[Oe+G]=ce[je+G]}}else{for(G=0;G<ie;G++)te[Oe+G]=te[We+G];te[Oe+ie]=ce[je]}else for(G=0;G<J;G++)te[Oe+G]=ce[je+G]},V.prototype.mergeHigh=function(K,J,le,ie){var Ce=this.compare,te=this.array,ce=this.tmp,G=0;for(G=0;G<ie;G++)ce[G]=te[le+G];var je=K+J-1,We=ie-1,Oe=le+ie-1,it=0,st=0;if(te[Oe--]=te[je--],0!=--J)if(1!==ie){for(var ht=this.minGallop;;){var Ct=0,Vt=0,dr=!1;do{if(Ce(ce[We],te[je])<0){if(te[Oe--]=te[je--],Ct++,Vt=0,0==--J){dr=!0;break}}else if(te[Oe--]=ce[We--],Vt++,Ct=0,1==--ie){dr=!0;break}}while((Ct|Vt)<ht);if(dr)break;do{if(0!=(Ct=J-N(ce[We],te,K,J,J-1,Ce))){for(J-=Ct,st=1+(Oe-=Ct),it=1+(je-=Ct),G=Ct-1;G>=0;G--)te[st+G]=te[it+G];if(0===J){dr=!0;break}}if(te[Oe--]=ce[We--],1==--ie){dr=!0;break}if(0!=(Vt=ie-L(te[je],ce,0,ie,ie-1,Ce))){for(ie-=Vt,st=1+(Oe-=Vt),it=1+(We-=Vt),G=0;G<Vt;G++)te[st+G]=ce[it+G];if(ie<=1){dr=!0;break}}if(te[Oe--]=te[je--],0==--J){dr=!0;break}ht--}while(Ct>=7||Vt>=7);if(dr)break;ht<0&&(ht=0),ht+=2}if(this.minGallop=ht,ht<1&&(this.minGallop=1),1===ie){for(st=1+(Oe-=J),it=1+(je-=J),G=J-1;G>=0;G--)te[st+G]=te[it+G];te[Oe]=ce[We]}else{if(0===ie)throw new Error("mergeHigh preconditions were not respected");for(it=Oe-(ie-1),G=0;G<ie;G++)te[it+G]=ce[G]}}else{for(st=1+(Oe-=J),it=1+(je-=J),G=J-1;G>=0;G--)te[st+G]=te[it+G];te[Oe]=ce[We]}else for(it=Oe-(ie-1),G=0;G<ie;G++)te[it+G]=ce[G]},V}()}(n)}(HC);var cm=HC;function VC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ue(n);if(e){var r=ue(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}var WC=function(){function n(){be(this,n)}return we(n,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){this.fake_use(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),n}(),mS=function(n){vt(t,n);var e=VC(t);function t(i){var r;return be(this,t),(r=e.call(this)).layout=i,r}return we(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.x=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_x,max:r.max_x}}},{key:"sort",value:function(i){cm.sort(i,function(r,o){return r.x-o.x})}},{key:"fix",value:function(i,r){i.y=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.y=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].x+=r}}]),t}(WC),KC=function(n){vt(t,n);var e=VC(t);function t(i){var r;return be(this,t),(r=e.call(this)).layout=i,r}return we(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.y=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_y,max:r.max_y}}},{key:"sort",value:function(i){cm.sort(i,function(r,o){return r.y-o.y})}},{key:"fix",value:function(i,r){i.x=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.x=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].y+=r}}]),t}(WC),yS=Yn.every;me({target:"Array",proto:!0,forced:!Mr("every")},{every:function(n){return yS(this,n,arguments.length>1?arguments[1]:void 0)}});var bS=ci("Array").every,_S=et,wS=bS,Ek=Array.prototype,Sk=function(n){var e=n.every;return n===Ek||_S(Ek,n)&&e===Ek.every?wS:e};function Tk(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ok(n,e){var t=new Al;return Rt(n).call(n,function(i){var r;Rt(r=i.edges).call(r,function(o){o.connected&&t.add(o)})}),Rt(t).call(t,function(i){var r=i.from.id,o=i.to.id;null==e[r]&&(e[r]=0),(null==e[o]||e[r]>=e[o])&&(e[o]=e[r]+1)}),e}function Ik(n,e,t,i){var r,o,s=Xo(null),d=jC(r=On(k(i).call(i))).call(r,function(L,N){return L+1+N.edges.length},0),f=t+"Id",x="to"===t?1:-1,S=function GC(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return Tk(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return Tk(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(i);try{var I=function(){var L=qt(o.value,2),N=L[0],H=L[1];if(!i.has(N)||!n(H))return"continue";s[N]=0;for(var Y=[H],V=0,K=void 0,J=function(){var ie,Ce;if(!i.has(N))return"continue";var te=s[K.id]+x;if(Rt(ie=Ai(Ce=K.edges).call(Ce,function(ce){return ce.connected&&ce.to!==ce.from&&ce[t]!==K&&i.has(ce.toId)&&i.has(ce.fromId)})).call(ie,function(ce){var G=ce[f],je=s[G];(null==je||e(te,je))&&(s[G]=te,Y.push(ce[t]))}),V>d)return{v:{v:Ok(i,s)}};++V};K=Y.pop();){var le=J();if("continue"!==le&&"object"===_t(le))return le.v}};for(S.s();!(o=S.n()).done;){var P=I();if("continue"!==P&&"object"===_t(P))return P.v}}catch(L){S.e(L)}finally{S.f()}return s}var xS=function(){function n(){be(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return we(n,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,i={};return function r(o){if(void 0!==i[o])return i[o];var s=t.levels[o];if(t.childrenReference[o]){var d=t.childrenReference[o];if(d.length>0)for(var f=0;f<d.length;f++)s=Math.max(s,r(d[f]))}return i[o]=s,s}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.levels[i]&&(t=Math.min(this.levels[i],t));for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&void 0!==this.levels[r]&&(this.levels[r]-=t)}},{key:"getTreeSize",value:function(e,t){var i=1e9,r=-1e9,o=1e9,s=-1e9;for(var d in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,d)&&this.trees[d]===t){var f=e[d];i=Math.min(f.x,i),r=Math.max(f.x,r),o=Math.min(f.y,o),s=Math.max(f.y,s)}return{min_x:i,max_x:r,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(e,t){var i=this.parentReference[e.id],r=this.parentReference[t.id];if(void 0===i||void 0===r)return!1;for(var o=0;o<i.length;o++)for(var s=0;s<r.length;s++)if(i[o]==r[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return dt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var i=!1,r=this.distributionOrdering[t];for(var o in r)if(r[o]===e){i=!0;break}i||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),kS=function(){function n(e){be(this,n),this.body=e,this._resetRNG(Math.random()+":"+fl()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ze(this.options,this.defaultOptions),this.bindEventListeners()}return we(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var i=this.options.hierarchical,r=i.enabled;if(Tl(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Fn(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===i.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===r)return this.body.emitter.emit("refresh"),Ft(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Rn(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===_t(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var r=e.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(i=r.type),this.optionsBackup.edges={smooth:{enabled:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}},e.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:i,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,i=0;i<e.length;i++){var r=e[i],o=2*Math.PI*this._rng();void 0===r.x&&(r.x=t*Math.cos(o)),void 0===r.y&&(r.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,i=0;i<e.length;i++)!0===this.body.nodes[e[i]].predefinedPosition&&(t+=1);if(t<.5*e.length){var r=0,o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var d=e.length;e.length>o&&r<=10;){var f=e.length;if((r+=1)%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),f==e.length&&r%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}r>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var x=0;x<e.length;x++){var S=this.body.nodes[e[x]];!1===S.predefinedPosition&&(S.x+=70*(.5-this._rng()),S.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=gn.getRangeCore(this.body.nodes,this.body.nodeIndices),t=gn.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.x-=t.x,r.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,i=!1,r=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new xS,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(i=!0,this.hierarchical.levels[t]=e.options.level):r=!0);if(!0===r&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===r){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var d=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(d),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,i={},r=function(P,L){var N=e.hierarchical.trees;for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&N[H]===P&&e.direction.shift(H,L)},s=function P(L,N){if(!N[L.id]&&(N[L.id]=!0,e.hierarchical.childrenReference[L.id])){var H=e.hierarchical.childrenReference[L.id];if(H.length>0)for(var Y=0;Y<H.length;Y++)P(e.body.nodes[H[Y]],N)}},d=function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,N=1e9,H=1e9,Y=1e9,V=-1e9;for(var K in P)if(Object.prototype.hasOwnProperty.call(P,K)){var J=e.body.nodes[K],le=e.hierarchical.levels[J.id],ie=e.direction.getPosition(J),te=qt(e._getSpaceAroundNode(J,P),2),G=te[1];N=Math.min(te[0],N),H=Math.min(G,H),le<=L&&(Y=Math.min(ie,Y),V=Math.max(ie,V))}return[Y,V,N,H]},f=function(P,L){var N=e.hierarchical.getMaxLevel(P.id),H=e.hierarchical.getMaxLevel(L.id);return Math.min(N,H)},x=function(P,L,N){for(var H=e.hierarchical,Y=0;Y<L.length;Y++){var K=H.distributionOrdering[L[Y]];if(K.length>1)for(var J=0;J<K.length-1;J++){var le=K[J],ie=K[J+1];H.hasSameParent(le,ie)&&H.inSameSubNetwork(le,ie)&&P(le,ie,N)}}},S=function(P,L){var N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=e.direction.getPosition(P),Y=e.direction.getPosition(L),V=Math.abs(Y-H),K=e.options.hierarchical.nodeSpacing;if(V>K){var J={},le={};s(P,J),s(L,le);var ie=f(P,L),Ce=d(J,ie),te=d(le,ie),ce=Ce[1],G=te[0],je=te[2];if(Math.abs(ce-G)>K){var Oe=ce-G+K;Oe<-je+K&&(Oe=-je+K),Oe<0&&(e._shiftBlock(L.id,Oe),t=!0,!0===N&&e._centerParent(L))}}},I=function(P,L){for(var N=L.id,H=L.edges,Y=e.hierarchical.levels[L.id],V=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,K={},J=[],le=0;le<H.length;le++){var ie=H[le];if(ie.toId!=ie.fromId){var Ce=ie.toId==N?ie.from:ie.to;K[H[le].id]=Ce,e.hierarchical.levels[Ce.id]<Y&&J.push(ie)}}var We,Oe,it,st,Ct,Vt,te=function(We,Oe){for(var it=0,st=0;st<Oe.length;st++)if(void 0!==K[Oe[st].id]){var ht=e.direction.getPosition(K[Oe[st].id])-We;it+=ht/Math.sqrt(ht*ht+V)}return it},ce=function(We,Oe){for(var it=0,st=0;st<Oe.length;st++)if(void 0!==K[Oe[st].id]){var ht=e.direction.getPosition(K[Oe[st].id])-We;it-=V*Math.pow(ht*ht+V,-1.5)}return it},G=function(We,Oe){for(var it=e.direction.getPosition(L),st={},ht=0;ht<We;ht++){var Ct=te(it,Oe),Vt=ce(it,Oe);if(void 0!==st[it-=Math.max(-40,Math.min(40,Math.round(Ct/Vt)))])break;st[it]=ht}return it},je=G(P,J);(function(We){var Oe=e.direction.getPosition(L);if(void 0===i[L.id]){var it={};s(L,it),i[L.id]=it}var st=d(i[L.id]),ht=st[2],Vt=We-Oe,dr=0;Vt>0?dr=Math.min(Vt,st[3]-e.options.hierarchical.nodeSpacing):Vt<0&&(dr=-Math.min(-Vt,ht-e.options.hierarchical.nodeSpacing)),0!=dr&&(e._shiftBlock(L.id,dr),t=!0)})(je),We=je=G(P,H),Oe=e.direction.getPosition(L),st=(it=qt(e._getSpaceAroundNode(L),2))[0],Vt=Oe,(Ct=We-Oe)>0?Vt=Math.min(Oe+(it[1]-e.options.hierarchical.nodeSpacing),We):Ct<0&&(Vt=Math.max(Oe-(st-e.options.hierarchical.nodeSpacing),We)),Vt!==Oe&&(e.direction.setPosition(L,Vt),t=!0)};!0===this.options.hierarchical.blockShifting&&(function(P){var L=e.hierarchical.getLevels();L=Ki(L).call(L);for(var N=0;N<5&&(t=!1,x(S,L,!0),!0===t);N++);}(),function(){for(var P in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,P)&&e._centerParent(e.body.nodes[P])}()),!0===this.options.hierarchical.edgeMinimization&&function(P){var L=e.hierarchical.getLevels();L=Ki(L).call(L);for(var N=0;N<20;N++){t=!1;for(var H=0;H<L.length;H++)for(var V=e.hierarchical.distributionOrdering[L[H]],K=0;K<V.length;K++)I(1e3,V[K]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var P=e.hierarchical.getLevels();P=Ki(P).call(P);for(var L=0;L<P.length;L++)for(var H=e.hierarchical.distributionOrdering[P[L]],Y=0;Y<H.length;Y++)e._centerParent(H[Y])}(),function(){for(var P=function(){for(var P=[],L=0;L<e.hierarchical.numTrees();L++)P.push(e.direction.getTreeSize(L));return P}(),L=0,N=0;N<P.length-1;N++)r(N+1,L+=P[N].max-P[N+1].min+e.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var i=!0;void 0===t&&(i=!1);var r=this.hierarchical.levels[e.id];if(void 0!==r){var o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),d=this.hierarchical.distributionOrdering[r],f=1e9,x=1e9;if(0!==o){var S=d[o-1];(!0===i&&void 0===t[S.id]||!1===i)&&(f=s-this.direction.getPosition(S))}if(o!=d.length-1){var I=d[o+1];if(!0===i&&void 0===t[I.id]||!1===i){var P=this.direction.getPosition(I);x=Math.min(x,P-s)}}return[f,x]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],i=0;i<t.length;i++){var r=t[i],o=this.body.nodes[r],s=this.hierarchical.childrenReference[r];if(void 0!==s){var d=this._getCenterPosition(s),f=this.direction.getPosition(o),x=qt(this._getSpaceAroundNode(o),2),S=x[0],I=x[1],P=f-d;(P<0&&Math.abs(P)<I-this.options.hierarchical.nodeSpacing||P>0&&Math.abs(P)<S-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,d)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var i,r=dt(e[t]);r=this._indexArrayToNodes(r),kk(i=this.direction).call(i,r);for(var o=0,s=0;s<r.length;s++){var d=r[s];if(void 0===this.positionedNodes[d.id]){var f=this.options.hierarchical.nodeSpacing,x=f*o;o>0&&(x=this.direction.getPosition(r[s-1])+f),this.direction.setPosition(d,x,t),this._validatePositionAndContinue(d,t,x),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var i,r=this.hierarchical.childrenReference[e];if(void 0!==r){for(var o=[],s=0;s<r.length;s++)o.push(this.body.nodes[r[s]]);kk(i=this.direction).call(i,o);for(var d=0;d<o.length;d++){var f=o[d],x=this.hierarchical.levels[f.id];if(!(x>t&&void 0===this.positionedNodes[f.id]))return;var I,S=this.options.hierarchical.nodeSpacing;I=0===d?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[d-1])+S,this.direction.setPosition(f,I,x),this._validatePositionAndContinue(f,x,I)}var P=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],P,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(i-r<this.options.hierarchical.nodeSpacing){var o=r+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.body.nodes[e[i]]);return t}},{key:"_getDistribution",value:function(){var e,t,i={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){var r=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t=this.body.nodes[e],r),void 0===i[r]&&(i[r]={}),i[r][e]=t}return i}},{key:"_getActiveEdges",value:function(e){var t=this,i=[];return ut(e.edges,function(r){var o;-1!==mt(o=t.body.edgeIndices).call(o,r.id)&&i.push(r)}),i}},{key:"_getHubSizes",value:function(){var e=this,t={};ut(this.body.nodeIndices,function(r){var s=e._getActiveEdges(e.body.nodes[r]).length;t[s]=!0});var i=[];return ut(t,function(r){i.push(Number(r))}),kk(cm).call(cm,i,function(r,o){return o-r}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(s,d){e.hierarchical.levelDownstream(s,d)},i=this._getHubSizes(),r=function(s){var d=i[s];if(0===d)return"break";ut(e.body.nodeIndices,function(f){d===e._getActiveEdges(e.body.nodes[f]).length&&e._crawlNetwork(t,f)})},o=0;o<i.length&&"break"!==r(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,i,r){var o=e.hierarchical.levels[t.id];void 0===o&&(o=e.hierarchical.levels[t.id]=1e5);var s=(gn.cloneOptions(t,"node"),gn.cloneOptions(i,"node"),void gn.cloneOptions(r,"edge"));e.hierarchical.levels[i.id]=o+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,r,t=this,i=jC(e=this.body.nodeIndices).call(e,function(r,o){return r.set(o,t.body.nodes[o]),r},new lr);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?Ik(function(o){var s,d;return Sk(s=Ai(d=o.edges).call(d,function(f){return r.has(f.toId)})).call(s,function(f){return f.from===o})},function(o,s){return s<o},"to",r=i):function(r){return Ik(function(o){var s,d;return Sk(s=Ai(d=o.edges).call(d,function(f){return r.has(f.toId)})).call(s,function(f){return f.to===o})},function(o,s){return s>o},"from",r)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,i){e.hierarchical.levels[i.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,r={},o=function I(P,L){if(void 0===r[P.id]){var N;e.hierarchical.setTreeIndex(P,L),r[P.id]=!0;for(var H=e._getActiveEdges(P),Y=0;Y<H.length;Y++){var V=H[Y];!0===V.connected&&P.id!=(N=V.toId==P.id?V.from:V.to).id&&(t(P,N,V),I(N,L))}}};if(void 0===i)for(var s=0,d=0;d<this.body.nodeIndices.length;d++){var f=this.body.nodeIndices[d];void 0===r[f]&&(o(this.body.nodes[f],s),s+=1)}else{var S=this.body.nodes[i];if(void 0===S)return void console.error("Node not found:",i);o(S)}}},{key:"_shiftBlock",value:function(e,t){var i=this,r={};!function o(s){if(!r[s]){r[s]=!0,i.direction.shift(s,t);var d=i.hierarchical.childrenReference[s];if(void 0!==d)for(var f=0;f<d.length;f++)o(d[f])}}(e)}},{key:"_findCommonParent",value:function(e,t){var i=this,r={};return function o(s,d){var f=i.hierarchical.parentReference[d];if(void 0!==f)for(var x=0;x<f.length;x++){var S=f[x];s[S]=!0,o(s,S)}}(r,e),function o(s,d){var f=i.hierarchical.parentReference[d];if(void 0!==f)for(var x=0;x<f.length;x++){var S=f[x];if(void 0!==s[S])return{foundParent:S,withChild:d};var I=o(s,S);if(null!==I.foundParent)return I}return{foundParent:null,withChild:d}}(r,t)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new mS(this):new KC(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,i=-1e9,r=0;r<e.length;r++){var d=this.direction.getPosition(void 0!==e[r].id?e[r]:this.body.nodes[e[r]]);t=Math.min(t,d),i=Math.max(i,d)}return.5*(t+i)}}]),n}();function UC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var ES=function(){function n(e,t,i,r){var o,s,d=this;be(this,n),this.body=e,this.canvas=t,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},ze(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){d._clean()}),this.body.emitter.on("_dataChanged",fe(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",fe(s=this._restore).call(s,this))}return we(n,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,i){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:i.locale,this.options.locales=void 0!==t.locales?t.locales:i.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,Ft(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),r=this.selectionHandler.getSelectedEdgeCount(),o=i+r,s=this.options.locales[this.options.locale],d=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),d=!0),!1!==this.options.addEdge&&(!0===d?this._createSeperator(1):d=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===d?this._createSeperator(2):d=!0,this._createEditNodeButton(s)):1===r&&0===i&&!1!==this.options.editEdge&&(!0===d?this._createSeperator(3):d=!0,this._createEditEdgeButton(s)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===d&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,fe(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",fe(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,fe(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",fe(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=Ft({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(r){null!=r&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(r),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,i,r,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,d=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(d),this._createSeperator(),this._createDescription(d.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,fe(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",fe(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",fe(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",fe(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",fe(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDragStart",fe(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==_t(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,fe(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,r,o,s,d=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(d.from.x,d.from.y),x=this._getNewTargetNode(d.to.x,d.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(x.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[x.id]=x,this.body.nodeIndices.push(x.id),this._temporaryBindUI("onTouch",fe(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",fe(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",fe(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",fe(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(I){var P=d.edgeType.findBorderPositions(I);!1===f.selected&&(f.x=P.from.x,f.y=P.from.y),!1===x.selected&&(x.x=P.to.x,x.y=P.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var S=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(S.from.id,S.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),r=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){var s={nodes:t,edges:i};if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r(s,function(d){null!=d&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(d.edges),e.body.data.nodes.getDataSet().remove(d.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var i=Ft({},this.options.controlNodeStyle);i.id="targetNode"+om(),i.hidden=!1,i.physics=!1,i.x=e,i.y=t;var r=this.body.functions.createNode(i);return r.shape.boundingBox={left:e,right:e,top:t,bottom:t},r}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},sr(this.editModeDiv);var i=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,fe(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(sr(this.editModeDiv),sr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,i=function CS(n,e){var t=void 0!==wo&&Tr(n)||n["@@iterator"];if(!t){if(Et(n)||(t=function(f,x){var S;if(f){if("string"==typeof f)return UC(f,x);var I=ct(S=Object.prototype.toString.call(f)).call(S,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return po(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return UC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(In(e=this._domEventListenerCleanupQueue).call(e,0));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(r){i.e(r)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),sr(this.manipulationDiv),sr(this.editModeDiv),sr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,fe(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,fe(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,fe(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,fe(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,fe(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,fe(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Ju(dt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++)this.body.emitter.off(this.temporaryEventFunctions[e].event,this.temporaryEventFunctions[e].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var i=new ua(e,{});x_(i,t),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var r=function(o){var s=o.keyCode,d=o.key;"Enter"!==d&&" "!==d&&13!==s&&32!==s||t()};e.addEventListener("keyup",r,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",r,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i,r=mt(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==r&&In(i=this.body.edgeIndices).call(i,r,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var d,f=mt(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);-1!==f&&In(d=this.body.nodeIndices).call(d,f,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ze({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(t),d=r.isOverlappingWith(t);!0===s?(this.selectedControlNode=i,o.edgeType.from=i):!0===d&&(this.selectedControlNode=r,o.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--)if(o[d]!==this.selectedControlNode.id){s=this.body.nodes[o[d]];break}void 0!==s&&void 0!==this.selectedControlNode?!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,r.to.id):this._performEditEdge(r.from.id,s.id):(r.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ze({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(i.x,i.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var o=this.body.functions.createEdge({id:"connectionEdge"+om(),from:i.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--){var f;if(-1===mt(f=this.temporaryIds.nodes).call(f,o[d])){s=this.body.nodes[o[d]];break}}if(e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var x=this.body.nodes[this.temporaryIds.nodes[0]];x.x=this.canvas._XconvertDOMtoCanvas(t.x),x.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--){var f;if(-1===mt(f=this.temporaryIds.nodes).call(f,o[d])){s=this.body.nodes[o[d]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(r,s.id)),e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){this.selectionHandler.generateClickEvent("dragStart",e,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,i={id:om(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(r){null!=r&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(r),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var i=this,r={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,function(o){null!=o&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var i=this,r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if("object"===_t(o)&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(r,function(s){null==s||"editEdge"!==i.inMode?(i.body.edges[r.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(s),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}(),xe="string",ve="boolean",re="number",hm="array",$e="object",Dk=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Mk={borderWidth:{number:re},borderWidthSelected:{number:re,undefined:"undefined"},brokenImage:{string:xe,undefined:"undefined"},chosen:{label:{boolean:ve,function:"function"},node:{boolean:ve,function:"function"},__type__:{object:$e,boolean:ve}},color:{border:{string:xe},background:{string:xe},highlight:{border:{string:xe},background:{string:xe},__type__:{object:$e,string:xe}},hover:{border:{string:xe},background:{string:xe},__type__:{object:$e,string:xe}},__type__:{object:$e,string:xe}},opacity:{number:re,undefined:"undefined"},fixed:{x:{boolean:ve},y:{boolean:ve},__type__:{object:$e,boolean:ve}},font:{align:{string:xe},color:{string:xe},size:{number:re},face:{string:xe},background:{string:xe},strokeWidth:{number:re},strokeColor:{string:xe},vadjust:{number:re},multi:{boolean:ve,string:xe},bold:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},boldital:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},ital:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},mono:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},__type__:{object:$e,string:xe}},group:{string:xe,number:re,undefined:"undefined"},heightConstraint:{minimum:{number:re},valign:{string:xe},__type__:{object:$e,boolean:ve,number:re}},hidden:{boolean:ve},icon:{face:{string:xe},code:{string:xe},size:{number:re},color:{string:xe},weight:{string:xe,number:re},__type__:{object:$e}},id:{string:xe,number:re},image:{selected:{string:xe,undefined:"undefined"},unselected:{string:xe,undefined:"undefined"},__type__:{object:$e,string:xe}},imagePadding:{top:{number:re},right:{number:re},bottom:{number:re},left:{number:re},__type__:{object:$e,number:re}},label:{string:xe,undefined:"undefined"},labelHighlightBold:{boolean:ve},level:{number:re,undefined:"undefined"},margin:{top:{number:re},right:{number:re},bottom:{number:re},left:{number:re},__type__:{object:$e,number:re}},mass:{number:re},physics:{boolean:ve},scaling:{min:{number:re},max:{number:re},label:{enabled:{boolean:ve},min:{number:re},max:{number:re},maxVisible:{number:re},drawThreshold:{number:re},__type__:{object:$e,boolean:ve}},customScalingFunction:{function:"function"},__type__:{object:$e}},shadow:{enabled:{boolean:ve},color:{string:xe},size:{number:re},x:{number:re},y:{number:re},__type__:{object:$e,boolean:ve}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ve,array:hm},borderRadius:{number:re},interpolation:{boolean:ve},useImageSize:{boolean:ve},useBorderWithImage:{boolean:ve},coordinateOrigin:{string:["center","top-left"]},__type__:{object:$e}},size:{number:re},title:{string:xe,dom:"dom",undefined:"undefined"},value:{number:re,undefined:"undefined"},widthConstraint:{minimum:{number:re},maximum:{number:re},__type__:{object:$e,boolean:ve,number:re}},x:{number:re},y:{number:re},__type__:{object:$e}},YC={configure:{enabled:{boolean:ve},filter:{boolean:ve,string:xe,array:hm,function:"function"},container:{dom:"dom"},showButton:{boolean:ve},__type__:{object:$e,boolean:ve,string:xe,array:hm,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ve},scaleFactor:{number:re},type:{string:Dk},imageHeight:{number:re},imageWidth:{number:re},src:{string:xe},__type__:{object:$e,boolean:ve}},middle:{enabled:{boolean:ve},scaleFactor:{number:re},type:{string:Dk},imageWidth:{number:re},imageHeight:{number:re},src:{string:xe},__type__:{object:$e,boolean:ve}},from:{enabled:{boolean:ve},scaleFactor:{number:re},type:{string:Dk},imageWidth:{number:re},imageHeight:{number:re},src:{string:xe},__type__:{object:$e,boolean:ve}},__type__:{string:["from","to","middle"],object:$e}},endPointOffset:{from:{number:re},to:{number:re},__type__:{object:$e,number:re}},arrowStrikethrough:{boolean:ve},background:{enabled:{boolean:ve},color:{string:xe},size:{number:re},dashes:{boolean:ve,array:hm},__type__:{object:$e,boolean:ve}},chosen:{label:{boolean:ve,function:"function"},edge:{boolean:ve,function:"function"},__type__:{object:$e,boolean:ve}},color:{color:{string:xe},highlight:{string:xe},hover:{string:xe},inherit:{string:["from","to","both"],boolean:ve},opacity:{number:re},__type__:{object:$e,string:xe}},dashes:{boolean:ve,array:hm},font:{color:{string:xe},size:{number:re},face:{string:xe},background:{string:xe},strokeWidth:{number:re},strokeColor:{string:xe},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:re},multi:{boolean:ve,string:xe},bold:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},boldital:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},ital:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},mono:{color:{string:xe},size:{number:re},face:{string:xe},mod:{string:xe},vadjust:{number:re},__type__:{object:$e,string:xe}},__type__:{object:$e,string:xe}},hidden:{boolean:ve},hoverWidth:{function:"function",number:re},label:{string:xe,undefined:"undefined"},labelHighlightBold:{boolean:ve},length:{number:re,undefined:"undefined"},physics:{boolean:ve},scaling:{min:{number:re},max:{number:re},label:{enabled:{boolean:ve},min:{number:re},max:{number:re},maxVisible:{number:re},drawThreshold:{number:re},__type__:{object:$e,boolean:ve}},customScalingFunction:{function:"function"},__type__:{object:$e}},selectionWidth:{function:"function",number:re},selfReferenceSize:{number:re},selfReference:{size:{number:re},angle:{number:re},renderBehindTheNode:{boolean:ve},__type__:{object:$e}},shadow:{enabled:{boolean:ve},color:{string:xe},size:{number:re},x:{number:re},y:{number:re},__type__:{object:$e,boolean:ve}},smooth:{enabled:{boolean:ve},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:re},forceDirection:{string:["horizontal","vertical","none"],boolean:ve},__type__:{object:$e,boolean:ve}},title:{string:xe,undefined:"undefined"},width:{number:re},widthConstraint:{maximum:{number:re},__type__:{object:$e,boolean:ve,number:re}},value:{number:re,undefined:"undefined"},__type__:{object:$e}},groups:{useDefaultGroups:{boolean:ve},__any__:Mk,__type__:{object:$e}},interaction:{dragNodes:{boolean:ve},dragView:{boolean:ve},hideEdgesOnDrag:{boolean:ve},hideEdgesOnZoom:{boolean:ve},hideNodesOnDrag:{boolean:ve},hover:{boolean:ve},keyboard:{enabled:{boolean:ve},speed:{x:{number:re},y:{number:re},zoom:{number:re},__type__:{object:$e}},bindToWindow:{boolean:ve},autoFocus:{boolean:ve},__type__:{object:$e,boolean:ve}},multiselect:{boolean:ve},navigationButtons:{boolean:ve},selectable:{boolean:ve},selectConnectedEdges:{boolean:ve},hoverConnectedEdges:{boolean:ve},tooltipDelay:{number:re},zoomView:{boolean:ve},zoomSpeed:{number:re},__type__:{object:$e}},layout:{randomSeed:{undefined:"undefined",number:re,string:xe},improvedLayout:{boolean:ve},clusterThreshold:{number:re},hierarchical:{enabled:{boolean:ve},levelSeparation:{number:re},nodeSpacing:{number:re},treeSpacing:{number:re},blockShifting:{boolean:ve},edgeMinimization:{boolean:ve},parentCentralization:{boolean:ve},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:$e,boolean:ve}},__type__:{object:$e}},manipulation:{enabled:{boolean:ve},initiallyActive:{boolean:ve},addNode:{boolean:ve,function:"function"},addEdge:{boolean:ve,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:$e,boolean:ve,function:"function"}},deleteNode:{boolean:ve,function:"function"},deleteEdge:{boolean:ve,function:"function"},controlNodeStyle:Mk,__type__:{object:$e,boolean:ve}},nodes:Mk,physics:{enabled:{boolean:ve},barnesHut:{theta:{number:re},gravitationalConstant:{number:re},centralGravity:{number:re},springLength:{number:re},springConstant:{number:re},damping:{number:re},avoidOverlap:{number:re},__type__:{object:$e}},forceAtlas2Based:{theta:{number:re},gravitationalConstant:{number:re},centralGravity:{number:re},springLength:{number:re},springConstant:{number:re},damping:{number:re},avoidOverlap:{number:re},__type__:{object:$e}},repulsion:{centralGravity:{number:re},springLength:{number:re},springConstant:{number:re},nodeDistance:{number:re},damping:{number:re},__type__:{object:$e}},hierarchicalRepulsion:{centralGravity:{number:re},springLength:{number:re},springConstant:{number:re},nodeDistance:{number:re},damping:{number:re},avoidOverlap:{number:re},__type__:{object:$e}},maxVelocity:{number:re},minVelocity:{number:re},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ve},iterations:{number:re},updateInterval:{number:re},onlyDynamicEdges:{boolean:ve},fit:{boolean:ve},__type__:{object:$e,boolean:ve}},timestep:{number:re},adaptiveTimestep:{boolean:ve},wind:{x:{number:re},y:{number:re},__type__:{object:$e}},__type__:{object:$e,boolean:ve}},autoResize:{boolean:ve},clickToUse:{boolean:ve},locale:{string:xe},locales:{__any__:{any:"any"},__type__:{object:$e}},height:{string:xe},width:{string:xe},__type__:{object:$e}},Pk={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},qC=function(n,e,t){var i;return!(!Qn(n).call(n,"physics")||!Qn(i=Pk.physics.solver).call(i,e)||t.physics.solver===e||"wind"===e)},Rk=Object.freeze({__proto__:null,configuratorHideOption:qC,allOptions:YC,configureOptions:Pk}),SS=function(){function n(){be(this,n)}return we(n,[{key:"getDistances",value:function(e,t,i){for(var r={},o=e.edges,s=0;s<t.length;s++){var d={};r[t[s]]=d;for(var f=0;f<t.length;f++)d[t[f]]=s==f?0:1e9}for(var x=0;x<i.length;x++){var S=o[i[x]];!0===S.connected&&void 0!==r[S.fromId]&&void 0!==r[S.toId]&&(r[S.fromId][S.toId]=1,r[S.toId][S.fromId]=1)}for(var I=t.length,P=0;P<I;P++)for(var L=t[P],N=r[L],H=0;H<I-1;H++)for(var Y=t[H],V=r[Y],K=H+1;K<I;K++){var J=t[K],le=r[J],ie=Math.min(V[J],V[L]+N[J]);V[J]=ie,le[Y]=ie}return r}}]),n}(),TS=function(){function n(e,t,i){be(this,n),this.body=e,this.springLength=t,this.springConstant=i,this.distanceSolver=new SS}return we(n,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();for(var o=.01,s=1,d=0,f=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),x=5,S=1e9,I=0,P=0,L=0,N=0,H=0;S>o&&d<f;){d+=1;var V=qt(this._getHighestEnergyNode(i),4);for(I=V[0],P=V[2],L=V[3],N=S=V[1],H=0;N>s&&H<x;){H+=1,this._moveNode(I,P,L);var J=qt(this._getEnergy(I),3);N=J[0],P=J[1],L=J[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,r=0,o=t[0],s=0,d=0,f=0;f<t.length;f++){var x=t[f];if(!0!==i[x].predefinedPosition||!0===i[x].isCluster&&!0===e||!0!==i[x].options.fixed.x||!0!==i[x].options.fixed.y){var S=qt(this._getEnergy(x),3),I=S[0];r<I&&(r=I,o=x,s=S[1],d=S[2])}}return[o,r,s,d]}},{key:"_getEnergy",value:function(e){var t=qt(this.E_sums[e],2),i=t[0],r=t[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),i,r]}},{key:"_moveNode",value:function(e,t,i){for(var r=this.body.nodeIndices,o=this.body.nodes,s=0,d=0,f=0,x=o[e].x,S=o[e].y,I=this.K_matrix[e],P=this.L_matrix[e],L=0;L<r.length;L++){var N=r[L];if(N!==e){var H=o[N].x,Y=o[N].y,V=I[N],K=P[N],J=1/Math.pow(Math.pow(x-H,2)+Math.pow(S-Y,2),1.5);s+=V*(1-K*Math.pow(S-Y,2)*J),d+=V*(K*(x-H)*(S-Y)*J),f+=V*(1-K*Math.pow(x-H,2)*J)}}var le=(t/s+i/d)/(d/s-f/d);o[e].x+=-(d*le+t)/s,o[e].y+=le,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var r=0;r<t.length;r++){this.L_matrix[t[r]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[r]][t[o]]=i*e[t[r]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var r=0;r<t.length;r++){this.K_matrix[t[r]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[r]][t[o]]=i*Math.pow(e[t[r]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var r=0;r<e.length;r++){for(var o=e[r],s=t[o].x,d=t[o].y,f=0,x=0,S=r;S<e.length;S++){var I=e[S];if(I!==o){var P=t[I].x,L=t[I].y,N=1/Math.sqrt(Math.pow(s-P,2)+Math.pow(d-L,2));this.E_matrix[o][S]=[this.K_matrix[o][I]*(s-P-this.L_matrix[o][I]*(s-P)*N),this.K_matrix[o][I]*(d-L-this.L_matrix[o][I]*(d-L)*N)],this.E_matrix[I][r]=this.E_matrix[o][S],f+=this.E_matrix[o][S][0],x+=this.E_matrix[o][S][1]}}this.E_sums[o]=[f,x]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,r=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],d=i[e].x,f=i[e].y,x=0,S=0,I=0;I<t.length;I++){var P=t[I];if(P!==e){var L=r[I],N=L[0],H=L[1],Y=i[P].x,V=i[P].y,K=1/Math.sqrt(Math.pow(d-Y,2)+Math.pow(f-V,2)),J=o[P]*(d-Y-s[P]*(d-Y)*K),le=o[P]*(f-V-s[P]*(f-V)*K);r[I]=[J,le],x+=J,S+=le;var ie=this.E_sums[P];ie[0]+=J-N,ie[1]+=le-H}}this.E_sums[e]=[x,S]}}]),n}();function Ae(n,e,t){var i,r,o,s,d=this;if(!(this instanceof Ae))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:B0,clickToUse:!1},ze(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:fe(i=this.on).call(i,this),off:fe(r=this.off).call(r,this),emit:fe(o=this.emit).call(o,this),once:fe(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new N0(function(){return d.body.emitter.emit("_requestRedraw")}),this.groups=new n_,this.canvas=new DE(this.body),this.selectionHandler=new EC(this.body,this.canvas),this.interactionHandler=new hC(this.body,this.canvas,this.selectionHandler),this.view=new ME(this.body,this.canvas),this.renderer=new IE(this.body,this.canvas),this.physics=new aC(this.body),this.layoutEngine=new kS(this.body),this.clustering=new TE(this.body),this.manipulation=new ES(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new tm(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new nC(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new TS(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}ld(Ae.prototype),Ae.prototype.setOptions=function(n){var e=this;if(null===n&&(n=void 0),void 0!==n){if(!0===Mo.validate(n,YC)&&console.error("%cErrors have been found in the supplied options object.",jh),Tl(["locale","locales","clickToUse"],this.options,n),void 0!==n.locale&&(n.locale=function(i,r){try{var o=qt(r.split(/[-_ /]/,2),2),s=o[0],d=o[1],f=null!=s?s.toLowerCase():null,x=null!=d?d.toUpperCase():null;if(f&&x){var S,I=f+"-"+x;if(Object.prototype.hasOwnProperty.call(i,I))return I;console.warn(Nu(S="Unknown variant ".concat(x," of language ")).call(S,f,"."))}if(f){var P=f;if(Object.prototype.hasOwnProperty.call(i,P))return P;console.warn("Unknown language ".concat(f))}return console.warn("Unknown locale ".concat(r,", falling back to English.")),"en"}catch(L){return console.error(L),console.warn("Unexpected error while normalizing locale ".concat(r,", falling back to English.")),"en"}}(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),void 0!==n.groups&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new ux(this,this.body.container,Pk,this.canvas.pixelRatio,qC)),this.configurator.setOptions(n.configure)),this.configurator&&!0===this.configurator.options.enabled){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ft(t.nodes,this.nodesHandler.options),Ft(t.edges,this.edgesHandler.options),Ft(t.layout,this.layoutEngine.options),Ft(t.interaction,this.selectionHandler.options),Ft(t.interaction,this.renderer.options),Ft(t.interaction,this.interactionHandler.options),Ft(t.manipulation,this.manipulation.options),Ft(t.physics,this.physics.options),Ft(t.global,this.canvas.options),Ft(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==n.clickToUse?!0===n.clickToUse?void 0===this.activator&&(this.activator=new E0(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Ae.prototype._updateVisibleIndices=function(){var n=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],n)Object.prototype.hasOwnProperty.call(n,t)&&(this.clustering._isClusteredNode(t)||!1!==n[t].options.hidden||this.body.nodeIndices.push(n[t].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i],o=n[r.fromId],s=n[r.toId],d=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&d&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},Ae.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.edgesHandler._updateState(),n.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){n.clustering._updateState(),n._updateVisibleIndices(),n._updateValueRange(n.body.nodes),n._updateValueRange(n.body.edges),n.body.emitter.emit("startSimulation"),n.body.emitter.emit("_requestRedraw")})},Ae.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Tg(n.dot);this.setData(e)}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=Og(n.gephi);this.setData(t)}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Ae.prototype.destroy=function(){for(var n in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];sr(this.body.container)},Ae.prototype._updateValueRange=function(n){var e,t=void 0,i=void 0,r=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e].getValue();void 0!==o&&(t=void 0===t?o:Math.min(o,t),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==t&&void 0!==i)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,i,r)},Ae.prototype.isActive=function(){return!this.activator||this.activator.active},Ae.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Ae.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Ae.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Ae.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Ae.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Ae.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Ae.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Ae.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Ae.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Ae.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Ae.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Ae.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Ae.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Ae.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Ae.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Ae.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Ae.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Ae.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Ae.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Ae.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Ae.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Ae.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Ae.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Ae.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Ae.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Ae.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Ae.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Ae.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Ae.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Ae.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Ae.prototype.getConnectedNodes=function(n){return void 0!==this.body.nodes[n]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Ae.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Ae.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Ae.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Ae.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Ae.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Ae.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Ae.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Ae.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Ae.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ae.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ae.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Ae.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Ae.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Ae.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Ae.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Ae.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Ae.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Ae.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Ae.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Ae.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Ae.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};var OS=Tg;Ge.Network=Ae,Ge.NetworkImages=N0,Ge.networkDOTParser=fx,Ge.networkGephiParser=L0,Ge.networkOptions=Rk,Ge.parseDOTNetwork=OS,Ge.parseGephiNetwork=Og,Object.defineProperty(Ge,"__esModule",{value:!0})}(Pc,Ke(6770))}}]);