(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[343],{7343:(XC,Rc,We)=>{"use strict";We.r(Rc),We.d(Rc,{NetworkModule:()=>hd});var Ke=We(6895),mi=We(433),la=We(9965),xt=We(805),ee=We(1914),we=We(1282),Vn=We(2340),m=We(8274),$l=We(529);let ua=(()=>{class C{constructor(a){this.http=a,this.url=Vn.N.host+"classes"}list(){return this.http.get(this.url)}}return C.\u0275fac=function(a){return new(a||C)(m.LFG($l.eN))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac}),C})();var ca=We(3930),di=We(5593),Fi=We(1795);const vs=["visNetwork"],Fc=function(){return{width:"100%",height:"580px"}};let da=(()=>{class C{constructor(a,y){this.networkService=a,this.messageService=y,this.networkInstance={},this.networkList=[],this.scale=1}ngOnInit(){}ngAfterViewInit(){this.listNetwork()}reset(){this.networkInstance.fit()}zoomIn(){this.scale=this.scale+.1,this.networkInstance.moveTo({scale:this.scale})}zoomOut(){this.scale=this.scale-.1,this.networkInstance.moveTo({scale:this.scale})}listNetwork(){this.networkService.list().subscribe({next:a=>{this.networkList=a;let y=[];this.networkList.forEach(ut=>{let tt={};tt.id=ut.name,tt.label=ut.name,tt.shape="box",y.push(tt)});const w=new ee.DataSet(y);let S=[];this.networkList.forEach(ut=>{ut.dependencies.forEach(tt=>{let Gt={};Gt.from=ut.name,Gt.to=tt.name,S.push(Gt)})});const Q=new ee.DataSet(S);this.networkInstance=new we.Network(this.visNetwork.nativeElement,{nodes:w,edges:Q},{layout:{hierarchical:{direction:"UD",sortMethod:"directed"}},interaction:{navigationButtons:!0,keyboard:!0},physics:{hierarchicalRepulsion:{avoidOverlap:1}}}),this.scale=this.networkInstance.getScale()},error:a=>{console.log(a),this.messageService.add({severity:"error",summary:"Error",detail:"Erro on load IRIS network."})}})}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(ua),m.Y36(xt.ez))},C.\u0275cmp=m.Xpm({type:C,selectors:[["ng-component"]],viewQuery:function(a,y){if(1&a&&m.Gf(vs,5),2&a){let w;m.iGM(w=m.CRH())&&(y.visNetwork=w.first)}},features:[m._Bn([xt.ez,ua])],decls:6,vars:3,consts:[["pButton","","pRipple","","type","button","icon","pi pi-search-plus",1,"p-button-rounded","mr-2",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-search-minus",1,"p-button-rounded","mr-2",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-replay",1,"p-button-rounded","mr-2",3,"click"],["id","visNetwork",2,"height","700px","width","100%"],["visNetwork",""]],template:function(a,y){1&a&&(m.TgZ(0,"button",0),m.NdJ("click",function(){return y.zoomIn()}),m.qZA(),m.TgZ(1,"button",1),m.NdJ("click",function(){return y.zoomOut()}),m.qZA(),m.TgZ(2,"button",2),m.NdJ("click",function(){return y.reset()}),m.qZA(),m.TgZ(3,"p-scrollPanel"),m._UZ(4,"div",3,4),m.qZA()),2&a&&(m.xp6(3),m.Akn(m.DdM(2,Fc)))},dependencies:[ca.P,di.Hq,Fi.H],styles:[".vis-navigation[_ngcontent-%COMP%]{z-index:1}"]}),C})(),Ll=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[la.Bz.forChild([{path:"",component:da}]),la.Bz]}),C})();var Ee=We(7340),le=We(9592),rt=We(982);const Xe=["container"],gf=["inputfield"],Rt=["contentWrapper"];function Xt(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"i",8),m.NdJ("click",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.clear())}),m.qZA()}}function en(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",9),m.NdJ("click",function(w){m.CHM(a),m.oxw();const S=m.MAs(1),Q=m.oxw();return m.KtG(Q.onButtonClick(w,S))}),m.qZA()}if(2&C){const a=m.oxw(2);m.Q6J("icon",a.icon)("disabled",a.disabled),m.uIk("aria-label",a.iconAriaLabel)}}function tn(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"input",4,5),m.NdJ("focus",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onInputFocus(w))})("keydown",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onInputKeydown(w))})("click",function(){m.CHM(a);const w=m.oxw();return m.KtG(w.onInputClick())})("blur",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onInputBlur(w))})("input",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onUserInput(w))}),m.qZA(),m.YNc(2,Xt,1,0,"i",6),m.YNc(3,en,1,3,"button",7)}if(2&C){const a=m.oxw();m.Tol(a.inputStyleClass),m.Q6J("value",a.inputFieldValue)("readonly",a.readonlyInput)("ngStyle",a.inputStyle)("placeholder",a.placeholder||"")("disabled",a.disabled)("ngClass","p-inputtext p-component"),m.uIk("id",a.inputId)("name",a.name)("required",a.required)("aria-required",a.required)("tabindex",a.tabindex)("inputmode",a.touchUI?"off":null)("aria-labelledby",a.ariaLabelledBy),m.xp6(2),m.Q6J("ngIf",a.showClear&&!a.disabled&&null!=a.value),m.xp6(1),m.Q6J("ngIf",a.showIcon)}}function Nr(C,$){1&C&&m.GkF(0)}function Ac(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",30),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.onPrevButtonClick(w))}),m._UZ(1,"span",31),m.qZA()}}function yi(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",32),m.NdJ("click",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.switchToMonthView(w))})("keydown",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.onContainerButtonKeydown(w))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.Q6J("disabled",y.switchViewButtonDisabled()),m.xp6(1),m.hij(" ",y.getMonthName(a.month)," ")}}function zr(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"button",33),m.NdJ("click",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.switchToYearView(w))})("keydown",function(w){m.CHM(a);const S=m.oxw(4);return m.KtG(S.onContainerButtonKeydown(w))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.Q6J("disabled",y.switchViewButtonDisabled()),m.xp6(1),m.hij(" ",y.getYear(a)," ")}}function ji(C,$){if(1&C&&(m.ynx(0),m._uU(1),m.BQk()),2&C){const a=m.oxw(5);m.xp6(1),m.AsE("",a.yearPickerValues()[0]," - ",a.yearPickerValues()[a.yearPickerValues().length-1],"")}}function gs(C,$){1&C&&m.GkF(0)}const $c=function(C){return{$implicit:C}};function mf(C,$){if(1&C&&(m.TgZ(0,"span",34),m.YNc(1,ji,2,2,"ng-container",13),m.YNc(2,gs,1,0,"ng-container",35),m.qZA()),2&C){const a=m.oxw(4);m.xp6(1),m.Q6J("ngIf",!a.decadeTemplate),m.xp6(1),m.Q6J("ngTemplateOutlet",a.decadeTemplate)("ngTemplateOutletContext",m.VKq(3,$c,a.yearPickerValues))}}function ii(C,$){if(1&C&&(m.TgZ(0,"th",41)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=m.oxw(5);m.xp6(2),m.Oqu(a.getTranslation("weekHeader"))}}function yf(C,$){if(1&C&&(m.TgZ(0,"th",42)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=$.$implicit;m.xp6(2),m.Oqu(a)}}function bf(C,$){if(1&C&&(m.TgZ(0,"td",45)(1,"span",46),m._uU(2),m.qZA()()),2&C){const a=m.oxw().index,y=m.oxw(2).$implicit;m.xp6(2),m.hij(" ",y.weekNumbers[a]," ")}}function _f(C,$){if(1&C&&(m.ynx(0),m._uU(1),m.BQk()),2&C){const a=m.oxw(2).$implicit;m.xp6(1),m.Oqu(a.day)}}function ha(C,$){1&C&&m.GkF(0)}const ms=function(C,$){return{"p-highlight":C,"p-disabled":$}};function jr(C,$){if(1&C){const a=m.EpF();m.ynx(0),m.TgZ(1,"span",48),m.NdJ("click",function(w){m.CHM(a);const S=m.oxw().$implicit,Q=m.oxw(6);return m.KtG(Q.onDateSelect(w,S))})("keydown",function(w){m.CHM(a);const S=m.oxw().$implicit,Q=m.oxw(3).index,re=m.oxw(3);return m.KtG(re.onDateCellKeydown(w,S,Q))}),m.YNc(2,_f,2,1,"ng-container",13),m.YNc(3,ha,1,0,"ng-container",35),m.qZA(),m.BQk()}if(2&C){const a=m.oxw().$implicit,y=m.oxw(6);m.xp6(1),m.Q6J("ngClass",m.WLB(4,ms,y.isSelected(a),!a.selectable)),m.xp6(1),m.Q6J("ngIf",!y.dateTemplate),m.xp6(1),m.Q6J("ngTemplateOutlet",y.dateTemplate)("ngTemplateOutletContext",m.VKq(7,$c,a))}}const ys=function(C,$){return{"p-datepicker-other-month":C,"p-datepicker-today":$}};function Wn(C,$){if(1&C&&(m.TgZ(0,"td",47),m.YNc(1,jr,4,9,"ng-container",13),m.qZA()),2&C){const a=$.$implicit,y=m.oxw(6);m.Q6J("ngClass",m.WLB(2,ys,a.otherMonth,a.today)),m.xp6(1),m.Q6J("ngIf",!a.otherMonth||y.showOtherMonths)}}function wf(C,$){if(1&C&&(m.TgZ(0,"tr"),m.YNc(1,bf,3,1,"td",43),m.YNc(2,Wn,2,5,"td",44),m.qZA()),2&C){const a=$.$implicit,y=m.oxw(5);m.xp6(1),m.Q6J("ngIf",y.showWeek),m.xp6(1),m.Q6J("ngForOf",a)}}function fa(C,$){if(1&C&&(m.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),m.YNc(4,ii,3,1,"th",38),m.YNc(5,yf,3,1,"th",39),m.qZA()(),m.TgZ(6,"tbody"),m.YNc(7,wf,3,2,"tr",40),m.qZA()()()),2&C){const a=m.oxw().$implicit,y=m.oxw(3);m.xp6(4),m.Q6J("ngIf",y.showWeek),m.xp6(1),m.Q6J("ngForOf",y.weekDays),m.xp6(2),m.Q6J("ngForOf",a.dates)}}function Kt(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",20)(1,"div",21),m.YNc(2,Ac,2,0,"button",22),m.TgZ(3,"div",23),m.YNc(4,yi,2,2,"button",24),m.YNc(5,zr,2,2,"button",25),m.YNc(6,mf,3,5,"span",26),m.qZA(),m.TgZ(7,"button",27),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onNextButtonClick(w))}),m._UZ(8,"span",28),m.qZA()(),m.YNc(9,fa,8,3,"div",29),m.qZA()}if(2&C){const a=$.index,y=m.oxw(3);m.xp6(2),m.Q6J("ngIf",0===a),m.xp6(2),m.Q6J("ngIf","date"===y.currentView),m.xp6(1),m.Q6J("ngIf","year"!==y.currentView),m.xp6(1),m.Q6J("ngIf","year"===y.currentView),m.xp6(1),m.Udp("display",1===y.numberOfMonths||a===y.numberOfMonths-1?"inline-flex":"none"),m.xp6(2),m.Q6J("ngIf","date"===y.currentView)}}function xf(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"span",51),m.NdJ("click",function(w){const Q=m.CHM(a).index,re=m.oxw(4);return m.KtG(re.onMonthSelect(w,Q))})("keydown",function(w){const Q=m.CHM(a).index,re=m.oxw(4);return m.KtG(re.onMonthCellKeydown(w,Q))}),m._uU(1),m.qZA()}if(2&C){const a=$.$implicit,y=$.index,w=m.oxw(4);m.Q6J("ngClass",m.WLB(2,ms,w.isMonthSelected(y),w.isMonthDisabled(y))),m.xp6(1),m.hij(" ",a," ")}}function Ue(C,$){if(1&C&&(m.TgZ(0,"div",49),m.YNc(1,xf,2,5,"span",50),m.qZA()),2&C){const a=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",a.monthPickerValues())}}const Fe=function(C){return{"p-highlight":C}};function ni(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"span",54),m.NdJ("click",function(w){const Q=m.CHM(a).$implicit,re=m.oxw(4);return m.KtG(re.onYearSelect(w,Q))})("keydown",function(w){const Q=m.CHM(a).$implicit,re=m.oxw(4);return m.KtG(re.onYearCellKeydown(w,Q))}),m._uU(1),m.qZA()}if(2&C){const a=$.$implicit,y=m.oxw(4);m.Q6J("ngClass",m.VKq(2,Fe,y.isYearSelected(a))),m.xp6(1),m.hij(" ",a," ")}}function yt(C,$){if(1&C&&(m.TgZ(0,"div",52),m.YNc(1,ni,2,4,"span",53),m.qZA()),2&C){const a=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",a.yearPickerValues())}}function Bl(C,$){if(1&C&&(m.ynx(0),m.TgZ(1,"div",16),m.YNc(2,Kt,10,7,"div",17),m.qZA(),m.YNc(3,Ue,2,1,"div",18),m.YNc(4,yt,2,1,"div",19),m.BQk()),2&C){const a=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",a.months),m.xp6(1),m.Q6J("ngIf","month"===a.currentView),m.xp6(1),m.Q6J("ngIf","year"===a.currentView)}}function pa(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function hi(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function Qe(C,$){if(1&C&&(m.TgZ(0,"div",60)(1,"span"),m._uU(2),m.qZA()()),2&C){const a=m.oxw(3);m.xp6(2),m.Oqu(a.timeSeparator)}}function fi(C,$){1&C&&(m.ynx(0),m._uU(1,"0"),m.BQk())}function Nl(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",65)(1,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.incrementSecond(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.incrementSecond(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseDown(w,2,1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(3);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(2,"span",58),m.qZA(),m.TgZ(3,"span"),m.YNc(4,fi,2,0,"ng-container",13),m._uU(5),m.qZA(),m.TgZ(6,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.decrementSecond(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.decrementSecond(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseDown(w,2,-1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(3);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(7,"span",59),m.qZA()()}if(2&C){const a=m.oxw(3);m.xp6(4),m.Q6J("ngIf",a.currentSecond<10),m.xp6(1),m.Oqu(a.currentSecond)}}function Lt(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",66)(1,"button",67),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.toggleAMPM(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.toggleAMPM(w))}),m._UZ(2,"span",58),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.qZA(),m.TgZ(5,"button",67),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.toggleAMPM(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(3);return m.KtG(S.toggleAMPM(w))}),m._UZ(6,"span",59),m.qZA()()}if(2&C){const a=m.oxw(3);m.xp6(4),m.Oqu(a.pm?"PM":"AM")}}function zl(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",55)(1,"div",56)(2,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.incrementHour(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.incrementHour(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseDown(w,0,1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(3,"span",58),m.qZA(),m.TgZ(4,"span"),m.YNc(5,pa,2,0,"ng-container",13),m._uU(6),m.qZA(),m.TgZ(7,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.decrementHour(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.decrementHour(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseDown(w,0,-1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(8,"span",59),m.qZA()(),m.TgZ(9,"div",60)(10,"span"),m._uU(11),m.qZA()(),m.TgZ(12,"div",61)(13,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.incrementMinute(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.incrementMinute(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseDown(w,1,1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(14,"span",58),m.qZA(),m.TgZ(15,"span"),m.YNc(16,hi,2,0,"ng-container",13),m._uU(17),m.qZA(),m.TgZ(18,"button",57),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("keydown.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.decrementMinute(w))})("keydown.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.decrementMinute(w))})("mousedown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseDown(w,1,-1))})("mouseup",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.enter",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("keyup.space",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTimePickerElementMouseUp(w))})("mouseleave",function(){m.CHM(a);const w=m.oxw(2);return m.KtG(w.onTimePickerElementMouseLeave())}),m._UZ(19,"span",59),m.qZA()(),m.YNc(20,Qe,3,1,"div",62),m.YNc(21,Nl,8,2,"div",63),m.YNc(22,Lt,7,1,"div",64),m.qZA()}if(2&C){const a=m.oxw(2);m.xp6(5),m.Q6J("ngIf",a.currentHour<10),m.xp6(1),m.Oqu(a.currentHour),m.xp6(5),m.Oqu(a.timeSeparator),m.xp6(5),m.Q6J("ngIf",a.currentMinute<10),m.xp6(1),m.Oqu(a.currentMinute),m.xp6(3),m.Q6J("ngIf",a.showSeconds),m.xp6(1),m.Q6J("ngIf",a.showSeconds),m.xp6(1),m.Q6J("ngIf","12"==a.hourFormat)}}const hr=function(C){return[C]};function bs(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",68)(1,"button",69),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onTodayButtonClick(w))}),m.qZA(),m.TgZ(2,"button",69),m.NdJ("keydown",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onContainerButtonKeydown(w))})("click",function(w){m.CHM(a);const S=m.oxw(2);return m.KtG(S.onClearButtonClick(w))}),m.qZA()()}if(2&C){const a=m.oxw(2);m.xp6(1),m.Q6J("label",a.getTranslation("today"))("ngClass",m.VKq(4,hr,a.todayButtonStyleClass)),m.xp6(1),m.Q6J("label",a.getTranslation("clear"))("ngClass",m.VKq(6,hr,a.clearButtonStyleClass))}}function va(C,$){1&C&&m.GkF(0)}const xn=function(C,$,a,y,w,S){return{"p-datepicker p-component":!0,"p-datepicker-inline":C,"p-disabled":$,"p-datepicker-timeonly":a,"p-datepicker-multiple-month":y,"p-datepicker-monthpicker":w,"p-datepicker-touch-ui":S}},ga=function(C,$){return{showTransitionParams:C,hideTransitionParams:$}},Lc=function(C){return{value:"visibleTouchUI",params:C}},Oo=function(C){return{value:"visible",params:C}};function Hi(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",10,11),m.NdJ("@overlayAnimation.start",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onOverlayAnimationStart(w))})("@overlayAnimation.done",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onOverlayAnimationDone(w))})("click",function(w){m.CHM(a);const S=m.oxw();return m.KtG(S.onOverlayClick(w))}),m.Hsn(2),m.YNc(3,Nr,1,0,"ng-container",12),m.YNc(4,Bl,5,3,"ng-container",13),m.YNc(5,zl,23,8,"div",14),m.YNc(6,bs,3,8,"div",15),m.Hsn(7,1),m.YNc(8,va,1,0,"ng-container",12),m.qZA()}if(2&C){const a=m.oxw();m.Tol(a.panelStyleClass),m.Q6J("ngStyle",a.panelStyle)("ngClass",m.HTZ(11,xn,a.inline,a.disabled,a.timeOnly,a.numberOfMonths>1,"month"===a.view,a.touchUI))("@overlayAnimation",a.touchUI?m.VKq(21,Lc,m.WLB(18,ga,a.showTransitionOptions,a.hideTransitionOptions)):m.VKq(26,Oo,m.WLB(23,ga,a.showTransitionOptions,a.hideTransitionOptions)))("@.disabled",!0===a.inline),m.xp6(3),m.Q6J("ngTemplateOutlet",a.headerTemplate),m.xp6(1),m.Q6J("ngIf",!a.timeOnly),m.xp6(1),m.Q6J("ngIf",(a.showTime||a.timeOnly)&&"date"===a.currentView),m.xp6(1),m.Q6J("ngIf",a.showButtonBar),m.xp6(2),m.Q6J("ngTemplateOutlet",a.footerTemplate)}}const _s=[[["p-header"]],[["p-footer"]]],ma=function(C,$,a,y){return{"p-calendar":!0,"p-calendar-w-btn":C,"p-calendar-timeonly":$,"p-calendar-disabled":a,"p-focus":y}},Bc=["p-header","p-footer"],kf={provide:mi.JU,useExisting:(0,m.Gpc)(()=>jl),multi:!0};let jl=(()=>{class C{constructor(a,y,w,S,Q,re){this.el=a,this.renderer=y,this.cd=w,this.zone=S,this.config=Q,this.overlayService=re,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new m.vpe,this.onBlur=new m.vpe,this.onClose=new m.vpe,this.onSelect=new m.vpe,this.onClear=new m.vpe,this.onInput=new m.vpe,this.onTodayClick=new m.vpe,this.onClearClick=new m.vpe,this.onMonthChange=new m.vpe,this.onYearChange=new m.vpe,this.onClickOutside=new m.vpe,this.onShow=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(ge,Ve){return"12"==this.hourFormat?12===ge?Ve?12:0:Ve?ge+12:ge:ge}}set content(a){this.contentViewChild=a,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(a){this._view=a,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(a){if(this._defaultDate=a,this.initialized){const y=a||new Date;this.currentMonth=y.getMonth(),this.currentYear=y.getFullYear(),this.initTime(y),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(a){this._minDate=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(a){this._maxDate=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(a){this._disabledDates=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(a){this._disabledDays=a,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(a){if(this._yearRange=a,a){const y=a.split(":"),w=parseInt(y[0]),S=parseInt(y[1]);this.populateYearOptions(w,S)}}get showTime(){return this._showTime}set showTime(a){this._showTime=a,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(a){this._responsiveOptions=a,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(a){this._numberOfMonths=a,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(a){this._firstDayOfWeek=a,this.createWeekDays()}set locale(a){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,rt.Th)();const a=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=a.getMonth(),this.currentYear=a.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(a),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(a=>{switch(a.getType()){case"date":default:this.dateTemplate=a.template;break;case"decade":this.decadeTemplate=a.template;break;case"disabledDate":this.disabledDateTemplate=a.template;break;case"header":this.headerTemplate=a.template;break;case"footer":this.footerTemplate=a.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=le.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(a){return this.config.getTranslation(a)}populateYearOptions(a,y){this.yearOptions=[];for(let w=a;w<=y;w++)this.yearOptions.push(w)}createWeekDays(){this.weekDays=[];let a=this.getFirstDateOfWeek(),y=this.getTranslation(xt.ws.DAY_NAMES_MIN);for(let w=0;w<7;w++)this.weekDays.push(y[a]),a=6==a?0:++a}monthPickerValues(){let a=[];for(let y=0;y<=11;y++)a.push(this.config.getTranslation("monthNamesShort")[y]);return a}yearPickerValues(){let a=[],y=this.currentYear-this.currentYear%10;for(let w=0;w<10;w++)a.push(y+w);return a}createMonths(a,y){this.months=this.months=[];for(let w=0;w<this.numberOfMonths;w++){let S=a+w,Q=y;S>11&&(S=S%11-1,Q=y+1),this.months.push(this.createMonth(S,Q))}}getWeekNumber(a){let y=new Date(a.getTime());y.setDate(y.getDate()+4-(y.getDay()||7));let w=y.getTime();return y.setMonth(0),y.setDate(1),Math.floor(Math.round((w-y.getTime())/864e5)/7)+1}createMonth(a,y){let w=[],S=this.getFirstDayOfMonthIndex(a,y),Q=this.getDaysCountInMonth(a,y),re=this.getDaysCountInPrevMonth(a,y),ge=1,Ve=new Date,ut=[],tt=Math.ceil((Q+S)/7);for(let Gt=0;Gt<tt;Gt++){let St=[];if(0==Gt){for(let Nt=re-S+1;Nt<=re;Nt++){let Di=this.getPreviousMonthAndYear(a,y);St.push({day:Nt,month:Di.month,year:Di.year,otherMonth:!0,today:this.isToday(Ve,Nt,Di.month,Di.year),selectable:this.isSelectable(Nt,Di.month,Di.year,!0)})}let Ut=7-St.length;for(let Nt=0;Nt<Ut;Nt++)St.push({day:ge,month:a,year:y,today:this.isToday(Ve,ge,a,y),selectable:this.isSelectable(ge,a,y,!1)}),ge++}else for(let Ut=0;Ut<7;Ut++){if(ge>Q){let Nt=this.getNextMonthAndYear(a,y);St.push({day:ge-Q,month:Nt.month,year:Nt.year,otherMonth:!0,today:this.isToday(Ve,ge-Q,Nt.month,Nt.year),selectable:this.isSelectable(ge-Q,Nt.month,Nt.year,!0)})}else St.push({day:ge,month:a,year:y,today:this.isToday(Ve,ge,a,y),selectable:this.isSelectable(ge,a,y,!1)});ge++}this.showWeek&&ut.push(this.getWeekNumber(new Date(St[0].year,St[0].month,St[0].day))),w.push(St)}return{month:a,year:y,dates:w,weekNumbers:ut}}initTime(a){this.pm=a.getHours()>11,this.showTime?(this.currentMinute=a.getMinutes(),this.currentSecond=a.getSeconds(),this.setCurrentHourPM(a.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(a){this.disabled?a.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(a){this.disabled?a.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let a=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-a,this.yearOptions[this.yearOptions.length-1]-a)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let a=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+a,this.yearOptions[this.yearOptions.length-1]+a)}}switchToMonthView(a){this.setCurrentView("month"),a.preventDefault()}switchToYearView(a){this.setCurrentView("year"),a.preventDefault()}onDateSelect(a,y){!this.disabled&&y.selectable?(this.isMultipleSelection()&&this.isSelected(y)?(this.value=this.value.filter((w,S)=>!this.isDateEquals(w,y)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(y)&&this.selectDate(y),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{a.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),a.preventDefault()):a.preventDefault()}shouldSelectDate(a){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(a,y){"month"===this.view?this.onDateSelect(a,{year:this.currentYear,month:y,day:1,selectable:!0}):(this.currentMonth=y,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(a,y){"year"===this.view?this.onDateSelect(a,{year:y,month:0,day:1,selectable:!0}):(this.currentYear=y,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let a="";if(this.value)if(this.isSingleSelection())a=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let y=0;y<this.value.length;y++)a+=this.formatDateTime(this.value[y]),y!==this.value.length-1&&(a+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let w=this.value[1];a=this.formatDateTime(this.value[0]),w&&(a+=" "+this.rangeSeparator+" "+this.formatDateTime(w))}this.inputFieldValue=a,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(a){let y=this.keepInvalid?a:null;return this.isValidDate(a)&&(this.timeOnly?y=this.formatTime(a):(y=this.formatDate(a,this.getDateFormat()),this.showTime&&(y+=" "+this.formatTime(a)))),y}setCurrentHourPM(a){"12"==this.hourFormat?(this.pm=a>11,this.currentHour=a>=12?12==a?12:a-12:0==a?12:a):this.currentHour=a}setCurrentView(a){this.currentView=a,this.cd.detectChanges(),this.alignOverlay()}selectDate(a){let y=new Date(a.year,a.month,a.day);if(this.showTime&&(y.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),y.setMinutes(this.currentMinute),y.setSeconds(this.currentSecond)),this.minDate&&this.minDate>y&&(y=this.minDate,this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds()),this.maxDate&&this.maxDate<y&&(y=this.maxDate,this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds()),this.isSingleSelection())this.updateModel(y);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,y]:[y]);else if(this.isRangeSelection())if(this.value&&this.value.length){let w=this.value[0],S=this.value[1];!S&&y.getTime()>=w.getTime()?S=y:(w=y,S=null),this.updateModel([w,S])}else this.updateModel([y,null]);this.onSelect.emit(y)}updateModel(a){if(this.value=a,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let y=null;this.value&&(y=this.value.map(w=>this.formatDateTime(w))),this.onModelChange(y)}}getFirstDayOfMonthIndex(a,y){let w=new Date;w.setDate(1),w.setMonth(a),w.setFullYear(y);let S=w.getDay()+this.getSundayIndex();return S>=7?S-7:S}getDaysCountInMonth(a,y){return 32-this.daylightSavingAdjust(new Date(y,a,32)).getDate()}getDaysCountInPrevMonth(a,y){let w=this.getPreviousMonthAndYear(a,y);return this.getDaysCountInMonth(w.month,w.year)}getPreviousMonthAndYear(a,y){let w,S;return 0===a?(w=11,S=y-1):(w=a-1,S=y),{month:w,year:S}}getNextMonthAndYear(a,y){let w,S;return 11===a?(w=0,S=y+1):(w=a+1,S=y),{month:w,year:S}}getSundayIndex(){let a=this.getFirstDateOfWeek();return a>0?7-a:0}isSelected(a){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,a);if(this.isMultipleSelection()){let y=!1;for(let w of this.value)if(y=this.isDateEquals(w,a),y)break;return y}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],a)||this.isDateEquals(this.value[1],a)||this.isDateBetween(this.value[0],this.value[1],a):this.isDateEquals(this.value[0],a):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(a){if(this.isComparable()&&!this.isMultipleSelection()){const[y,w]=this.isRangeSelection()?this.value:[this.value,this.value],S=new Date(this.currentYear,a,1);return S>=y&&S<=(w??y)}return!1}isMonthDisabled(a){for(let y=1;y<this.getDaysCountInMonth(a,this.currentYear)+1;y++)if(this.isSelectable(y,a,this.currentYear,!1))return!1;return!0}isYearSelected(a){if(this.isComparable()){let y=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&y.getFullYear()===a}return!1}isDateEquals(a,y){return!!(a&&a instanceof Date)&&a.getDate()===y.day&&a.getMonth()===y.month&&a.getFullYear()===y.year}isDateBetween(a,y,w){if(a&&y){let Q=new Date(w.year,w.month,w.day);return a.getTime()<=Q.getTime()&&y.getTime()>=Q.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(a,y,w,S){return a.getDate()===y&&a.getMonth()===w&&a.getFullYear()===S}isSelectable(a,y,w,S){let Q=!0,re=!0,ge=!0,Ve=!0;return!(S&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>w||this.minDate.getFullYear()===w&&(this.minDate.getMonth()>y||this.minDate.getMonth()===y&&this.minDate.getDate()>a))&&(Q=!1),this.maxDate&&(this.maxDate.getFullYear()<w||this.maxDate.getFullYear()===w&&(this.maxDate.getMonth()<y||this.maxDate.getMonth()===y&&this.maxDate.getDate()<a))&&(re=!1),this.disabledDates&&(ge=!this.isDateDisabled(a,y,w)),this.disabledDays&&(Ve=!this.isDayDisabled(a,y,w)),Q&&re&&ge&&Ve)}isDateDisabled(a,y,w){if(this.disabledDates)for(let S of this.disabledDates)if(S.getFullYear()===w&&S.getMonth()===y&&S.getDate()===a)return!0;return!1}isDayDisabled(a,y,w){if(this.disabledDays){let Q=new Date(w,y,a).getDay();return-1!==this.disabledDays.indexOf(Q)}return!1}onInputFocus(a){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(a)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(a){this.focus=!1,this.onBlur.emit(a),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(a,y){this.overlayVisible?this.hideOverlay():(y.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(a){this.overlayService.add({originalEvent:a,target:this.el.nativeElement})}getMonthName(a){return this.config.getTranslation("monthNames")[a]}getYear(a){return"month"===this.currentView?this.currentYear:a.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(a){this.navigationState={backward:!0,button:!0},this.navBackward(a)}onNextButtonClick(a){this.navigationState={backward:!1,button:!0},this.navForward(a)}onContainerButtonKeydown(a){switch(a.which){case 9:this.inline||this.trapFocus(a);break;case 27:this.overlayVisible=!1,a.preventDefault()}}onInputKeydown(a){this.isKeydown=!0,40===a.keyCode&&this.contentViewChild?this.trapFocus(a):27===a.keyCode||13===a.keyCode?this.overlayVisible&&(this.overlayVisible=!1,a.preventDefault()):9===a.keyCode&&this.contentViewChild&&(le.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(y=>y.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(a,y,w){const S=a.currentTarget,Q=S.parentElement;switch(a.which){case 40:{S.tabIndex="-1";let re=le.p.index(Q),ge=Q.parentElement.nextElementSibling;ge?le.p.hasClass(ge.children[re].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(a)):(ge.children[re].children[0].tabIndex="0",ge.children[re].children[0].focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 38:{S.tabIndex="-1";let re=le.p.index(Q),ge=Q.parentElement.previousElementSibling;if(ge){let Ve=ge.children[re].children[0];le.p.hasClass(Ve,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(a)):(Ve.tabIndex="0",Ve.focus())}else this.navigationState={backward:!0},this.navBackward(a);a.preventDefault();break}case 37:{S.tabIndex="-1";let re=Q.previousElementSibling;if(re){let ge=re.children[0];le.p.hasClass(ge,"p-disabled")||le.p.hasClass(ge.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,w):(ge.tabIndex="0",ge.focus())}else this.navigateToMonth(!0,w);a.preventDefault();break}case 39:{S.tabIndex="-1";let re=Q.nextElementSibling;if(re){let ge=re.children[0];le.p.hasClass(ge,"p-disabled")?this.navigateToMonth(!1,w):(ge.tabIndex="0",ge.focus())}else this.navigateToMonth(!1,w);a.preventDefault();break}case 13:case 32:this.onDateSelect(a,y),a.preventDefault();break;case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.inline||this.trapFocus(a)}}onMonthCellKeydown(a,y){const w=a.currentTarget;switch(a.which){case 38:case 40:{w.tabIndex="-1";var S=w.parentElement.children,Q=le.p.index(w);let re=S[40===a.which?Q+3:Q-3];re&&(re.tabIndex="0",re.focus()),a.preventDefault();break}case 37:{w.tabIndex="-1";let re=w.previousElementSibling;re?(re.tabIndex="0",re.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case 39:{w.tabIndex="-1";let re=w.nextElementSibling;re?(re.tabIndex="0",re.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 13:this.onMonthSelect(a,y),a.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.inline||this.trapFocus(a)}}onYearCellKeydown(a,y){const w=a.currentTarget;switch(a.which){case 38:case 40:{w.tabIndex="-1";var S=w.parentElement.children,Q=le.p.index(w);let re=S[40===a.which?Q+2:Q-2];re&&(re.tabIndex="0",re.focus()),a.preventDefault();break}case 37:{w.tabIndex="-1";let re=w.previousElementSibling;re?(re.tabIndex="0",re.focus()):(this.navigationState={backward:!0},this.navBackward(a)),a.preventDefault();break}case 39:{w.tabIndex="-1";let re=w.nextElementSibling;re?(re.tabIndex="0",re.focus()):(this.navigationState={backward:!1},this.navForward(a)),a.preventDefault();break}case 13:case 32:this.onYearSelect(a,y),a.preventDefault();break;case 27:this.overlayVisible=!1,a.preventDefault();break;case 9:this.trapFocus(a)}}navigateToMonth(a,y){if(a)if(1===this.numberOfMonths||0===y)this.navigationState={backward:!0},this.navBackward(event);else{let S=le.p.find(this.contentViewChild.nativeElement.children[y-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),Q=S[S.length-1];Q.tabIndex="0",Q.focus()}else if(1===this.numberOfMonths||y===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let S=le.p.findSingle(this.contentViewChild.nativeElement.children[y+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");S.tabIndex="0",S.focus()}}updateFocus(){let a;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?le.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():le.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let y;y=le.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),y&&y.length>0&&(a=y[y.length-1])}else a=le.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");a&&(a.tabIndex="0",a.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const a=this.contentViewChild?.nativeElement;let y;if("month"===this.currentView){let w=le.p.find(a,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),S=le.p.findSingle(a,".p-monthpicker .p-monthpicker-month.p-highlight");w.forEach(Q=>Q.tabIndex=-1),y=S||w[0],0===w.length&&le.p.find(a,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(re=>re.tabIndex=-1)}else if("year"===this.currentView){let w=le.p.find(a,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),S=le.p.findSingle(a,".p-yearpicker .p-yearpicker-year.p-highlight");w.forEach(Q=>Q.tabIndex=-1),y=S||w[0],0===w.length&&le.p.find(a,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(re=>re.tabIndex=-1)}else if(y=le.p.findSingle(a,"span.p-highlight"),!y){let w=le.p.findSingle(a,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");y=w||le.p.findSingle(a,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}y&&(y.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||y.focus()},1),this.preventFocus=!1)}trapFocus(a){let y=le.p.getFocusableElements(this.contentViewChild.nativeElement);if(y&&y.length>0)if(y[0].ownerDocument.activeElement){let w=y.indexOf(y[0].ownerDocument.activeElement);if(a.shiftKey)if(-1==w||0===w)if(this.focusTrap)y[y.length-1].focus();else{if(-1===w)return this.hideOverlay();if(0===w)return}else y[w-1].focus();else if(-1==w||w===y.length-1){if(!this.focusTrap&&-1!=w)return this.hideOverlay();y[0].focus()}else y[w+1].focus()}else y[0].focus();a.preventDefault()}onMonthDropdownChange(a){this.currentMonth=parseInt(a),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(a){this.currentYear=parseInt(a),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(a,y,w,S){let Q=this.value;const re=this.convertTo24Hour(a,S);this.isRangeSelection()&&(Q=this.value[1]||this.value[0]),this.isMultipleSelection()&&(Q=this.value[this.value.length-1]);const ge=Q?Q.toDateString():null;return!(this.minDate&&ge&&this.minDate.toDateString()===ge&&(this.minDate.getHours()>re||this.minDate.getHours()===re&&(this.minDate.getMinutes()>y||this.minDate.getMinutes()===y&&this.minDate.getSeconds()>w))||this.maxDate&&ge&&this.maxDate.toDateString()===ge&&(this.maxDate.getHours()<re||this.maxDate.getHours()===re&&(this.maxDate.getMinutes()<y||this.maxDate.getMinutes()===y&&this.maxDate.getSeconds()<w)))}incrementHour(a){let w=this.currentHour+this.stepHour,S=this.pm;"24"==this.hourFormat?w=w>=24?w-24:w:"12"==this.hourFormat&&(this.currentHour<12&&w>11&&(S=!this.pm),w=w>=13?w-12:w),this.validateTime(w,this.currentMinute,this.currentSecond,S)&&(this.currentHour=w,this.pm=S),a.preventDefault()}onTimePickerElementMouseDown(a,y,w){this.disabled||(this.repeat(a,null,y,w),a.preventDefault())}onTimePickerElementMouseUp(a){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(a,y,w,S){let Q=y||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(a,100,w,S),this.cd.markForCheck()},Q),w){case 0:1===S?this.incrementHour(a):this.decrementHour(a);break;case 1:1===S?this.incrementMinute(a):this.decrementMinute(a);break;case 2:1===S?this.incrementSecond(a):this.decrementSecond(a)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(a){let y=this.currentHour-this.stepHour,w=this.pm;"24"==this.hourFormat?y=y<0?24+y:y:"12"==this.hourFormat&&(12===this.currentHour&&(w=!this.pm),y=y<=0?12+y:y),this.validateTime(y,this.currentMinute,this.currentSecond,w)&&(this.currentHour=y,this.pm=w),a.preventDefault()}incrementMinute(a){let y=this.currentMinute+this.stepMinute;y=y>59?y-60:y,this.validateTime(this.currentHour,y,this.currentSecond,this.pm)&&(this.currentMinute=y),a.preventDefault()}decrementMinute(a){let y=this.currentMinute-this.stepMinute;y=y<0?60+y:y,this.validateTime(this.currentHour,y,this.currentSecond,this.pm)&&(this.currentMinute=y),a.preventDefault()}incrementSecond(a){let y=this.currentSecond+this.stepSecond;y=y>59?y-60:y,this.validateTime(this.currentHour,this.currentMinute,y,this.pm)&&(this.currentSecond=y),a.preventDefault()}decrementSecond(a){let y=this.currentSecond-this.stepSecond;y=y<0?60+y:y,this.validateTime(this.currentHour,this.currentMinute,y,this.pm)&&(this.currentSecond=y),a.preventDefault()}updateTime(){let a=this.value;this.isRangeSelection()&&(a=this.value[1]||this.value[0]),this.isMultipleSelection()&&(a=this.value[this.value.length-1]),a=a?new Date(a.getTime()):new Date,a.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),a.setMinutes(this.currentMinute),a.setSeconds(this.currentSecond),this.isRangeSelection()&&(a=this.value[1]?[this.value[0],a]:[a,null]),this.isMultipleSelection()&&(a=[...this.value.slice(0,-1),a]),this.updateModel(a),this.onSelect.emit(a),this.updateInputfield()}toggleAMPM(a){const y=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,y)&&(this.pm=y,this.updateTime()),a.preventDefault()}onUserInput(a){if(!this.isKeydown)return;this.isKeydown=!1;let y=a.target.value;try{let w=this.parseValueFromString(y);this.isValidSelection(w)&&(this.updateModel(w),this.updateUI())}catch{this.updateModel(this.keepInvalid?y:null)}this.filled=null!=y&&y.length,this.onInput.emit(a)}isValidSelection(a){let y=!0;return this.isSingleSelection()?this.isSelectable(a.getDate(),a.getMonth(),a.getFullYear(),!1)||(y=!1):a.every(w=>this.isSelectable(w.getDate(),w.getMonth(),w.getFullYear(),!1))&&this.isRangeSelection()&&(y=a.length>1&&a[1]>a[0]),y}parseValueFromString(a){if(!a||0===a.trim().length)return null;let y;if(this.isSingleSelection())y=this.parseDateTime(a);else if(this.isMultipleSelection()){let w=a.split(this.multipleSeparator);y=[];for(let S of w)y.push(this.parseDateTime(S.trim()))}else if(this.isRangeSelection()){let w=a.split(" "+this.rangeSeparator+" ");y=[];for(let S=0;S<w.length;S++)y[S]=this.parseDateTime(w[S].trim())}return y}parseDateTime(a){let y,w=a.split(" ");if(this.timeOnly)y=new Date,this.populateTime(y,w[0],w[1]);else{const S=this.getDateFormat();if(this.showTime){let Q="12"==this.hourFormat?w.pop():null,re=w.pop();y=this.parseDate(w.join(" "),S),this.populateTime(y,re,Q)}else y=this.parseDate(a,S)}return y}populateTime(a,y,w){if("12"==this.hourFormat&&!w)throw"Invalid Time";this.pm="PM"===w||"pm"===w;let S=this.parseTime(y);a.setHours(S.hour),a.setMinutes(S.minute),a.setSeconds(S.second)}isValidDate(a){return a instanceof Date&&rt.gb.isNotEmpty(a)}updateUI(){let a=this.value;Array.isArray(a)&&(a=a[0]);let y=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:a&&this.isValidDate(a)?a:new Date;this.currentMonth=y.getMonth(),this.currentYear=y.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(y.getHours()),this.currentMinute=y.getMinutes(),this.currentSecond=y.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(a){switch(a.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=a.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?rt.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):rt.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(a));break;case"void":this.onOverlayHide(),this.onClose.emit(a)}}onOverlayAnimationDone(a){switch(a.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&rt.P9.clear(a.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):le.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=le.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=le.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=le.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",le.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):le.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(a){this.mask||this.touchUI||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(a.style.zIndex)-1),le.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",w=>{this.disableModality()}),document.body.appendChild(this.mask),le.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(le.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){if(!this.mask)return;document.body.removeChild(this.mask);let y,a=document.body.children;for(let w=0;w<a.length;w++)if(le.p.hasClass(a[w],"p-datepicker-mask-scrollblocker")){y=!0;break}y||le.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(a){if(this.value=a,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=a)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(xt.ws.FIRST_DAY_OF_WEEK)}formatDate(a,y){if(!a)return"";let w;const S=ut=>{const tt=w+1<y.length&&y.charAt(w+1)===ut;return tt&&w++,tt},Q=(ut,tt,Gt)=>{let St=""+tt;if(S(ut))for(;St.length<Gt;)St="0"+St;return St},re=(ut,tt,Gt,St)=>S(ut)?St[tt]:Gt[tt];let ge="",Ve=!1;if(a)for(w=0;w<y.length;w++)if(Ve)"'"!==y.charAt(w)||S("'")?ge+=y.charAt(w):Ve=!1;else switch(y.charAt(w)){case"d":ge+=Q("d",a.getDate(),2);break;case"D":ge+=re("D",a.getDay(),this.getTranslation(xt.ws.DAY_NAMES_SHORT),this.getTranslation(xt.ws.DAY_NAMES));break;case"o":ge+=Q("o",Math.round((new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()-new Date(a.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ge+=Q("m",a.getMonth()+1,2);break;case"M":ge+=re("M",a.getMonth(),this.getTranslation(xt.ws.MONTH_NAMES_SHORT),this.getTranslation(xt.ws.MONTH_NAMES));break;case"y":ge+=S("y")?a.getFullYear():(a.getFullYear()%100<10?"0":"")+a.getFullYear()%100;break;case"@":ge+=a.getTime();break;case"!":ge+=1e4*a.getTime()+this.ticksTo1970;break;case"'":S("'")?ge+="'":Ve=!0;break;default:ge+=y.charAt(w)}return ge}formatTime(a){if(!a)return"";let y="",w=a.getHours(),S=a.getMinutes(),Q=a.getSeconds();return"12"==this.hourFormat&&w>11&&12!=w&&(w-=12),y+="12"==this.hourFormat&&0===w?12:w<10?"0"+w:w,y+=":",y+=S<10?"0"+S:S,this.showSeconds&&(y+=":",y+=Q<10?"0"+Q:Q),"12"==this.hourFormat&&(y+=a.getHours()>11?" PM":" AM"),y}parseTime(a){let y=a.split(":");if(y.length!==(this.showSeconds?3:2))throw"Invalid time";let S=parseInt(y[0]),Q=parseInt(y[1]),re=this.showSeconds?parseInt(y[2]):null;if(isNaN(S)||isNaN(Q)||S>23||Q>59||"12"==this.hourFormat&&S>12||this.showSeconds&&(isNaN(re)||re>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==S&&this.pm?S+=12:!this.pm&&12===S&&(S-=12)),{hour:S,minute:Q,second:re}}parseDate(a,y){if(null==y||null==a)throw"Invalid arguments";if(""===(a="object"==typeof a?a.toString():a+""))return null;let w,S,Q,Ut,re=0,ge="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),Ve=-1,ut=-1,tt=-1,Gt=-1,St=!1,Nt=Mi=>{let wi=w+1<y.length&&y.charAt(w+1)===Mi;return wi&&w++,wi},Di=Mi=>{let wi=Nt(Mi),On="@"===Mi?14:"!"===Mi?20:"y"===Mi&&wi?4:"o"===Mi?3:2,Ro=new RegExp("^\\d{"+("y"===Mi?On:1)+","+On+"}"),In=a.substring(re).match(Ro);if(!In)throw"Missing number at position "+re;return re+=In[0].length,parseInt(In[0],10)},fd=(Mi,wi,On)=>{let Oa=-1,Ro=Nt(Mi)?On:wi,In=[];for(let xi=0;xi<Ro.length;xi++)In.push([xi,Ro[xi]]);In.sort((xi,Ia)=>-(xi[1].length-Ia[1].length));for(let xi=0;xi<In.length;xi++){let Ia=In[xi][1];if(a.substr(re,Ia.length).toLowerCase()===Ia.toLowerCase()){Oa=In[xi][0],re+=Ia.length;break}}if(-1!==Oa)return Oa+1;throw"Unknown name at position "+re},Po=()=>{if(a.charAt(re)!==y.charAt(w))throw"Unexpected literal at position "+re;re++};for("month"===this.view&&(tt=1),w=0;w<y.length;w++)if(St)"'"!==y.charAt(w)||Nt("'")?Po():St=!1;else switch(y.charAt(w)){case"d":tt=Di("d");break;case"D":fd("D",this.getTranslation(xt.ws.DAY_NAMES_SHORT),this.getTranslation(xt.ws.DAY_NAMES));break;case"o":Gt=Di("o");break;case"m":ut=Di("m");break;case"M":ut=fd("M",this.getTranslation(xt.ws.MONTH_NAMES_SHORT),this.getTranslation(xt.ws.MONTH_NAMES));break;case"y":Ve=Di("y");break;case"@":Ut=new Date(Di("@")),Ve=Ut.getFullYear(),ut=Ut.getMonth()+1,tt=Ut.getDate();break;case"!":Ut=new Date((Di("!")-this.ticksTo1970)/1e4),Ve=Ut.getFullYear(),ut=Ut.getMonth()+1,tt=Ut.getDate();break;case"'":Nt("'")?Po():St=!0;break;default:Po()}if(re<a.length&&(Q=a.substr(re),!/^\s+/.test(Q)))throw"Extra/unparsed characters found in date: "+Q;if(-1===Ve?Ve=(new Date).getFullYear():Ve<100&&(Ve+=(new Date).getFullYear()-(new Date).getFullYear()%100+(Ve<=ge?0:-100)),Gt>-1)for(ut=1,tt=Gt;S=this.getDaysCountInMonth(Ve,ut-1),!(tt<=S);)ut++,tt-=S;if("year"===this.view&&(ut=-1===ut?1:ut,tt=-1===tt?1:tt),Ut=this.daylightSavingAdjust(new Date(Ve,ut-1,tt)),Ut.getFullYear()!==Ve||Ut.getMonth()+1!==ut||Ut.getDate()!==tt)throw"Invalid date";return Ut}daylightSavingAdjust(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(a){let y=new Date,w={day:y.getDate(),month:y.getMonth(),year:y.getFullYear(),otherMonth:y.getMonth()!==this.currentMonth||y.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(a,w),this.onTodayClick.emit(a)}onClearButtonClick(a){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(a)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let a="";if(this.responsiveOptions){let y=[...this.responsiveOptions].filter(w=>!(!w.breakpoint||!w.numMonths)).sort((w,S)=>-1*w.breakpoint.localeCompare(S.breakpoint,void 0,{numeric:!0}));for(let w=0;w<y.length;w++){let{breakpoint:S,numMonths:Q}=y[w],re=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Q}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let ge=Q;ge<this.numberOfMonths;ge++)re+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${ge+1}) {\n                                display: none !important;\n                            }\n                        `;a+=`\n                        @media screen and (max-width: ${S}) {\n                            ${re}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=a}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",y=>{this.isOutsideClicked(y)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(y),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new le.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(a){return!(this.el.nativeElement.isSameNode(a.target)||this.isNavIconClicked(a)||this.el.nativeElement.contains(a.target)||this.overlay&&this.overlay.contains(a.target))}isNavIconClicked(a){return le.p.hasClass(a.target,"p-datepicker-prev")||le.p.hasClass(a.target,"p-datepicker-prev-icon")||le.p.hasClass(a.target,"p-datepicker-next")||le.p.hasClass(a.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!le.p.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&rt.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(xt.b4),m.Y36(xt.F0))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-calendar"]],contentQueries:function(a,y,w){if(1&a&&m.Suo(w,xt.jx,4),2&a){let S;m.iGM(S=m.CRH())&&(y.templates=S)}},viewQuery:function(a,y){if(1&a&&(m.Gf(Xe,5),m.Gf(gf,5),m.Gf(Rt,5)),2&a){let w;m.iGM(w=m.CRH())&&(y.containerViewChild=w.first),m.iGM(w=m.CRH())&&(y.inputfieldViewChild=w.first),m.iGM(w=m.CRH())&&(y.content=w.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(a,y){2&a&&m.ekj("p-inputwrapper-filled",y.filled)("p-inputwrapper-focus",y.focus)("p-calendar-clearable",y.showClear&&!y.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[m._Bn([kf])],ngContentSelectors:Bc,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(a,y){1&a&&(m.F$t(_s),m.TgZ(0,"span",0,1),m.YNc(2,tn,4,17,"ng-template",2),m.YNc(3,Hi,9,28,"div",3),m.qZA()),2&a&&(m.Tol(y.styleClass),m.Q6J("ngClass",m.l5B(6,ma,y.showIcon,y.timeOnly,y.disabled,y.focus))("ngStyle",y.style),m.xp6(2),m.Q6J("ngIf",!y.inline),m.xp6(1),m.Q6J("ngIf",y.inline||y.overlayVisible))},dependencies:[Ke.mk,Ke.sg,Ke.O5,Ke.tP,Ke.PC,di.Hq,Fi.H],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,Ee.X$)("overlayAnimation",[(0,Ee.SB)("visibleTouchUI",(0,Ee.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,Ee.eR)("void => visible",[(0,Ee.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Ee.jt)("{{showTransitionParams}}",(0,Ee.oB)({opacity:1,transform:"*"}))]),(0,Ee.eR)("visible => void",[(0,Ee.jt)("{{hideTransitionParams}}",(0,Ee.oB)({opacity:0}))]),(0,Ee.eR)("void => visibleTouchUI",[(0,Ee.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,Ee.jt)("{{showTransitionParams}}")]),(0,Ee.eR)("visibleTouchUI => void",[(0,Ee.jt)("{{hideTransitionParams}}",(0,Ee.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),C})(),ya=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez,di.hJ,xt.m8,Fi.T,di.hJ,xt.m8]}),C})();var ba=We(5702),kn=We(5047),Nc=We(1740);let ft=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez,ba.kW,kn.L$,mi.u5,xt.m8,Fi.T,ba.kW,kn.L$,mi.u5,xt.m8]}),C})();var Yl=We(3718);function Of(C,$){if(1&C&&m._UZ(0,"span",8),2&C){const a=m.oxw(2).$implicit;m.Tol(a.icon),m.Q6J("ngClass","p-button-icon p-button-icon-left")}}function If(C,$){if(1&C&&(m.ynx(0),m.YNc(1,Of,1,3,"span",6),m.TgZ(2,"span",7),m._uU(3),m.qZA(),m.BQk()),2&C){const a=m.oxw().$implicit,y=m.oxw();m.xp6(1),m.Q6J("ngIf",a.icon),m.xp6(2),m.Oqu(y.getOptionLabel(a))}}function Df(C,$){1&C&&m.GkF(0)}const Kr=function(C,$){return{$implicit:C,index:$}};function zc(C,$){if(1&C&&m.YNc(0,Df,1,0,"ng-container",9),2&C){const a=m.oxw(),y=a.$implicit,w=a.index,S=m.oxw();m.Q6J("ngTemplateOutlet",S.itemTemplate)("ngTemplateOutletContext",m.WLB(2,Kr,y,w))}}const Mf=function(C,$,a){return{"p-highlight":C,"p-disabled":$,"p-button-icon-only":a}};function xa(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"div",2,3),m.NdJ("click",function(w){const S=m.CHM(a),Q=S.$implicit,re=S.index,ge=m.oxw();return m.KtG(ge.onItemClick(w,Q,re))})("keydown.enter",function(w){const S=m.CHM(a),Q=S.$implicit,re=S.index,ge=m.oxw();return m.KtG(ge.onItemClick(w,Q,re))})("blur",function(){m.CHM(a);const w=m.oxw();return m.KtG(w.onBlur())}),m.YNc(2,If,4,2,"ng-container",4),m.YNc(3,zc,1,5,"ng-template",null,5,m.W1O),m.qZA()}if(2&C){const a=$.$implicit,y=m.MAs(4),w=m.oxw();m.Tol(a.styleClass),m.Q6J("ngClass",m.kEZ(10,Mf,w.isSelected(a),w.disabled||w.isOptionDisabled(a),a.icon&&!w.getOptionLabel(a))),m.uIk("aria-pressed",w.isSelected(a))("title",a.title)("aria-label",a.label)("tabindex",w.disabled?null:w.tabindex)("aria-labelledby",w.getOptionLabel(a)),m.xp6(2),m.Q6J("ngIf",!w.itemTemplate)("ngIfElse",y)}}const jc={provide:mi.JU,useExisting:(0,m.Gpc)(()=>ql),multi:!0};let ql=(()=>{class C{constructor(a){this.cd=a,this.tabindex=0,this.onOptionClick=new m.vpe,this.onChange=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(a){return this.optionLabel?rt.gb.resolveFieldData(a,this.optionLabel):null!=a.label?a.label:a}getOptionValue(a){return this.optionValue?rt.gb.resolveFieldData(a,this.optionValue):this.optionLabel||void 0===a.value?a:a.value}isOptionDisabled(a){return this.optionDisabled?rt.gb.resolveFieldData(a,this.optionDisabled):void 0!==a.disabled&&a.disabled}writeValue(a){this.value=a,this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}onItemClick(a,y,w){if(!this.disabled&&!this.isOptionDisabled(y)){if(this.multiple)this.isSelected(y)?this.removeOption(y):this.value=[...this.value||[],this.getOptionValue(y)],this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value});else{let S=this.getOptionValue(y);this.value!==S&&(this.value=this.getOptionValue(y),this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value}))}this.onOptionClick.emit({originalEvent:a,option:y,index:w})}}onBlur(){this.onModelTouched()}removeOption(a){this.value=this.value.filter(y=>!rt.gb.equals(y,this.getOptionValue(a),this.dataKey))}isSelected(a){let y=!1,w=this.getOptionValue(a);if(this.multiple){if(this.value&&this.value instanceof Array)for(let S of this.value)if(rt.gb.equals(S,w,this.dataKey)){y=!0;break}}else y=rt.gb.equals(this.getOptionValue(a),this.value,this.dataKey);return y}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.sBO))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-selectButton"]],contentQueries:function(a,y,w){if(1&a&&m.Suo(w,m.Rgc,5),2&a){let S;m.iGM(S=m.CRH())&&(y.itemTemplate=S.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[m._Bn([jc])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,y){1&a&&(m.TgZ(0,"div",0),m.YNc(1,xa,5,14,"div",1),m.qZA()),2&a&&(m.Tol(y.styleClass),m.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",y.style),m.xp6(1),m.Q6J("ngForOf",y.options))},dependencies:[Ke.mk,Ke.sg,Ke.O5,Ke.tP,Ke.PC,Fi.H],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n'],encapsulation:2,changeDetection:0}),C})(),Zl=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez,Fi.T]}),C})();const Kn=function(C,$,a){return{"p-checkbox-label-active":C,"p-disabled":$,"p-checkbox-label-focus":a}};function It(C,$){if(1&C){const a=m.EpF();m.TgZ(0,"label",7),m.NdJ("click",function(w){m.CHM(a);const S=m.oxw(),Q=m.MAs(3);return m.KtG(S.onClick(w,Q))}),m._uU(1),m.qZA()}if(2&C){const a=m.oxw();m.Q6J("ngClass",m.kEZ(3,Kn,null!=a.value,a.disabled,a.focused)),m.uIk("for",a.inputId),m.xp6(1),m.Oqu(a.label)}}const Jl=function(C,$){return{"p-checkbox p-component":!0,"p-checkbox-disabled":C,"p-checkbox-focused":$}},Pf=function(C,$,a){return{"p-highlight":C,"p-disabled":$,"p-focus":a}},ot={provide:mi.JU,useExisting:(0,m.Gpc)(()=>bi),multi:!0};let bi=(()=>{class C{constructor(a){this.cd=a,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new m.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(a,y){!this.disabled&&!this.readonly&&(this.toggle(a),this.focused=!0,y.focus())}onKeydown(a){32==a.keyCode&&a.preventDefault()}onKeyup(a){32==a.keyCode&&!this.readonly&&(this.toggle(a),a.preventDefault())}toggle(a){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:a,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}writeValue(a){this.value=a,this.cd.markForCheck()}setDisabledState(a){this.disabled=a,this.cd.markForCheck()}}return C.\u0275fac=function(a){return new(a||C)(m.Y36(m.sBO))},C.\u0275cmp=m.Xpm({type:C,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[m._Bn([ot])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(a,y){if(1&a){const w=m.EpF();m.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),m.NdJ("keyup",function(Q){return y.onKeyup(Q)})("keydown",function(Q){return y.onKeydown(Q)})("focus",function(){return y.onFocus()})("blur",function(){return y.onBlur()}),m.qZA()(),m.TgZ(4,"div",4),m.NdJ("click",function(Q){m.CHM(w);const re=m.MAs(3);return m.KtG(y.onClick(Q,re))}),m._UZ(5,"span",5),m.qZA()(),m.YNc(6,It,2,7,"label",6)}2&a&&(m.Tol(y.styleClass),m.Q6J("ngStyle",y.style)("ngClass",m.WLB(14,Jl,y.disabled,y.focused)),m.xp6(2),m.Q6J("name",y.name)("readonly",y.readonly)("disabled",y.disabled),m.uIk("id",y.inputId)("tabindex",y.tabindex)("aria-labelledby",y.ariaLabelledBy),m.xp6(2),m.Q6J("ngClass",m.kEZ(17,Pf,null!=y.value,y.disabled,y.focused)),m.uIk("aria-checked",!0===y.value),m.xp6(1),m.Q6J("ngClass",!0===y.value?y.checkboxTrueIcon:!1===y.value?y.checkboxFalseIcon:""),m.xp6(1),m.Q6J("ngIf",y.label))},dependencies:[Ke.mk,Ke.O5,Ke.PC],encapsulation:2,changeDetection:0}),C})(),Xl=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez]}),C})(),fu=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez,ft,Nc.j,ba.kW,mi.u5,di.hJ,Zl,ya,kn.L$,Xl,Yl.v,xt.m8,Yl.v]}),C})();var cd=We(7254),Ta=We(2453),Ps=We(6408),hp=We(3054),fp=We(613),dd=We(1493),_i=We(1383);let hd=(()=>{class C{}return C.\u0275fac=function(a){return new(a||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[Ke.ez,Ll,ca._,fu,cd.O,mi.u5,di.hJ,Fi.T,Ta.EV,_i.V,Ps.Xt,Nc.j,hp.A,ba.kW,fp.cc,kn.L$,dd.S]}),C})()},6770:function(XC,Rc){!function(We){function Ke(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={exports:{}},xt=function(l){return l&&l.Math==Math&&l},ee=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof mi&&mi)||function(){return this}()||Function("return this")(),we=function(l){try{return!!l()}catch{return!0}},m=!we(function(){var l=function(){}.bind();return"function"!=typeof l||l.hasOwnProperty("prototype")}),ua=Function.prototype,ca=ua.apply,di=ua.call,Fi="object"==typeof Reflect&&Reflect.apply||(m?di.bind(ca):function(){return di.apply(ca,arguments)}),vs=m,Fc=Function.prototype,Ll=Fc.call,Ee=vs&&Fc.bind.bind(Ll,Ll),le=vs?function(l){return l&&Ee(l)}:function(l){return l&&function(){return Ll.apply(l,arguments)}},rt=function(l){return"function"==typeof l},Xe={},Rt=!we(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),en=Function.prototype.call,tn=m?en.bind(en):function(){return en.apply(en,arguments)},Nr={},Ac={}.propertyIsEnumerable,yi=Object.getOwnPropertyDescriptor,zr=yi&&!Ac.call({1:2},1);Nr.f=zr?function(c){var g=yi(this,c);return!!g&&g.enumerable}:Ac;var Hi,_s,ji=function(l,c){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:c}},gs=le,$c=gs({}.toString),mf=gs("".slice),ii=function(l){return mf($c(l),8,-1)},_f=we,ha=ii,ms=ee.Object,jr=le("".split),ys=_f(function(){return!ms("z").propertyIsEnumerable(0)})?function(l){return"String"==ha(l)?jr(l,""):ms(l)}:ms,wf=ee.TypeError,fa=function(l){if(null==l)throw wf("Can't call method on "+l);return l},Kt=ys,xf=fa,Ue=function(l){return Kt(xf(l))},Fe=rt,ni=function(l){return"object"==typeof l?null!==l:Fe(l)},yt={},Bl=yt,pa=ee,hi=rt,Qe=function(l){return hi(l)?l:void 0},fi=function(l,c){return arguments.length<2?Qe(Bl[l])||Qe(pa[l]):Bl[l]&&Bl[l][c]||pa[l]&&pa[l][c]},Lt=le({}.isPrototypeOf),hr=fi("navigator","userAgent")||"",va=hr,xn=ee.process,ga=ee.Deno,Lc=xn&&xn.versions||ga&&ga.version,Oo=Lc&&Lc.v8;Oo&&(_s=(Hi=Oo.split("."))[0]>0&&Hi[0]<4?1:+(Hi[0]+Hi[1])),!_s&&va&&(!(Hi=va.match(/Edge\/(\d+)/))||Hi[1]>=74)&&(Hi=va.match(/Chrome\/(\d+)/))&&(_s=+Hi[1]);var ma=_s,Bc=ma,jl=!!Object.getOwnPropertySymbols&&!we(function(){var l=Symbol();return!String(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&Bc&&Bc<41}),ba=jl&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Nc=fi,Cf=rt,Hl=Lt,Ef=ee.Object,Cn=ba?function(l){return"symbol"==typeof l}:function(l){var c=Nc("Symbol");return Cf(c)&&Hl(c.prototype,Ef(l))},wa=ee.String,fr=function(l){try{return wa(l)}catch{return"Object"}},Hr=rt,Vl=fr,Tf=ee.TypeError,Vr=function(l){if(Hr(l))return l;throw Tf(Vl(l)+" is not a function")},Wl=Vr,Wr=function(l,c){var g=l[c];return null==g?void 0:Wl(g)},Gl=tn,Ul=rt,Et=ni,gm=ee.TypeError,ft={exports:{}},Yl=ee,Of=Object.defineProperty,zc="__core-js_shared__",xa=ee[zc]||function(l,c){try{Of(Yl,l,{value:c,configurable:!0,writable:!0})}catch{Yl[l]=c}return c}(zc,{}),jc=xa;(ft.exports=function(l,c){return jc[l]||(jc[l]=void 0!==c?c:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Zl=fa,Kn=ee.Object,It=function(l){return Kn(Zl(l))},Pf=It,ot=le({}.hasOwnProperty),bi=Object.hasOwn||function(c,g){return ot(Pf(c),g)},Xl=le,Hc=0,ym=Math.random(),bm=Xl(1..toString),Ql=function(l){return"Symbol("+(void 0===l?"":l)+")_"+bm(++Hc+ym,36)},_m=ee,Rf=bi,xm=Ql,Gr=jl,eu=ba,En=(0,ft.exports)("wks"),Io=_m.Symbol,tu=Io&&Io.for,Ff=eu?Io:Io&&Io.withoutSetter||xm,jt=function(l){if(!Rf(En,l)||!Gr&&"string"!=typeof En[l]){var c="Symbol."+l;En[l]=Gr&&Rf(Io,l)?Io[l]:eu&&tu?tu(c):Ff(c)}return En[l]},$f=tn,Lf=ni,Vc=Cn,Bf=Wr,km=function(l,c){var g,b;if("string"===c&&Ul(g=l.toString)&&!Et(b=Gl(g,l))||Ul(g=l.valueOf)&&!Et(b=Gl(g,l))||"string"!==c&&Ul(g=l.toString)&&!Et(b=Gl(g,l)))return b;throw gm("Can't convert object to primitive value")},zf=ee.TypeError,iu=jt("toPrimitive"),ka=Cn,rn=function(l){var c=function(l,c){if(!Lf(l)||Vc(l))return l;var b,g=Bf(l,iu);if(g){if(void 0===c&&(c="default"),b=$f(g,l,c),!Lf(b)||Vc(b))return b;throw zf("Can't convert object to primitive value")}return void 0===c&&(c="number"),km(l,c)}(l,"string");return ka(c)?c:c+""},Wf=ni,Wc=ee.document,Kf=Wf(Wc)&&Wf(Wc.createElement),Gf=function(l){return Kf?Wc.createElement(l):{}},Sm=Gf,Sn=!Rt&&!we(function(){return 7!=Object.defineProperty(Sm("div"),"a",{get:function(){return 7}}).a}),Kc=tn,nu=Nr,ru=ji,Uf=Ue,Yf=rn,Bt=bi,qf=Sn,Gc=Object.getOwnPropertyDescriptor;Xe.f=Rt?Gc:function(c,g){if(c=Uf(c),g=Yf(g),qf)try{return Gc(c,g)}catch{}if(Bt(c,g))return ru(!Kc(nu.f,c,g),c[g])};var Zf=we,Ur=rt,ou=/#|\.prototype\./,Ca=function(l,c){var g=Jf[ws(l)];return g==Xf||g!=xs&&(Ur(c)?Zf(c):!!c)},ws=Ca.normalize=function(l){return String(l).replace(ou,".").toLowerCase()},Jf=Ca.data={},xs=Ca.NATIVE="N",Xf=Ca.POLYFILL="P",Qf=Ca,ep=Vr,hn=m,Yr=le(le.bind),qr=function(l,c){return ep(l),void 0===c?l:hn?Yr(l,c):function(){return l.apply(c,arguments)}},Vi={},Yc=Rt&&we(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ip=ni,fn=ee.String,qc=ee.TypeError,pn=function(l){if(ip(l))return l;throw qc(fn(l)+" is not an object")},np=Sn,Cs=pn,rp=rn,Zc=ee.TypeError,Gn=Object.defineProperty,Jc=Object.getOwnPropertyDescriptor,pr="enumerable",pt="configurable",Ii="writable";Vi.f=Rt?Yc?function(c,g,b){if(Cs(c),g=rp(g),Cs(b),"function"==typeof c&&"prototype"===g&&"value"in b&&Ii in b&&!b[Ii]){var _=Jc(c,g);_&&_[Ii]&&(c[g]=b.value,b={configurable:pt in b?b[pt]:_[pt],enumerable:pr in b?b[pr]:_[pr],writable:!1})}return Gn(c,g,b)}:Gn:function(c,g,b){if(Cs(c),g=rp(g),Cs(b),np)try{return Gn(c,g,b)}catch{}if("get"in b||"set"in b)throw Zc("Accessors not supported");return"value"in b&&(c[g]=b.value),c};var Im=Vi,Dm=ji,Do=Rt?function(l,c,g){return Im.f(l,c,Dm(1,g))}:function(l,c,g){return l[c]=g,l},Mo=ee,Es=Fi,Ss=le,Mm=rt,ap=Xe.f,Xc=Qf,Zr=yt,au=qr,Un=Do,Qc=bi,Qt=function(l){var c=function(g,b,_){if(this instanceof c){switch(arguments.length){case 0:return new l;case 1:return new l(g);case 2:return new l(g,b)}return new l(g,b,_)}return Es(l,this,arguments)};return c.prototype=l.prototype,c},Ge=function(l,c){var W,U,X,ae,Le,Ye,it,Be,g=l.target,b=l.global,_=l.stat,E=l.proto,M=b?Mo:_?Mo[g]:(Mo[g]||{}).prototype,R=b?Zr:Zr[g]||Un(Zr,g,{})[g],A=R.prototype;for(X in c)W=!Xc(b?X:g+(_?".":"#")+X,l.forced)&&M&&Qc(M,X),Le=R[X],W&&(Ye=l.noTargetGet?(Be=ap(M,X))&&Be.value:M[X]),ae=W&&Ye?Ye:c[X],(!W||typeof Le!=typeof ae)&&(it=l.bind&&W?au(ae,Mo):l.wrap&&W?Qt(ae):E&&Mm(ae)?Ss(ae):ae,(l.sham||ae&&ae.sham||Le&&Le.sham)&&Un(it,"sham",!0),Un(R,X,it),E&&(Qc(Zr,U=g+"Prototype")||Un(Zr,U,{}),Un(Zr[U],X,ae),l.real&&A&&!A[X]&&Un(A,X,ae)))},Os=Vi.f;Ge({target:"Object",stat:!0,forced:Object.defineProperty!==Os,sham:!Rt},{defineProperty:Os});var td=yt.Object,su=la.exports=function(c,g,b){return td.defineProperty(c,g,b)};td.defineProperty.sham&&(su.sham=!0);var id=la.exports,lu=id;function rd(l,c){for(var g=0;g<c.length;g++){var b=c[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),lu(l,b.key,b)}}function vr(l,c,g){return c&&rd(l.prototype,c),g&&rd(l,g),lu(l,"prototype",{writable:!1}),l}function Ne(l,c,g){return c in l?lu(l,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):l[c]=g,l}var Ds=le([].slice),Sa=le,Am=Vr,sp=ni,lp=bi,od=Ds,$m=m,up=ee.Function,ad=Sa([].concat),sd=Sa([].join),Ms={},cp=function(l,c,g){if(!lp(Ms,c)){for(var b=[],_=0;_<c;_++)b[_]="a["+_+"]";Ms[c]=up("C,a","return new C("+sd(b,",")+")")}return Ms[c](l,g)},Xr=$m?up.bind:function(c){var g=Am(this),b=g.prototype,_=od(arguments,1),E=function(){var R=ad(_,od(arguments));return this instanceof E?cp(g,R.length,R):g.apply(c,R)};return sp(b)&&(E.prototype=b),E};Ge({target:"Function",proto:!0,forced:Function.bind!==Xr},{bind:Xr});var Lm=yt,ri=function(l){return Lm[l+"Prototype"]},cu=ri("Function").bind,pe=Lt,ud=cu,du=Function.prototype,Qr=function(l){var c=l.bind;return l===du||pe(du,l)&&c===du.bind?ud:c},fu=Math.ceil,cd=Math.floor,Ta=function(l){var c=+l;return c!=c||0===c?0:(c>0?cd:fu)(c)},Ps=Ta,hp=Math.min,_i=function(l){return function(l){return l>0?hp(Ps(l),9007199254740991):0}(l.length)},C=Vr,$=It,a=ys,y=_i,w=ee.TypeError,S=function(l){return function(c,g,b,_){C(g);var E=$(c),M=a(E),R=y(E),A=l?R-1:0,j=l?-1:1;if(b<2)for(;;){if(A in M){_=M[A],A+=j;break}if(A+=j,l?A<0:R<=A)throw w("Reduce of empty array with no initial value")}for(;l?A>=0:R>A;A+=j)A in M&&(_=g(_,M[A],A,E));return _}},Q={left:S(!1),right:S(!0)},re=we,ge=function(l,c){var g=[][l];return!!g&&re(function(){g.call(null,c||function(){return 1},1)})},tt="process"==ii(ee.process),St=Q.left,Nt=ma,Di=tt;Ge({target:"Array",proto:!0,forced:!ge("reduce")||!Di&&Nt>79&&Nt<83},{reduce:function(c){var g=arguments.length;return St(this,c,g,g>1?arguments[1]:void 0)}});var wi=ri("Array").reduce,On=Lt,Oa=wi,Ro=Array.prototype,Bm=function(l){var c=l.reduce;return l===Ro||On(Ro,l)&&c===Ro.reduce?Oa:c},Nm=ii,gr=Array.isArray||function(c){return"Array"==Nm(c)},pd={};pd[jt("toStringTag")]="z";var vp="[object z]"===String(pd),M_=ee,gp=vp,pu=rt,Ai=ii,zm=jt("toStringTag"),mp=M_.Object,R_="Arguments"==Ai(function(){return arguments}()),eo=gp?Ai:function(l){var c,g,b;return void 0===l?"Undefined":null===l?"Null":"string"==typeof(g=function(l,c){try{return l[c]}catch{}}(c=mp(l),zm))?g:R_?Ai(c):"Object"==(b=Ai(c))&&pu(c.callee)?"Arguments":b},F_=rt,Ao=xa,mr=le(Function.toString);F_(Ao.inspectSource)||(Ao.inspectSource=function(l){return mr(l)});var vd=Ao.inspectSource,A_=le,Hm=we,gd=rt,yp=eo,$o=vd,gu=function(){},$_=[],Vm=fi("Reflect","construct"),bp=/^\s*(?:class|function)\b/,L_=A_(bp.exec),Da=!bp.exec(gu),yr=function(c){if(!gd(c))return!1;try{return Vm(gu,$_,c),!0}catch{return!1}},Wm=function(c){if(!gd(c))return!1;switch(yp(c)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Da||!!L_(bp,$o(c))}catch{return!0}};Wm.sham=!0;var md=!Vm||Hm(function(){var l;return yr(yr.call)||!yr(Object)||!yr(function(){l=!0})||l})?Wm:yr,B_=ee,_p=gr,Km=md,N_=ni,Um=jt("species"),yd=B_.Array,Ma=function(l,c){return new(function(l){var c;return _p(l)&&(Km(c=l.constructor)&&(c===yd||_p(c.prototype))||N_(c)&&null===(c=c[Um]))&&(c=void 0),void 0===c?yd:c}(l))(0===c?0:c)},Pa=qr,xp=ys,to=It,Rs=_i,z_=Ma,kp=le([].push),br=function(l){var c=1==l,g=2==l,b=3==l,_=4==l,E=6==l,M=7==l,R=5==l||E;return function(A,j,W,U){for(var Qi,zt,X=to(A),ae=xp(X),Le=Pa(j,W),Ye=Rs(ae),it=0,Be=U||z_,Wt=c?Be(A,Ye):g||M?Be(A,0):void 0;Ye>it;it++)if((R||it in ae)&&(zt=Le(Qi=ae[it],it,X),l))if(c)Wt[it]=zt;else if(zt)switch(l){case 3:return!0;case 5:return Qi;case 6:return it;case 2:kp(Wt,Qi)}else switch(l){case 4:return!1;case 7:kp(Wt,Qi)}return E?-1:b||_?_:Wt}},Fs={forEach:br(0),map:br(1),filter:br(2),some:br(3),every:br(4),find:br(5),findIndex:br(6),filterReject:br(7)},j_=we,mu=ma,H_=jt("species"),Lo=function(l){return mu>=51||!j_(function(){var c=[];return(c.constructor={})[H_]=function(){return{foo:1}},1!==c[l](Boolean).foo})},As=Fs.filter;Ge({target:"Array",proto:!0,forced:!Lo("filter")},{filter:function(c){return As(this,c,arguments.length>1?arguments[1]:void 0)}});var Cp=ri("Array").filter,K_=Lt,Bo=Cp,_r=Array.prototype,ki=function(l){var c=l.filter;return l===_r||K_(_r,l)&&c===_r.filter?Bo:c},Qm=Fs.map;Ge({target:"Array",proto:!0,forced:!Lo("map")},{map:function(c){return Qm(this,c,arguments.length>1?arguments[1]:void 0)}});var ey=ri("Array").map,io=Lt,$s=ey,Tp=Array.prototype,Wi=function(l){var c=l.map;return l===Tp||io(Tp,l)&&c===Tp.map?$s:c},iy=gr,Z_=_i,ny=qr,ry=ee.TypeError,wd=function(l,c,g,b,_,E,M,R){for(var U,X,A=_,j=0,W=!!M&&ny(M,R);j<b;){if(j in g){if(U=W?W(g[j],j,c):g[j],E>0&&iy(U))X=Z_(U),A=wd(l,c,U,X,A,E-1)-1;else{if(A>=9007199254740991)throw ry("Exceed the acceptable array length");l[A]=U}A++}j++}return A},yu=wd,Q_=Vr,ew=It,tw=_i,iw=Ma;Ge({target:"Array",proto:!0},{flatMap:function(c){var _,g=ew(this),b=tw(g);return Q_(c),(_=iw(g,0)).length=yu(_,g,g,b,0,1,c,arguments.length>1?arguments[1]:void 0),_}});var oy=ri("Array").flatMap,bu=Lt,rw=oy,Ls=Array.prototype;var Vs,no,ro,kd=function(){function l(c,g,b){var _,E,M;Ke(this,l),Ne(this,"_source",void 0),Ne(this,"_transformers",void 0),Ne(this,"_target",void 0),Ne(this,"_listeners",{add:Qr(_=this._add).call(_,this),remove:Qr(E=this._remove).call(E,this),update:Qr(M=this._update).call(M,this)}),this._source=c,this._transformers=g,this._target=b}return vr(l,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(g){var b;return Bm(b=this._transformers).call(b,function(_,E){return E(_)},g)}},{key:"_add",value:function(g,b){null!=b&&this._target.add(this._transformItems(this._source.get(b.items)))}},{key:"_update",value:function(g,b){null!=b&&this._target.update(this._transformItems(this._source.get(b.items)))}},{key:"_remove",value:function(g,b){null!=b&&this._target.remove(this._transformItems(b.oldData))}}]),l}(),Mp=function(){function l(c){Ke(this,l),Ne(this,"_source",void 0),Ne(this,"_transformers",[]),this._source=c}return vr(l,[{key:"filter",value:function(g){return this._transformers.push(function(b){return ki(b).call(b,g)}),this}},{key:"map",value:function(g){return this._transformers.push(function(b){return Wi(b).call(b,g)}),this}},{key:"flatMap",value:function(g){return this._transformers.push(function(b){return function(l){var c=l.flatMap;return l===Ls||bu(Ls,l)&&c===Ls.flatMap?rw:c}(b).call(b,g)}),this}},{key:"to",value:function(g){return new kd(this._source,this._transformers,g)}}]),l}(),Pp=eo,Cd=ee.String,an=function(l){if("Symbol"===Pp(l))throw TypeError("Cannot convert a Symbol value to a string");return Cd(l)},Ed=le,ly=Ta,Bs=an,Rp=fa,aw=Ed("".charAt),Fp=Ed("".charCodeAt),sw=Ed("".slice),uy=function(l){return function(c,g){var M,R,b=Bs(Rp(c)),_=ly(g),E=b.length;return _<0||_>=E?l?"":void 0:(M=Fp(b,_))<55296||M>56319||_+1===E||(R=Fp(b,_+1))<56320||R>57343?l?aw(b,_):M:l?sw(b,_,_+2):R-56320+(M-55296<<10)+65536}},lw={codeAt:uy(!1),charAt:uy(!0)},dy=vd,Sd=ee.WeakMap,uw=rt(Sd)&&/native code/.test(dy(Sd)),cw=Ql,hy=(0,ft.exports)("keys"),wu=function(l){return hy[l]||(hy[l]=cw(l))},Ns={},Td=le,dw=ni,js=Do,Od=bi,hw=wu,fw=Ns,py="Object already initialized",No=ee.TypeError;if(uw||xa.state){var Fa=xa.state||(xa.state=new(0,ee.WeakMap)),gw=Td(Fa.get),vy=Td(Fa.has),mw=Td(Fa.set);Vs=function(l,c){if(vy(Fa,l))throw new No(py);return c.facade=l,mw(Fa,l,c),c},no=function(l){return gw(Fa,l)||{}},ro=function(l){return vy(Fa,l)}}else{var Aa=hw("state");fw[Aa]=!0,Vs=function(l,c){if(Od(l,Aa))throw new No(py);return c.facade=l,js(l,Aa,c),c},no=function(l){return Od(l,Aa)?l[Aa]:{}},ro=function(l){return Od(l,Aa)}}var Ws={set:Vs,get:no,has:ro,enforce:function(l){return ro(l)?no(l):Vs(l,{})},getterFor:function(l){return function(c){var g;if(!dw(c)||(g=no(c)).type!==l)throw No("Incompatible receiver, "+l+" required");return g}}},$p=Rt,gy=Function.prototype,bw=$p&&Object.getOwnPropertyDescriptor,Lp=bi(gy,"name"),Bp={EXISTS:Lp,PROPER:Lp&&"something"===function(){}.name,CONFIGURABLE:Lp&&(!$p||$p&&bw(gy,"name").configurable)},Dd={},xw=Ta,my=Math.max,Np=Math.min,$a=function(l,c){var g=xw(l);return g<0?my(g+c,0):Np(g,c)},kw=Ue,xu=$a,zp=_i,jp=function(l){return function(c,g,b){var R,_=kw(c),E=zp(_),M=xu(b,E);if(l&&g!=g){for(;E>M;)if((R=_[M++])!=R)return!0}else for(;E>M;M++)if((l||M in _)&&_[M]===g)return l||M||0;return!l&&-1}},La={includes:jp(!0),indexOf:jp(!1)},Hp=bi,Md=Ue,yy=La.indexOf,Cw=Ns,Pd=le([].push),by=function(l,c){var E,g=Md(l),b=0,_=[];for(E in g)!Hp(Cw,E)&&Hp(g,E)&&Pd(_,E);for(;c.length>b;)Hp(g,E=c[b++])&&(~yy(_,E)||Pd(_,E));return _},Rd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ew=by,Sw=Rd,ku=Object.keys||function(c){return Ew(c,Sw)},Vp=Vi,wy=pn,Wp=Ue,xy=ku;Dd.f=Rt&&!Yc?Object.defineProperties:function(c,g){wy(c);for(var R,b=Wp(g),_=xy(g),E=_.length,M=0;E>M;)Vp.f(c,R=_[M++],b[R]);return c};var Ba,wr=fi("document","documentElement"),ky=pn,Ks=Dd,Gs=Rd,Ow=Ns,Us=wr,Fd=Gf,Ys="prototype",Up="script",Yp=wu("IE_PROTO"),qp=function(){},Sy=function(l){return"<script>"+l+"</"+Up+">"},Zp=function(l){l.write(Sy("")),l.close();var c=l.parentWindow.Object;return l=null,c},Na=function(){try{Ba=new ActiveXObject("htmlfile")}catch{}Na=typeof document<"u"?document.domain&&Ba?Zp(Ba):function(){var g,l=Fd("iframe");return l.style.display="none",Us.appendChild(l),l.src=String("javascript:"),(g=l.contentWindow.document).open(),g.write(Sy("document.F=Object")),g.close(),g.F}():Zp(Ba);for(var l=Gs.length;l--;)delete Na[Ys][Gs[l]];return Na()};Ow[Yp]=!0;var qn,tv,iv,qs=Object.create||function(c,g){var b;return null!==c?(qp[Ys]=ky(c),b=new qp,qp[Ys]=null,b[Yp]=c):b=Na(),void 0===g?b:Ks.f(b,g)},Oy=!we(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype}),Dw=ee,Mw=bi,oi=rt,Iy=It,Pw=Oy,Jp=wu("IE_PROTO"),Ad=Dw.Object,Xp=Ad.prototype,Qp=Pw?Ad.getPrototypeOf:function(l){var c=Iy(l);if(Mw(c,Jp))return c[Jp];var g=c.constructor;return oi(g)&&c instanceof g?g.prototype:c instanceof Ad?Xp:null},$d=Do,Ld=function(l,c,g,b){b&&b.enumerable?l[c]=g:$d(l,c,g)},Rw=we,My=rt,Bd=qs,Py=Qp,ev=Ld,Yn=jt("iterator"),zo=!1;[].keys&&("next"in(iv=[].keys())?(tv=Py(Py(iv)))!==Object.prototype&&(qn=tv):zo=!0),qn=null==qn||Rw(function(){var l={};return qn[Yn].call(l)!==l})?{}:Bd(qn),My(qn[Yn])||ev(qn,Yn,function(){return this});var Ry={IteratorPrototype:qn,BUGGY_SAFARI_ITERATORS:zo},za=eo,ai=vp,nv=Vi.f,Fy=Do,rv=bi,Js=vp?{}.toString:function(){return"[object "+za(this)+"]"},zd=jt("toStringTag"),Eu=function(l,c,g,b){if(l){var _=g?l:l.prototype;rv(_,zd)||nv(_,zd,{configurable:!0,value:c}),b&&!ai&&Fy(_,"toString",Js)}},Zn={},jd=Ry.IteratorPrototype,Ay=qs,ov=ji,Su=Eu,$y=Zn,Ly=function(){return this},av=rt,Ny=ee.String,zy=ee.TypeError,Vd=le,sv=pn,jy=Object.setPrototypeOf||("__proto__"in{}?function(){var g,l=!1,c={};try{(g=Vd(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(c,[]),l=c instanceof Array}catch{}return function(_,E){return sv(_),function(l){if("object"==typeof l||av(l))return l;throw zy("Can't set "+Ny(l)+" as a prototype")}(E),l?g(_,E):_.__proto__=E,_}}():void 0),Hy=Ge,Vy=tn,Qs=function(l,c,g,b){var _=c+" Iterator";return l.prototype=Ay(jd,{next:ov(+!b,g)}),Su(l,_,!1,!0),$y[_]=Ly,l},lv=Qp,Wy=Eu,Ou=Ld,Iu=Zn,Va=Bp.PROPER,Wa=Ry.BUGGY_SAFARI_ITERATORS,bt=jt("iterator"),kr="values",uv="entries",cv=function(){return this},so=function(l,c,g,b,_,E,M){Qs(g,c,b);var Le,Ye,it,R=function(Be){if(Be===_&&X)return X;if(!Wa&&Be in W)return W[Be];switch(Be){case"keys":case kr:case uv:return function(){return new g(this,Be)}}return function(){return new g(this)}},A=c+" Iterator",j=!1,W=l.prototype,U=W[bt]||W["@@iterator"]||_&&W[_],X=!Wa&&U||R(_),ae="Array"==c&&W.entries||U;if(ae&&(Le=lv(ae.call(new l)))!==Object.prototype&&Le.next&&(Wy(Le,A,!0,!0),Iu[A]=cv),Va&&_==kr&&U&&U.name!==kr&&(j=!0,X=function(){return Vy(U,this)}),_)if(Ye={values:R(kr),keys:E?X:R("keys"),entries:R(uv)},M)for(it in Ye)(Wa||j||!(it in W))&&Ou(W,it,Ye[it]);else Hy({target:c,proto:!0,forced:Wa||j},Ye);return M&&W[bt]!==X&&Ou(W,bt,X,{name:_}),Iu[c]=X,Ye},Wd=lw.charAt,jo=an,dv=so,Kd="String Iterator",Jn=Ws.set,lo=Ws.getterFor(Kd);dv(String,"String",function(l){Jn(this,{type:Kd,string:jo(l),index:0})},function(){var _,c=lo(this),g=c.string,b=c.index;return b>=g.length?{value:void 0,done:!0}:(_=Wd(g,b),c.index+=_.length,{value:_,done:!1})});var Gd=tn,Ud=pn,Ky=Wr,tl=function(l,c,g){var b,_;Ud(l);try{if(!(b=Ky(l,"return"))){if("throw"===c)throw g;return g}b=Gd(b,l)}catch(E){_=!0,b=E}if("throw"===c)throw g;if(_)throw b;return Ud(b),g},Yd=pn,qd=tl,Gy=Zn,Xd=jt("iterator"),il=Array.prototype,Du=function(l){return void 0!==l&&(Gy.Array===l||il[Xd]===l)},Uy=rn,Yy=Vi,Ho=ji,Ka=function(l,c,g){var b=Uy(c);b in l?Yy.f(l,b,Ho(0,g)):l[b]=g},Fw=eo,hv=Wr,Qd=Zn,Mu=jt("iterator"),Pu=function(l){if(null!=l)return hv(l,Mu)||hv(l,"@@iterator")||Qd[Fw(l)]},Zy=tn,Dn=Vr,$i=pn,Ga=fr,Jy=Pu,fv=ee.TypeError,Ua=function(l,c){var g=arguments.length<2?Jy(l):c;if(Dn(g))return $i(Zy(g,l));throw fv(Ga(l)+" is not iterable")},uo=qr,Qy=tn,Aw=It,eb=function(l,c,g,b){try{return b?c(Yd(g)[0],g[1]):c(g)}catch(_){qd(l,"throw",_)}},co=Du,Mn=md,eh=_i,th=Ka,$w=Ua,ih=Pu,Ru=ee.Array,Fu=jt("iterator"),vv=!1;try{var tb=0,nh={next:function(){return{done:!!tb++}},return:function(){vv=!0}};nh[Fu]=function(){return this},Array.from(nh,function(){throw 2})}catch{}var Lw=Ge,ib=function(c){var g=Aw(c),b=Mn(this),_=arguments.length,E=_>1?arguments[1]:void 0,M=void 0!==E;M&&(E=uo(E,_>2?arguments[2]:void 0));var j,W,U,X,ae,Le,R=ih(g),A=0;if(!R||this==Ru&&co(R))for(j=eh(g),W=b?new this(j):Ru(j);j>A;A++)Le=M?E(g[A],A):g[A],th(W,A,Le);else for(ae=(X=$w(g,R)).next,W=b?new this:[];!(U=Qy(ae,X)).done;A++)Le=M?eb(X,E,[U.value,A],!0):U.value,th(W,A,Le);return W.length=A,W},_e=!function(l,c){if(!vv)return!1;var g=!1;try{var b={};b[Fu]=function(){return{next:function(){return{done:g=!0}}}},function(l){Array.from(l)}(b)}catch{}return g}();Lw({target:"Array",stat:!0,forced:_e},{from:ib});var nl=yt.Array.from,rl=nl,rb=Ue,gv=Zn,ab=so,ol="Array Iterator",Bw=Ws.set,Nw=Ws.getterFor(ol);ab(Array,"Array",function(l,c){Bw(this,{type:ol,target:rb(l),index:0,kind:c})},function(){var l=Nw(this),c=l.target,g=l.kind,b=l.index++;return!c||b>=c.length?(l.target=void 0,{value:void 0,done:!0}):"keys"==g?{value:b,done:!1}:"values"==g?{value:c[b],done:!1}:{value:[b,c[b]],done:!1}},"values"),gv.Arguments=gv.Array;var jw=Pu,Vw=ee,lb=eo,Ww=Do,mv=Zn,yv=jt("toStringTag");for(var ah in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var sh=Vw[ah],$u=sh&&sh.prototype;$u&&lb($u)!==yv&&Ww($u,yv,ah),mv[ah]=mv.Array}var sl=jw,Lu={},hb=by,Yw=Rd.concat("length","prototype");Lu.f=Object.getOwnPropertyNames||function(c){return hb(c,Yw)};var lh={},pb=$a,qw=_i,Zw=Ka,vb=ee.Array,gb=Math.max,_v=function(l,c,g){for(var b=qw(l),_=pb(c,b),E=pb(void 0===g?b:g,b),M=vb(gb(E-_,0)),R=0;_<E;_++,R++)Zw(M,R,l[_]);return M.length=R,M},uh=ii,Jw=Ue,mb=Lu.f,Xw=_v,wv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];lh.f=function(c){return wv&&"Window"==uh(c)?function(l){try{return mb(l)}catch{return Xw(wv)}}(c):mb(Jw(c))};var ho={};ho.f=Object.getOwnPropertySymbols;var Bu={};Bu.f=jt;var ch=yt,kv=bi,yb=Bu,Yt=Vi.f,li=function(l){var c=ch.Symbol||(ch.Symbol={});kv(c,l)||Yt(c,l,{value:yb.f(l)})},_t=Ge,Pn=ee,fo=fi,e1=Fi,Nu=tn,t1=le,Cr=Rt,qa=jl,zu=we,ct=bi,Tt=gr,Cv=rt,bb=ni,n1=Lt,dh=Cn,Za=pn,_b=It,ei=Ue,hh=rn,Ev=an,dt=ji,vi=qs,ll=ku,wb=Lu,xb=lh,ul=ho,fh=Xe,Er=Vi,ju=Dd,ph=Nr,Gi=Ds,Sv=Ld,cl=ft.exports,kb=Ns,vh=Ql,Ov=jt,Dt=Bu,r1=li,Cb=Eu,Eb=Ws,Hu=Fs.forEach,sn=wu("hidden"),gh="Symbol",Vu="prototype",dl=Ov("toPrimitive"),o1=Eb.set,Ui=Eb.getterFor(gh),Xn=Object[Vu],po=Pn.Symbol,Vo=po&&po[Vu],Iv=Pn.TypeError,Dv=Pn.QObject,Wu=fo("JSON","stringify"),Sb=fh.f,Sr=Er.f,Tb=xb.f,a1=ph.f,Ob=t1([].push),vo=cl("symbols"),Ku=cl("op-symbols"),Mv=cl("string-to-symbol-registry"),Pv=cl("symbol-to-string-registry"),s1=cl("wks"),Rv=!Dv||!Dv[Vu]||!Dv[Vu].findChild,Gu=Cr&&zu(function(){return 7!=vi(Sr({},"a",{get:function(){return Sr(this,"a",{value:7}).a}})).a})?function(l,c,g){var b=Sb(Xn,c);b&&delete Xn[c],Sr(l,c,g),b&&l!==Xn&&Sr(Xn,c,b)}:Sr,Fv=function(l,c){var g=vo[l]=vi(Vo);return o1(g,{type:gh,tag:l,description:c}),Cr||(g.description=c),g},Rn=function(c,g,b){c===Xn&&Rn(Ku,g,b),Za(c);var _=hh(g);return Za(b),ct(vo,_)?(b.enumerable?(ct(c,sn)&&c[sn][_]&&(c[sn][_]=!1),b=vi(b,{enumerable:dt(0,!1)})):(ct(c,sn)||Sr(c,sn,dt(1,{})),c[sn][_]=!0),Gu(c,_,b)):Sr(c,_,b)},Av=function(c,g){Za(c);var b=ei(g),_=ll(b).concat($v(b));return Hu(_,function(E){(!Cr||Nu(Ib,b,E))&&Rn(c,E,b[E])}),c},Ib=function(c){var g=hh(c),b=Nu(a1,this,g);return!(this===Xn&&ct(vo,g)&&!ct(Ku,g))&&(!(b||!ct(this,g)||!ct(vo,g)||ct(this,sn)&&this[sn][g])||b)},Db=function(c,g){var b=ei(c),_=hh(g);if(b!==Xn||!ct(vo,_)||ct(Ku,_)){var E=Sb(b,_);return E&&ct(vo,_)&&!(ct(b,sn)&&b[sn][_])&&(E.enumerable=!0),E}},Mb=function(c){var g=Tb(ei(c)),b=[];return Hu(g,function(_){!ct(vo,_)&&!ct(kb,_)&&Ob(b,_)}),b},$v=function(c){var g=c===Xn,b=Tb(g?Ku:ei(c)),_=[];return Hu(b,function(E){ct(vo,E)&&(!g||ct(Xn,E))&&Ob(_,vo[E])}),_};if(qa||(po=function(){if(n1(Vo,this))throw Iv("Symbol is not a constructor");var c=arguments.length&&void 0!==arguments[0]?Ev(arguments[0]):void 0,g=vh(c),b=function(_){this===Xn&&Nu(b,Ku,_),ct(this,sn)&&ct(this[sn],g)&&(this[sn][g]=!1),Gu(this,g,dt(1,_))};return Cr&&Rv&&Gu(Xn,g,{configurable:!0,set:b}),Fv(g,c)},Sv(Vo=po[Vu],"toString",function(){return Ui(this).tag}),Sv(po,"withoutSetter",function(l){return Fv(vh(l),l)}),ph.f=Ib,Er.f=Rn,ju.f=Av,fh.f=Db,wb.f=xb.f=Mb,ul.f=$v,Dt.f=function(l){return Fv(Ov(l),l)},Cr&&Sr(Vo,"description",{configurable:!0,get:function(){return Ui(this).description}})),_t({global:!0,wrap:!0,forced:!qa,sham:!qa},{Symbol:po}),Hu(ll(s1),function(l){r1(l)}),_t({target:gh,stat:!0,forced:!qa},{for:function(l){var c=Ev(l);if(ct(Mv,c))return Mv[c];var g=po(c);return Mv[c]=g,Pv[g]=c,g},keyFor:function(c){if(!dh(c))throw Iv(c+" is not a symbol");if(ct(Pv,c))return Pv[c]},useSetter:function(){Rv=!0},useSimple:function(){Rv=!1}}),_t({target:"Object",stat:!0,forced:!qa,sham:!Cr},{create:function(c,g){return void 0===g?vi(c):Av(vi(c),g)},defineProperty:Rn,defineProperties:Av,getOwnPropertyDescriptor:Db}),_t({target:"Object",stat:!0,forced:!qa},{getOwnPropertyNames:Mb,getOwnPropertySymbols:$v}),_t({target:"Object",stat:!0,forced:zu(function(){ul.f(1)})},{getOwnPropertySymbols:function(c){return ul.f(_b(c))}}),Wu&&_t({target:"JSON",stat:!0,forced:!qa||zu(function(){var l=po();return"[null]"!=Wu([l])||"{}"!=Wu({a:l})||"{}"!=Wu(Object(l))})},{stringify:function(c,g,b){var _=Gi(arguments),E=g;if((bb(g)||void 0!==c)&&!dh(c))return Tt(g)||(g=function(M,R){if(Cv(E)&&(R=Nu(E,this,M,R)),!dh(R))return R}),_[1]=g,e1(Wu,null,_)}}),!Vo[dl]){var Pb=Vo.valueOf;Sv(Vo,dl,function(l){return Nu(Pb,this)})}Cb(po,gh),kb[sn]=!0;var mh=yt.Object.getOwnPropertySymbols,Ab={exports:{}},d1=Ge,h1=Ue,Ja=Xe.f,Uu=Rt,Bv=we(function(){Ja(1)});d1({target:"Object",stat:!0,forced:!Uu||Bv,sham:!Uu},{getOwnPropertyDescriptor:function(c,g){return Ja(h1(c),g)}});var Nv=yt.Object,Lb=Ab.exports=function(c,g){return Nv.getOwnPropertyDescriptor(c,g)};Nv.getOwnPropertyDescriptor.sham&&(Lb.sham=!0);var zv=Ab.exports,v1=fi,m1=Lu,y1=ho,jv=pn,b1=le([].concat),Li=v1("Reflect","ownKeys")||function(c){var g=m1.f(jv(c)),b=y1.f;return b?b1(g,b(c)):g},w1=Li,zb=Ue,x1=Xe,k1=Ka;Ge({target:"Object",stat:!0,sham:!Rt},{getOwnPropertyDescriptors:function(c){for(var R,A,g=zb(c),b=x1.f,_=w1(g),E={},M=0;_.length>M;)void 0!==(A=b(g,R=_[M++]))&&k1(E,R,A);return E}});var Wb=yt.Object.getOwnPropertyDescriptors,Hv={exports:{}},Vv=Dd.f;Ge({target:"Object",stat:!0,forced:Object.defineProperties!==Vv,sham:!Rt},{defineProperties:Vv});var yh=yt.Object,Kv=Hv.exports=function(c,g){return yh.defineProperties(c,g)};yh.defineProperties.sham&&(Kv.sham=!0);var T1=Hv.exports,_h=id;Ge({target:"Array",stat:!0},{isArray:gr});var Yb=yt.Array.isArray,Yv=Yb;var Zv=Ge,O1=ee,I1=we,D1=gr,Jv=ni,wh=It,M1=_i,mt=Ka,P1=Ma,Jb=Lo,R1=ma,Xv=jt("isConcatSpreadable"),Qv=9007199254740991,Wo="Maximum allowed index exceeded",Qb=O1.TypeError,F1=R1>=51||!I1(function(){var l=[];return l[Xv]=!1,l.concat()[0]!==l}),qu=Jb("concat"),Zu=function(l){if(!Jv(l))return!1;var c=l[Xv];return void 0!==c?!!c:D1(l)};Zv({target:"Array",proto:!0,forced:!F1||!qu},{concat:function(c){var E,M,R,A,j,g=wh(this),b=P1(g,0),_=0;for(E=-1,R=arguments.length;E<R;E++)if(Zu(j=-1===E?g:arguments[E])){if(_+(A=M1(j))>Qv)throw Qb(Wo);for(M=0;M<A;M++,_++)M in j&&mt(b,_,j[M])}else{if(_>=Qv)throw Qb(Wo);mt(b,_++,j)}return b.length=_,b}}),li("asyncIterator"),li("hasInstance"),li("isConcatSpreadable"),li("iterator"),li("match"),li("matchAll"),li("replace"),li("search"),li("species"),li("split"),li("toPrimitive"),li("toStringTag"),li("unscopables"),Eu(ee.JSON,"JSON",!0);var kh=yt.Symbol,W1=kh;li("asyncDispose"),li("dispose"),li("matcher"),li("metadata"),li("observable"),li("patternMatch"),li("replaceAll");var Qa=W1;var q1=Ge,er=ee,vn=gr,fl=md,Ko=ni,Fn=$a,An=_i,$n=Ue,go=Ka,ln=jt,Qu=Ds,l0=Lo("slice"),es=ln("species"),Or=er.Array,Ch=Math.max;q1({target:"Array",proto:!0,forced:!l0},{slice:function(c,g){var R,A,j,b=$n(this),_=An(b),E=Fn(c,_),M=Fn(void 0===g?_:g,_);if(vn(b)&&((fl(R=b.constructor)&&(R===Or||vn(R.prototype))||Ko(R)&&null===(R=R[es]))&&(R=void 0),R===Or||void 0===R))return Qu(b,E,M);for(A=new(void 0===R?Or:R)(Ch(M-E,0)),j=0;E<M;E++,j++)E in b&&go(A,j,b[E]);return A.length=j,A}});var ts=ri("Array").slice,ec=Lt,tc=ts,is=Array.prototype,ic=function(l){var c=l.slice;return l===is||ec(is,l)&&c===is.slice?tc:c},u0=ic,Th=nl;function qo(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function ir(l,c){var g;if(l){if("string"==typeof l)return qo(l,c);var b=u0(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return Th(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return qo(l,c)}}function qt(l,c){return function qv(l){if(Yv(l))return l}(l)||function rg(l,c){var g=null==l?null:typeof Qa<"u"&&sl(l)||l["@@iterator"];if(null!=g){var M,R,b=[],_=!0,E=!1;try{for(g=g.call(l);!(_=(M=g.next()).done)&&(b.push(M.value),!c||b.length!==c);_=!0);}catch(A){E=!0,R=A}finally{try{!_&&null!=g.return&&g.return()}finally{if(E)throw R}}return b}}(l,c)||ir(l,c)||function nc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ag=Bu.f("iterator"),c0=ag;function gi(l){return(gi="function"==typeof Qa&&"symbol"==typeof c0?function(c){return typeof c}:function(c){return c&&"function"==typeof Qa&&c.constructor===Qa&&c!==Qa.prototype?"symbol":typeof c})(l)}function Pi(l){return function nr(l){if(Yv(l))return qo(l)}(l)||function rc(l){if(typeof Qa<"u"&&null!=sl(l)||null!=l["@@iterator"])return Th(l)}(l)||ir(l)||function oc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rr=kh,ac=ri("Array").concat,sg=Lt,d0=ac,Mh=Array.prototype,Rh=function(l){var c=l.concat;return l===Mh||sg(Mh,l)&&c===Mh.concat?d0:c},lc=ic;Ge({target:"Reflect",stat:!0},{ownKeys:Li});var Dr=yt.Reflect.ownKeys,qi=Yb,ug=It,or=ku;Ge({target:"Object",stat:!0,forced:we(function(){or(1)})},{keys:function(c){return or(ug(c))}});var yo=yt.Object.keys,cg=Ge,Bh=ee.Date,hg=le(Bh.prototype.getTime);cg({target:"Date",stat:!0},{now:function(){return hg(new Bh)}});var v0=Fs.forEach,y0=ge("forEach")?[].forEach:function(c){return v0(this,c,arguments.length>1?arguments[1]:void 0)};Ge({target:"Array",proto:!0,forced:[].forEach!=y0},{forEach:y0});var Q1=ri("Array").forEach,pg=eo,x0=bi,vg=Lt,gg=Q1,xl=Array.prototype,k0={DOMTokenList:!0,NodeList:!0},bo=function(l){var c=l.forEach;return l===xl||vg(xl,l)&&c===xl.forEach||x0(k0,pg(l))?gg:c},Ln=Ge,tx=gr,yg=le([].reverse),ar=[1,2];Ln({target:"Array",proto:!0,forced:String(ar)===String(ar.reverse())},{reverse:function(){return tx(this)&&(this.length=this.length),yg(this)}});var ix=ri("Array").reverse,C0=Lt,nx=ix,sr=Array.prototype,kl=Ge,dc=ee,Mt=$a,hc=Ta,Qo=_i,gn=It,lt=Ma,Nh=Ka,wg=Lo("splice"),zh=dc.TypeError,Cl=Math.max,wo=Math.min,jh=9007199254740991,Zi="Maximum allowed length exceeded";kl({target:"Array",proto:!0,forced:!wg},{splice:function(c,g){var R,A,j,W,U,X,b=gn(this),_=Qo(b),E=Mt(c,_),M=arguments.length;if(0===M?R=A=0:1===M?(R=0,A=_-E):(R=M-2,A=wo(Cl(hc(g),0),_-E)),_+R-A>jh)throw zh(Zi);for(j=lt(b,A),W=0;W<A;W++)(U=E+W)in b&&Nh(j,W,b[U]);if(j.length=A,R<A){for(W=E;W<_-A;W++)X=W+R,(U=W+A)in b?b[X]=b[U]:delete b[X];for(W=_;W>_-A+R;W--)delete b[W-1]}else if(R>A)for(W=_-A;W>E;W--)X=W+R-1,(U=W+A-1)in b?b[X]=b[U]:delete b[X];for(W=0;W<R;W++)b[W+E]=arguments[W+2];return b.length=_-A+R,j}});var rx=ri("Array").splice,ea=Lt,Bn=rx,xg=Array.prototype,Wh=function(l){var c=l.splice;return l===xg||ea(xg,l)&&c===xg.splice?Bn:c},kg=Rt,sx=tn,fc=we,rs=ku,lx=ho,S0=Nr,ux=It,ta=ys,El=Object.assign,Kh=Object.defineProperty,ko=le([].concat),T0=!El||fc(function(){if(kg&&1!==El({b:1},El(Kh({},"a",{enumerable:!0,get:function(){Kh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var l={},c={},g=Symbol(),b="abcdefghijklmnopqrst";return l[g]=7,b.split("").forEach(function(_){c[_]=_}),7!=El({},l)[g]||rs(El({},c)).join("")!=b})?function(c,g){for(var b=ux(c),_=arguments.length,E=1,M=lx.f,R=S0.f;_>E;)for(var X,A=ta(arguments[E++]),j=M?ko(rs(A),M(A)):rs(A),W=j.length,U=0;W>U;)X=j[U++],(!kg||sx(R,A,X))&&(b[X]=A[X]);return b}:El;Ge({target:"Object",stat:!0,forced:Object.assign!==T0},{assign:T0});var Eg=yt.Object.assign,os=La.includes;Ge({target:"Array",proto:!0},{includes:function(c){return os(this,c,arguments.length>1?arguments[1]:void 0)}}),ri("Array");var je=ni,Ji=ii,Eo=jt("match"),I0=ee.TypeError,At=jt("match"),hx=Ge,F0=function(l){if(function(l){var c;return je(l)&&(void 0!==(c=l[Eo])?!!c:"RegExp"==Ji(l))}(l))throw I0("The method doesn't accept regular expressions");return l},pc=fa,Bi=an,$0=le("".indexOf);hx({target:"String",proto:!0,forced:!function(l){var c=/./;try{"/./"[l](c)}catch{try{return c[At]=!1,"/./"[l](c)}catch{}}return!1}("includes")},{includes:function(c){return!!~$0(Bi(pc(this)),Bi(F0(c)),arguments.length>1?arguments[1]:void 0)}}),ri("String");var Og=It,B0=Qp,N0=Oy;Ge({target:"Object",stat:!0,forced:we(function(){B0(1)}),sham:!N0},{getPrototypeOf:function(c){return B0(Og(c))}});var j0=yt.Object.getPrototypeOf,gx=Rt,H0=le,Ig=ku,Yh=Ue,mx=H0(Nr.f),yx=H0([].push),W0=function(l){return function(c){for(var R,g=Yh(c),b=Ig(g),_=b.length,E=0,M=[];_>E;)R=b[E++],(!gx||mx(g,R))&&yx(M,l?[R,g[R]]:g[R]);return M}},qh=(W0(!0),W0(!1));Ge({target:"Object",stat:!0},{values:function(c){return qh(c)}});var mc="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Mg=fa,bx=an,U0=mc,Pr=le("".replace),Sl="["+U0+"]",Pg=RegExp("^"+Sl+Sl+"*"),_x=RegExp(Sl+Sl+"*$"),Rg=function(l){return function(c){var g=bx(Mg(c));return 1&l&&(g=Pr(g,Pg,"")),2&l&&(g=Pr(g,_x,"")),g}},Y0={start:Rg(1),end:Rg(2),trim:Rg(3)},wx=we,xx=an,na=Y0.trim,Ag=mc,yc=ee.parseInt,bc=ee.Symbol,Z0=bc&&bc.iterator,_c=/^[+-]?0x/i,J0=le(_c.exec),kx=8!==yc(Ag+"08")||22!==yc(Ag+"0x16")||Z0&&!wx(function(){yc(Object(Z0))})?function(c,g){var b=na(xx(c));return yc(b,g>>>0||(J0(_c,b)?16:10))}:yc;Ge({global:!0,forced:parseInt!=kx},{parseInt:kx});var Sx=Ge,Tx=La.indexOf,Ox=ge,$g=le([].indexOf),Lg=!!$g&&1/$g([1],1,-0)<0,Bg=Ox("indexOf");Sx({target:"Array",proto:!0,forced:Lg||!Bg},{indexOf:function(c){var g=arguments.length>1?arguments[1]:void 0;return Lg?$g(this,c,g)||0:Tx(this,c,g)}}),ri("Array");var l,Dx=Bp.PROPER,e_=mc,Jh=Y0.trim;Ge({target:"String",proto:!0,forced:(l="trim",we(function(){return!!e_[l]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[l]()||Dx&&e_[l].name!==l}))},{trim:function(){return Jh(this)}}),ri("String"),Ge({target:"Object",stat:!0,sham:!Rt},{create:qs});var Fx=yt.Object,Qh=function(c,g){return Fx.create(c,g)},jg=Qh,$x=Ge,xc=Fi,Tl=le,ef=we,Hg=ee.Array,Ol=fi("JSON","stringify"),lr=Tl(/./.exec),r_=Tl("".charAt),Vg=Tl("".charCodeAt),Nx=Tl("".replace),zx=Tl(1..toString),as=/[\uD800-\uDFFF]/g,tf=/^[\uD800-\uDBFF]$/,o_=/^[\uDC00-\uDFFF]$/,jx=function(l,c,g){var b=r_(g,c-1),_=r_(g,c+1);return lr(tf,l)&&!lr(o_,_)||lr(o_,l)&&!lr(tf,b)?"\\u"+zx(Vg(l,0),16):l},Hx=ef(function(){return'"\\udf06\\ud834"'!==Ol("\udf06\ud834")||'"\\udead"'!==Ol("\udead")});Ol&&$x({target:"JSON",stat:!0,forced:Hx},{stringify:function(c,g,b){for(var _=0,E=arguments.length,M=Hg(E);_<E;_++)M[_]=arguments[_];var R=xc(Ol,null,M);return"string"==typeof R?Nx(R,as,jx):R}});var kc=yt,Vx=Fi;kc.JSON||(kc.JSON={stringify:JSON.stringify});var Kx=function(c,g,b){return Vx(kc.JSON.stringify,null,arguments)},a_=ee.TypeError,Gg=Ge,ss=ee,nf=Fi,ur=rt,Ug=Ds,l_=function(l,c){if(l<c)throw a_("Not enough arguments");return l},u_=/MSIE .\./.test(hr),Yg=ss.Function,qg=function(l){return function(c,g){var b=l_(arguments.length,1)>2,_=ur(c)?c:Yg(c),E=b?Ug(arguments,2):void 0;return l(b?function(){nf(_,this,E)}:_,g)}};Gg({global:!0,bind:!0,forced:u_},{setTimeout:qg(ss.setTimeout),setInterval:qg(ss.setInterval)});var of=yt.setTimeout,Jg=It,c_=$a,Gx=_i;Ge({target:"Array",proto:!0},{fill:function(c){for(var g=Jg(this),b=Gx(g),_=arguments.length,E=c_(_>1?arguments[1]:void 0,b),M=_>2?arguments[2]:void 0,R=void 0===M?b:c_(M,b);R>E;)g[E++]=c;return g}}),ri("Array");var v={exports:{}};!function(l){function c(b){if(b)return function g(b){for(var _ in c.prototype)b[_]=c.prototype[_];return b}(b)}l.exports=c,c.prototype.on=c.prototype.addEventListener=function(b,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(_),this},c.prototype.once=function(b,_){function E(){this.off(b,E),_.apply(this,arguments)}return E.fn=_,this.on(b,E),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(b,_){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var E=this._callbacks["$"+b];if(!E)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var M,R=0;R<E.length;R++)if((M=E[R])===_||M.fn===_){E.splice(R,1);break}return 0===E.length&&delete this._callbacks["$"+b],this},c.prototype.emit=function(b){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),E=this._callbacks["$"+b],M=1;M<arguments.length;M++)_[M-1]=arguments[M];if(E){M=0;for(var R=(E=E.slice(0)).length;M<R;++M)E[M].apply(this,_)}return this},c.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]},c.prototype.hasListeners=function(b){return!!this.listeners(b).length}}(v);var B,k=v.exports;function O(){return O=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var g=arguments[c];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(l[b]=g[b])}return l},O.apply(this,arguments)}function D(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}function F(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}B="function"!=typeof Object.assign?function(c){if(null==c)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),b=1;b<arguments.length;b++){var _=arguments[b];if(null!=_)for(var E in _)_.hasOwnProperty(E)&&(g[E]=_[E])}return g}:Object.assign;var De,z=B,Z=["","webkit","Moz","MS","ms","o"],q=typeof document>"u"?{style:{}}:document.createElement("div"),be=Math.round,Oe=Math.abs,Te=Date.now;function Re(l,c){for(var g,b,_=c[0].toUpperCase()+c.slice(1),E=0;E<Z.length;){if((b=(g=Z[E])?g+_:c)in l)return b;E++}}De=typeof window>"u"?{}:window;var Ze=Re(q.style,"touchAction"),Ot=void 0!==Ze;var Pt="compute",cn="manipulation",Zt="none",Ti="pan-x",Ni="pan-y",oa=function wt(){if(!Ot)return!1;var l={},c=De.CSS&&De.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(g){return l[g]=!c||De.CSS.supports("touch-action",g)}),l}(),ls="ontouchstart"in De,af=void 0!==Re(De,"PointerEvent"),Ec=ls&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),vt="touch",fe="mouse",Ak=["x","y"],h_=["clientX","clientY"];function cs(l,c,g){var b;if(l)if(l.forEach)l.forEach(c,g);else if(void 0!==l.length)for(b=0;b<l.length;)c.call(g,l[b],b,l),b++;else for(b in l)l.hasOwnProperty(b)&&c.call(g,l[b],b,l)}function f_(l,c){return"function"==typeof l?l.apply(c&&c[0]||void 0,c):l}function Sc(l,c){return l.indexOf(c)>-1}var $k=function(){function l(g,b){this.manager=g,this.set(b)}var c=l.prototype;return c.set=function(b){b===Pt&&(b=this.compute()),Ot&&this.manager.element.style&&oa[b]&&(this.manager.element.style[Ze]=b),this.actions=b.toLowerCase().trim()},c.update=function(){this.set(this.manager.options.touchAction)},c.compute=function(){var b=[];return cs(this.manager.recognizers,function(_){f_(_.options.enable,[_])&&(b=b.concat(_.getTouchAction()))}),function QC(l){if(Sc(l,Zt))return Zt;var c=Sc(l,Ti),g=Sc(l,Ni);return c&&g?Zt:c||g?c?Ti:Ni:Sc(l,cn)?cn:"auto"}(b.join(" "))},c.preventDefaults=function(b){var _=b.srcEvent,E=b.offsetDirection;if(!this.manager.session.prevented){var M=this.actions,R=Sc(M,Zt)&&!oa[Zt],A=Sc(M,Ni)&&!oa[Ni],j=Sc(M,Ti)&&!oa[Ti];if(R&&1===b.pointers.length&&b.distance<2&&b.deltaTime<250)return;return j&&A||!(R||A&&6&E||j&&24&E)?void 0:this.preventSrc(_)}_.preventDefault()},c.preventSrc=function(b){this.manager.session.prevented=!0,b.preventDefault()},l}();function Ux(l,c){for(;l;){if(l===c)return!0;l=l.parentNode}return!1}function Lk(l){var c=l.length;if(1===c)return{x:be(l[0].clientX),y:be(l[0].clientY)};for(var g=0,b=0,_=0;_<c;)g+=l[_].clientX,b+=l[_].clientY,_++;return{x:be(g/c),y:be(b/c)}}function Bk(l){for(var c=[],g=0;g<l.pointers.length;)c[g]={clientX:be(l.pointers[g].clientX),clientY:be(l.pointers[g].clientY)},g++;return{timeStamp:Te(),pointers:c,center:Lk(c),deltaX:l.deltaX,deltaY:l.deltaY}}function p_(l,c,g){g||(g=Ak);var b=c[g[0]]-l[g[0]],_=c[g[1]]-l[g[1]];return Math.sqrt(b*b+_*_)}function Yx(l,c,g){return g||(g=Ak),180*Math.atan2(c[g[1]]-l[g[1]],c[g[0]]-l[g[0]])/Math.PI}function Nk(l,c){return l===c?1:Oe(l)>=Oe(c)?l<0?2:4:c<0?8:16}function zk(l,c,g){return{x:c/l||0,y:g/l||0}}function rE(l,c){var g=l.session,b=c.pointers,_=b.length;g.firstInput||(g.firstInput=Bk(c)),_>1&&!g.firstMultiple?g.firstMultiple=Bk(c):1===_&&(g.firstMultiple=!1);var E=g.firstInput,M=g.firstMultiple,R=M?M.center:E.center,A=c.center=Lk(b);c.timeStamp=Te(),c.deltaTime=c.timeStamp-E.timeStamp,c.angle=Yx(R,A),c.distance=p_(R,A),function eE(l,c){var g=c.center,b=l.offsetDelta||{},_=l.prevDelta||{},E=l.prevInput||{};(1===c.eventType||4===E.eventType)&&(_=l.prevDelta={x:E.deltaX||0,y:E.deltaY||0},b=l.offsetDelta={x:g.x,y:g.y}),c.deltaX=_.x+(g.x-b.x),c.deltaY=_.y+(g.y-b.y)}(g,c),c.offsetDirection=Nk(c.deltaX,c.deltaY);var j=zk(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=j.x,c.overallVelocityY=j.y,c.overallVelocity=Oe(j.x)>Oe(j.y)?j.x:j.y,c.scale=M?function tE(l,c){return p_(c[0],c[1],h_)/p_(l[0],l[1],h_)}(M.pointers,b):1,c.rotation=M?function iE(l,c){return Yx(c[1],c[0],h_)+Yx(l[1],l[0],h_)}(M.pointers,b):0,c.maxPointers=g.prevInput?c.pointers.length>g.prevInput.maxPointers?c.pointers.length:g.prevInput.maxPointers:c.pointers.length,function nE(l,c){var _,E,M,R,g=l.lastInterval||c,b=c.timeStamp-g.timeStamp;if(8!==c.eventType&&(b>25||void 0===g.velocity)){var A=c.deltaX-g.deltaX,j=c.deltaY-g.deltaY,W=zk(b,A,j);E=W.x,M=W.y,_=Oe(W.x)>Oe(W.y)?W.x:W.y,R=Nk(A,j),l.lastInterval=c}else _=g.velocity,E=g.velocityX,M=g.velocityY,R=g.direction;c.velocity=_,c.velocityX=E,c.velocityY=M,c.direction=R}(g,c);var X,W=l.element,U=c.srcEvent;Ux(X=U.composedPath?U.composedPath()[0]:U.path?U.path[0]:U.target,W)&&(W=X),c.target=W}function oE(l,c,g){var b=g.pointers.length,_=g.changedPointers.length,E=1&c&&b-_==0,M=12&c&&b-_==0;g.isFirst=!!E,g.isFinal=!!M,E&&(l.session={}),g.eventType=c,rE(l,g),l.emit("hammer.input",g),l.recognize(g),l.session.prevInput=g}function Xg(l){return l.trim().split(/\s+/g)}function Qg(l,c,g){cs(Xg(c),function(b){l.addEventListener(b,g,!1)})}function em(l,c,g){cs(Xg(c),function(b){l.removeEventListener(b,g,!1)})}function jk(l){var c=l.ownerDocument||l;return c.defaultView||c.parentWindow||window}var sf=function(){function l(g,b){var _=this;this.manager=g,this.callback=b,this.element=g.element,this.target=g.options.inputTarget,this.domHandler=function(E){f_(g.options.enable,[g])&&_.handler(E)},this.init()}var c=l.prototype;return c.handler=function(){},c.init=function(){this.evEl&&Qg(this.element,this.evEl,this.domHandler),this.evTarget&&Qg(this.target,this.evTarget,this.domHandler),this.evWin&&Qg(jk(this.element),this.evWin,this.domHandler)},c.destroy=function(){this.evEl&&em(this.element,this.evEl,this.domHandler),this.evTarget&&em(this.target,this.evTarget,this.domHandler),this.evWin&&em(jk(this.element),this.evWin,this.domHandler)},l}();function Tc(l,c,g){if(l.indexOf&&!g)return l.indexOf(c);for(var b=0;b<l.length;){if(g&&l[b][g]==c||!g&&l[b]===c)return b;b++}return-1}var Hk={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Vk={2:vt,3:"pen",4:fe,5:"kinect"},zn="pointerdown",Wk="pointermove pointerup pointercancel";De.MSPointerEvent&&!De.PointerEvent&&(zn="MSPointerDown",Wk="MSPointerMove MSPointerUp MSPointerCancel");var qx=function(l){function c(){var b,_=c.prototype;return _.evEl=zn,_.evWin=Wk,(b=l.apply(this,arguments)||this).store=b.manager.session.pointerEvents=[],b}return D(c,l),c.prototype.handler=function(_){var E=this.store,M=!1,R=_.type.toLowerCase().replace("ms",""),A=Hk[R],j=Vk[_.pointerType]||_.pointerType,W=j===vt,U=Tc(E,_.pointerId,"pointerId");1&A&&(0===_.button||W)?U<0&&(E.push(_),U=E.length-1):12&A&&(M=!0),!(U<0)&&(E[U]=_,this.callback(this.manager,A,{pointers:E,changedPointers:[_],pointerType:j,srcEvent:_}),M&&E.splice(U,1))},c}(sf);function tm(l){return Array.prototype.slice.call(l,0)}function v_(l,c,g){for(var b=[],_=[],E=0;E<l.length;){var M=c?l[E][c]:l[E];Tc(_,M)<0&&b.push(l[E]),_[E]=M,E++}return g&&(b=c?b.sort(function(R,A){return R[c]>A[c]}):b.sort()),b}var aE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},sE="touchstart touchmove touchend touchcancel",Zx=function(l){function c(){var b;return c.prototype.evTarget=sE,(b=l.apply(this,arguments)||this).targetIds={},b}return D(c,l),c.prototype.handler=function(_){var E=aE[_.type],M=lE.call(this,_,E);M&&this.callback(this.manager,E,{pointers:M[0],changedPointers:M[1],pointerType:vt,srcEvent:_})},c}(sf);function lE(l,c){var g=tm(l.touches),b=this.targetIds;if(3&c&&1===g.length)return b[g[0].identifier]=!0,[g,g];var _,E,M=tm(l.changedTouches),R=[],A=this.target;if(E=g.filter(function(j){return Ux(j.target,A)}),1===c)for(_=0;_<E.length;)b[E[_].identifier]=!0,_++;for(_=0;_<M.length;)b[M[_].identifier]&&R.push(M[_]),12&c&&delete b[M[_].identifier],_++;return R.length?[v_(E.concat(R),"identifier",!0),R]:void 0}var uE={mousedown:1,mousemove:2,mouseup:4},cE="mousedown",Kk="mousemove mouseup",Jx=function(l){function c(){var b,_=c.prototype;return _.evEl=cE,_.evWin=Kk,(b=l.apply(this,arguments)||this).pressed=!1,b}return D(c,l),c.prototype.handler=function(_){var E=uE[_.type];1&E&&0===_.button&&(this.pressed=!0),2&E&&1!==_.which&&(E=4),this.pressed&&(4&E&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[_],changedPointers:[_],pointerType:fe,srcEvent:_}))},c}(sf);function Gk(l){var g=l.changedPointers[0];if(g.identifier===this.primaryTouch){var b={x:g.clientX,y:g.clientY},_=this.lastTouches;this.lastTouches.push(b),setTimeout(function(){var R=_.indexOf(b);R>-1&&_.splice(R,1)},2500)}}function Uk(l,c){1&l?(this.primaryTouch=c.changedPointers[0].identifier,Gk.call(this,c)):12&l&&Gk.call(this,c)}function hE(l){for(var c=l.srcEvent.clientX,g=l.srcEvent.clientY,b=0;b<this.lastTouches.length;b++){var _=this.lastTouches[b],E=Math.abs(c-_.x),M=Math.abs(g-_.y);if(E<=25&&M<=25)return!0}return!1}var Yk=function(){return function(c){function g(_,E){var M;return(M=c.call(this,_,E)||this).handler=function(R,A,j){var U=j.pointerType===fe;if(!(U&&j.sourceCapabilities&&j.sourceCapabilities.firesTouchEvents)){if(j.pointerType===vt)Uk.call(F(F(M)),A,j);else if(U&&hE.call(F(F(M)),j))return;M.callback(R,A,j)}},M.touch=new Zx(M.manager,M.handler),M.mouse=new Jx(M.manager,M.handler),M.primaryTouch=null,M.lastTouches=[],M}return D(g,c),g.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},g}(sf)}();function Oc(l,c,g){return!!Array.isArray(l)&&(cs(l,g[c],g),!0)}var pE=1;function m_(l,c){var g=c.manager;return g?g.get(l):l}function qk(l){return 16&l?"cancel":8&l?"end":4&l?"move":2&l?"start":""}var nm=function(){function l(g){void 0===g&&(g={}),this.options=O({enable:!0},g),this.id=function vE(){return pE++}(),this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var c=l.prototype;return c.set=function(b){return z(this.options,b),this.manager&&this.manager.touchAction.update(),this},c.recognizeWith=function(b){if(Oc(b,"recognizeWith",this))return this;var _=this.simultaneous;return _[(b=m_(b,this)).id]||(_[b.id]=b,b.recognizeWith(this)),this},c.dropRecognizeWith=function(b){return Oc(b,"dropRecognizeWith",this)||(b=m_(b,this),delete this.simultaneous[b.id]),this},c.requireFailure=function(b){if(Oc(b,"requireFailure",this))return this;var _=this.requireFail;return-1===Tc(_,b=m_(b,this))&&(_.push(b),b.requireFailure(this)),this},c.dropRequireFailure=function(b){if(Oc(b,"dropRequireFailure",this))return this;b=m_(b,this);var _=Tc(this.requireFail,b);return _>-1&&this.requireFail.splice(_,1),this},c.hasRequireFailures=function(){return this.requireFail.length>0},c.canRecognizeWith=function(b){return!!this.simultaneous[b.id]},c.emit=function(b){var _=this,E=this.state;function M(R){_.manager.emit(R,b)}E<8&&M(_.options.event+qk(E)),M(_.options.event),b.additionalEvent&&M(b.additionalEvent),E>=8&&M(_.options.event+qk(E))},c.tryEmit=function(b){if(this.canEmit())return this.emit(b);this.state=32},c.canEmit=function(){for(var b=0;b<this.requireFail.length;){if(!(33&this.requireFail[b].state))return!1;b++}return!0},c.recognize=function(b){var _=z({},b);if(!f_(this.options.enable,[this,_]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(_),30&this.state&&this.tryEmit(_)},c.process=function(b){},c.getTouchAction=function(){},c.reset=function(){},l}(),Xx=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},b))||this).pTime=!1,_.pCenter=!1,_._timer=null,_._input=null,_.count=0,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[cn]},g.process=function(_){var E=this,M=this.options,R=_.pointers.length===M.pointers,A=_.distance<M.threshold,j=_.deltaTime<M.time;if(this.reset(),1&_.eventType&&0===this.count)return this.failTimeout();if(A&&j&&R){if(4!==_.eventType)return this.failTimeout();var W=!this.pTime||_.timeStamp-this.pTime<M.interval,U=!this.pCenter||p_(this.pCenter,_.center)<M.posThreshold;if(this.pTime=_.timeStamp,this.pCenter=_.center,U&&W?this.count+=1:this.count=1,this._input=_,0==this.count%M.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){E.state=8,E.tryEmit()},M.interval),2):8}return 32},g.failTimeout=function(){var _=this;return this._timer=setTimeout(function(){_.state=32},this.options.interval),32},g.reset=function(){clearTimeout(this._timer)},g.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},c}(nm),Ic=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({pointers:1},b))||this}D(c,l);var g=c.prototype;return g.attrTest=function(_){var E=this.options.pointers;return 0===E||_.pointers.length===E},g.process=function(_){var E=this.state,M=_.eventType,R=6&E,A=this.attrTest(_);return R&&(8&M||!A)?16|E:R||A?4&M?8|E:2&E?4|E:2:32},c}(nm);function Qx(l){return 16===l?"down":8===l?"up":2===l?"left":4===l?"right":""}var y_=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"pan",threshold:10,pointers:1,direction:30},b))||this).pX=null,_.pY=null,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){var _=this.options.direction,E=[];return 6&_&&E.push(Ni),24&_&&E.push(Ti),E},g.directionTest=function(_){var E=this.options,M=!0,R=_.distance,A=_.direction,j=_.deltaX,W=_.deltaY;return A&E.direction||(6&E.direction?(A=0===j?1:j<0?2:4,M=j!==this.pX,R=Math.abs(_.deltaX)):(A=0===W?1:W<0?8:16,M=W!==this.pY,R=Math.abs(_.deltaY))),_.direction=A,M&&R>E.threshold&&A&E.direction},g.attrTest=function(_){return Ic.prototype.attrTest.call(this,_)&&(2&this.state||!(2&this.state)&&this.directionTest(_))},g.emit=function(_){this.pX=_.deltaX,this.pY=_.deltaY;var E=Qx(_.direction);E&&(_.additionalEvent=this.options.event+E),l.prototype.emit.call(this,_)},c}(Ic),ek=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return y_.prototype.getTouchAction.call(this)},g.attrTest=function(_){var M,E=this.options.direction;return 30&E?M=_.overallVelocity:6&E?M=_.overallVelocityX:24&E&&(M=_.overallVelocityY),l.prototype.attrTest.call(this,_)&&E&_.offsetDirection&&_.distance>this.options.threshold&&_.maxPointers===this.options.pointers&&Oe(M)>this.options.velocity&&4&_.eventType},g.emit=function(_){var E=Qx(_.offsetDirection);E&&this.manager.emit(this.options.event+E,_),this.manager.emit(this.options.event,_)},c}(Ic),tk=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"pinch",threshold:0,pointers:2},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[Zt]},g.attrTest=function(_){return l.prototype.attrTest.call(this,_)&&(Math.abs(_.scale-1)>this.options.threshold||2&this.state)},g.emit=function(_){1!==_.scale&&(_.additionalEvent=this.options.event+(_.scale<1?"in":"out")),l.prototype.emit.call(this,_)},c}(Ic),ik=function(l){function c(b){return void 0===b&&(b={}),l.call(this,O({event:"rotate",threshold:0,pointers:2},b))||this}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return[Zt]},g.attrTest=function(_){return l.prototype.attrTest.call(this,_)&&(Math.abs(_.rotation)>this.options.threshold||2&this.state)},c}(Ic),Zk=function(l){function c(b){var _;return void 0===b&&(b={}),(_=l.call(this,O({event:"press",pointers:1,time:251,threshold:9},b))||this)._timer=null,_._input=null,_}D(c,l);var g=c.prototype;return g.getTouchAction=function(){return["auto"]},g.process=function(_){var E=this,M=this.options,R=_.pointers.length===M.pointers,A=_.distance<M.threshold,j=_.deltaTime>M.time;if(this._input=_,!A||!R||12&_.eventType&&!j)this.reset();else if(1&_.eventType)this.reset(),this._timer=setTimeout(function(){E.state=8,E.tryEmit()},M.time);else if(4&_.eventType)return 8;return 32},g.reset=function(){clearTimeout(this._timer)},g.emit=function(_){8===this.state&&(_&&4&_.eventType?this.manager.emit(this.options.event+"up",_):(this._input.timeStamp=Te(),this.manager.emit(this.options.event,this._input)))},c}(nm),b_={domEvents:!1,touchAction:Pt,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Jk=[[ik,{enable:!1}],[tk,{enable:!1},["rotate"]],[ek,{direction:6}],[y_,{direction:6},["swipe"]],[Xx],[Xx,{event:"doubletap",taps:2},["tap"]],[Zk]];function nk(l,c){var b,g=l.element;g.style&&(cs(l.options.cssProps,function(_,E){b=Re(g.style,E),c?(l.oldCssProps[b]=g.style[b],g.style[b]=_):g.style[b]=l.oldCssProps[b]||""}),c||(l.oldCssProps={}))}var eC=function(){function l(g,b){var _=this;this.options=z({},b_,b||{}),this.options.inputTarget=this.options.inputTarget||g,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=g,this.input=function fE(l){return new(l.options.inputClass||(af?qx:Ec?Zx:ls?Yk:Jx))(l,oE)}(this),this.touchAction=new $k(this,this.options.touchAction),nk(this,!0),cs(this.options.recognizers,function(E){var M=_.add(new E[0](E[1]));E[2]&&M.recognizeWith(E[2]),E[3]&&M.requireFailure(E[3])},this)}var c=l.prototype;return c.set=function(b){return z(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},c.stop=function(b){this.session.stopped=b?2:1},c.recognize=function(b){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(b);var E,M=this.recognizers,R=_.curRecognizer;(!R||R&&8&R.state)&&(_.curRecognizer=null,R=null);for(var A=0;A<M.length;)E=M[A],2===_.stopped||R&&E!==R&&!E.canRecognizeWith(R)?E.reset():E.recognize(b),!R&&14&E.state&&(_.curRecognizer=E,R=E),A++}},c.get=function(b){if(b instanceof nm)return b;for(var _=this.recognizers,E=0;E<_.length;E++)if(_[E].options.event===b)return _[E];return null},c.add=function(b){if(Oc(b,"add",this))return this;var _=this.get(b.options.event);return _&&this.remove(_),this.recognizers.push(b),b.manager=this,this.touchAction.update(),b},c.remove=function(b){if(Oc(b,"remove",this))return this;var _=this.get(b);if(b){var E=this.recognizers,M=Tc(E,_);-1!==M&&(E.splice(M,1),this.touchAction.update())}return this},c.on=function(b,_){if(void 0===b||void 0===_)return this;var E=this.handlers;return cs(Xg(b),function(M){E[M]=E[M]||[],E[M].push(_)}),this},c.off=function(b,_){if(void 0===b)return this;var E=this.handlers;return cs(Xg(b),function(M){_?E[M]&&E[M].splice(Tc(E[M],_),1):delete E[M]}),this},c.emit=function(b,_){this.options.domEvents&&function gE(l,c){var g=document.createEvent("Event");g.initEvent(l,!0,!0),g.gesture=c,c.target.dispatchEvent(g)}(b,_);var E=this.handlers[b]&&this.handlers[b].slice();if(E&&E.length){_.type=b,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var M=0;M<E.length;)E[M](_),M++}},c.destroy=function(){this.element&&nk(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},l}(),mE={touchstart:1,touchmove:2,touchend:4,touchcancel:8},tC="touchstart",yE="touchstart touchmove touchend touchcancel",iC=function(l){function c(){var b,_=c.prototype;return _.evTarget=tC,_.evWin=yE,(b=l.apply(this,arguments)||this).started=!1,b}return D(c,l),c.prototype.handler=function(_){var E=mE[_.type];if(1===E&&(this.started=!0),this.started){var M=uf.call(this,_,E);12&E&&M[0].length-M[1].length==0&&(this.started=!1),this.callback(this.manager,E,{pointers:M[0],changedPointers:M[1],pointerType:vt,srcEvent:_})}},c}(sf);function uf(l,c){var g=tm(l.touches),b=tm(l.changedTouches);return 12&c&&(g=v_(g.concat(b),"identifier",!0)),[g,b]}function nC(l,c,g){var b="DEPRECATED METHOD: "+c+"\n"+g+" AT \n";return function(){var _=new Error("get-stack-trace"),E=_&&_.stack?_.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",M=window.console&&(window.console.warn||window.console.log);return M&&M.call(window.console,b,E),l.apply(this,arguments)}}var rk=nC(function(l,c,g){for(var b=Object.keys(c),_=0;_<b.length;)(!g||g&&void 0===l[b[_]])&&(l[b[_]]=c[b[_]]),_++;return l},"extend","Use `assign`."),bE=nC(function(l,c){return rk(l,c,!0)},"merge","Use `assign`.");function _E(l,c,g){var _,b=c.prototype;(_=l.prototype=Object.create(b)).constructor=l,_._super=b,g&&z(_,g)}function __(l,c){return function(){return l.apply(c,arguments)}}var w_=function(){var l=function(g,b){return void 0===b&&(b={}),new eC(g,O({recognizers:Jk.concat()},b))};return l.VERSION="2.0.17-rc",l.DIRECTION_ALL=30,l.DIRECTION_DOWN=16,l.DIRECTION_LEFT=2,l.DIRECTION_RIGHT=4,l.DIRECTION_UP=8,l.DIRECTION_HORIZONTAL=6,l.DIRECTION_VERTICAL=24,l.DIRECTION_NONE=1,l.DIRECTION_DOWN=16,l.INPUT_START=1,l.INPUT_MOVE=2,l.INPUT_END=4,l.INPUT_CANCEL=8,l.STATE_POSSIBLE=1,l.STATE_BEGAN=2,l.STATE_CHANGED=4,l.STATE_ENDED=8,l.STATE_RECOGNIZED=8,l.STATE_CANCELLED=16,l.STATE_FAILED=32,l.Manager=eC,l.Input=sf,l.TouchAction=$k,l.TouchInput=Zx,l.MouseInput=Jx,l.PointerEventInput=qx,l.TouchMouseInput=Yk,l.SingleTouchInput=iC,l.Recognizer=nm,l.AttrRecognizer=Ic,l.Tap=Xx,l.Pan=y_,l.Swipe=ek,l.Pinch=tk,l.Rotate=ik,l.Press=Zk,l.on=Qg,l.off=em,l.each=cs,l.merge=bE,l.extend=rk,l.bindFn=__,l.assign=z,l.inherit=_E,l.bindFn=__,l.prefixed=Re,l.toArray=tm,l.inArray=Tc,l.uniqueArray=v_,l.splitStr=Xg,l.boolOrFn=f_,l.hasParent=Ux,l.addEventListeners=Qg,l.removeEventListeners=em,l.defaults=z({},b_,{preset:Jk}),l}();function rC(l,c){var g=typeof rr<"u"&&sl(l)||l["@@iterator"];if(!g){if(qi(l)||(g=function xE(l,c){var g;if(l){if("string"==typeof l)return oC(l,c);var b=lc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return rl(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return oC(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function oC(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}var rm=rr("DELETE");function aC(){var l=x_.apply(void 0,arguments);return lC(l),l}function x_(){for(var l=arguments.length,c=new Array(l),g=0;g<l;g++)c[g]=arguments[g];if(c.length<2)return c[0];var b;if(c.length>2)return x_.apply(void 0,Rh(b=[aC(c[0],c[1])]).call(b,Pi(lc(c).call(c,2))));var R,_=c[0],E=c[1],M=rC(Dr(E));try{for(M.s();!(R=M.n()).done;){var A=R.value;Object.prototype.propertyIsEnumerable.call(E,A)&&(E[A]===rm?delete _[A]:_[A]=null===_[A]||null===E[A]||"object"!==gi(_[A])||"object"!==gi(E[A])||qi(_[A])||qi(E[A])?sC(E[A]):x_(_[A],E[A]))}}catch(j){M.e(j)}finally{M.f()}return _}function sC(l){return qi(l)?Wi(l).call(l,function(c){return sC(c)}):"object"===gi(l)&&null!==l?x_({},l):l}function lC(l){for(var c=0,g=yo(l);c<g.length;c++){var b=g[c];l[b]===rm?delete l[b]:"object"===gi(l[b])&&null!==l[b]&&lC(l[b])}}var Xi=typeof window<"u"?window.Hammer||w_:function(){return function CE(){var l=function(){};return{on:l,off:l,destroy:l,emit:l,get:function(){return{set:l}}}}()};function To(l){var g,c=this;this._cleanupQueue=[],this.active=!1,this._dom={container:l,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){c._dom.overlay.parentNode.removeChild(c._dom.overlay)});var b=Xi(this._dom.overlay);b.on("tap",Qr(g=this._onTapOverlay).call(g,this)),this._cleanupQueue.push(function(){b.destroy()});var _=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bo(_).call(_,function(E){b.on(E,function(M){M.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(E){(function om(l,c){for(;l;){if(l===c)return!0;l=l.parentNode}return!1})(E.target,l)||c.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",c._onClick)})),this._escListener=function(E){("key"in E?"Escape"===E.key:27===E.keyCode)&&c.deactivate()}}k(To.prototype),To.current=null,To.prototype.destroy=function(){var l,c;this.deactivate();var b,g=rC(function(l){var c=l.reverse;return l===sr||C0(sr,l)&&c===sr.reverse?nx:c}(l=Wh(c=this._cleanupQueue).call(c,0)).call(l));try{for(g.s();!(b=g.n()).done;)(0,b.value)()}catch(E){g.e(E)}finally{g.f()}},To.prototype.activate=function(){To.current&&To.current.deactivate(),To.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},To.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},To.prototype._onTapOverlay=function(l){this.activate(),l.srcEvent.stopPropagation()};var EE=md,SE=fr,TE=ee.TypeError,uC=Ge,ok=Fi,k_=Xr,ak=function(l){if(EE(l))return l;throw TE(SE(l)+" is not a constructor")},DE=pn,cC=ni,ME=qs,sk=we,lk=fi("Reflect","construct"),PE=Object.prototype,dC=[].push,hC=sk(function(){function l(){}return!(lk(function(){},[],l)instanceof l)}),Ml=!sk(function(){lk(function(){})}),fC=hC||Ml;uC({target:"Reflect",stat:!0,forced:fC,sham:fC},{construct:function(c,g){ak(c),DE(g);var b=arguments.length<3?c:ak(arguments[2]);if(Ml&&!hC)return lk(c,g,b);if(c==b){switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3])}var _=[null];return ok(dC,_,g),new(ok(k_,c,_))}var E=b.prototype,M=ME(cC(E)?E:PE),R=ok(c,M,g);return cC(R)?R:M}});var Pl=yt.Reflect.construct;function cr(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var LE=Qh;Ge({target:"Object",stat:!0},{setPrototypeOf:jy});var yC=yt.Object.setPrototypeOf;function dk(l,c){return(dk=yC||function(b,_){return b.__proto__=_,b})(l,c)}function hk(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");l.prototype=LE(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),lu(l,"prototype",{writable:!1}),c&&dk(l,c)}function sm(l,c){if(c&&("object"===gi(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return cr(l)}var fk=j0;function cf(l){return(cf=yC?fk:function(g){return g.__proto__||fk(g)})(l)}var df={exports:{}};!function(l){var c=function(g){var E,b=Object.prototype,_=b.hasOwnProperty,M="function"==typeof Symbol?Symbol:{},R=M.iterator||"@@iterator",A=M.asyncIterator||"@@asyncIterator",j=M.toStringTag||"@@toStringTag";function W(Ce,ve,Pe){return Object.defineProperty(Ce,ve,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),Ce[ve]}try{W({},"")}catch{W=function(ve,Pe,nt){return ve[Pe]=nt}}function U(Ce,ve,Pe,nt){var zi=Object.create((ve&&ve.prototype instanceof Wt?ve:Wt).prototype),$r=new NS(nt||[]);return zi._invoke=function pm(Ce,ve,Pe){var nt=ae;return function(zi,$r){if(nt===Ye)throw new Error("Generator is already running");if(nt===it){if("throw"===zi)throw $r;return rT()}for(Pe.method=zi,Pe.arg=$r;;){var Lr=Pe.delegate;if(Lr){var sa=vf(Lr,Pe);if(sa){if(sa===Be)continue;return sa}}if("next"===Pe.method)Pe.sent=Pe._sent=Pe.arg;else if("throw"===Pe.method){if(nt===ae)throw nt=it,Pe.arg;Pe.dispatchException(Pe.arg)}else"return"===Pe.method&&Pe.abrupt("return",Pe.arg);nt=Ye;var Br=X(Ce,ve,Pe);if("normal"===Br.type){if(nt=Pe.done?it:Le,Br.arg===Be)continue;return{value:Br.arg,done:Pe.done}}"throw"===Br.type&&(nt=it,Pe.method="throw",Pe.arg=Br.arg)}}}(Ce,Pe,$r),zi}function X(Ce,ve,Pe){try{return{type:"normal",arg:Ce.call(ve,Pe)}}catch(nt){return{type:"throw",arg:nt}}}g.wrap=U;var ae="suspendedStart",Le="suspendedYield",Ye="executing",it="completed",Be={};function Wt(){}function Qi(){}function zt(){}var wn={};W(wn,R,function(){return this});var jn=Object.getPrototypeOf,ps=jn&&jn(jn(zS([])));ps&&ps!==b&&_.call(ps,R)&&(wn=ps);var Hn=zt.prototype=Wt.prototype=Object.create(wn);function pf(Ce){["next","throw","return"].forEach(function(ve){W(Ce,ve,function(Pe){return this._invoke(ve,Pe)})})}function Pc(Ce,ve){function Pe(zi,$r,Lr,sa){var Br=X(Ce[zi],Ce,$r);if("throw"!==Br.type){var jS=Br.arg,Fk=jS.value;return Fk&&"object"==typeof Fk&&_.call(Fk,"__await")?ve.resolve(Fk.__await).then(function(vm){Pe("next",vm,Lr,sa)},function(vm){Pe("throw",vm,Lr,sa)}):ve.resolve(Fk).then(function(vm){jS.value=vm,Lr(jS)},function(vm){return Pe("throw",vm,Lr,sa)})}sa(Br.arg)}var nt;this._invoke=function qe(zi,$r){function Lr(){return new ve(function(sa,Br){Pe(zi,$r,sa,Br)})}return nt=nt?nt.then(Lr,Lr):Lr()}}function vf(Ce,ve){var Pe=Ce.iterator[ve.method];if(Pe===E){if(ve.delegate=null,"throw"===ve.method){if(Ce.iterator.return&&(ve.method="return",ve.arg=E,vf(Ce,ve),"throw"===ve.method))return Be;ve.method="throw",ve.arg=new TypeError("The iterator does not provide a 'throw' method")}return Be}var nt=X(Pe,Ce.iterator,ve.arg);if("throw"===nt.type)return ve.method="throw",ve.arg=nt.arg,ve.delegate=null,Be;var qe=nt.arg;return qe?qe.done?(ve[Ce.resultName]=qe.value,ve.next=Ce.nextLoc,"return"!==ve.method&&(ve.method="next",ve.arg=E),ve.delegate=null,Be):qe:(ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,Be)}function BS(Ce){var ve={tryLoc:Ce[0]};1 in Ce&&(ve.catchLoc=Ce[1]),2 in Ce&&(ve.finallyLoc=Ce[2],ve.afterLoc=Ce[3]),this.tryEntries.push(ve)}function D_(Ce){var ve=Ce.completion||{};ve.type="normal",delete ve.arg,Ce.completion=ve}function NS(Ce){this.tryEntries=[{tryLoc:"root"}],Ce.forEach(BS,this),this.reset(!0)}function zS(Ce){if(Ce){var ve=Ce[R];if(ve)return ve.call(Ce);if("function"==typeof Ce.next)return Ce;if(!isNaN(Ce.length)){var Pe=-1,nt=function qe(){for(;++Pe<Ce.length;)if(_.call(Ce,Pe))return qe.value=Ce[Pe],qe.done=!1,qe;return qe.value=E,qe.done=!0,qe};return nt.next=nt}}return{next:rT}}function rT(){return{value:E,done:!0}}return Qi.prototype=zt,W(Hn,"constructor",zt),W(zt,"constructor",Qi),Qi.displayName=W(zt,j,"GeneratorFunction"),g.isGeneratorFunction=function(Ce){var ve="function"==typeof Ce&&Ce.constructor;return!!ve&&(ve===Qi||"GeneratorFunction"===(ve.displayName||ve.name))},g.mark=function(Ce){return Object.setPrototypeOf?Object.setPrototypeOf(Ce,zt):(Ce.__proto__=zt,W(Ce,j,"GeneratorFunction")),Ce.prototype=Object.create(Hn),Ce},g.awrap=function(Ce){return{__await:Ce}},pf(Pc.prototype),W(Pc.prototype,A,function(){return this}),g.AsyncIterator=Pc,g.async=function(Ce,ve,Pe,nt,qe){void 0===qe&&(qe=Promise);var zi=new Pc(U(Ce,ve,Pe,nt),qe);return g.isGeneratorFunction(ve)?zi:zi.next().then(function($r){return $r.done?$r.value:zi.next()})},pf(Hn),W(Hn,j,"Generator"),W(Hn,R,function(){return this}),W(Hn,"toString",function(){return"[object Generator]"}),g.keys=function(Ce){var ve=[];for(var Pe in Ce)ve.push(Pe);return ve.reverse(),function nt(){for(;ve.length;){var qe=ve.pop();if(qe in Ce)return nt.value=qe,nt.done=!1,nt}return nt.done=!0,nt}},g.values=zS,NS.prototype={constructor:NS,reset:function(Ce){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(D_),!Ce)for(var ve in this)"t"===ve.charAt(0)&&_.call(this,ve)&&!isNaN(+ve.slice(1))&&(this[ve]=E)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if("throw"===ve.type)throw ve.arg;return this.rval},dispatchException:function(Ce){if(this.done)throw Ce;var ve=this;function Pe(sa,Br){return zi.type="throw",zi.arg=Ce,ve.next=sa,Br&&(ve.method="next",ve.arg=E),!!Br}for(var nt=this.tryEntries.length-1;nt>=0;--nt){var qe=this.tryEntries[nt],zi=qe.completion;if("root"===qe.tryLoc)return Pe("end");if(qe.tryLoc<=this.prev){var $r=_.call(qe,"catchLoc"),Lr=_.call(qe,"finallyLoc");if($r&&Lr){if(this.prev<qe.catchLoc)return Pe(qe.catchLoc,!0);if(this.prev<qe.finallyLoc)return Pe(qe.finallyLoc)}else if($r){if(this.prev<qe.catchLoc)return Pe(qe.catchLoc,!0)}else{if(!Lr)throw new Error("try statement without catch or finally");if(this.prev<qe.finallyLoc)return Pe(qe.finallyLoc)}}}},abrupt:function(Ce,ve){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var nt=this.tryEntries[Pe];if(nt.tryLoc<=this.prev&&_.call(nt,"finallyLoc")&&this.prev<nt.finallyLoc){var qe=nt;break}}qe&&("break"===Ce||"continue"===Ce)&&qe.tryLoc<=ve&&ve<=qe.finallyLoc&&(qe=null);var zi=qe?qe.completion:{};return zi.type=Ce,zi.arg=ve,qe?(this.method="next",this.next=qe.finallyLoc,Be):this.complete(zi)},complete:function(Ce,ve){if("throw"===Ce.type)throw Ce.arg;return"break"===Ce.type||"continue"===Ce.type?this.next=Ce.arg:"return"===Ce.type?(this.rval=this.arg=Ce.arg,this.method="return",this.next="end"):"normal"===Ce.type&&ve&&(this.next=ve),Be},finish:function(Ce){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Pe=this.tryEntries[ve];if(Pe.finallyLoc===Ce)return this.complete(Pe.completion,Pe.afterLoc),D_(Pe),Be}},catch:function(Ce){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Pe=this.tryEntries[ve];if(Pe.tryLoc===Ce){var nt=Pe.completion;if("throw"===nt.type){var qe=nt.arg;D_(Pe)}return qe}}throw new Error("illegal catch attempt")},delegateYield:function(Ce,ve,Pe){return this.delegate={iterator:zS(Ce),resultName:ve,nextLoc:Pe},"next"===this.method&&(this.arg=E),Be}},g}(l.exports);try{regeneratorRuntime=c}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}}(df);var bn=df.exports,hf={exports:{}},_C=we(function(){if("function"==typeof ArrayBuffer){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}}),Ar=ni,Rl=ii,hs=_C,Mc=Object.isExtensible,Ht=we(function(){Mc(1)})||hs?function(c){return!(!Ar(c)||hs&&"ArrayBuffer"==Rl(c))&&(!Mc||Mc(c))}:Mc,vk=!we(function(){return Object.isExtensible(Object.preventExtensions({}))}),wC=Ge,xC=le,kC=Ns,WE=ni,I_=bi,CC=Vi.f,EC=Lu,SC=lh,gk=Ht,KE=vk,TC=!1,fs=Ql("meta"),OC=0,yk=function(l){CC(l,fs,{value:{objectID:"O"+OC++,weakData:{}}})},DC=hf.exports={enable:function(){DC.enable=function(){},TC=!0;var l=EC.f,c=xC([].splice),g={};g[fs]=1,l(g).length&&(EC.f=function(b){for(var _=l(b),E=0,M=_.length;E<M;E++)if(_[E]===fs){c(_,E,1);break}return _},wC({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:SC.f}))},fastKey:function(l,c){if(!WE(l))return"symbol"==typeof l?l:("string"==typeof l?"S":"P")+l;if(!I_(l,fs)){if(!gk(l))return"F";if(!c)return"E";yk(l)}return l[fs].objectID},getWeakData:function(l,c){if(!I_(l,fs)){if(!gk(l))return!0;if(!c)return!1;yk(l)}return l[fs].weakData},onFreeze:function(l){return KE&&TC&&gk(l)&&!I_(l,fs)&&yk(l),l}};kC[fs]=!0;var ZE=qr,JE=tn,MC=pn,bk=fr,XE=Du,QE=_i,_k=Lt,eS=Ua,PC=Pu,wk=tl,Fl=ee.TypeError,um=function(l,c){this.stopped=l,this.result=c},RC=um.prototype,FC=function(l,c,g){var A,j,W,U,X,ae,Le,_=!(!g||!g.AS_ENTRIES),E=!(!g||!g.IS_ITERATOR),M=!(!g||!g.INTERRUPTED),R=ZE(c,g&&g.that),Ye=function(Be){return A&&wk(A,"normal",Be),new um(!0,Be)},it=function(Be){return _?(MC(Be),M?R(Be[0],Be[1],Ye):R(Be[0],Be[1])):M?R(Be,Ye):R(Be)};if(E)A=l;else{if(!(j=PC(l)))throw Fl(bk(l)+" is not iterable");if(XE(j)){for(W=0,U=QE(l);U>W;W++)if((X=it(l[W]))&&_k(RC,X))return X;return new um(!1)}A=eS(l,j)}for(ae=A.next;!(Le=JE(ae,A)).done;){try{X=it(Le.value)}catch(Be){wk(A,"throw",Be)}if("object"==typeof X&&X&&_k(RC,X))return X}return new um(!1)},iS=Lt,AC=ee.TypeError,$C=function(l,c){if(iS(c,l))return l;throw AC("Incorrect invocation")},nS=Ge,rS=ee,xk=hf.exports,oS=we,kk=Do,aS=FC,sS=$C,lS=rt,uS=ni,cS=Eu,LC=Vi.f,dS=Fs.forEach,hS=Rt,NC=Ws.set,fS=Ws.getterFor,zC=function(l,c,g){var j,b=-1!==l.indexOf("Map"),_=-1!==l.indexOf("Weak"),E=b?"set":"add",M=rS[l],R=M&&M.prototype,A={};if(hS&&lS(M)&&(_||R.forEach&&!oS(function(){(new M).entries().next()}))){var W=(j=c(function(X,ae){NC(sS(X,W),{type:l,collection:new M}),null!=ae&&aS(ae,X[E],{that:X,AS_ENTRIES:b})})).prototype,U=fS(l);dS(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(X){var ae="add"==X||"set"==X;X in R&&(!_||"clear"!=X)&&kk(W,X,function(Le,Ye){var it=U(this).collection;if(!ae&&_&&!uS(Le))return"get"==X&&void 0;var Be=it[X](0===Le?0:Le,Ye);return ae?this:Be})}),_||LC(W,"size",{configurable:!0,get:function(){return U(this).collection.size}})}else j=g.getConstructor(c,l,b,E),xk.enable();return cS(j,l,!1,!0),A[l]=j,nS({global:!0,forced:!0},A),_||g.setStrong(j,l,b),j},pS=Ld,Ck=fi,gS=Vi,HC=Rt,cm=jt("species"),WC=Vi.f,mS=qs,KC=function(l,c,g){for(var b in c)g&&g.unsafe&&l[b]?l[b]=c[b]:pS(l,b,c[b],g);return l},yS=qr,bS=$C,_S=FC,wS=so,dm=Rt,Sk=hf.exports.fastKey,Tk=Ws.set,Ok=Ws.getterFor,Ik={getConstructor:function(l,c,g,b){var _=l(function(j,W){bS(j,E),Tk(j,{type:c,index:mS(null),first:void 0,last:void 0,size:0}),dm||(j.size=0),null!=W&&_S(W,j[b],{that:j,AS_ENTRIES:g})}),E=_.prototype,M=Ok(c),R=function(j,W,U){var Le,Ye,X=M(j),ae=A(j,W);return ae?ae.value=U:(X.last=ae={index:Ye=Sk(W,!0),key:W,value:U,previous:Le=X.last,next:void 0,removed:!1},X.first||(X.first=ae),Le&&(Le.next=ae),dm?X.size++:j.size++,"F"!==Ye&&(X.index[Ye]=ae)),j},A=function(j,W){var ae,U=M(j),X=Sk(W);if("F"!==X)return U.index[X];for(ae=U.first;ae;ae=ae.next)if(ae.key==W)return ae};return KC(E,{clear:function(){for(var U=M(this),X=U.index,ae=U.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete X[ae.index],ae=ae.next;U.first=U.last=void 0,dm?U.size=0:this.size=0},delete:function(j){var W=this,U=M(W),X=A(W,j);if(X){var ae=X.next,Le=X.previous;delete U.index[X.index],X.removed=!0,Le&&(Le.next=ae),ae&&(ae.previous=Le),U.first==X&&(U.first=ae),U.last==X&&(U.last=Le),dm?U.size--:W.size--}return!!X},forEach:function(W){for(var ae,U=M(this),X=yS(W,arguments.length>1?arguments[1]:void 0);ae=ae?ae.next:U.first;)for(X(ae.value,ae.key,this);ae&&ae.removed;)ae=ae.previous},has:function(W){return!!A(this,W)}}),KC(E,g?{get:function(W){var U=A(this,W);return U&&U.value},set:function(W,U){return R(this,0===W?0:W,U)}}:{add:function(W){return R(this,W=0===W?0:W,W)}}),dm&&WC(E,"size",{get:function(){return M(this).size}}),_},setStrong:function(l,c,g){var b=c+" Iterator",_=Ok(c),E=Ok(b);wS(l,c,function(M,R){Tk(this,{type:b,target:M,state:_(M),kind:R,last:void 0})},function(){for(var M=E(this),R=M.kind,A=M.last;A&&A.removed;)A=A.previous;return M.target&&(M.last=A=A?A.next:M.state.first)?"keys"==R?{value:A.key,done:!1}:"values"==R?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(M.target=void 0,{value:void 0,done:!0})},g?"entries":"values",!g,!0),function(l){var c=Ck(l);HC&&c&&!c[cm]&&(0,gS.f)(c,cm,{configurable:!0,get:function(){return this}})}(c)}};zC("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},Ik);var me=yt.Map,hm=Fs.some;Ge({target:"Array",proto:!0,forced:!ge("some")},{some:function(c){return hm(this,c,arguments.length>1?arguments[1]:void 0)}});var YC=ri("Array").some,Pk=Lt,qC=YC,Rk=Array.prototype,e=ri("Array").keys,r=eo,o=bi,s=Lt,d=e,f=Array.prototype,x={DOMTokenList:!0,NodeList:!0},I=function(l){var c=l.keys;return l===f||s(f,l)&&c===f.keys||o(x,r(l))?d:c},P=_v,L=Math.floor,N=function(l,c){var g=l.length,b=L(g/2);return g<8?H(l,c):Y(l,N(P(l,0,b),c),N(P(l,b),c),c)},H=function(l,c){for(var _,E,g=l.length,b=1;b<g;){for(E=b,_=l[b];E&&c(l[E-1],_)>0;)l[E]=l[--E];E!==b++&&(l[E]=_)}return l},Y=function(l,c,g,b){for(var _=c.length,E=g.length,M=0,R=0;M<_||R<E;)l[M+R]=M<_&&R<E?b(c[M],g[R])<=0?c[M++]:g[R++]:M<_?c[M++]:g[R++];return l},V=N,J=hr.match(/firefox\/(\d+)/i),ue=!!J&&+J[1],Se=/MSIE|Trident/.test(hr),de=hr.match(/AppleWebKit\/(\d+)\./),ze=Ge,He=le,Ie=Vr,et=It,st=_i,ht=an,Ct=we,Vt=V,dr=ge,HS=ue,oT=Se,VS=ma,WS=!!de&&+de[1],ff=[],KS=He(ff.sort),aT=He(ff.push),sT=Ct(function(){ff.sort(void 0)}),lT=Ct(function(){ff.sort(null)}),uT=dr("sort"),GS=!Ct(function(){if(VS)return VS<70;if(!(HS&&HS>3)){if(oT)return!0;if(WS)return WS<603;var c,g,b,_,l="";for(c=65;c<76;c++){switch(g=String.fromCharCode(c),c){case 66:case 69:case 70:case 72:b=3;break;case 68:case 71:b=4;break;default:b=2}for(_=0;_<47;_++)ff.push({k:g+_,v:b})}for(ff.sort(function(E,M){return M.v-E.v}),_=0;_<ff.length;_++)g=ff[_].k.charAt(0),l.charAt(l.length-1)!==g&&(l+=g);return"DGBEFHACIJK"!==l}});ze({target:"Array",proto:!0,forced:sT||!lT||!uT||!GS},{sort:function(c){void 0!==c&&Ie(c);var g=et(this);if(GS)return void 0===c?KS(g):KS(g,c);var E,M,b=[],_=st(g);for(M=0;M<_;M++)M in g&&aT(b,g[M]);for(Vt(b,function(l){return function(c,g){return void 0===g?-1:void 0===c?1:void 0!==l?+l(c,g)||0:ht(c)>ht(g)?1:-1}}(c)),E=b.length,M=0;M<E;)g[M]=b[M++];for(;M<_;)delete g[M++];return g}});var ZC,fT=ri("Array").sort,pT=Lt,vT=fT,IS=Array.prototype,DS=function(l){var c=l.sort;return l===IS||pT(IS,l)&&c===IS.sort?vT:c},_T=ri("Array").values,kT=eo,CT=bi,ET=Lt,ST=_T,MS=Array.prototype,TT={DOMTokenList:!0,NodeList:!0},US=function(l){var c=l.values;return l===MS||ET(MS,l)&&c===MS.values||CT(TT,kT(l))?ST:c},fm=ag,DT=ri("Array").entries,RT=eo,FT=bi,AT=Lt,$T=DT,PS=Array.prototype,LT={DOMTokenList:!0,NodeList:!0},zT=new Uint8Array(16);function jT(){if(!ZC&&!(ZC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZC(zT)}var HT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VT(l){return"string"==typeof l&&HT.test(l)}for(var _n=[],RS=0;RS<256;++RS)_n.push((RS+256).toString(16).substr(1));function KT(l,c,g){var b=(l=l||{}).random||(l.rng||jT)();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,c){g=g||0;for(var _=0;_<16;++_)c[g+_]=b[_];return c}return function WT(l){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=(_n[l[c+0]]+_n[l[c+1]]+_n[l[c+2]]+_n[l[c+3]]+"-"+_n[l[c+4]]+_n[l[c+5]]+"-"+_n[l[c+6]]+_n[l[c+7]]+"-"+_n[l[c+8]]+_n[l[c+9]]+"-"+_n[l[c+10]]+_n[l[c+11]]+_n[l[c+12]]+_n[l[c+13]]+_n[l[c+14]]+_n[l[c+15]]).toLowerCase();if(!VT(g))throw TypeError("Stringified UUID is invalid");return g}(b)}function FS(l){return"string"==typeof l||"number"==typeof l}var YS=function(){function l(c){Ke(this,l),Ne(this,"delay",void 0),Ne(this,"max",void 0),Ne(this,"_queue",[]),Ne(this,"_timeout",null),Ne(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(c)}return vr(l,[{key:"setOptions",value:function(g){g&&typeof g.delay<"u"&&(this.delay=g.delay),g&&typeof g.max<"u"&&(this.max=g.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var g=this._extended.object,b=this._extended.methods,_=0;_<b.length;_++){var E=b[_];E.original?g[E.name]=E.original:delete g[E.name]}this._extended=null}}},{key:"replace",value:function(g,b){var _=this,E=g[b];if(!E)throw new Error("Method "+b+" undefined");g[b]=function(){for(var M=arguments.length,R=new Array(M),A=0;A<M;A++)R[A]=arguments[A];_.queue({args:R,fn:E,context:this})}}},{key:"queue",value:function(g){this._queue.push("function"==typeof g?{fn:g}:g),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var g=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=of(function(){g.flush()},this.delay))}},{key:"flush",value:function(){var g,b;bo(g=Wh(b=this._queue).call(b,0)).call(g,function(_){_.fn.apply(_.context||_.fn,_.args||[])})}}],[{key:"extend",value:function(g,b){var _=new l(b);if(void 0!==g.flush)throw new Error("Target object already has a property flush");g.flush=function(){_.flush()};var E=[{name:"flush",original:void 0}];if(b&&b.replace)for(var M=0;M<b.replace.length;M++){var R=b.replace[M];E.push({name:R,original:g[R]}),_.replace(g,R)}return _._extended={object:g,methods:E},_}}]),l}(),qS=function(){function l(){Ke(this,l),Ne(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ne(this,"subscribe",l.prototype.on),Ne(this,"unsubscribe",l.prototype.off)}return vr(l,[{key:"_trigger",value:function(g,b,_){var E,M;if("*"===g)throw new Error("Cannot trigger event *");bo(E=Rh(M=[]).call(M,Pi(this._subscribers[g]),Pi(this._subscribers["*"]))).call(E,function(R){R(g,b,_??null)})}},{key:"on",value:function(g,b){"function"==typeof b&&this._subscribers[g].push(b)}},{key:"off",value:function(g,b){var _;this._subscribers[g]=ki(_=this._subscribers[g]).call(_,function(E){return E!==b})}}]),l}();zC("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},Ik);var ZS,JC=yt.Set,AS=Ua;function Al(l,c){var g=typeof rr<"u"&&sl(l)||l["@@iterator"];if(!g){if(qi(l)||(g=function aO(l,c){var g;if(l){if("string"==typeof l)return JS(l,c);var b=lc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return rl(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return JS(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function JS(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}ZS=fm;var $S=function(){function l(c){Ke(this,l),Ne(this,"_pairs",void 0),this._pairs=c}return vr(l,[{key:ZS,value:bn.mark(function c(){var g,b,_,E,M;return bn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:g=Al(this._pairs),A.prev=1,g.s();case 3:if((b=g.n()).done){A.next=9;break}return _=qt(b.value,2),E=_[0],M=_[1],A.next=7,[E,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),g.e(A.t0);case 14:return A.prev=14,g.f(),A.finish(14);case 17:case"end":return A.stop()}},c,this,[[1,11,14,17]])})},{key:"entries",value:bn.mark(function c(){var g,b,_,E,M;return bn.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:g=Al(this._pairs),A.prev=1,g.s();case 3:if((b=g.n()).done){A.next=9;break}return _=qt(b.value,2),E=_[0],M=_[1],A.next=7,[E,M];case 7:A.next=3;break;case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(1),g.e(A.t0);case 14:return A.prev=14,g.f(),A.finish(14);case 17:case"end":return A.stop()}},c,this,[[1,11,14,17]])})},{key:"keys",value:bn.mark(function c(){var g,b,_,E;return bn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=Al(this._pairs),R.prev=1,g.s();case 3:if((b=g.n()).done){R.next=9;break}return _=qt(b.value,1),E=_[0],R.next=7,E;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),g.e(R.t0);case 14:return R.prev=14,g.f(),R.finish(14);case 17:case"end":return R.stop()}},c,this,[[1,11,14,17]])})},{key:"values",value:bn.mark(function c(){var g,b,_,E;return bn.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g=Al(this._pairs),R.prev=1,g.s();case 3:if((b=g.n()).done){R.next=9;break}return _=qt(b.value,2),E=_[1],R.next=7,E;case 7:R.next=3;break;case 9:R.next=14;break;case 11:R.prev=11,R.t0=R.catch(1),g.e(R.t0);case 14:return R.prev=14,g.f(),R.finish(14);case 17:case"end":return R.stop()}},c,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var g;return Wi(g=Pi(this._pairs)).call(g,function(b){return b[0]})}},{key:"toItemArray",value:function(){var g;return Wi(g=Pi(this._pairs)).call(g,function(b){return b[1]})}},{key:"toEntryArray",value:function(){return Pi(this._pairs)}},{key:"toObjectMap",value:function(){var _,g=jg(null),b=Al(this._pairs);try{for(b.s();!(_=b.n()).done;){var E=qt(_.value,2);g[E[0]]=E[1]}}catch(A){b.e(A)}finally{b.f()}return g}},{key:"toMap",value:function(){return new me(this._pairs)}},{key:"toIdSet",value:function(){return new JC(this.toIdArray())}},{key:"toItemSet",value:function(){return new JC(this.toItemArray())}},{key:"cache",value:function(){return new l(Pi(this._pairs))}},{key:"distinct",value:function(g){var E,b=new JC,_=Al(this._pairs);try{for(_.s();!(E=_.n()).done;){var M=qt(E.value,2);b.add(g(M[1],M[0]))}}catch(j){_.e(j)}finally{_.f()}return b}},{key:"filter",value:function(g){var b=this._pairs;return new l(Ne({},fm,bn.mark(function _(){var E,M,R,A,j;return bn.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:E=Al(b),U.prev=1,E.s();case 3:if((M=E.n()).done){U.next=10;break}if(R=qt(M.value,2),!g(j=R[1],A=R[0])){U.next=8;break}return U.next=8,[A,j];case 8:U.next=3;break;case 10:U.next=15;break;case 12:U.prev=12,U.t0=U.catch(1),E.e(U.t0);case 15:return U.prev=15,E.f(),U.finish(15);case 18:case"end":return U.stop()}},_,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(g){var _,b=Al(this._pairs);try{for(b.s();!(_=b.n()).done;){var E=qt(_.value,2);g(E[1],E[0])}}catch(A){b.e(A)}finally{b.f()}}},{key:"map",value:function(g){var b=this._pairs;return new l(Ne({},fm,bn.mark(function _(){var E,M,R,A,j;return bn.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:E=Al(b),U.prev=1,E.s();case 3:if((M=E.n()).done){U.next=9;break}return R=qt(M.value,2),A=R[0],j=R[1],U.next=7,[A,g(j,A)];case 7:U.next=3;break;case 9:U.next=14;break;case 11:U.prev=11,U.t0=U.catch(1),E.e(U.t0);case 14:return U.prev=14,E.f(),U.finish(14);case 17:case"end":return U.stop()}},_,null,[[1,11,14,17]])})))}},{key:"max",value:function(g){var b=AS(this._pairs),_=b.next();if(_.done)return null;for(var E=_.value[1],M=g(_.value[1],_.value[0]);!(_=b.next()).done;){var R=qt(_.value,2),j=R[1],W=g(j,R[0]);W>M&&(M=W,E=j)}return E}},{key:"min",value:function(g){var b=AS(this._pairs),_=b.next();if(_.done)return null;for(var E=_.value[1],M=g(_.value[1],_.value[0]);!(_=b.next()).done;){var R=qt(_.value,2),j=R[1],W=g(j,R[0]);W<M&&(M=W,E=j)}return E}},{key:"reduce",value:function(g,b){var E,_=Al(this._pairs);try{for(_.s();!(E=_.n()).done;){var M=qt(E.value,2);b=g(b,M[1],M[0])}}catch(j){_.e(j)}finally{_.f()}return b}},{key:"sort",value:function(g){var b=this;return new l(Ne({},fm,function(){var _;return AS(DS(_=Pi(b._pairs)).call(_,function(E,M){var R=qt(E,2),A=R[0],j=R[1],W=qt(M,2);return g(j,W[1],A,W[0])}))}))}}]),l}();function XS(l,c){var g=yo(l);if(mh){var b=mh(l);c&&(b=ki(b).call(b,function(_){return zv(l,_).enumerable})),g.push.apply(g,b)}return g}function QS(l){for(var c=1;c<arguments.length;c++){var g,b,_=null!=arguments[c]?arguments[c]:{};c%2?bo(g=XS(Object(_),!0)).call(g,function(E){Ne(l,E,_[E])}):Wb?T1(l,Wb(_)):bo(b=XS(Object(_))).call(b,function(E){_h(l,E,zv(_,E))})}return l}function LS(l,c){var g=typeof rr<"u"&&sl(l)||l["@@iterator"];if(!g){if(qi(l)||(g=function sO(l,c){var g;if(l){if("string"==typeof l)return eT(l,c);var b=lc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return rl(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return eT(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function eT(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function lO(l){var c=function uO(){if(typeof Reflect>"u"||!Pl||Pl.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Pl(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,b=cf(l);if(c){var E=cf(this).constructor;_=Pl(b,arguments,E)}else _=b.apply(this,arguments);return sm(this,_)}}var tT=function(l){hk(g,l);var c=lO(g);function g(b,_){var E;return Ke(this,g),Ne(cr(E=c.call(this)),"flush",void 0),Ne(cr(E),"length",void 0),Ne(cr(E),"_options",void 0),Ne(cr(E),"_data",void 0),Ne(cr(E),"_idProp",void 0),Ne(cr(E),"_queue",null),b&&!qi(b)&&(_=b,b=[]),E._options=_||{},E._data=new me,E.length=0,E._idProp=E._options.fieldId||"id",b&&b.length&&E.add(b),E.setOptions(_),E}return vr(g,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(_){_&&void 0!==_.queue&&(!1===_.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=YS.extend(this,{replace:["add","update","remove"]})),_.queue&&"object"===gi(_.queue)&&this._queue.setOptions(_.queue)))}},{key:"add",value:function(_,E){var A,M=this,R=[];if(qi(_)){var j=Wi(_).call(_,function(X){return X[M._idProp]});if(function(l){var c=l.some;return l===Rk||Pk(Rk,l)&&c===Rk.some?qC:c}(j).call(j,function(X){return M._data.has(X)}))throw new Error("A duplicate id was found in the parameter array.");for(var W=0,U=_.length;W<U;W++)A=this._addItem(_[W]),R.push(A)}else{if(!_||"object"!==gi(_))throw new Error("Unknown dataType");A=this._addItem(_),R.push(A)}return R.length&&this._trigger("add",{items:R},E),R}},{key:"update",value:function(_,E){var M=this,R=[],A=[],j=[],W=[],U=this._idProp,X=function(Be){var Wt=Be[U];if(null!=Wt&&M._data.has(Wt)){var Qi=Be,zt=Eg({},M._data.get(Wt)),wn=M._updateItem(Qi);A.push(wn),W.push(Qi),j.push(zt)}else{var jn=M._addItem(Be);R.push(jn)}};if(qi(_))for(var ae=0,Le=_.length;ae<Le;ae++)_[ae]&&"object"===gi(_[ae])?X(_[ae]):console.warn("Ignoring input item, which is not an object at index "+ae);else{if(!_||"object"!==gi(_))throw new Error("Unknown dataType");X(_)}return R.length&&this._trigger("add",{items:R},E),A.length&&this._trigger("update",{items:A,oldData:j,data:W},E),Rh(R).call(R,A)}},{key:"updateOnly",value:function(_,E){var M,R=this;qi(_)||(_=[_]);var A=Wi(M=Wi(_).call(_,function(W){var U=R._data.get(W[R._idProp]);if(null==U)throw new Error("Updating non-existent items is not allowed.");return{oldData:U,update:W}})).call(M,function(W){var U=W.oldData,ae=U[R._idProp],Le=function kE(l){for(var c,g=arguments.length,b=new Array(g>1?g-1:0),_=1;_<g;_++)b[_-1]=arguments[_];return aC.apply(void 0,Rh(c=[{},l]).call(c,b))}(U,W.update);return R._data.set(ae,Le),{id:ae,oldData:U,updatedData:Le}});if(A.length){var j={items:Wi(A).call(A,function(W){return W.id}),oldData:Wi(A).call(A,function(W){return W.oldData}),data:Wi(A).call(A,function(W){return W.updatedData})};return this._trigger("update",j,E),j.items}return[]}},{key:"get",value:function(_,E){var M=void 0,R=void 0,A=void 0;FS(_)?(M=_,A=E):qi(_)?(R=_,A=E):A=_;var vf,j=A&&"Object"===A.returnType?"Object":"Array",W=A&&ki(A),U=[],X=void 0,ae=void 0;if(null!=M)(X=this._data.get(M))&&W&&!W(X)&&(X=void 0);else if(null!=R)for(var Ye=0,it=R.length;Ye<it;Ye++)null!=(X=this._data.get(R[Ye]))&&(!W||W(X))&&U.push(X);else for(var Be,Wt=0,Qi=(ae=Pi(I(Be=this._data).call(Be))).length;Wt<Qi;Wt++)null!=(X=this._data.get(ae[Wt]))&&(!W||W(X))&&U.push(X);if(A&&A.order&&null==M&&this._sort(U,A.order),A&&A.fields){var zt=A.fields;if(null!=M&&null!=X)X=this._filterFields(X,zt);else for(var wn=0,jn=U.length;wn<jn;wn++)U[wn]=this._filterFields(U[wn],zt)}if("Object"==j){for(var ps={},Hn=0,pf=U.length;Hn<pf;Hn++){var Pc=U[Hn];ps[Pc[this._idProp]]=Pc}return ps}return null!=M?null!==(vf=X)&&void 0!==vf?vf:null:U}},{key:"getIds",value:function(_){var E=this._data,M=_&&ki(_),R=_&&_.order,A=Pi(I(E).call(E)),j=[];if(M)if(R){for(var W=[],U=0,X=A.length;U<X;U++){var Le=this._data.get(A[U]);null!=Le&&M(Le)&&W.push(Le)}this._sort(W,R);for(var Ye=0,it=W.length;Ye<it;Ye++)j.push(W[Ye][this._idProp])}else for(var Be=0,Wt=A.length;Be<Wt;Be++){var zt=this._data.get(A[Be]);null!=zt&&M(zt)&&j.push(zt[this._idProp])}else if(R){for(var wn=[],jn=0,ps=A.length;jn<ps;jn++)wn.push(E.get(A[jn]));this._sort(wn,R);for(var pf=0,Pc=wn.length;pf<Pc;pf++)j.push(wn[pf][this._idProp])}else for(var pm=0,vf=A.length;pm<vf;pm++){var D_=E.get(A[pm]);null!=D_&&j.push(D_[this._idProp])}return j}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(_,E){var M=E&&ki(E),R=this._data,A=Pi(I(R).call(R));if(E&&E.order)for(var j=this.get(E),W=0,U=j.length;W<U;W++){var X=j[W];_(X,X[this._idProp])}else for(var Le=0,Ye=A.length;Le<Ye;Le++){var it=A[Le],Be=this._data.get(it);null!=Be&&(!M||M(Be))&&_(Be,it)}}},{key:"map",value:function(_,E){for(var M=E&&ki(E),R=[],A=this._data,j=Pi(I(A).call(A)),W=0,U=j.length;W<U;W++){var X=j[W],ae=this._data.get(X);null!=ae&&(!M||M(ae))&&R.push(_(ae,X))}return E&&E.order&&this._sort(R,E.order),R}},{key:"_filterFields",value:function(_,E){var M;return _&&Bm(M=qi(E)?E:yo(E)).call(M,function(R,A){return R[A]=_[A],R},{})}},{key:"_sort",value:function(_,E){if("string"==typeof E){var M=E;DS(_).call(_,function(R,A){var j=R[M],W=A[M];return j>W?1:j<W?-1:0})}else{if("function"!=typeof E)throw new TypeError("Order must be a function or a string");DS(_).call(_,E)}}},{key:"remove",value:function(_,E){for(var M=[],R=[],A=qi(_)?_:[_],j=0,W=A.length;j<W;j++){var U=this._remove(A[j]);if(U){var X=U[this._idProp];null!=X&&(M.push(X),R.push(U))}}return M.length&&this._trigger("remove",{items:M,oldData:R},E),M}},{key:"_remove",value:function(_){var E;if(FS(_)?E=_:_&&"object"===gi(_)&&(E=_[this._idProp]),null!=E&&this._data.has(E)){var M=this._data.get(E)||null;return this._data.delete(E),--this.length,M}return null}},{key:"clear",value:function(_){for(var E,M=Pi(I(E=this._data).call(E)),R=[],A=0,j=M.length;A<j;A++)R.push(this._data.get(M[A]));return this._data.clear(),this.length=0,this._trigger("remove",{items:M,oldData:R},_),M}},{key:"max",value:function(_){var E,j,M=null,R=null,A=LS(US(E=this._data).call(E));try{for(A.s();!(j=A.n()).done;){var W=j.value,U=W[_];"number"==typeof U&&(null==R||U>R)&&(M=W,R=U)}}catch(X){A.e(X)}finally{A.f()}return M||null}},{key:"min",value:function(_){var E,j,M=null,R=null,A=LS(US(E=this._data).call(E));try{for(A.s();!(j=A.n()).done;){var W=j.value,U=W[_];"number"==typeof U&&(null==R||U<R)&&(M=W,R=U)}}catch(X){A.e(X)}finally{A.f()}return M||null}},{key:"distinct",value:function(_){for(var E=this._data,M=Pi(I(E).call(E)),R=[],A=0,j=0,W=M.length;j<W;j++){for(var ae=E.get(M[j])[_],Le=!1,Ye=0;Ye<A;Ye++)if(R[Ye]==ae){Le=!0;break}!Le&&void 0!==ae&&(R[A]=ae,A++)}return R}},{key:"_addItem",value:function(_){var E=function cO(l,c){return null==l[c]&&(l[c]=KT()),l}(_,this._idProp),M=E[this._idProp];if(this._data.has(M))throw new Error("Cannot add item: item with id "+M+" already exists");return this._data.set(M,E),++this.length,M}},{key:"_updateItem",value:function(_){var E=_[this._idProp];if(null==E)throw new Error("Cannot update item: item has no id (item: "+Kx(_)+")");var M=this._data.get(E);if(!M)throw new Error("Cannot update item: no item with id "+E+" found");return this._data.set(E,QS(QS({},M),_)),E}},{key:"stream",value:function(_){if(_){var E=this._data;return new $S(Ne({},fm,bn.mark(function R(){var A,j,W,U;return bn.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:A=LS(_),ae.prev=1,A.s();case 3:if((j=A.n()).done){ae.next=11;break}if(null==(U=E.get(W=j.value))){ae.next=9;break}return ae.next=9,[W,U];case 9:ae.next=3;break;case 11:ae.next=16;break;case 13:ae.prev=13,ae.t0=ae.catch(1),A.e(ae.t0);case 16:return ae.prev=16,A.f(),ae.finish(16);case 19:case"end":return ae.stop()}},R,null,[[1,13,16,19]])})))}var M;return new $S(Ne({},fm,Qr(M=function(l){var c=l.entries;return l===PS||AT(PS,l)&&c===PS.entries||FT(LT,RT(l))?$T:c}(this._data)).call(M,this._data)))}}]),g}(qS);function dO(l,c){var g=typeof rr<"u"&&sl(l)||l["@@iterator"];if(!g){if(qi(l)||(g=function hO(l,c){var g;if(l){if("string"==typeof l)return iT(l,c);var b=lc(g=Object.prototype.toString.call(l)).call(g,8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return rl(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return iT(l,c)}}(l))||c&&l&&"number"==typeof l.length){g&&(l=g);var b=0,_=function(){};return{s:_,n:function(){return b>=l.length?{done:!0}:{done:!1,value:l[b++]}},e:function(j){throw j},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,E=!0,M=!1;return{s:function(){g=g.call(l)},n:function(){var j=g.next();return E=j.done,j},e:function(j){M=!0,R=j},f:function(){try{!E&&null!=g.return&&g.return()}finally{if(M)throw R}}}}function iT(l,c){(null==c||c>l.length)&&(c=l.length);for(var g=0,b=new Array(c);g<c;g++)b[g]=l[g];return b}function fO(l){var c=function pO(){if(typeof Reflect>"u"||!Pl||Pl.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Pl(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,b=cf(l);if(c){var E=cf(this).constructor;_=Pl(b,arguments,E)}else _=b.apply(this,arguments);return sm(this,_)}}var vO=function(l){hk(g,l);var c=fO(g);function g(b,_){var E,M;return Ke(this,g),Ne(cr(M=c.call(this)),"length",0),Ne(cr(M),"_listener",void 0),Ne(cr(M),"_data",void 0),Ne(cr(M),"_ids",new JC),Ne(cr(M),"_options",void 0),M._options=_||{},M._listener=Qr(E=M._onEvent).call(E,cr(M)),M.setData(b),M}return vr(g,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(_){if(this._data){this._data.off&&this._data.off("*",this._listener);var E=this._data.getIds({filter:ki(this._options)}),M=this._data.get(E);this._ids.clear(),this.length=0,this._trigger("remove",{items:E,oldData:M})}if(null!=_){this._data=_;for(var R=this._data.getIds({filter:ki(this._options)}),A=0,j=R.length;A<j;A++)this._ids.add(R[A]);this.length=R.length,this._trigger("add",{items:R})}else this._data=new tT;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var _=this._data.getIds({filter:ki(this._options)}),E=Pi(this._ids),M={},R=[],A=[],j=[],W=0,U=_.length;W<U;W++){var X=_[W];M[X]=!0,this._ids.has(X)||(R.push(X),this._ids.add(X))}for(var ae=0,Le=E.length;ae<Le;ae++){var Ye=E[ae],it=this._data.get(Ye);null==it?console.error("If you see this, report it please."):M[Ye]||(A.push(Ye),j.push(it),this._ids.delete(Ye))}this.length+=R.length-A.length,R.length&&this._trigger("add",{items:R}),A.length&&this._trigger("remove",{items:A,oldData:j})}},{key:"get",value:function(_,E){if(null==this._data)return null;var R,M=null;FS(_)||qi(_)?(M=_,R=E):R=_;var A=Eg({},this._options,R),j=ki(this._options),W=R&&ki(R);return j&&W&&(A.filter=function(U){return j(U)&&W(U)}),null==M?this._data.get(A):this._data.get(M,A)}},{key:"getIds",value:function(_){if(this._data.length){var E=ki(this._options),M=null!=_?ki(_):null;return this._data.getIds({filter:M?E?function(j){return E(j)&&M(j)}:M:E,order:_&&_.order})}return[]}},{key:"forEach",value:function(_,E){if(this._data){var M,j,R=ki(this._options),A=E&&ki(E);j=A?R?function(U){return R(U)&&A(U)}:A:R,bo(M=this._data).call(M,_,{filter:j,order:E&&E.order})}}},{key:"map",value:function(_,E){if(this._data){var M,j,R=ki(this._options),A=E&&ki(E);return j=A?R?function(U){return R(U)&&A(U)}:A:R,Wi(M=this._data).call(M,_,{filter:j,order:E&&E.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(_){var E;return this._data.stream(_||Ne({},fm,Qr(E=I(this._ids)).call(E,this._ids)))}},{key:"dispose",value:function(){var _;null!==(_=this._data)&&void 0!==_&&_.off&&this._data.off("*",this._listener);var A,E="This data view has already been disposed of.",M={get:function(){throw new Error(E)},set:function(){throw new Error(E)},configurable:!1},R=dO(Dr(g.prototype));try{for(R.s();!(A=R.n()).done;)_h(this,A.value,M)}catch(W){R.e(W)}finally{R.f()}}},{key:"_onEvent",value:function(_,E,M){if(E&&E.items&&this._data){var R=E.items,A=[],j=[],W=[],U=[],X=[],ae=[];switch(_){case"add":for(var Le=0,Ye=R.length;Le<Ye;Le++){var it=R[Le];this.get(it)&&(this._ids.add(it),A.push(it))}break;case"update":for(var Wt=0,Qi=R.length;Wt<Qi;Wt++){var zt=R[Wt];this.get(zt)?this._ids.has(zt)?(j.push(zt),X.push(E.data[Wt]),U.push(E.oldData[Wt])):(this._ids.add(zt),A.push(zt)):this._ids.has(zt)&&(this._ids.delete(zt),W.push(zt),ae.push(E.oldData[Wt]))}break;case"remove":for(var jn=0,ps=R.length;jn<ps;jn++){var Hn=R[jn];this._ids.has(Hn)&&(this._ids.delete(Hn),W.push(Hn),ae.push(E.oldData[jn]))}}this.length+=A.length-W.length,A.length&&this._trigger("add",{items:A},M),j.length&&this._trigger("update",{items:j,oldData:U,data:X},M),W.length&&this._trigger("remove",{items:W,oldData:ae},M)}}}]),g}(qS);function nT(l,c){return"object"===gi(c)&&null!==c&&l===c.idProp&&"function"==typeof c.add&&"function"==typeof c.clear&&"function"==typeof c.distinct&&"function"==typeof bo(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Wi(c)&&"function"==typeof c.max&&"function"==typeof c.min&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.remove&&"function"==typeof c.setOptions&&"function"==typeof c.stream&&"function"==typeof c.update&&"function"==typeof c.updateOnly}We.DELETE=rm,We.DataSet=tT,We.DataStream=$S,We.DataView=vO,We.Queue=YS,We.createNewDataPipeFrom=function ow(l){return new Mp(l)},We.isDataSetLike=nT,We.isDataViewLike=function gO(l,c){return"object"===gi(c)&&null!==c&&l===c.idProp&&"function"==typeof bo(c)&&"function"==typeof c.get&&"function"==typeof c.getDataSet&&"function"==typeof c.getIds&&"number"==typeof c.length&&"function"==typeof Wi(c)&&"function"==typeof c.off&&"function"==typeof c.on&&"function"==typeof c.stream&&nT(l,c.getDataSet())},Object.defineProperty(We,"__esModule",{value:!0})}(Rc)},1914:function(XC,Rc){!function(We){function Ke(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={exports:{}},xt=function(u){return u&&u.Math==Math&&u},ee=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof mi&&mi)||function(){return this}()||Function("return this")(),we=function(u){try{return!!u()}catch{return!0}},Vn=!we(function(){var u=function(){}.bind();return"function"!=typeof u||u.hasOwnProperty("prototype")}),$l=Function.prototype,ua=$l.apply,ca=$l.call,di="object"==typeof Reflect&&Reflect.apply||(Vn?ca.bind(ua):function(){return ca.apply(ua,arguments)}),Fi=Vn,vs=Function.prototype,da=vs.call,Ll=Fi&&vs.bind.bind(da,da),Ee=Fi?function(u){return u&&Ll(u)}:function(u){return u&&function(){return da.apply(u,arguments)}},le=function(u){return"function"==typeof u},rt={},Xe=!we(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Rt=Function.prototype.call,Xt=Vn?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)},en={},tn={}.propertyIsEnumerable,Nr=Object.getOwnPropertyDescriptor,Ac=Nr&&!tn.call({1:2},1);en.f=Ac?function(u){var h=Nr(this,u);return!!h&&h.enumerable}:tn;var yi,zr,ji=function(u,h){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:h}},gs=Ee,$c=gs({}.toString),mf=gs("".slice),ii=function(u){return mf($c(u),8,-1)},bf=we,_f=ii,ha=ee.Object,ms=Ee("".split),jr=bf(function(){return!ha("z").propertyIsEnumerable(0)})?function(u){return"String"==_f(u)?ms(u,""):ha(u)}:ha,ys=ee.TypeError,Wn=function(u){if(null==u)throw ys("Can't call method on "+u);return u},wf=jr,fa=Wn,Kt=function(u){return wf(fa(u))},xf=le,Ue=function(u){return"object"==typeof u?null!==u:xf(u)},Fe={},ni=Fe,yt=ee,Bl=le,pa=function(u){return Bl(u)?u:void 0},hi=function(u,h){return arguments.length<2?pa(ni[u])||pa(yt[u]):ni[u]&&ni[u][h]||yt[u]&&yt[u][h]},Qe=Ee({}.isPrototypeOf),fi=hi("navigator","userAgent")||"",Lt=fi,zl=ee.process,hr=ee.Deno,bs=zl&&zl.versions||hr&&hr.version,va=bs&&bs.v8;va&&(zr=(yi=va.split("."))[0]>0&&yi[0]<4?1:+(yi[0]+yi[1])),!zr&&Lt&&(!(yi=Lt.match(/Edge\/(\d+)/))||yi[1]>=74)&&(yi=Lt.match(/Chrome\/(\d+)/))&&(zr=+yi[1]);var xn=zr,ga=xn,Oo=!!Object.getOwnPropertySymbols&&!we(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&ga&&ga<41}),Hi=Oo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_s=hi,ma=le,Bc=Qe,jl=ee.Object,ya=Hi?function(u){return"symbol"==typeof u}:function(u){var h=_s("Symbol");return ma(h)&&Bc(h.prototype,jl(u))},ba=ee.String,kn=function(u){try{return ba(u)}catch{return"Object"}},Nc=le,Cf=kn,Hl=ee.TypeError,nn=function(u){if(Nc(u))return u;throw Hl(Cf(u)+" is not a function")},Ef=nn,Cn=function(u,h){var p=u[h];return null==p?void 0:Ef(p)},_a=Xt,wa=le,fr=Ue,Sf=ee.TypeError,Hr={exports:{}},Vl=ee,Tf=Object.defineProperty,Wl="__core-js_shared__",Wr=ee[Wl]||function(u,h){try{Tf(Vl,u,{value:h,configurable:!0,writable:!0})}catch{Vl[u]=h}return h}(Wl,{}),Kl=Wr;(Hr.exports=function(u,h){return Kl[u]||(Kl[u]=void 0!==h?h:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Gl=Wn,Ul=ee.Object,Et=function(u){return Ul(Gl(u))},gm=Et,mm=Ee({}.hasOwnProperty),ft=Object.hasOwn||function(u,h){return mm(gm(u),h)},Yl=Ee,Of=0,If=Math.random(),Df=Yl(1..toString),Kr=function(u){return"Symbol("+(void 0===u?"":u)+")_"+Df(++Of+If,36)},zc=ee,xa=ft,jc=Kr,ql=Oo,Zl=Hi,Kn=(0,Hr.exports)("wks"),It=zc.Symbol,Jl=It&&It.for,Pf=Zl?It:It&&It.withoutSetter||jc,ot=function(u){if(!xa(Kn,u)||!ql&&"string"!=typeof Kn[u]){var h="Symbol."+u;Kn[u]=ql&&xa(It,u)?It[u]:Zl&&Jl?Jl(h):Pf(h)}return Kn[u]},bi=Xt,Xl=Ue,Hc=ya,ym=Cn,_m=ee.TypeError,wm=ot("toPrimitive"),Rf=function(u,h){if(!Xl(u)||Hc(u))return u;var p,v=ym(u,wm);if(v){if(void 0===h&&(h="default"),p=bi(v,u,h),!Xl(p)||Hc(p))return p;throw _m("Can't convert object to primitive value")}return void 0===h&&(h="number"),function(u,h){var p,v;if("string"===h&&wa(p=u.toString)&&!fr(v=_a(p,u))||wa(p=u.valueOf)&&!fr(v=_a(p,u))||"string"!==h&&wa(p=u.toString)&&!fr(v=_a(p,u)))return v;throw Sf("Can't convert object to primitive value")}(u,h)},xm=ya,Gr=function(u){var h=Rf(u,"string");return xm(h)?h:h+""},eu=Ue,En=ee.document,Io=eu(En)&&eu(En.createElement),tu=function(u){return Io?En.createElement(u):{}},Ff=tu,jt=!Xe&&!we(function(){return 7!=Object.defineProperty(Ff("div"),"a",{get:function(){return 7}}).a}),$f=Xt,Lf=en,Vc=ji,Bf=Kt,km=Gr,Nf=ft,zf=jt,iu=Object.getOwnPropertyDescriptor;rt.f=Xe?iu:function(u,h){if(u=Bf(u),h=km(h),zf)try{return iu(u,h)}catch{}if(Nf(u,h))return Vc(!$f(Lf.f,u,h),u[h])};var jf=we,Hf=le,ka=/#|\.prototype\./,rn=function(u,h){var p=Wf[Vf(u)];return p==Kf||p!=Wc&&(Hf(h)?jf(h):!!h)},Vf=rn.normalize=function(u){return String(u).replace(ka,".").toLowerCase()},Wf=rn.data={},Wc=rn.NATIVE="N",Kf=rn.POLYFILL="P",Gf=rn,Cm=nn,Em=Vn,Sm=Ee(Ee.bind),Sn=function(u,h){return Cm(u),void 0===h?u:Em?Sm(u,h):function(){return u.apply(h,arguments)}},Ft={},Kc=Xe&&we(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ru=Ue,Uf=ee.String,Yf=ee.TypeError,Bt=function(u){if(ru(u))return u;throw Yf(Uf(u)+" is not an object")},Gc=jt,Ur=Bt,ou=Gr,Ca=ee.TypeError,ws=Object.defineProperty,Jf=Object.getOwnPropertyDescriptor;Ft.f=Xe?Kc?function(u,h,p){if(Ur(u),h=ou(h),Ur(p),"function"==typeof u&&"prototype"===h&&"value"in p&&"writable"in p&&!p.writable){var v=Jf(u,h);v&&v.writable&&(u[h]=p.value,p={configurable:"configurable"in p?p.configurable:v.configurable,enumerable:"enumerable"in p?p.enumerable:v.enumerable,writable:!1})}return ws(u,h,p)}:ws:function(u,h,p){if(Ur(u),h=ou(h),Ur(p),Gc)try{return ws(u,h,p)}catch{}if("get"in p||"set"in p)throw Ca("Accessors not supported");return"value"in p&&(u[h]=p.value),u};var Uc=Ft,ep=ji,hn=Xe?function(u,h,p){return Uc.f(u,h,ep(1,p))}:function(u,h,p){return u[h]=p,u},Yr=ee,qr=di,Vi=Ee,tp=le,Tm=rt.f,Yc=Gf,on=Fe,ip=Sn,fn=hn,qc=ft,pn=function(u){var h=function(p,v,k){if(this instanceof h){switch(arguments.length){case 0:return new u;case 1:return new u(p);case 2:return new u(p,v)}return new u(p,v,k)}return qr(u,this,arguments)};return h.prototype=u.prototype,h},ye=function(u,h){var p,v,k,O,D,F,B,z,Z=u.target,q=u.global,he=u.stat,be=u.proto,Oe=q?Yr:he?Yr[Z]:(Yr[Z]||{}).prototype,Te=q?on:on[Z]||fn(on,Z,{})[Z],Re=Te.prototype;for(k in h)p=!Yc(q?k:Z+(he?".":"#")+k,u.forced)&&Oe&&qc(Oe,k),D=Te[k],p&&(F=u.noTargetGet?(z=Tm(Oe,k))&&z.value:Oe[k]),O=p&&F?F:h[k],p&&typeof D==typeof O||(B=u.bind&&p?ip(O,Yr):u.wrap&&p?pn(O):be&&tp(O)?Vi(O):O,(u.sham||O&&O.sham||D&&D.sham)&&fn(B,"sham",!0),fn(Te,k,B),be&&(qc(on,v=Z+"Prototype")||fn(on,v,{}),fn(on[v],k,O),u.real&&Re&&!Re[k]&&fn(Re,k,O)))},ks=Ft.f;ye({target:"Object",stat:!0,forced:Object.defineProperty!==ks,sham:!Xe},{defineProperty:ks});var Cs=Fe.Object,rp=la.exports=function(u,h,p){return Cs.defineProperty(u,h,p)};Cs.defineProperty.sham&&(rp.sham=!0);var Zc=la.exports,Gn=Zc;function Jc(u,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Gn(u,v.key,v)}}function pr(u,h,p){return h&&Jc(u.prototype,h),p&&Jc(u,p),Gn(u,"prototype",{writable:!1}),u}function pt(u,h,p){return h in u?Gn(u,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[h]=p,u}var Ii=Ee([].slice),op=Ee,Im=nn,Dm=Ue,Do=ft,Mo=Ii,Es=Vn,Ss=ee.Function,Mm=op([].concat),ap=op([].join),Xc={},Zr=function(u,h,p){if(!Do(Xc,h)){for(var v=[],k=0;k<h;k++)v[k]="a["+k+"]";Xc[h]=Ss("C,a","return new C("+ap(v,",")+")")}return Xc[h](u,p)},au=Es?Ss.bind:function(u){var h=Im(this),p=h.prototype,v=Mo(arguments,1),k=function(){var O=Mm(v,Mo(arguments));return this instanceof k?Zr(h,O.length,O):h.apply(u,O)};return Dm(p)&&(k.prototype=p),k};ye({target:"Function",proto:!0,forced:Function.bind!==au},{bind:au});var Qc=Fe,Qt=function(u){return Qc[u+"Prototype"]},Ge=Qt("Function").bind,Ts=Qe,ed=Ge,Os=Function.prototype,Jr=function(u){var h=u.bind;return u===Os||Ts(Os,u)&&h===Os.bind?ed:h},td=Math.ceil,su=Math.floor,Is=function(u){var h=+u;return h!=h||0===h?0:(h>0?su:td)(h)},id=Is,Pm=Math.min,ui=function(u){return function(u){return u>0?Pm(id(u),9007199254740991):0}(u.length)},nd=nn,lu=Et,rd=jr,vr=ui,Ne=ee.TypeError,Ea=function(u){return function(h,p,v,k){nd(p);var O=lu(h),D=rd(O),F=vr(O),B=u?F-1:0,z=u?-1:1;if(v<2)for(;;){if(B in D){k=D[B],B+=z;break}if(B+=z,u?B<0:F<=B)throw Ne("Reduce of empty array with no initial value")}for(;u?B>=0:F>B;B+=z)B in D&&(k=p(k,D[B],B,O));return k}},Ds={left:Ea(!1),right:Ea(!0)},Fm=we,Sa=function(u,h){var p=[][u];return!!p&&Fm(function(){p.call(null,h||function(){return 1},1)})},Am="process"==ii(ee.process),sp=Ds.left,lp=xn,od=Am;ye({target:"Array",proto:!0,forced:!Sa("reduce")||!od&&lp>79&&lp<83},{reduce:function(u){var h=arguments.length;return sp(this,u,h,h>1?arguments[1]:void 0)}});var $m=Qt("Array").reduce,up=Qe,ad=$m,sd=Array.prototype,Ms=function(u){var h=u.reduce;return u===sd||up(sd,u)&&h===sd.reduce?ad:h},cp=ii,Xr=Array.isArray||function(u){return"Array"==cp(u)},ci={};ci[ot("toStringTag")]="z";var uu="[object z]"===String(ci),Lm=ee,ri=uu,ld=le,cu=ii,pe=ot("toStringTag"),ud=Lm.Object,du="Arguments"==cu(function(){return arguments}()),Tn=ri?cu:function(u){var h,p,v;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(p=function(k,O){try{return k[O]}catch{}}(h=ud(u),pe))?p:du?cu(h):"Object"==(v=cu(h))&&ld(h.callee)?"Arguments":v},dp=le,hu=Wr,Qr=Ee(Function.toString);dp(hu.inspectSource)||(hu.inspectSource=function(u){return Qr(u)});var fu=hu.inspectSource,cd=Ee,Ta=we,Ps=le,hp=Tn,fp=fu,dd=function(){},_i=[],hd=hi("Reflect","construct"),C=/^\s*(?:class|function)\b/,$=cd(C.exec),a=!C.exec(dd),y=function(u){if(!Ps(u))return!1;try{return hd(dd,_i,u),!0}catch{return!1}},w=function(u){if(!Ps(u))return!1;switch(hp(u)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return a||!!$(C,fp(u))}catch{return!0}};w.sham=!0;var S=!hd||Ta(function(){var u;return y(y.call)||!y(Object)||!y(function(){u=!0})||u})?w:y,Q=ee,re=Xr,ge=S,Ve=Ue,ut=ot("species"),tt=Q.Array,St=function(u,h){return new(function(u){var h;return re(u)&&(ge(h=u.constructor)&&(h===tt||re(h.prototype))||Ve(h)&&null===(h=h[ut]))&&(h=void 0),void 0===h?tt:h}(u))(0===h?0:h)},Ut=Sn,Nt=jr,Di=Et,fd=ui,Po=St,Mi=Ee([].push),wi=function(u){var h=1==u,p=2==u,v=3==u,k=4==u,O=6==u,D=7==u,F=5==u||O;return function(B,z,Z,q){for(var he,be,Oe=Di(B),Te=Nt(Oe),Re=Ut(z,Z),De=fd(Te),Ze=0,Ot=q||Po,wt=h?Ot(B,De):p||D?Ot(B,0):void 0;De>Ze;Ze++)if((F||Ze in Te)&&(be=Re(he=Te[Ze],Ze,Oe),u))if(h)wt[Ze]=be;else if(be)switch(u){case 3:return!0;case 5:return he;case 6:return Ze;case 2:Mi(wt,he)}else switch(u){case 4:return!1;case 7:Mi(wt,he)}return O?-1:v||k?k:wt}},On={forEach:wi(0),map:wi(1),filter:wi(2),some:wi(3),every:wi(4),find:wi(5),findIndex:wi(6),filterReject:wi(7)},Oa=we,Ro=xn,In=ot("species"),xi=function(u){return Ro>=51||!Oa(function(){var h=[];return(h.constructor={})[In]=function(){return{foo:1}},1!==h[u](Boolean).foo})},Ia=On.filter;ye({target:"Array",proto:!0,forced:!xi("filter")},{filter:function(u){return Ia(this,u,arguments.length>1?arguments[1]:void 0)}});var Bm=Qt("Array").filter,Nm=Qe,gr=Bm,pp=Array.prototype,pi=function(u){var h=u.filter;return u===pp||Nm(pp,u)&&h===pp.filter?gr:h},pd=On.map;ye({target:"Array",proto:!0,forced:!xi("map")},{map:function(u){return pd(this,u,arguments.length>1?arguments[1]:void 0)}});var vp=Qt("Array").map,M_=Qe,gp=vp,pu=Array.prototype,Ai=function(u){var h=u.map;return u===pu||M_(pu,u)&&h===pu.map?gp:h},P_=Xr,zm=ui,mp=Sn,R_=ee.TypeError,Fo=function(u,h,p,v,k,O,D,F){for(var B,z,Z=k,q=0,he=!!D&&mp(D,F);q<v;){if(q in p){if(B=he?he(p[q],q,h):p[q],O>0&&P_(B))z=zm(B),Z=Fo(u,h,B,z,Z,O-1)-1;else{if(Z>=9007199254740991)throw R_("Exceed the acceptable array length");u[Z]=B}Z++}q++}return Z},eo=Fo,jm=nn,F_=Et,Ao=ui,mr=St;ye({target:"Array",proto:!0},{flatMap:function(u){var h,p=F_(this),v=Ao(p);return jm(u),(h=mr(p,0)).length=eo(h,p,p,v,0,1,u,arguments.length>1?arguments[1]:void 0),h}});var vu,$o,gu,vd=Qt("Array").flatMap,A_=Qe,Hm=vd,gd=Array.prototype,$_=function(){function u(h,p,v){var k,O,D;Ke(this,u),pt(this,"_source",void 0),pt(this,"_transformers",void 0),pt(this,"_target",void 0),pt(this,"_listeners",{add:Jr(k=this._add).call(k,this),remove:Jr(O=this._remove).call(O,this),update:Jr(D=this._update).call(D,this)}),this._source=h,this._transformers=p,this._target=v}return pr(u,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(h){var p;return Ms(p=this._transformers).call(p,function(v,k){return k(v)},h)}},{key:"_add",value:function(h,p){null!=p&&this._target.add(this._transformItems(this._source.get(p.items)))}},{key:"_update",value:function(h,p){null!=p&&this._target.update(this._transformItems(this._source.get(p.items)))}},{key:"_remove",value:function(h,p){null!=p&&this._target.remove(this._transformItems(p.oldData))}}]),u}(),Vm=function(){function u(h){Ke(this,u),pt(this,"_source",void 0),pt(this,"_transformers",[]),this._source=h}return pr(u,[{key:"filter",value:function(h){return this._transformers.push(function(p){return pi(p).call(p,h)}),this}},{key:"map",value:function(h){return this._transformers.push(function(p){return Ai(p).call(p,h)}),this}},{key:"flatMap",value:function(h){return this._transformers.push(function(p){return function(u){var h=u.flatMap;return u===gd||A_(gd,u)&&h===gd.flatMap?Hm:h}(p).call(p,h)}),this}},{key:"to",value:function(h){return new $_(this._source,this._transformers,h)}}]),u}(),bp=Tn,L_=ee.String,Da=function(u){if("Symbol"===bp(u))throw TypeError("Cannot convert a Symbol value to a string");return L_(u)},yr=Ee,Wm=Is,md=Da,B_=Wn,_p=yr("".charAt),Km=yr("".charCodeAt),N_=yr("".slice),Gm=function(u){return function(h,p){var v,k,O=md(B_(h)),D=Wm(p),F=O.length;return D<0||D>=F?u?"":void 0:(v=Km(O,D))<55296||v>56319||D+1===F||(k=Km(O,D+1))<56320||k>57343?u?_p(O,D):v:u?N_(O,D,D+2):k-56320+(v-55296<<10)+65536}},Um={codeAt:Gm(!1),charAt:Gm(!0)},Ym=fu,wp=ee.WeakMap,Ma=le(wp)&&/native code/.test(Ym(wp)),qm=Kr,xp=(0,Hr.exports)("keys"),to=function(u){return xp[u]||(xp[u]=qm(u))},Rs={},br=Ee,Fs=Ue,j_=hn,bd=ft,H_=to,Lo=Rs,Zm="Object already initialized",As=ee.TypeError;if(Ma||Wr.state){var Ra=Wr.state||(Wr.state=new(0,ee.WeakMap)),W_=br(Ra.get),Cp=br(Ra.has),K_=br(Ra.set);vu=function(u,h){if(Cp(Ra,u))throw new As(Zm);return h.facade=u,K_(Ra,u,h),h},$o=function(u){return W_(Ra,u)||{}},gu=function(u){return Cp(Ra,u)}}else{var Bo=H_("state");Lo[Bo]=!0,vu=function(u,h){if(bd(u,Bo))throw new As(Zm);return h.facade=u,j_(u,Bo,h),h},$o=function(u){return bd(u,Bo)?u[Bo]:{}},gu=function(u){return bd(u,Bo)}}var _r={set:vu,get:$o,has:gu,enforce:function(u){return gu(u)?$o(u):vu(u,{})},getterFor:function(u){return function(h){var p;if(!Fs(h)||(p=$o(h)).type!==u)throw As("Incompatible receiver, "+u+" required");return p}}},Ep=Xe,Xm=Function.prototype,ki=Ep&&Object.getOwnPropertyDescriptor,Sp=ft(Xm,"name"),Qm={EXISTS:Sp,PROPER:Sp&&"something"===function(){}.name,CONFIGURABLE:Sp&&(!Ep||Ep&&ki(Xm,"name").configurable)},_d={},G_=Is,U_=Math.max,ey=Math.min,io=function(u,h){var p=G_(u);return p<0?U_(p+h,0):ey(p,h)},$s=Kt,Tp=io,Y_=ui,ty=function(u){return function(h,p,v){var k,O=$s(h),D=Y_(O),F=Tp(v,D);if(u&&p!=p){for(;D>F;)if((k=O[F++])!=k)return!0}else for(;D>F;F++)if((u||F in O)&&O[F]===p)return u||F||0;return!u&&-1}},Op={includes:ty(!0),indexOf:ty(!1)},Wi=ft,q_=Kt,iy=Op.indexOf,Z_=Rs,ny=Ee([].push),ry=function(u,h){var p,v=q_(u),k=0,O=[];for(p in v)!Wi(Z_,p)&&Wi(v,p)&&ny(O,p);for(;h.length>k;)Wi(v,p=h[k++])&&(~iy(O,p)||ny(O,p));return O},wd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],J_=ry,X_=wd,yu=Object.keys||function(u){return J_(u,X_)},tw=Ft,iw=Bt,nw=Kt,oy=yu;_d.f=Xe&&!Kc?Object.defineProperties:function(u,h){iw(u);for(var p,v=nw(h),k=oy(h),O=k.length,D=0;O>D;)tw.f(u,p=k[D++],v[p]);return u};var bu,rw=hi("document","documentElement"),Ls=Bt,Ip=_d,Dp=wd,xd=Rs,ay=rw,ow=tu,kd=to("IE_PROTO"),Mp=function(){},sy=function(u){return"<script>"+u+"<\/script>"},Pp=function(u){u.write(sy("")),u.close();var h=u.parentWindow.Object;return u=null,h},Cd=function(){try{bu=new ActiveXObject("htmlfile")}catch{}var u,h;Cd=typeof document<"u"?document.domain&&bu?Pp(bu):((h=ow("iframe")).style.display="none",ay.appendChild(h),h.src=String("javascript:"),(u=h.contentWindow.document).open(),u.write(sy("document.F=Object")),u.close(),u.F):Pp(bu);for(var p=Dp.length;p--;)delete Cd.prototype[Dp[p]];return Cd()};xd[kd]=!0;var an,Ed,ly,Bs=Object.create||function(u,h){var p;return null!==u?(Mp.prototype=Ls(u),p=new Mp,Mp.prototype=null,p[kd]=u):p=Cd(),void 0===h?p:Ip.f(p,h)},Rp=!we(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype}),aw=ee,Fp=ft,sw=le,uy=Et,lw=Rp,cy=to("IE_PROTO"),Ap=aw.Object,dy=Ap.prototype,Sd=lw?Ap.getPrototypeOf:function(u){var h=uy(u);if(Fp(h,cy))return h[cy];var p=h.constructor;return sw(p)&&h instanceof p?p.prototype:h instanceof Ap?dy:null},uw=hn,_u=function(u,h,p,v){v&&v.enumerable?u[h]=p:uw(u,h,p)},cw=we,hy=le,wu=Bs,Ns=Sd,fy=_u,zs=ot("iterator"),Td=!1;[].keys&&("next"in(ly=[].keys())?(Ed=Ns(Ns(ly)))!==Object.prototype&&(an=Ed):Td=!0);var dw=null==an||cw(function(){var u={};return an[zs].call(u)!==u});hy((an=dw?{}:wu(an))[zs])||fy(an,zs,function(){return this});var js={IteratorPrototype:an,BUGGY_SAFARI_ITERATORS:Td},Od=Tn,hw=uu,fw=Ft.f,py=hn,No=ft,pw=uu?{}.toString:function(){return"[object "+Od(this)+"]"},Vs=ot("toStringTag"),no=function(u,h,p,v){if(u){var k=p?u:u.prototype;No(k,Vs)||fw(k,Vs,{configurable:!0,value:h}),v&&!hw&&py(k,"toString",pw)}},ro={},Id=js.IteratorPrototype,vw=Bs,Fa=ji,gw=no,vy=ro,mw=function(){return this},Ws=le,$p=ee.String,yw=ee.TypeError,gy=Ee,bw=Bt,_w=Object.setPrototypeOf||("__proto__"in{}?function(){var u,h=!1,p={};try{(u=gy(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(p,[]),h=p instanceof Array}catch{}return function(v,k){return bw(v),function(u){if("object"==typeof u||Ws(u))return u;throw yw("Can't set "+$p(u)+" as a prototype")}(k),h?u(v,k):v.__proto__=k,v}}():void 0),ww=ye,Bp=Xt,xw=Sd,my=no,Np=_u,$a=ro,kw=Qm.PROPER,xu=js.BUGGY_SAFARI_ITERATORS,zp=ot("iterator"),La="values",oo="entries",Hp=function(){return this},Md=function(u,h,p,v,k,O,D){!function(u,h,p,v){var k=h+" Iterator";u.prototype=vw(Id,{next:Fa(+!v,p)}),gw(u,k,!1,!0),vy[k]=mw}(p,h,v);var F,B,z,Z=function(De){if(De===k&&Te)return Te;if(!xu&&De in be)return be[De];switch(De){case"keys":case La:case oo:return function(){return new p(this,De)}}return function(){return new p(this)}},q=h+" Iterator",he=!1,be=u.prototype,Oe=be[zp]||be["@@iterator"]||k&&be[k],Te=!xu&&Oe||Z(k),Re="Array"==h&&be.entries||Oe;if(Re&&(F=xw(Re.call(new u)))!==Object.prototype&&F.next&&(my(F,q,!0,!0),$a[q]=Hp),kw&&k==La&&Oe&&Oe.name!==La&&(he=!0,Te=function(){return Bp(Oe,this)}),k)if(B={values:Z(La),keys:O?Te:Z("keys"),entries:Z(oo)},D)for(z in B)(xu||he||!(z in be))&&Np(be,z,B[z]);else ww({target:h,proto:!0,forced:xu||he},B);return D&&be[zp]!==Te&&Np(be,zp,Te,{name:k}),$a[h]=Te,B},yy=Um.charAt,Cw=Da,by=Md,Rd="String Iterator",Ew=_r.set,Sw=_r.getterFor(Rd);by(String,"String",function(u){Ew(this,{type:Rd,string:Cw(u),index:0})},function(){var u,h=Sw(this),p=h.string,v=h.index;return v>=p.length?{value:void 0,done:!0}:(u=yy(p,v),h.index+=u.length,{value:u,done:!1})});var ku=Xt,_y=Bt,Tw=Cn,Vp=function(u,h,p){var v,k;_y(u);try{if(!(v=Tw(u,"return"))){if("throw"===h)throw p;return p}v=ku(v,u)}catch(O){k=!0,v=O}if("throw"===h)throw p;if(k)throw v;return _y(v),p},wy=Bt,Wp=Vp,xy=ro,Kp=ot("iterator"),wr=Array.prototype,ky=function(u){return void 0!==u&&(xy.Array===u||wr[Kp]===u)},Ks=Gr,Gs=Ft,Ow=ji,Us=function(u,h,p){var v=Ks(h);v in u?Gs.f(u,v,Ow(0,p)):u[v]=p},Fd=Tn,Gp=Cn,Cy=ro,Ey=ot("iterator"),Ys=function(u){if(null!=u)return Gp(u,Ey)||Gp(u,"@@iterator")||Cy[Fd(u)]},Up=Xt,Yp=nn,qp=Bt,Sy=kn,Zp=Ys,Iw=ee.TypeError,Ba=function(u,h){var p=arguments.length<2?Zp(u):h;if(Yp(p))return qp(Up(p,u));throw Iw(Sy(u)+" is not iterable")},Na=Sn,qs=Xt,Ty=Et,Oy=function(u,h,p,v){try{return v?h(wy(p)[0],p[1]):h(p)}catch(k){Wp(u,"throw",k)}},Dw=ky,Mw=S,oi=ui,Iy=Us,Dy=Ba,Pw=Ys,Jp=ee.Array,Ad=ot("iterator"),Xp=!1;try{var Qp=0,$d={next:function(){return{done:!!Qp++}},return:function(){Xp=!0}};$d[Ad]=function(){return this},Array.from($d,function(){throw 2})}catch{}ye({target:"Array",stat:!0,forced:!function(u,h){if(!Xp)return!1;var p=!1;try{var v={};v[Ad]=function(){return{next:function(){return{done:p=!0}}}},function(u){Array.from(u)}(v)}catch{}return p}()},{from:function(u){var h=Ty(u),p=Mw(this),v=arguments.length,k=v>1?arguments[1]:void 0,O=void 0!==k;O&&(k=Na(k,v>2?arguments[2]:void 0));var D,F,B,z,Z,q,he=Pw(h),be=0;if(!he||this==Jp&&Dw(he))for(D=oi(h),F=p?new this(D):Jp(D);D>be;be++)q=O?k(h[be],be):h[be],Iy(F,be,q);else for(Z=(z=Dy(h,he)).next,F=p?new this:[];!(B=qs(Z,z)).done;be++)q=O?Oy(z,k,[B.value,be],!0):B.value,Iy(F,be,q);return F.length=be,F}});var My=Fe.Array.from,Bd=My,Py=Kt,ev=ro,Yn=Md,zo="Array Iterator",qn=_r.set,tv=_r.getterFor(zo);Yn(Array,"Array",function(u,h){qn(this,{type:zo,target:Py(u),index:0,kind:h})},function(){var u=tv(this),h=u.target,p=u.kind,v=u.index++;return!h||v>=h.length?(u.target=void 0,{value:void 0,done:!0}):"keys"==p?{value:v,done:!1}:"values"==p?{value:h[v],done:!1}:{value:[v,h[v]],done:!1}},"values"),ev.Arguments=ev.Array;var iv=Ys,Ry=ee,Zs=Tn,za=hn,Nd=ro,ai=ot("toStringTag");for(var nv in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Fy=Ry[nv],rv=Fy&&Fy.prototype;rv&&Zs(rv)!==ai&&za(rv,ai,nv),Nd[nv]=Nd.Array}var Js=iv,ja={},zd=ry,Eu=wd.concat("length","prototype");ja.f=Object.getOwnPropertyNames||function(u){return zd(u,Eu)};var Zn={},jd=io,Ay=ui,ov=Us,Su=ee.Array,$y=Math.max,Ly=function(u,h,p){for(var v=Ay(u),k=jd(h,v),O=jd(void 0===p?v:p,v),D=Su($y(O-k,0)),F=0;k<O;k++,F++)ov(D,F,u[k]);return D.length=F,D},By=ii,Hd=Kt,av=ja.f,Ny=Ly,zy="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zn.f=function(u){return zy&&"Window"==By(u)?function(h){try{return av(h)}catch{return Ny(zy)}}(u):av(Hd(u))};var Tu={};Tu.f=Object.getOwnPropertySymbols;var Vd={};Vd.f=ot;var Xs=Fe,jy=ft,Hy=Vd,Vy=Ft.f,si=function(u){var h=Xs.Symbol||(Xs.Symbol={});jy(h,u)||Vy(h,u,{value:Hy.f(u)})},Qs=ye,lv=ee,Wy=hi,Ou=di,Ci=Xt,Iu=Ee,Ha=Xe,Va=Oo,Wa=we,bt=ft,xr=Xr,kr=le,uv=Ue,cv=Qe,so=ya,Wd=Bt,jo=Et,el=Kt,dv=Gr,Kd=Da,Jn=ji,lo=Bs,Gd=yu,Ud=ja,Ky=Zn,tl=Tu,Yd=rt,qd=Ft,Zd=_d,Jd=en,Gy=Ii,Xd=_u,il=Hr.exports,Du=Rs,Uy=Kr,Yy=ot,Ho=Vd,Ka=si,Fw=no,hv=_r,Qd=On.forEach,Ki=to("hidden"),Mu="Symbol",Pu=Yy("toPrimitive"),qy=hv.set,Zy=hv.getterFor(Mu),Dn=Object.prototype,$i=lv.Symbol,Ga=$i&&$i.prototype,Jy=lv.TypeError,fv=lv.QObject,Ua=Wy("JSON","stringify"),Xy=Yd.f,uo=qd.f,Qy=Ky.f,Aw=Jd.f,eb=Iu([].push),co=il("symbols"),Mn=il("op-symbols"),eh=il("string-to-symbol-registry"),th=il("symbol-to-string-registry"),$w=il("wks"),ih=!fv||!fv.prototype||!fv.prototype.findChild,Ru=Ha&&Wa(function(){return 7!=lo(uo({},"a",{get:function(){return uo(this,"a",{value:7}).a}})).a})?function(u,h,p){var v=Xy(Dn,h);v&&delete Dn[h],uo(u,h,p),v&&u!==Dn&&uo(Dn,h,v)}:uo,pv=function(u,h){var p=co[u]=lo(Ga);return qy(p,{type:Mu,tag:u,description:h}),Ha||(p.description=h),p},Ya=function(u,h,p){u===Dn&&Ya(Mn,h,p),Wd(u);var v=dv(h);return Wd(p),bt(co,v)?(p.enumerable?(bt(u,Ki)&&u[Ki][v]&&(u[Ki][v]=!1),p=lo(p,{enumerable:Jn(0,!1)})):(bt(u,Ki)||uo(u,Ki,Jn(1,{})),u[Ki][v]=!0),Ru(u,v,p)):uo(u,v,p)},Fu=function(u,h){Wd(u);var p=el(h),v=Gd(p).concat(rh(p));return Qd(v,function(k){Ha&&!Ci(vv,p,k)||Ya(u,k,p[k])}),u},vv=function(u){var h=dv(u),p=Ci(Aw,this,h);return!(this===Dn&&bt(co,h)&&!bt(Mn,h))&&(!(p||!bt(this,h)||!bt(co,h)||bt(this,Ki)&&this[Ki][h])||p)},tb=function(u,h){var p=el(u),v=dv(h);if(p!==Dn||!bt(co,v)||bt(Mn,v)){var k=Xy(p,v);return!k||!bt(co,v)||bt(p,Ki)&&p[Ki][v]||(k.enumerable=!0),k}},nh=function(u){var h=Qy(el(u)),p=[];return Qd(h,function(v){bt(co,v)||bt(Du,v)||eb(p,v)}),p},rh=function(u){var h=u===Dn,p=Qy(h?Mn:el(u)),v=[];return Qd(p,function(k){!bt(co,k)||h&&!bt(Dn,k)||eb(v,co[k])}),v};if(Va||($i=function(){if(cv(Ga,this))throw Jy("Symbol is not a constructor");var u=arguments.length&&void 0!==arguments[0]?Kd(arguments[0]):void 0,h=Uy(u),p=function(v){this===Dn&&Ci(p,Mn,v),bt(this,Ki)&&bt(this[Ki],h)&&(this[Ki][h]=!1),Ru(this,h,Jn(1,v))};return Ha&&ih&&Ru(Dn,h,{configurable:!0,set:p}),pv(h,u)},Xd(Ga=$i.prototype,"toString",function(){return Zy(this).tag}),Xd($i,"withoutSetter",function(u){return pv(Uy(u),u)}),Jd.f=vv,qd.f=Ya,Zd.f=Fu,Yd.f=tb,Ud.f=Ky.f=nh,tl.f=rh,Ho.f=function(u){return pv(Yy(u),u)},Ha&&uo(Ga,"description",{configurable:!0,get:function(){return Zy(this).description}})),Qs({global:!0,wrap:!0,forced:!Va,sham:!Va},{Symbol:$i}),Qd(Gd($w),function(u){Ka(u)}),Qs({target:Mu,stat:!0,forced:!Va},{for:function(u){var h=Kd(u);if(bt(eh,h))return eh[h];var p=$i(h);return eh[h]=p,th[p]=h,p},keyFor:function(u){if(!so(u))throw Jy(u+" is not a symbol");if(bt(th,u))return th[u]},useSetter:function(){ih=!0},useSimple:function(){ih=!1}}),Qs({target:"Object",stat:!0,forced:!Va,sham:!Ha},{create:function(u,h){return void 0===h?lo(u):Fu(lo(u),h)},defineProperty:Ya,defineProperties:Fu,getOwnPropertyDescriptor:tb}),Qs({target:"Object",stat:!0,forced:!Va},{getOwnPropertyNames:nh,getOwnPropertySymbols:rh}),Qs({target:"Object",stat:!0,forced:Wa(function(){tl.f(1)})},{getOwnPropertySymbols:function(u){return tl.f(jo(u))}}),Ua&&Qs({target:"JSON",stat:!0,forced:!Va||Wa(function(){var u=$i();return"[null]"!=Ua([u])||"{}"!=Ua({a:u})||"{}"!=Ua(Object(u))})},{stringify:function(u,h,p){var v=Gy(arguments),k=h;if((uv(h)||void 0!==u)&&!so(u))return xr(h)||(h=function(O,D){if(kr(k)&&(D=Ci(k,this,O,D)),!so(D))return D}),v[1]=h,Ou(Ua,null,v)}}),!Ga[Pu]){var ib=Ga.valueOf;Xd(Ga,Pu,function(u){return Ci(ib,this)})}Fw($i,Mu),Du[Ki]=!0;var Au=Fe.Object.getOwnPropertySymbols,_e={exports:{}},oh=ye,xe=Kt,nl=rt.f,rl=Xe,rb=we(function(){nl(1)});oh({target:"Object",stat:!0,forced:!rl||rb,sham:!rl},{getOwnPropertyDescriptor:function(u,h){return nl(xe(u),h)}});var gv=Fe.Object,ob=_e.exports=function(u,h){return gv.getOwnPropertyDescriptor(u,h)};gv.getOwnPropertyDescriptor.sham&&(ob.sham=!0);var ab=_e.exports,ol=hi,Bw=ja,Nw=Tu,zw=Bt,jw=Ee([].concat),sb=ol("Reflect","ownKeys")||function(u){var h=Bw.f(zw(u)),p=Nw.f;return p?jw(h,p(u)):h},Hw=sb,Vw=Kt,lb=rt,Ww=Us;ye({target:"Object",stat:!0,sham:!Xe},{getOwnPropertyDescriptors:function(u){for(var h,p,v=Vw(u),k=lb.f,O=Hw(v),D={},F=0;O.length>F;)void 0!==(p=k(v,h=O[F++]))&&Ww(D,h,p);return D}});var mv=Fe.Object.getOwnPropertyDescriptors,ub={exports:{}},sh=_d.f;ye({target:"Object",stat:!0,forced:Object.defineProperties!==sh,sham:!Xe},{defineProperties:sh});var $u=Fe.Object,Kw=ub.exports=function(u,h){return $u.defineProperties(u,h)};$u.defineProperties.sham&&(Kw.sham=!0);var Gw=ub.exports,cb=Zc;ye({target:"Array",stat:!0},{isArray:Xr});var bv=Fe.Array.isArray,db=bv,al=ye,sl=ee,Lu=we,hb=Xr,Uw=Ue,Yw=Et,lh=ui,fb=Us,pb=St,qw=xi,Zw=xn,vb=ot("isConcatSpreadable"),gb=9007199254740991,_v="Maximum allowed index exceeded",uh=sl.TypeError,Jw=Zw>=51||!Lu(function(){var u=[];return u[vb]=!1,u.concat()[0]!==u}),mb=qw("concat"),Xw=function(u){if(!Uw(u))return!1;var h=u[vb];return void 0!==h?!!h:hb(u)};al({target:"Array",proto:!0,forced:!Jw||!mb},{concat:function(u){var h,p,v,k,O,D=Yw(this),F=pb(D,0),B=0;for(h=-1,v=arguments.length;h<v;h++)if(Xw(O=-1===h?D:arguments[h])){if(B+(k=lh(O))>gb)throw uh(_v);for(p=0;p<k;p++,B++)p in O&&fb(F,B,O[p])}else{if(B>=gb)throw uh(_v);fb(F,B++,O)}return F.length=B,F}}),si("asyncIterator"),si("hasInstance"),si("isConcatSpreadable"),si("iterator"),si("match"),si("matchAll"),si("replace"),si("search"),si("species"),si("split"),si("toPrimitive"),si("toStringTag"),si("unscopables"),no(ee.JSON,"JSON",!0);var wv=Fe.Symbol,xv=wv;si("asyncDispose"),si("dispose"),si("matcher"),si("metadata"),si("observable"),si("patternMatch"),si("replaceAll");var ho=xv,Bu=ye,Qw=ee,ch=Xr,kv=S,yb=Ue,Yt=io,li=ui,_t=Kt,Pn=Us,fo=ot,e1=Ii,Nu=xi("slice"),t1=fo("species"),Cr=Qw.Array,qa=Math.max;Bu({target:"Array",proto:!0,forced:!Nu},{slice:function(u,h){var p,v,k,O=_t(this),D=li(O),F=Yt(u,D),B=Yt(void 0===h?D:h,D);if(ch(O)&&((kv(p=O.constructor)&&(p===Cr||ch(p.prototype))||yb(p)&&null===(p=p[t1]))&&(p=void 0),p===Cr||void 0===p))return e1(O,F,B);for(v=new(void 0===p?Cr:p)(qa(B-F,0)),k=0;F<B;F++,k++)F in O&&Pn(v,k,O[F]);return v.length=k,v}});var zu=Qt("Array").slice,ct=Qe,Tt=zu,Cv=Array.prototype,bb=function(u){var h=u.slice;return u===Cv||ct(Cv,u)&&h===Cv.slice?Tt:h},n1=bb,dh=My;function Za(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}function _b(u,h){var p;if(u){if("string"==typeof u)return Za(u,h);var v=n1(p=Object.prototype.toString.call(u)).call(p,8,-1);return"Object"===v&&u.constructor&&(v=u.constructor.name),"Map"===v||"Set"===v?dh(u):"Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?Za(u,h):void 0}}function ei(u,h){return function(p){if(db(p))return p}(u)||function(p,v){var k=null==p?null:void 0!==ho&&Js(p)||p["@@iterator"];if(null!=k){var O,D,F=[],B=!0,z=!1;try{for(k=k.call(p);!(B=(O=k.next()).done)&&(F.push(O.value),!v||F.length!==v);B=!0);}catch(Z){z=!0,D=Z}finally{try{B||null==k.return||k.return()}finally{if(z)throw D}}return F}}(u,h)||_b(u,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hh=Vd.f("iterator"),Ev=hh;function dt(u){return(dt="function"==typeof ho&&"symbol"==typeof Ev?function(h){return typeof h}:function(h){return h&&"function"==typeof ho&&h.constructor===ho&&h!==ho.prototype?"symbol":typeof h})(u)}function vi(u){return function(h){if(db(h))return Za(h)}(u)||function(h){if(void 0!==ho&&null!=Js(h)||null!=h["@@iterator"])return dh(h)}(u)||_b(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ll=wv,wb=Qt("Array").concat,xb=Qe,ul=wb,fh=Array.prototype,Er=function(u){var h=u.concat;return u===fh||xb(fh,u)&&h===fh.concat?ul:h},ju=bb;ye({target:"Reflect",stat:!0},{ownKeys:sb});var ph=Fe.Reflect.ownKeys,Gi=bv,Sv=Et,cl=yu;ye({target:"Object",stat:!0,forced:we(function(){cl(1)})},{keys:function(u){return cl(Sv(u))}});var Tv=Fe.Object.keys,kb=ye,Ov=ee.Date,Dt=Ee(Ov.prototype.getTime);kb({target:"Date",stat:!0},{now:function(){return Dt(new Ov)}});var r1=On.forEach,Cb=Sa("forEach")?[].forEach:function(u){return r1(this,u,arguments.length>1?arguments[1]:void 0)};ye({target:"Array",proto:!0,forced:[].forEach!=Cb},{forEach:Cb});var Eb=Qt("Array").forEach,Hu=Tn,sn=ft,gh=Qe,Vu=Eb,dl=Array.prototype,o1={DOMTokenList:!0,NodeList:!0},Ui=function(u){var h=u.forEach;return u===dl||gh(dl,u)&&h===dl.forEach||sn(o1,Hu(u))?Vu:h},Xn=ye,po=Xr,Vo=Ee([].reverse),Iv=[1,2];Xn({target:"Array",proto:!0,forced:String(Iv)===String(Iv.reverse())},{reverse:function(){return po(this)&&(this.length=this.length),Vo(this)}});var Dv=Qt("Array").reverse,Wu=Qe,Sb=Dv,Sr=Array.prototype,a1=ye,Ob=ee,vo=io,Ku=Is,Mv=ui,Pv=Et,s1=St,Rv=Us,Gu=xi("splice"),Fv=Ob.TypeError,Rn=Math.max,Av=Math.min,l1=9007199254740991,Ib="Maximum allowed length exceeded";a1({target:"Array",proto:!0,forced:!Gu},{splice:function(u,h){var p,v,k,O,D,F,B=Pv(this),z=Mv(B),Z=vo(u,z),q=arguments.length;if(0===q?p=v=0:1===q?(p=0,v=z-Z):(p=q-2,v=Av(Rn(Ku(h),0),z-Z)),z+p-v>l1)throw Fv(Ib);for(k=s1(B,v),O=0;O<v;O++)(D=Z+O)in B&&Rv(k,O,B[D]);if(k.length=v,p<v){for(O=Z;O<z-v;O++)F=O+p,(D=O+v)in B?B[F]=B[D]:delete B[F];for(O=z;O>z-v+p;O--)delete B[O-1]}else if(p>v)for(O=z-v;O>Z;O--)F=O+p-1,(D=O+v-1)in B?B[F]=B[D]:delete B[F];for(O=0;O<p;O++)B[O+Z]=arguments[O+2];return B.length=z-v+p,k}});var Db=Qt("Array").splice,Mb=Qe,$v=Db,Lv=Array.prototype,Pb=function(u){var h=u.splice;return u===Lv||Mb(Lv,u)&&h===Lv.splice?$v:h},Rb=Xe,c1=Xt,Fb=we,mh=yu,Ab=Tu,d1=en,$b=Et,h1=jr,Ja=Object.assign,Uu=Object.defineProperty,Bv=Ee([].concat),f1=!Ja||Fb(function(){if(Rb&&1!==Ja({b:1},Ja(Uu({},"a",{enumerable:!0,get:function(){Uu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var u={},h={},p=Symbol(),v="abcdefghijklmnopqrst";return u[p]=7,v.split("").forEach(function(k){h[k]=k}),7!=Ja({},u)[p]||mh(Ja({},h)).join("")!=v})?function(u,h){for(var p=$b(u),v=arguments.length,k=1,O=Ab.f,D=d1.f;v>k;)for(var F,B=h1(arguments[k++]),z=O?Bv(mh(B),O(B)):mh(B),Z=z.length,q=0;Z>q;)F=z[q++],Rb&&!c1(D,B,F)||(p[F]=B[F]);return p}:Ja;ye({target:"Object",stat:!0,forced:Object.assign!==f1},{assign:f1});var Nv=Fe.Object.assign,Lb=Op.includes;ye({target:"Array",proto:!0},{includes:function(u){return Lb(this,u,arguments.length>1?arguments[1]:void 0)}}),Qt("Array");var p1=Ue,Bb=ii,zv=ot("match"),g1=ee.TypeError,m1=ot("match"),y1=ye,jv=function(u){if(function(u){var h;return p1(u)&&(void 0!==(h=u[zv])?!!h:"RegExp"==Bb(u))}(u))throw g1("The method doesn't accept regular expressions");return u},b1=Wn,Li=Da,Nb=Ee("".indexOf);y1({target:"String",proto:!0,forced:!function(u){var h=/./;try{"/./"[u](h)}catch{try{return h[m1]=!1,"/./"[u](h)}catch{}}return!1}("includes")},{includes:function(u){return!!~Nb(Li(b1(this)),Li(jv(u)),arguments.length>1?arguments[1]:void 0)}}),Qt("String");var w1=Et,zb=Sd,x1=Rp;ye({target:"Object",stat:!0,forced:we(function(){zb(1)}),sham:!x1},{getPrototypeOf:function(u){return zb(w1(u))}});var k1=Fe.Object.getPrototypeOf,jb=Xe,Hb=Ee,Vb=yu,C1=Kt,Wb=Hb(en.f),Hv=Hb([].push),Yu=function(u){return function(h){for(var p,v=C1(h),k=Vb(v),O=k.length,D=0,F=[];O>D;)p=k[D++],jb&&!Wb(v,p)||Hv(F,u?[p,v[p]]:v[p]);return F}},E1=(Yu(!0),Yu(!1));ye({target:"Object",stat:!0},{values:function(u){return E1(u)}});var Vv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Wv=Wn,yh=Da,Kv=Ee("".replace),bh="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",S1=RegExp("^"+bh+bh+"*"),T1=RegExp(bh+bh+"*$"),_h=function(u){return function(h){var p=yh(Wv(h));return 1&u&&(p=Kv(p,S1,"")),2&u&&(p=Kv(p,T1,"")),p}},Gv={start:_h(1),end:_h(2),trim:_h(3)},Kb=we,Ub=Da,Yb=Gv.trim,Uv=Vv,Yi=ee.parseInt,qb=ee.Symbol,Zb=qb&&qb.iterator,Yv=/^[+-]?0x/i,qv=Ee(Yv.exec),Zv=8!==Yi(Uv+"08")||22!==Yi(Uv+"0x16")||Zb&&!Kb(function(){Yi(Object(Zb))})?function(u,h){var p=Yb(Ub(u));return Yi(p,h>>>0||(qv(Yv,p)?16:10))}:Yi;ye({global:!0,forced:parseInt!=Zv},{parseInt:Zv});var O1=ye,I1=Op.indexOf,D1=Sa,Jv=Ee([].indexOf),wh=!!Jv&&1/Jv([1],1,-0)<0,M1=D1("indexOf");O1({target:"Array",proto:!0,forced:wh||!M1},{indexOf:function(u){var h=arguments.length>1?arguments[1]:void 0;return wh?Jv(this,u,h)||0:I1(this,u,h)}}),Qt("Array");var u,mt=Qm.PROPER,Jb=Vv,Xb=Gv.trim;ye({target:"String",proto:!0,forced:(u="trim",we(function(){return!!Jb[u]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[u]()||mt&&Jb[u].name!==u}))},{trim:function(){return Xb(this)}}),Qt("String"),ye({target:"Object",stat:!0,sham:!Xe},{create:Bs});var R1=Fe.Object,Xv=function(u,h){return R1.create(u,h)},Qv=Xv,Wo=ye,F1=di,qu=Ee,Zu=we,A1=ee.Array,xh=hi("JSON","stringify"),Xa=qu(/./.exec),Ju=qu("".charAt),e0=qu("".charCodeAt),$1=qu("".replace),L1=qu(1..toString),B1=/[\uD800-\uDFFF]/g,t0=/^[\uD800-\uDBFF]$/,eg=/^[\uDC00-\uDFFF]$/,n0=function(u,h,p){var v=Ju(p,h-1),k=Ju(p,h+1);return Xa(t0,u)&&!Xa(eg,k)||Xa(eg,u)&&!Xa(t0,v)?"\\u"+L1(e0(u,0),16):u},N1=Zu(function(){return'"\\udf06\\ud834"'!==xh("\udf06\ud834")||'"\\udead"'!==xh("\udead")});xh&&Wo({target:"JSON",stat:!0,forced:N1},{stringify:function(u,h,p){for(var v=0,k=arguments.length,O=A1(k);v<k;v++)O[v]=arguments[v];var D=F1(xh,null,O);return"string"==typeof D?$1(D,B1,n0):D}});var tg=Fe,ig=di;tg.JSON||(tg.JSON={stringify:JSON.stringify});var j1=function(u,h,p){return ig(tg.JSON.stringify,null,arguments)},Xu=ee.TypeError,H1=ye,ng=ee,kh=di,V1=le,W1=Ii,K1=function(u,h){if(u<h)throw Xu("Not enough arguments");return u},G1=/MSIE .\./.test(fi),U1=ng.Function,r0=function(u){return function(h,p){var v=K1(arguments.length,1)>2,k=V1(h)?h:U1(h),O=v?W1(arguments,2):void 0;return u(v?function(){kh(k,this,O)}:k,p)}};H1({global:!0,bind:!0,forced:G1},{setTimeout:r0(ng.setTimeout),setInterval:r0(ng.setInterval)});var o0=Fe.setTimeout,Tr=Et,a0=io,s0=ui;ye({target:"Array",proto:!0},{fill:function(u){for(var h=Tr(this),p=s0(h),v=arguments.length,k=a0(v>1?arguments[1]:void 0,p),O=v>2?arguments[2]:void 0,D=void 0===O?p:a0(O,p);D>k;)h[k++]=u;return h}}),Qt("Array");var Qa={exports:{}};!function(u){function h(p){if(p)return function(v){for(var k in h.prototype)v[k]=h.prototype[k];return v}(p)}u.exports=h,h.prototype.on=h.prototype.addEventListener=function(p,v){return this._callbacks=this._callbacks||{},(this._callbacks["$"+p]=this._callbacks["$"+p]||[]).push(v),this},h.prototype.once=function(p,v){function k(){this.off(p,k),v.apply(this,arguments)}return k.fn=v,this.on(p,k),this},h.prototype.off=h.prototype.removeListener=h.prototype.removeAllListeners=h.prototype.removeEventListener=function(p,v){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var k,O=this._callbacks["$"+p];if(!O)return this;if(1==arguments.length)return delete this._callbacks["$"+p],this;for(var D=0;D<O.length;D++)if((k=O[D])===v||k.fn===v){O.splice(D,1);break}return 0===O.length&&delete this._callbacks["$"+p],this},h.prototype.emit=function(p){this._callbacks=this._callbacks||{};for(var v=new Array(arguments.length-1),k=this._callbacks["$"+p],O=1;O<arguments.length;O++)v[O-1]=arguments[O];if(k){O=0;for(var D=(k=k.slice(0)).length;O<D;++O)k[O].apply(this,v)}return this},h.prototype.listeners=function(p){return this._callbacks=this._callbacks||{},this._callbacks["$"+p]||[]},h.prototype.hasListeners=function(p){return!!this.listeners(p).length}}(Qa);var rg,q1=Qa.exports;function er(){return er=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},er.apply(this,arguments)}function vn(u,h){u.prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h}function fl(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}rg="function"!=typeof Object.assign?function(u){if(null==u)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),p=1;p<arguments.length;p++){var v=arguments[p];if(null!=v)for(var k in v)v.hasOwnProperty(k)&&(h[k]=v[k])}return h}:Object.assign;var Ko,Fn=rg,An=["","webkit","Moz","MS","ms","o"],$n=typeof document>"u"?{style:{}}:document.createElement("div"),go=Math.round,ln=Math.abs,mo=Date.now;function Qu(u,h){for(var p,v,k=h[0].toUpperCase()+h.slice(1),O=0;O<An.length;){if((v=(p=An[O])?p+k:h)in u)return v;O++}}Ko=typeof window>"u"?{}:window;var l0=Qu($n.style,"touchAction"),es=void 0!==l0,Or="compute",pl="manipulation",ts="none",ec="pan-x",tc="pan-y",is=function(){if(!es)return!1;var u={},h=Ko.CSS&&Ko.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(p){return u[p]=!h||Ko.CSS.supports("touch-action",p)}),u}(),Eh="ontouchstart"in Ko,vl=void 0!==Qu(Ko,"PointerEvent"),ic=Eh&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Go="touch",gl="mouse",u0=["x","y"],Uo=["clientX","clientY"];function tr(u,h,p){var v;if(u)if(u.forEach)u.forEach(h,p);else if(void 0!==u.length)for(v=0;v<u.length;)h.call(p,u[v],v,u),v++;else for(v in u)u.hasOwnProperty(v)&&h.call(p,u[v],v,u)}function Yo(u,h){return"function"==typeof u?u.apply(h&&h[0]||void 0,h):u}function Ir(u,h){return u.indexOf(h)>-1}var Th=function(){function u(p,v){this.manager=p,this.set(v)}var h=u.prototype;return h.set=function(p){p===Or&&(p=this.compute()),es&&this.manager.element.style&&is[p]&&(this.manager.element.style[l0]=p),this.actions=p.toLowerCase().trim()},h.update=function(){this.set(this.manager.options.touchAction)},h.compute=function(){var p=[];return tr(this.manager.recognizers,function(v){Yo(v.options.enable,[v])&&(p=p.concat(v.getTouchAction()))}),function(v){if(Ir(v,ts))return ts;var k=Ir(v,ec),O=Ir(v,tc);return k&&O?ts:k||O?k?ec:tc:Ir(v,pl)?pl:"auto"}(p.join(" "))},h.preventDefaults=function(p){var v=p.srcEvent,k=p.offsetDirection;if(this.manager.session.prevented)v.preventDefault();else{var O=this.actions,D=Ir(O,ts)&&!is.none,F=Ir(O,tc)&&!is["pan-y"],B=Ir(O,ec)&&!is["pan-x"];if(D&&1===p.pointers.length&&p.distance<2&&p.deltaTime<250)return;if(!B||!F)return D||F&&6&k||B&&24&k?this.preventSrc(v):void 0}},h.preventSrc=function(p){this.manager.session.prevented=!0,p.preventDefault()},u}();function qo(u,h){for(;u;){if(u===h)return!0;u=u.parentNode}return!1}function ir(u){var h=u.length;if(1===h)return{x:go(u[0].clientX),y:go(u[0].clientY)};for(var p=0,v=0,k=0;k<h;)p+=u[k].clientX,v+=u[k].clientY,k++;return{x:go(p/h),y:go(v/h)}}function nc(u){for(var h=[],p=0;p<u.pointers.length;)h[p]={clientX:go(u.pointers[p].clientX),clientY:go(u.pointers[p].clientY)},p++;return{timeStamp:mo(),pointers:h,center:ir(h),deltaX:u.deltaX,deltaY:u.deltaY}}function qt(u,h,p){p||(p=u0);var v=h[p[0]]-u[p[0]],k=h[p[1]]-u[p[1]];return Math.sqrt(v*v+k*k)}function Oh(u,h,p){return p||(p=u0),180*Math.atan2(h[p[1]]-u[p[1]],h[p[0]]-u[p[0]])/Math.PI}function Ih(u,h){return u===h?1:ln(u)>=ln(h)?u<0?2:4:h<0?8:16}function og(u,h,p){return{x:h/u||0,y:p/u||0}}function Dh(u,h,p){var v=p.pointers.length,k=p.changedPointers.length,O=1&h&&v-k==0,D=12&h&&v-k==0;p.isFirst=!!O,p.isFinal=!!D,O&&(u.session={}),p.eventType=h,function ag(u,h){var p=u.session,v=h.pointers,k=v.length;p.firstInput||(p.firstInput=nc(h)),k>1&&!p.firstMultiple?p.firstMultiple=nc(h):1===k&&(p.firstMultiple=!1);var Te,Re,De,Ze,Ot,wt,O=p.firstInput,D=p.firstMultiple,F=D?D.center:O.center,B=h.center=ir(v);h.timeStamp=mo(),h.deltaTime=h.timeStamp-O.timeStamp,h.angle=Oh(F,B),h.distance=qt(F,B),De=(Re=h).center,Ze=(Te=p).offsetDelta||{},Ot=Te.prevDelta||{},wt=Te.prevInput||{},1!==Re.eventType&&4!==wt.eventType||(Ot=Te.prevDelta={x:wt.deltaX||0,y:wt.deltaY||0},Ze=Te.offsetDelta={x:De.x,y:De.y}),Re.deltaX=Ot.x+(De.x-Ze.x),Re.deltaY=Ot.y+(De.y-Ze.y),h.offsetDirection=Ih(h.deltaX,h.deltaY);var z,Z,q=og(h.deltaTime,h.deltaX,h.deltaY);h.overallVelocityX=q.x,h.overallVelocityY=q.y,h.overallVelocity=ln(q.x)>ln(q.y)?q.x:q.y,h.scale=D?(z=D.pointers,qt((Z=v)[0],Z[1],Uo)/qt(z[0],z[1],Uo)):1,h.rotation=D?function(Te,Re){return Oh(Re[1],Re[0],Uo)+Oh(Te[1],Te[0],Uo)}(D.pointers,v):0,h.maxPointers=p.prevInput?h.pointers.length>p.prevInput.maxPointers?h.pointers.length:p.prevInput.maxPointers:h.pointers.length,function(Te,Re){var De,Ze,Ot,wt,Pt=Te.lastInterval||Re,mn=Re.timeStamp-Pt.timeStamp;if(8!==Re.eventType&&(mn>25||void 0===Pt.velocity)){var cn=Re.deltaX-Pt.deltaX,Zt=Re.deltaY-Pt.deltaY,Ti=og(mn,cn,Zt);Ze=Ti.x,Ot=Ti.y,De=ln(Ti.x)>ln(Ti.y)?Ti.x:Ti.y,wt=Ih(cn,Zt),Te.lastInterval=Re}else De=Pt.velocity,Ze=Pt.velocityX,Ot=Pt.velocityY,wt=Pt.direction;Re.velocity=De,Re.velocityX=Ze,Re.velocityY=Ot,Re.direction=wt}(p,h);var he,be=u.element,Oe=h.srcEvent;qo(he=Oe.composedPath?Oe.composedPath()[0]:Oe.path?Oe.path[0]:Oe.target,be)&&(be=he),h.target=be}(u,p),u.emit("hammer.input",p),u.recognize(p),u.session.prevInput=p}function ns(u){return u.trim().split(/\s+/g)}function yl(u,h,p){tr(ns(h),function(v){u.addEventListener(v,p,!1)})}function bl(u,h,p){tr(ns(h),function(v){u.removeEventListener(v,p,!1)})}function c0(u){var h=u.ownerDocument||u;return h.defaultView||h.parentWindow||window}var gi=function(){function u(p,v){var k=this;this.manager=p,this.callback=v,this.element=p.element,this.target=p.options.inputTarget,this.domHandler=function(O){Yo(p.options.enable,[p])&&k.handler(O)},this.init()}var h=u.prototype;return h.handler=function(){},h.init=function(){this.evEl&&yl(this.element,this.evEl,this.domHandler),this.evTarget&&yl(this.target,this.evTarget,this.domHandler),this.evWin&&yl(c0(this.element),this.evWin,this.domHandler)},h.destroy=function(){this.evEl&&bl(this.element,this.evEl,this.domHandler),this.evTarget&&bl(this.target,this.evTarget,this.domHandler),this.evWin&&bl(c0(this.element),this.evWin,this.domHandler)},u}();function nr(u,h,p){if(u.indexOf&&!p)return u.indexOf(h);for(var v=0;v<u.length;){if(p&&u[v][p]==h||!p&&u[v]===h)return v;v++}return-1}var rc={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},oc={2:Go,3:"pen",4:gl,5:"kinect"},Pi="pointerdown",rr="pointermove pointerup pointercancel";Ko.MSPointerEvent&&!Ko.PointerEvent&&(Pi="MSPointerDown",rr="MSPointerMove MSPointerUp MSPointerCancel");var Zo=function(u){function h(){var p,v=h.prototype;return v.evEl=Pi,v.evWin=rr,(p=u.apply(this,arguments)||this).store=p.manager.session.pointerEvents=[],p}return vn(h,u),h.prototype.handler=function(p){var v=this.store,k=!1,O=p.type.toLowerCase().replace("ms",""),D=rc[O],F=oc[p.pointerType]||p.pointerType,B=F===Go,z=nr(v,p.pointerId,"pointerId");1&D&&(0===p.button||B)?z<0&&(v.push(p),z=v.length-1):12&D&&(k=!0),z<0||(v[z]=p,this.callback(this.manager,D,{pointers:v,changedPointers:[p],pointerType:F,srcEvent:p}),k&&v.splice(z,1))},h}(gi);function ac(u){return Array.prototype.slice.call(u,0)}function sg(u,h,p){for(var v=[],k=[],O=0;O<u.length;){var D=h?u[O][h]:u[O];nr(k,D)<0&&v.push(u[O]),k[O]=D,O++}return p&&(v=h?v.sort(function(F,B){return F[h]>B[h]}):v.sort()),v}var d0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Mh="touchstart touchmove touchend touchcancel",Ph=function(u){function h(){var p;return h.prototype.evTarget=Mh,(p=u.apply(this,arguments)||this).targetIds={},p}return vn(h,u),h.prototype.handler=function(p){var v=d0[p.type],k=sc.call(this,p,v);k&&this.callback(this.manager,v,{pointers:k[0],changedPointers:k[1],pointerType:Go,srcEvent:p})},h}(gi);function sc(u,h){var p,v,k=ac(u.touches),O=this.targetIds;if(3&h&&1===k.length)return O[k[0].identifier]=!0,[k,k];var D=ac(u.changedTouches),F=[],B=this.target;if(v=k.filter(function(z){return qo(z.target,B)}),1===h)for(p=0;p<v.length;)O[v[p].identifier]=!0,p++;for(p=0;p<D.length;)O[D[p].identifier]&&F.push(D[p]),12&h&&delete O[D[p].identifier],p++;return F.length?[sg(v.concat(F),"identifier",!0),F]:void 0}var lg={mousedown:1,mousemove:2,mouseup:4},Rh="mousedown",lc="mousemove mouseup",uc=function(u){function h(){var p,v=h.prototype;return v.evEl=Rh,v.evWin=lc,(p=u.apply(this,arguments)||this).pressed=!1,p}return vn(h,u),h.prototype.handler=function(p){var v=lg[p.type];1&v&&0===p.button&&(this.pressed=!0),2&v&&1!==p.which&&(v=4),this.pressed&&(4&v&&(this.pressed=!1),this.callback(this.manager,v,{pointers:[p],changedPointers:[p],pointerType:gl,srcEvent:p}))},h}(gi);function h0(u){var h=u.changedPointers[0];if(h.identifier===this.primaryTouch){var p={x:h.clientX,y:h.clientY},v=this.lastTouches;this.lastTouches.push(p),setTimeout(function(){var k=v.indexOf(p);k>-1&&v.splice(k,1)},2500)}}function Z1(u,h){1&u?(this.primaryTouch=h.changedPointers[0].identifier,h0.call(this,h)):12&u&&h0.call(this,h)}function J1(u){for(var h=u.srcEvent.clientX,p=u.srcEvent.clientY,v=0;v<this.lastTouches.length;v++){var k=this.lastTouches[v],O=Math.abs(h-k.x),D=Math.abs(p-k.y);if(O<=25&&D<=25)return!0}return!1}var f0=function(u){function h(p,v){var k;return(k=u.call(this,p,v)||this).handler=function(O,D,F){var z=F.pointerType===gl;if(!(z&&F.sourceCapabilities&&F.sourceCapabilities.firesTouchEvents)){if(F.pointerType===Go)Z1.call(fl(fl(k)),D,F);else if(z&&J1.call(fl(fl(k)),F))return;k.callback(O,D,F)}},k.touch=new Ph(k.manager,k.handler),k.mouse=new uc(k.manager,k.handler),k.primaryTouch=null,k.lastTouches=[],k}return vn(h,u),h.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},h}(gi);function Jo(u,h,p){return!!Array.isArray(u)&&(tr(u,p[h],p),!0)}var qi=1;function Fh(u,h){var p=h.manager;return p?p.get(u):u}function ug(u){return 16&u?"cancel":8&u?"end":4&u?"move":2&u?"start":""}var or=function(){function u(p){void 0===p&&(p={}),this.options=er({enable:!0},p),this.id=qi++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var h=u.prototype;return h.set=function(p){return Fn(this.options,p),this.manager&&this.manager.touchAction.update(),this},h.recognizeWith=function(p){if(Jo(p,"recognizeWith",this))return this;var v=this.simultaneous;return v[(p=Fh(p,this)).id]||(v[p.id]=p,p.recognizeWith(this)),this},h.dropRecognizeWith=function(p){return Jo(p,"dropRecognizeWith",this)||(p=Fh(p,this),delete this.simultaneous[p.id]),this},h.requireFailure=function(p){if(Jo(p,"requireFailure",this))return this;var v=this.requireFail;return-1===nr(v,p=Fh(p,this))&&(v.push(p),p.requireFailure(this)),this},h.dropRequireFailure=function(p){if(Jo(p,"dropRequireFailure",this))return this;p=Fh(p,this);var v=nr(this.requireFail,p);return v>-1&&this.requireFail.splice(v,1),this},h.hasRequireFailures=function(){return this.requireFail.length>0},h.canRecognizeWith=function(p){return!!this.simultaneous[p.id]},h.emit=function(p){var v=this,k=this.state;function O(D){v.manager.emit(D,p)}k<8&&O(v.options.event+ug(k)),O(v.options.event),p.additionalEvent&&O(p.additionalEvent),k>=8&&O(v.options.event+ug(k))},h.tryEmit=function(p){if(this.canEmit())return this.emit(p);this.state=32},h.canEmit=function(){for(var p=0;p<this.requireFail.length;){if(!(33&this.requireFail[p].state))return!1;p++}return!0},h.recognize=function(p){var v=Fn({},p);if(!Yo(this.options.enable,[this,v]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(v),30&this.state&&this.tryEmit(v)},h.process=function(p){},h.getTouchAction=function(){},h.reset=function(){},u}(),Mr=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},v))||this).pTime=!1,k.pCenter=!1,k._timer=null,k._input=null,k.count=0,k}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[pl]},p.process=function(v){var k=this,O=this.options,D=v.pointers.length===O.pointers,F=v.distance<O.threshold,B=v.deltaTime<O.time;if(this.reset(),1&v.eventType&&0===this.count)return this.failTimeout();if(F&&B&&D){if(4!==v.eventType)return this.failTimeout();var z=!this.pTime||v.timeStamp-this.pTime<O.interval,Z=!this.pCenter||qt(this.pCenter,v.center)<O.posThreshold;if(this.pTime=v.timeStamp,this.pCenter=v.center,Z&&z?this.count+=1:this.count=1,this._input=v,this.count%O.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){k.state=8,k.tryEmit()},O.interval),2):8}return 32},p.failTimeout=function(){var v=this;return this._timer=setTimeout(function(){v.state=32},this.options.interval),32},p.reset=function(){clearTimeout(this._timer)},p.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},h}(or),_l=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({pointers:1},v))||this}vn(h,u);var p=h.prototype;return p.attrTest=function(v){var k=this.options.pointers;return 0===k||v.pointers.length===k},p.process=function(v){var k=this.state,O=v.eventType,D=6&k,F=this.attrTest(v);return D&&(8&O||!F)?16|k:D||F?4&O?8|k:2&k?4|k:2:32},h}(or);function cc(u){return 16===u?"down":8===u?"up":2===u?"left":4===u?"right":""}var Ah=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"pan",threshold:10,pointers:1,direction:30},v))||this).pX=null,k.pY=null,k}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){var v=this.options.direction,k=[];return 6&v&&k.push(tc),24&v&&k.push(ec),k},p.directionTest=function(v){var k=this.options,O=!0,D=v.distance,F=v.direction,B=v.deltaX,z=v.deltaY;return F&k.direction||(6&k.direction?(F=0===B?1:B<0?2:4,O=B!==this.pX,D=Math.abs(v.deltaX)):(F=0===z?1:z<0?8:16,O=z!==this.pY,D=Math.abs(v.deltaY))),v.direction=F,O&&D>k.threshold&&F&k.direction},p.attrTest=function(v){return _l.prototype.attrTest.call(this,v)&&(2&this.state||!(2&this.state)&&this.directionTest(v))},p.emit=function(v){this.pX=v.deltaX,this.pY=v.deltaY;var k=cc(v.direction);k&&(v.additionalEvent=this.options.event+k),u.prototype.emit.call(this,v)},h}(_l),wl=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},v))||this}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){return Ah.prototype.getTouchAction.call(this)},p.attrTest=function(v){var k,O=this.options.direction;return 30&O?k=v.overallVelocity:6&O?k=v.overallVelocityX:24&O&&(k=v.overallVelocityY),u.prototype.attrTest.call(this,v)&&O&v.offsetDirection&&v.distance>this.options.threshold&&v.maxPointers===this.options.pointers&&ln(k)>this.options.velocity&&4&v.eventType},p.emit=function(v){var k=cc(v.offsetDirection);k&&this.manager.emit(this.options.event+k,v),this.manager.emit(this.options.event,v)},h}(_l),$h=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"pinch",threshold:0,pointers:2},v))||this}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[ts]},p.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.scale-1)>this.options.threshold||2&this.state)},p.emit=function(v){1!==v.scale&&(v.additionalEvent=this.options.event+(v.scale<1?"in":"out")),u.prototype.emit.call(this,v)},h}(_l),yo=function(u){function h(v){return void 0===v&&(v={}),u.call(this,er({event:"rotate",threshold:0,pointers:2},v))||this}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){return[ts]},p.attrTest=function(v){return u.prototype.attrTest.call(this,v)&&(Math.abs(v.rotation)>this.options.threshold||2&this.state)},h}(_l),cg=function(u){function h(v){var k;return void 0===v&&(v={}),(k=u.call(this,er({event:"press",pointers:1,time:251,threshold:9},v))||this)._timer=null,k._input=null,k}vn(h,u);var p=h.prototype;return p.getTouchAction=function(){return["auto"]},p.process=function(v){var k=this,O=this.options,D=v.pointers.length===O.pointers,F=v.distance<O.threshold,B=v.deltaTime>O.time;if(this._input=v,!F||!D||12&v.eventType&&!B)this.reset();else if(1&v.eventType)this.reset(),this._timer=setTimeout(function(){k.state=8,k.tryEmit()},O.time);else if(4&v.eventType)return 8;return 32},p.reset=function(){clearTimeout(this._timer)},p.emit=function(v){8===this.state&&(v&&4&v.eventType?this.manager.emit(this.options.event+"up",v):(this._input.timeStamp=mo(),this.manager.emit(this.options.event,this._input)))},h}(or),Lh={domEvents:!1,touchAction:Or,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dg=[[yo,{enable:!1}],[$h,{enable:!1},["rotate"]],[wl,{direction:6}],[Ah,{direction:6},["swipe"]],[Mr],[Mr,{event:"doubletap",taps:2},["tap"]],[cg]];function Bh(u,h){var p,v=u.element;v.style&&(tr(u.options.cssProps,function(k,O){p=Qu(v.style,O),h?(u.oldCssProps[p]=v.style[p],v.style[p]=k):v.style[p]=u.oldCssProps[p]||""}),h||(u.oldCssProps={}))}var hg=function(){function u(p,v){var O=this;this.options=Fn({},Lh,v||{}),this.options.inputTarget=this.options.inputTarget||p,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=p,this.input=new(this.options.inputClass||(vl?Zo:ic?Ph:Eh?f0:uc))(this,Dh),this.touchAction=new Th(this,this.options.touchAction),Bh(this,!0),tr(this.options.recognizers,function(D){var F=O.add(new D[0](D[1]));D[2]&&F.recognizeWith(D[2]),D[3]&&F.requireFailure(D[3])},this)}var h=u.prototype;return h.set=function(p){return Fn(this.options,p),p.touchAction&&this.touchAction.update(),p.inputTarget&&(this.input.destroy(),this.input.target=p.inputTarget,this.input.init()),this},h.stop=function(p){this.session.stopped=p?2:1},h.recognize=function(p){var v=this.session;if(!v.stopped){var k;this.touchAction.preventDefaults(p);var O=this.recognizers,D=v.curRecognizer;(!D||D&&8&D.state)&&(v.curRecognizer=null,D=null);for(var F=0;F<O.length;)k=O[F],2===v.stopped||D&&k!==D&&!k.canRecognizeWith(D)?k.reset():k.recognize(p),!D&&14&k.state&&(v.curRecognizer=k,D=k),F++}},h.get=function(p){if(p instanceof or)return p;for(var v=this.recognizers,k=0;k<v.length;k++)if(v[k].options.event===p)return v[k];return null},h.add=function(p){if(Jo(p,"add",this))return this;var v=this.get(p.options.event);return v&&this.remove(v),this.recognizers.push(p),p.manager=this,this.touchAction.update(),p},h.remove=function(p){if(Jo(p,"remove",this))return this;var v=this.get(p);if(p){var k=this.recognizers,O=nr(k,v);-1!==O&&(k.splice(O,1),this.touchAction.update())}return this},h.on=function(p,v){if(void 0===p||void 0===v)return this;var k=this.handlers;return tr(ns(p),function(O){k[O]=k[O]||[],k[O].push(v)}),this},h.off=function(p,v){if(void 0===p)return this;var k=this.handlers;return tr(ns(p),function(O){v?k[O]&&k[O].splice(nr(k[O],v),1):delete k[O]}),this},h.emit=function(p,v){var D,F,B;this.options.domEvents&&(D=p,F=v,(B=document.createEvent("Event")).initEvent(D,!0,!0),B.gesture=F,F.target.dispatchEvent(B));var k=this.handlers[p]&&this.handlers[p].slice();if(k&&k.length){v.type=p,v.preventDefault=function(){v.srcEvent.preventDefault()};for(var O=0;O<k.length;)k[O](v),O++}},h.destroy=function(){this.element&&Bh(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},u}(),p0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},v0="touchstart",g0="touchstart touchmove touchend touchcancel",m0=function(u){function h(){var p,v=h.prototype;return v.evTarget=v0,v.evWin=g0,(p=u.apply(this,arguments)||this).started=!1,p}return vn(h,u),h.prototype.handler=function(p){var v=p0[p.type];if(1===v&&(this.started=!0),this.started){var k=y0.call(this,p,v);12&v&&k[0].length-k[1].length==0&&(this.started=!1),this.callback(this.manager,v,{pointers:k[0],changedPointers:k[1],pointerType:Go,srcEvent:p})}},h}(gi);function y0(u,h){var p=ac(u.touches),v=ac(u.changedTouches);return 12&h&&(p=sg(p.concat(v),"identifier",!0)),[p,v]}function b0(u,h,p){var v="DEPRECATED METHOD: "+h+"\n"+p+" AT \n";return function(){var k=new Error("get-stack-trace"),O=k&&k.stack?k.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",D=window.console&&(window.console.warn||window.console.log);return D&&D.call(window.console,v,O),u.apply(this,arguments)}}var fg=b0(function(u,h,p){for(var v=Object.keys(h),k=0;k<v.length;)(!p||p&&void 0===u[v[k]])&&(u[v[k]]=h[v[k]]),k++;return u},"extend","Use `assign`."),X1=b0(function(u,h){return fg(u,h,!0)},"merge","Use `assign`.");function Q1(u,h,p){var v,k=h.prototype;(v=u.prototype=Object.create(k)).constructor=u,v._super=k,p&&Fn(v,p)}function _0(u,h){return function(){return u.apply(h,arguments)}}var w0=function(){var u=function(h,p){return void 0===p&&(p={}),new hg(h,er({recognizers:dg.concat()},p))};return u.VERSION="2.0.17-rc",u.DIRECTION_ALL=30,u.DIRECTION_DOWN=16,u.DIRECTION_LEFT=2,u.DIRECTION_RIGHT=4,u.DIRECTION_UP=8,u.DIRECTION_HORIZONTAL=6,u.DIRECTION_VERTICAL=24,u.DIRECTION_NONE=1,u.DIRECTION_DOWN=16,u.INPUT_START=1,u.INPUT_MOVE=2,u.INPUT_END=4,u.INPUT_CANCEL=8,u.STATE_POSSIBLE=1,u.STATE_BEGAN=2,u.STATE_CHANGED=4,u.STATE_ENDED=8,u.STATE_RECOGNIZED=8,u.STATE_CANCELLED=16,u.STATE_FAILED=32,u.Manager=hg,u.Input=gi,u.TouchAction=Th,u.TouchInput=Ph,u.MouseInput=uc,u.PointerEventInput=Zo,u.TouchMouseInput=f0,u.SingleTouchInput=m0,u.Recognizer=or,u.AttrRecognizer=_l,u.Tap=Mr,u.Pan=Ah,u.Swipe=wl,u.Pinch=$h,u.Rotate=yo,u.Press=cg,u.on=yl,u.off=bl,u.each=tr,u.merge=X1,u.extend=fg,u.bindFn=_0,u.assign=Fn,u.inherit=Q1,u.bindFn=_0,u.prefixed=Qu,u.toArray=ac,u.inArray=nr,u.uniqueArray=sg,u.splitStr=ns,u.boolOrFn=Yo,u.hasParent=qo,u.addEventListeners=yl,u.removeEventListeners=bl,u.defaults=Fn({},Lh,{preset:dg}),u}();function pg(u,h){var p=void 0!==ll&&Js(u)||u["@@iterator"];if(!p){if(Gi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return x0(B,z);var q=ju(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Bd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return x0(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function x0(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var vg=ll("DELETE");function gg(){var u=xl.apply(void 0,arguments);return mg(u),u}function xl(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];if(h.length<2)return h[0];var v;if(h.length>2)return xl.apply(void 0,Er(v=[gg(h[0],h[1])]).call(v,vi(ju(h).call(h,2))));var k,O=h[0],D=h[1],F=pg(ph(D));try{for(F.s();!(k=F.n()).done;){var B=k.value;Object.prototype.propertyIsEnumerable.call(D,B)&&(D[B]===vg?delete O[B]:O[B]=null===O[B]||null===D[B]||"object"!==dt(O[B])||"object"!==dt(D[B])||Gi(O[B])||Gi(D[B])?k0(D[B]):xl(O[B],D[B]))}}catch(z){F.e(z)}finally{F.f()}return O}function k0(u){return Gi(u)?Ai(u).call(u,function(h){return k0(h)}):"object"===dt(u)&&null!==u?xl({},u):u}function mg(u){for(var h=0,p=Tv(u);h<p.length;h++){var v=p[h];u[v]===vg?delete u[v]:"object"===dt(u[v])&&null!==u[v]&&mg(u[v])}}var bo=typeof window<"u"?window.Hammer||w0:function(){return function(){var u=function(){};return{on:u,off:u,destroy:u,emit:u,get:function(){return{set:u}}}}()};function Ln(u){var h,p=this;this._cleanupQueue=[],this.active=!1,this._dom={container:u,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){p._dom.overlay.parentNode.removeChild(p._dom.overlay)});var v=bo(this._dom.overlay);v.on("tap",Jr(h=this._onTapOverlay).call(h,this)),this._cleanupQueue.push(function(){v.destroy()});var k=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ui(k).call(k,function(O){v.on(O,function(D){D.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(O){(function(D,F){for(;D;){if(D===F)return!0;D=D.parentNode}return!1})(O.target,u)||p.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",p._onClick)})),this._escListener=function(O){("key"in O?"Escape"===O.key:27===O.keyCode)&&p.deactivate()}}q1(Ln.prototype),Ln.current=null,Ln.prototype.destroy=function(){var u,h;this.deactivate();var p,v=pg(function(u){var h=u.reverse;return u===Sr||Wu(Sr,u)&&h===Sr.reverse?Sb:h}(u=Pb(h=this._cleanupQueue).call(h,0)).call(u));try{for(v.s();!(p=v.n()).done;)(0,p.value)()}catch(k){v.e(k)}finally{v.f()}},Ln.prototype.activate=function(){Ln.current&&Ln.current.deactivate(),Ln.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Ln.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Ln.prototype._onTapOverlay=function(u){this.activate(),u.srcEvent.stopPropagation()};var ex=S,tx=kn,yg=ee.TypeError,ar=ye,bg=di,ix=au,C0=function(u){if(ex(u))return u;throw yg(tx(u)+" is not a constructor")},nx=Bt,sr=Ue,Xo=Bs,_g=we,_o=hi("Reflect","construct"),E0=Object.prototype,kl=[].push,dc=_g(function(){function u(){}return!(_o(function(){},[],u)instanceof u)}),Mt=!_g(function(){_o(function(){})}),hc=dc||Mt;ar({target:"Reflect",stat:!0,forced:hc,sham:hc},{construct:function(u,h){C0(u),nx(h);var p=arguments.length<3?u:C0(arguments[2]);if(Mt&&!dc)return _o(u,h,p);if(u==p){switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3])}var v=[null];return bg(kl,v,h),new(bg(ix,u,v))}var k=p.prototype,O=Xo(sr(k)?k:E0),D=bg(u,O,h);return sr(D)?D:O}});var Qo=Fe.Reflect.construct;function gn(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}var lt=Xv;ye({target:"Object",stat:!0},{setPrototypeOf:_w});var Nh=Fe.Object.setPrototypeOf;function un(u,h){return(un=Nh||function(p,v){return p.__proto__=v,p})(u,h)}function wg(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");u.prototype=lt(h&&h.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Gn(u,"prototype",{writable:!1}),h&&un(u,h)}function zh(u,h){if(h&&("object"===dt(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return gn(u)}var Cl=k1;function wo(u){return(wo=Nh?Cl:function(h){return h.__proto__||Cl(h)})(u)}var jh={exports:{}};!function(u){var h=function(p){var v,k=Object.prototype,O=k.hasOwnProperty,D="function"==typeof Symbol?Symbol:{},F=D.iterator||"@@iterator",B=D.asyncIterator||"@@asyncIterator",z=D.toStringTag||"@@toStringTag";function Z(se,fe,ce){return Object.defineProperty(se,fe,{value:ce,enumerable:!0,configurable:!0,writable:!0}),se[fe]}try{Z({},"")}catch{Z=function(fe,ce,Je){return fe[ce]=Je}}function q(se,fe,ce,Je){var $t,Nn,kt,Ri,Jt=Object.create((fe&&fe.prototype instanceof Ze?fe:Ze).prototype),gt=new af(Je||[]);return Jt._invoke=($t=se,Nn=ce,kt=gt,Ri=be,function(dn,us){if(Ri===Te)throw new Error("Generator is already running");if(Ri===Re){if("throw"===dn)throw us;return vt()}for(kt.method=dn,kt.arg=us;;){var Oi=kt.delegate;if(Oi){var Rr=oa(Oi,kt);if(Rr){if(Rr===De)continue;return Rr}}if("next"===kt.method)kt.sent=kt._sent=kt.arg;else if("throw"===kt.method){if(Ri===be)throw Ri=Re,kt.arg;kt.dispatchException(kt.arg)}else"return"===kt.method&&kt.abrupt("return",kt.arg);Ri=Te;var Il=he($t,Nn,kt);if("normal"===Il.type){if(Ri=kt.done?Re:Oe,Il.arg===De)continue;return{value:Il.arg,done:kt.done}}"throw"===Il.type&&(Ri=Re,kt.method="throw",kt.arg=Il.arg)}}),Jt}function he(se,fe,ce){try{return{type:"normal",arg:se.call(fe,ce)}}catch(Je){return{type:"throw",arg:Je}}}p.wrap=q;var be="suspendedStart",Oe="suspendedYield",Te="executing",Re="completed",De={};function Ze(){}function Ot(){}function wt(){}var Pt={};Z(Pt,F,function(){return this});var mn=Object.getPrototypeOf,cn=mn&&mn(mn(Ec([])));cn&&cn!==k&&O.call(cn,F)&&(Pt=cn);var Zt=wt.prototype=Ze.prototype=Object.create(Pt);function Ti(se){["next","throw","return"].forEach(function(fe){Z(se,fe,function(ce){return this._invoke(fe,ce)})})}function Ni(se,fe){function ce(Me,Jt,gt,$t){var Nn=he(se[Me],se,Jt);if("throw"!==Nn.type){var kt=Nn.arg,Ri=kt.value;return Ri&&"object"==typeof Ri&&O.call(Ri,"__await")?fe.resolve(Ri.__await).then(function(dn){ce("next",dn,gt,$t)},function(dn){ce("throw",dn,gt,$t)}):fe.resolve(Ri).then(function(dn){kt.value=dn,gt(kt)},function(dn){return ce("throw",dn,gt,$t)})}$t(Nn.arg)}var Je;this._invoke=function(Me,Jt){function gt(){return new fe(function($t,Nn){ce(Me,Jt,$t,Nn)})}return Je=Je?Je.then(gt,gt):gt()}}function oa(se,fe){var ce=se.iterator[fe.method];if(ce===v){if(fe.delegate=null,"throw"===fe.method){if(se.iterator.return&&(fe.method="return",fe.arg=v,oa(se,fe),"throw"===fe.method))return De;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return De}var Je=he(ce,se.iterator,fe.arg);if("throw"===Je.type)return fe.method="throw",fe.arg=Je.arg,fe.delegate=null,De;var Me=Je.arg;return Me?Me.done?(fe[se.resultName]=Me.value,fe.next=se.nextLoc,"return"!==fe.method&&(fe.method="next",fe.arg=v),fe.delegate=null,De):Me:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,De)}function oe(se){var fe={tryLoc:se[0]};1 in se&&(fe.catchLoc=se[1]),2 in se&&(fe.finallyLoc=se[2],fe.afterLoc=se[3]),this.tryEntries.push(fe)}function ls(se){var fe=se.completion||{};fe.type="normal",delete fe.arg,se.completion=fe}function af(se){this.tryEntries=[{tryLoc:"root"}],se.forEach(oe,this),this.reset(!0)}function Ec(se){if(se){var fe=se[F];if(fe)return fe.call(se);if("function"==typeof se.next)return se;if(!isNaN(se.length)){var ce=-1,Je=function Me(){for(;++ce<se.length;)if(O.call(se,ce))return Me.value=se[ce],Me.done=!1,Me;return Me.value=v,Me.done=!0,Me};return Je.next=Je}}return{next:vt}}function vt(){return{value:v,done:!0}}return Ot.prototype=wt,Z(Zt,"constructor",wt),Z(wt,"constructor",Ot),Ot.displayName=Z(wt,z,"GeneratorFunction"),p.isGeneratorFunction=function(se){var fe="function"==typeof se&&se.constructor;return!!fe&&(fe===Ot||"GeneratorFunction"===(fe.displayName||fe.name))},p.mark=function(se){return Object.setPrototypeOf?Object.setPrototypeOf(se,wt):(se.__proto__=wt,Z(se,z,"GeneratorFunction")),se.prototype=Object.create(Zt),se},p.awrap=function(se){return{__await:se}},Ti(Ni.prototype),Z(Ni.prototype,B,function(){return this}),p.AsyncIterator=Ni,p.async=function(se,fe,ce,Je,Me){void 0===Me&&(Me=Promise);var Jt=new Ni(q(se,fe,ce,Je),Me);return p.isGeneratorFunction(fe)?Jt:Jt.next().then(function(gt){return gt.done?gt.value:Jt.next()})},Ti(Zt),Z(Zt,z,"Generator"),Z(Zt,F,function(){return this}),Z(Zt,"toString",function(){return"[object Generator]"}),p.keys=function(se){var fe=[];for(var ce in se)fe.push(ce);return fe.reverse(),function Je(){for(;fe.length;){var Me=fe.pop();if(Me in se)return Je.value=Me,Je.done=!1,Je}return Je.done=!0,Je}},p.values=Ec,af.prototype={constructor:af,reset:function(se){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(ls),!se)for(var fe in this)"t"===fe.charAt(0)&&O.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=v)},stop:function(){this.done=!0;var se=this.tryEntries[0].completion;if("throw"===se.type)throw se.arg;return this.rval},dispatchException:function(se){if(this.done)throw se;var fe=this;function ce(Nn,kt){return Jt.type="throw",Jt.arg=se,fe.next=Nn,kt&&(fe.method="next",fe.arg=v),!!kt}for(var Je=this.tryEntries.length-1;Je>=0;--Je){var Me=this.tryEntries[Je],Jt=Me.completion;if("root"===Me.tryLoc)return ce("end");if(Me.tryLoc<=this.prev){var gt=O.call(Me,"catchLoc"),$t=O.call(Me,"finallyLoc");if(gt&&$t){if(this.prev<Me.catchLoc)return ce(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return ce(Me.finallyLoc)}else if(gt){if(this.prev<Me.catchLoc)return ce(Me.catchLoc,!0)}else{if(!$t)throw new Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return ce(Me.finallyLoc)}}}},abrupt:function(se,fe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var Je=this.tryEntries[ce];if(Je.tryLoc<=this.prev&&O.call(Je,"finallyLoc")&&this.prev<Je.finallyLoc){var Me=Je;break}}Me&&("break"===se||"continue"===se)&&Me.tryLoc<=fe&&fe<=Me.finallyLoc&&(Me=null);var Jt=Me?Me.completion:{};return Jt.type=se,Jt.arg=fe,Me?(this.method="next",this.next=Me.finallyLoc,De):this.complete(Jt)},complete:function(se,fe){if("throw"===se.type)throw se.arg;return"break"===se.type||"continue"===se.type?this.next=se.arg:"return"===se.type?(this.rval=this.arg=se.arg,this.method="return",this.next="end"):"normal"===se.type&&fe&&(this.next=fe),De},finish:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ce=this.tryEntries[fe];if(ce.finallyLoc===se)return this.complete(ce.completion,ce.afterLoc),ls(ce),De}},catch:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ce=this.tryEntries[fe];if(ce.tryLoc===se){var Je=ce.completion;if("throw"===Je.type){var Me=Je.arg;ls(ce)}return Me}}throw new Error("illegal catch attempt")},delegateYield:function(se,fe,ce){return this.delegate={iterator:Ec(se),resultName:fe,nextLoc:ce},"next"===this.method&&(this.arg=v),De}},p}(u.exports);try{regeneratorRuntime=h}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=h:Function("r","regeneratorRuntime = r")(h)}}(jh);var Zi=jh.exports,Hh={exports:{}},rx=we(function(){if("function"==typeof ArrayBuffer){var u=new ArrayBuffer(8);Object.isExtensible(u)&&Object.defineProperty(u,"a",{value:8})}}),Bn=Ue,xg=ii,xo=rx,Vh=Object.isExtensible,ox=we(function(){Vh(1)})||xo?function(u){return!!Bn(u)&&(!xo||"ArrayBuffer"!=xg(u))&&(!Vh||Vh(u))}:Vh,Wh=!we(function(){return Object.isExtensible(Object.preventExtensions({}))}),kg=ye,ax=Ee,sx=Rs,fc=Ue,rs=ft,lx=Ft.f,S0=ja,ux=Zn,ta=ox,El=Wh,Kh=!1,ko=Kr("meta"),T0=0,Gh=function(u){lx(u,ko,{value:{objectID:"O"+T0++,weakData:{}}})},Uh=Hh.exports={enable:function(){Uh.enable=function(){},Kh=!0;var u=S0.f,h=ax([].splice),p={};p[ko]=1,u(p).length&&(S0.f=function(v){for(var k=u(v),O=0,D=k.length;O<D;O++)if(k[O]===ko){h(k,O,1);break}return k},kg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ux.f}))},fastKey:function(u,h){if(!fc(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!rs(u,ko)){if(!ta(u))return"F";if(!h)return"E";Gh(u)}return u[ko].objectID},getWeakData:function(u,h){if(!rs(u,ko)){if(!ta(u))return!0;if(!h)return!1;Gh(u)}return u[ko].weakData},onFreeze:function(u){return El&&Kh&&ta(u)&&!rs(u,ko)&&Gh(u),u}};sx[ko]=!0;var O0=Sn,Cg=Xt,Co=Bt,cx=kn,Eg=ky,ia=ui,os=Qe,at=Ba,je=Ys,Ji=Vp,Ei=ee.TypeError,Eo=function(u,h){this.stopped=u,this.result=h},Sg=Eo.prototype,So=function(u,h,p){var v,k,O,D,F,B,z,q=!(!p||!p.AS_ENTRIES),he=!(!p||!p.IS_ITERATOR),be=!(!p||!p.INTERRUPTED),Oe=O0(h,p&&p.that),Te=function(De){return v&&Ji(v,"normal",De),new Eo(!0,De)},Re=function(De){return q?(Co(De),be?Oe(De[0],De[1],Te):Oe(De[0],De[1])):be?Oe(De,Te):Oe(De)};if(he)v=u;else{if(!(k=je(u)))throw Ei(cx(u)+" is not iterable");if(Eg(k)){for(O=0,D=ia(u);D>O;O++)if((F=Re(u[O]))&&os(Sg,F))return F;return new Eo(!1)}v=at(u,k)}for(B=v.next;!(z=Cg(B,v)).done;){try{F=Re(z.value)}catch(De){Ji(v,"throw",De)}if("object"==typeof F&&F&&os(Sg,F))return F}return new Eo(!1)},dx=Qe,I0=ee.TypeError,D0=function(u,h){if(dx(h,u))return u;throw I0("Incorrect invocation")},M0=ye,At=ee,P0=Hh.exports,hx=we,R0=hn,F0=So,pc=D0,Bi=le,A0=Ue,$0=no,L0=Ft.f,Tg=On.forEach,fx=Xe,Og=_r.set,B0=_r.getterFor,N0=function(u,h,p){var v,k=-1!==u.indexOf("Map"),O=-1!==u.indexOf("Weak"),D=k?"set":"add",F=At[u],B=F&&F.prototype,z={};if(fx&&Bi(F)&&(O||B.forEach&&!hx(function(){(new F).entries().next()}))){var Z=(v=h(function(he,be){Og(pc(he,Z),{type:u,collection:new F}),null!=be&&F0(be,he[D],{that:he,AS_ENTRIES:k})})).prototype,q=B0(u);Tg(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(he){var be="add"==he||"set"==he;!(he in B)||O&&"clear"==he||R0(Z,he,function(Oe,Te){var Re=q(this).collection;if(!be&&O&&!A0(Oe))return"get"==he&&void 0;var De=Re[he](0===Oe?0:Oe,Te);return be?this:De})}),O||L0(Z,"size",{configurable:!0,get:function(){return q(this).collection.size}})}else v=p.getConstructor(h,u,k,D),P0.enable();return $0(v,u,!1,!0),z[u]=v,M0({global:!0,forced:!0},z),O||p.setStrong(v,u,k),v},px=_u,z0=hi,vc=Ft,vx=Xe,j0=ot("species"),gx=Ft.f,H0=Bs,Ig=function(u,h,p){for(var v in h)p&&p.unsafe&&u[v]?u[v]=h[v]:px(u,v,h[v],p);return u},Yh=Sn,V0=D0,mx=So,yx=Md,gc=Xe,K0=Hh.exports.fastKey,qh=_r.set,Dg=_r.getterFor,mc={getConstructor:function(u,h,p,v){var k=u(function(z,Z){V0(z,O),qh(z,{type:h,index:H0(null),first:void 0,last:void 0,size:0}),gc||(z.size=0),null!=Z&&mx(Z,z[v],{that:z,AS_ENTRIES:p})}),O=k.prototype,D=Dg(h),F=function(z,Z,q){var he,be,Oe=D(z),Te=B(z,Z);return Te?Te.value=q:(Oe.last=Te={index:be=K0(Z,!0),key:Z,value:q,previous:he=Oe.last,next:void 0,removed:!1},Oe.first||(Oe.first=Te),he&&(he.next=Te),gc?Oe.size++:z.size++,"F"!==be&&(Oe.index[be]=Te)),z},B=function(z,Z){var q,he=D(z),be=K0(Z);if("F"!==be)return he.index[be];for(q=he.first;q;q=q.next)if(q.key==Z)return q};return Ig(O,{clear:function(){for(var z=D(this),Z=z.index,q=z.first;q;)q.removed=!0,q.previous&&(q.previous=q.previous.next=void 0),delete Z[q.index],q=q.next;z.first=z.last=void 0,gc?z.size=0:this.size=0},delete:function(z){var Z=this,q=D(Z),he=B(Z,z);if(he){var be=he.next,Oe=he.previous;delete q.index[he.index],he.removed=!0,Oe&&(Oe.next=be),be&&(be.previous=Oe),q.first==he&&(q.first=be),q.last==he&&(q.last=Oe),gc?q.size--:Z.size--}return!!he},forEach:function(z){for(var Z,q=D(this),he=Yh(z,arguments.length>1?arguments[1]:void 0);Z=Z?Z.next:q.first;)for(he(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(z){return!!B(this,z)}}),Ig(O,p?{get:function(z){var Z=B(this,z);return Z&&Z.value},set:function(z,Z){return F(this,0===z?0:z,Z)}}:{add:function(z){return F(this,z=0===z?0:z,z)}}),gc&&gx(O,"size",{get:function(){return D(this).size}}),k},setStrong:function(u,h,p){var v=h+" Iterator",k=Dg(h),O=Dg(v);yx(u,h,function(D,F){qh(this,{type:v,target:D,state:k(D),kind:F,last:void 0})},function(){for(var D=O(this),F=D.kind,B=D.last;B&&B.removed;)B=B.previous;return D.target&&(D.last=B=B?B.next:D.state.first)?"keys"==F?{value:B.key,done:!1}:"values"==F?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(D.target=void 0,{value:void 0,done:!0})},p?"entries":"values",!p,!0),function(u){var h=z0(u);vx&&h&&!h[j0]&&(0,vc.f)(h,j0,{configurable:!0,get:function(){return this}})}(h)}};N0("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},mc);var G0=Fe.Map,Mg=On.some;ye({target:"Array",proto:!0,forced:!Sa("some")},{some:function(u){return Mg(this,u,arguments.length>1?arguments[1]:void 0)}});var bx=Qt("Array").some,U0=Qe,Pr=bx,Sl=Array.prototype,_x=Qt("Array").keys,Rg=Tn,Y0=ft,q0=Qe,wx=_x,Fg=Array.prototype,xx={DOMTokenList:!0,NodeList:!0},na=function(u){var h=u.keys;return u===Fg||q0(Fg,u)&&h===Fg.keys||Y0(xx,Rg(u))?wx:h},Ag=Ly,yc=Math.floor,bc=function(u,h){var p=u.length,v=yc(p/2);return p<8?Z0(u,h):_c(u,bc(Ag(u,0,v),h),bc(Ag(u,v),h),h)},Z0=function(u,h){for(var p,v,k=u.length,O=1;O<k;){for(v=O,p=u[O];v&&h(u[v-1],p)>0;)u[v]=u[--v];v!==O++&&(u[v]=p)}return u},_c=function(u,h,p,v){for(var k=h.length,O=p.length,D=0,F=0;D<k||F<O;)u[D+F]=D<k&&F<O?v(h[D],p[F])<=0?h[D++]:p[F++]:D<k?h[D++]:p[F++];return u},J0=bc,Zh=fi.match(/firefox\/(\d+)/i),kx=!!Zh&&+Zh[1],Cx=/MSIE|Trident/.test(fi),wc=fi.match(/AppleWebKit\/(\d+)\./),Sx=ye,X0=Ee,Tx=nn,Ox=Et,$g=ui,Lg=Da,Bg=we,Ix=J0,Dx=Sa,Q0=kx,e_=Cx,Ng=xn,t_=!!wc&&+wc[1],ra=[],Jh=X0(ra.sort),Mx=X0(ra.push),zg=Bg(function(){ra.sort(void 0)}),Px=Bg(function(){ra.sort(null)}),Rx=Dx("sort"),i_=!Bg(function(){if(Ng)return Ng<70;if(!(Q0&&Q0>3)){if(e_)return!0;if(t_)return t_<603;var u,h,p,v,k="";for(u=65;u<76;u++){switch(h=String.fromCharCode(u),u){case 66:case 69:case 70:case 72:p=3;break;case 68:case 71:p=4;break;default:p=2}for(v=0;v<47;v++)ra.push({k:h+v,v:p})}for(ra.sort(function(O,D){return D.v-O.v}),v=0;v<ra.length;v++)h=ra[v].k.charAt(0),k.charAt(k.length-1)!==h&&(k+=h);return"DGBEFHACIJK"!==k}});Sx({target:"Array",proto:!0,forced:zg||!Px||!Rx||!i_},{sort:function(u){void 0!==u&&Tx(u);var h=Ox(this);if(i_)return void 0===u?Jh(h):Jh(h,u);var p,v,k=[],O=$g(h);for(v=0;v<O;v++)v in h&&Mx(k,h[v]);for(Ix(k,function(D){return function(F,B){return void 0===B?-1:void 0===F?1:void 0!==D?+D(F,B)||0:Lg(F)>Lg(B)?1:-1}}(u)),p=k.length,v=0;v<p;)h[v]=k[v++];for(;v<O;)delete h[v++];return h}});var Xh,Fx=Qt("Array").sort,Ax=Qe,n_=Fx,Qh=Array.prototype,jg=function(u){var h=u.sort;return u===Qh||Ax(Qh,u)&&h===Qh.sort?n_:h},$x=Qt("Array").values,Lx=Tn,Bx=ft,xc=Qe,Tl=$x,ef=Array.prototype,Hg={DOMTokenList:!0,NodeList:!0},Ol=function(u){var h=u.values;return u===ef||xc(ef,u)&&h===ef.values||Bx(Hg,Lx(u))?Tl:h},lr=hh,r_=Qt("Array").entries,Vg=Tn,Nx=ft,zx=Qe,as=r_,tf=Array.prototype,o_={DOMTokenList:!0,NodeList:!0},Hx=new Uint8Array(16);function kc(){if(!Xh&&!(Xh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xh(Hx)}var Vx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wx(u){return"string"==typeof u&&Vx.test(u)}for(var Si=[],Wg=0;Wg<256;++Wg)Si.push((Wg+256).toString(16).substr(1));function Kx(u,h,p){var v=(u=u||{}).random||(u.rng||kc)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,h){p=p||0;for(var k=0;k<16;++k)h[p+k]=v[k];return h}return function(O){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=(Si[O[D+0]]+Si[O[D+1]]+Si[O[D+2]]+Si[O[D+3]]+"-"+Si[O[D+4]]+Si[O[D+5]]+"-"+Si[O[D+6]]+Si[O[D+7]]+"-"+Si[O[D+8]]+Si[O[D+9]]+"-"+Si[O[D+10]]+Si[O[D+11]]+Si[O[D+12]]+Si[O[D+13]]+Si[O[D+14]]+Si[O[D+15]]).toLowerCase();if(!Wx(F))throw TypeError("Stringified UUID is invalid");return F}(v)}function Kg(u){return"string"==typeof u||"number"==typeof u}var a_=function(){function u(h){Ke(this,u),pt(this,"delay",void 0),pt(this,"max",void 0),pt(this,"_queue",[]),pt(this,"_timeout",null),pt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(h)}return pr(u,[{key:"setOptions",value:function(h){h&&void 0!==h.delay&&(this.delay=h.delay),h&&void 0!==h.max&&(this.max=h.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var h=this._extended.object,p=this._extended.methods,v=0;v<p.length;v++){var k=p[v];k.original?h[k.name]=k.original:delete h[k.name]}this._extended=null}}},{key:"replace",value:function(h,p){var v=this,k=h[p];if(!k)throw new Error("Method "+p+" undefined");h[p]=function(){for(var O=arguments.length,D=new Array(O),F=0;F<O;F++)D[F]=arguments[F];v.queue({args:D,fn:k,context:this})}}},{key:"queue",value:function(h){this._queue.push("function"==typeof h?{fn:h}:h),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var h=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=o0(function(){h.flush()},this.delay))}},{key:"flush",value:function(){var h,p;Ui(h=Pb(p=this._queue).call(p,0)).call(h,function(v){v.fn.apply(v.context||v.fn,v.args||[])})}}],[{key:"extend",value:function(h,p){var v=new u(p);if(void 0!==h.flush)throw new Error("Target object already has a property flush");h.flush=function(){v.flush()};var k=[{name:"flush",original:void 0}];if(p&&p.replace)for(var O=0;O<p.replace.length;O++){var D=p.replace[O];k.push({name:D,original:h[D]}),v.replace(h,D)}return v._extended={object:h,methods:k},v}}]),u}(),Cc=function(){function u(){Ke(this,u),pt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),pt(this,"subscribe",u.prototype.on),pt(this,"unsubscribe",u.prototype.off)}return pr(u,[{key:"_trigger",value:function(h,p,v){var k,O;if("*"===h)throw new Error("Cannot trigger event *");Ui(k=Er(O=[]).call(O,vi(this._subscribers[h]),vi(this._subscribers["*"]))).call(k,function(D){D(h,p,v??null)})}},{key:"on",value:function(h,p){"function"==typeof p&&this._subscribers[h].push(p)}},{key:"off",value:function(h,p){var v;this._subscribers[h]=pi(v=this._subscribers[h]).call(v,function(k){return k!==p})}}]),u}();N0("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},mc);var Gg,ss=Fe.Set,nf=Ba;function ur(u,h){var p=void 0!==ll&&Js(u)||u["@@iterator"];if(!p){if(Gi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return s_(B,z);var q=ju(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Bd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return s_(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function s_(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}Gg=lr;var Ug=function(){function u(h){Ke(this,u),pt(this,"_pairs",void 0),this._pairs=h}return pr(u,[{key:Gg,value:Zi.mark(function h(){var p,v,k,O,D;return Zi.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:p=ur(this._pairs),F.prev=1,p.s();case 3:if((v=p.n()).done){F.next=9;break}return k=ei(v.value,2),O=k[0],D=k[1],F.next=7,[O,D];case 7:F.next=3;break;case 9:F.next=14;break;case 11:F.prev=11,F.t0=F.catch(1),p.e(F.t0);case 14:return F.prev=14,p.f(),F.finish(14);case 17:case"end":return F.stop()}},h,this,[[1,11,14,17]])})},{key:"entries",value:Zi.mark(function h(){var p,v,k,O,D;return Zi.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:p=ur(this._pairs),F.prev=1,p.s();case 3:if((v=p.n()).done){F.next=9;break}return k=ei(v.value,2),O=k[0],D=k[1],F.next=7,[O,D];case 7:F.next=3;break;case 9:F.next=14;break;case 11:F.prev=11,F.t0=F.catch(1),p.e(F.t0);case 14:return F.prev=14,p.f(),F.finish(14);case 17:case"end":return F.stop()}},h,this,[[1,11,14,17]])})},{key:"keys",value:Zi.mark(function h(){var p,v,k,O;return Zi.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:p=ur(this._pairs),D.prev=1,p.s();case 3:if((v=p.n()).done){D.next=9;break}return k=ei(v.value,1),O=k[0],D.next=7,O;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),p.e(D.t0);case 14:return D.prev=14,p.f(),D.finish(14);case 17:case"end":return D.stop()}},h,this,[[1,11,14,17]])})},{key:"values",value:Zi.mark(function h(){var p,v,k,O;return Zi.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:p=ur(this._pairs),D.prev=1,p.s();case 3:if((v=p.n()).done){D.next=9;break}return k=ei(v.value,2),O=k[1],D.next=7,O;case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),p.e(D.t0);case 14:return D.prev=14,p.f(),D.finish(14);case 17:case"end":return D.stop()}},h,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var h;return Ai(h=vi(this._pairs)).call(h,function(p){return p[0]})}},{key:"toItemArray",value:function(){var h;return Ai(h=vi(this._pairs)).call(h,function(p){return p[1]})}},{key:"toEntryArray",value:function(){return vi(this._pairs)}},{key:"toObjectMap",value:function(){var h,p=Qv(null),v=ur(this._pairs);try{for(v.s();!(h=v.n()).done;){var k=ei(h.value,2);p[k[0]]=k[1]}}catch(F){v.e(F)}finally{v.f()}return p}},{key:"toMap",value:function(){return new G0(this._pairs)}},{key:"toIdSet",value:function(){return new ss(this.toIdArray())}},{key:"toItemSet",value:function(){return new ss(this.toItemArray())}},{key:"cache",value:function(){return new u(vi(this._pairs))}},{key:"distinct",value:function(h){var p,v=new ss,k=ur(this._pairs);try{for(k.s();!(p=k.n()).done;){var O=ei(p.value,2);v.add(h(O[1],O[0]))}}catch(B){k.e(B)}finally{k.f()}return v}},{key:"filter",value:function(h){var p=this._pairs;return new u(pt({},lr,Zi.mark(function v(){var k,O,D,F,B;return Zi.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:k=ur(p),z.prev=1,k.s();case 3:if((O=k.n()).done){z.next=10;break}if(D=ei(O.value,2),!h(B=D[1],F=D[0])){z.next=8;break}return z.next=8,[F,B];case 8:z.next=3;break;case 10:z.next=15;break;case 12:z.prev=12,z.t0=z.catch(1),k.e(z.t0);case 15:return z.prev=15,k.f(),z.finish(15);case 18:case"end":return z.stop()}},v,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(h){var p,v=ur(this._pairs);try{for(v.s();!(p=v.n()).done;){var k=ei(p.value,2);h(k[1],k[0])}}catch(D){v.e(D)}finally{v.f()}}},{key:"map",value:function(h){var p=this._pairs;return new u(pt({},lr,Zi.mark(function v(){var k,O,D,F,B;return Zi.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:k=ur(p),z.prev=1,k.s();case 3:if((O=k.n()).done){z.next=9;break}return D=ei(O.value,2),F=D[0],B=D[1],z.next=7,[F,h(B,F)];case 7:z.next=3;break;case 9:z.next=14;break;case 11:z.prev=11,z.t0=z.catch(1),k.e(z.t0);case 14:return z.prev=14,k.f(),z.finish(14);case 17:case"end":return z.stop()}},v,null,[[1,11,14,17]])})))}},{key:"max",value:function(h){var p=nf(this._pairs),v=p.next();if(v.done)return null;for(var k=v.value[1],O=h(v.value[1],v.value[0]);!(v=p.next()).done;){var D=ei(v.value,2),B=D[1],z=h(B,D[0]);z>O&&(O=z,k=B)}return k}},{key:"min",value:function(h){var p=nf(this._pairs),v=p.next();if(v.done)return null;for(var k=v.value[1],O=h(v.value[1],v.value[0]);!(v=p.next()).done;){var D=ei(v.value,2),B=D[1],z=h(B,D[0]);z<O&&(O=z,k=B)}return k}},{key:"reduce",value:function(h,p){var v,k=ur(this._pairs);try{for(k.s();!(v=k.n()).done;){var O=ei(v.value,2);p=h(p,O[1],O[0])}}catch(F){k.e(F)}finally{k.f()}return p}},{key:"sort",value:function(h){var p=this;return new u(pt({},lr,function(){var v;return nf(jg(v=vi(p._pairs)).call(v,function(k,O){var D=ei(k,2),F=D[0],B=D[1],z=ei(O,2);return h(B,z[1],F,z[0])}))}))}}]),u}();function l_(u,h){var p=Tv(u);if(Au){var v=Au(u);h&&(v=pi(v).call(v,function(k){return ab(u,k).enumerable})),p.push.apply(p,v)}return p}function u_(u){for(var h=1;h<arguments.length;h++){var p,v,k=null!=arguments[h]?arguments[h]:{};h%2?Ui(p=l_(Object(k),!0)).call(p,function(O){pt(u,O,k[O])}):mv?Gw(u,mv(k)):Ui(v=l_(Object(k))).call(v,function(O){cb(u,O,ab(k,O))})}return u}function Yg(u,h){var p=void 0!==ll&&Js(u)||u["@@iterator"];if(!p){if(Gi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return qg(B,z);var q=ju(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Bd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return qg(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}function qg(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var rf=function(u){wg(p,u);var h=function Zg(u){var h=function(){if(typeof Reflect>"u"||!Qo||Qo.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Qo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,v=wo(u);if(h){var k=wo(this).constructor;p=Qo(v,arguments,k)}else p=v.apply(this,arguments);return zh(this,p)}}(p);function p(v,k){var O;return Ke(this,p),pt(gn(O=h.call(this)),"flush",void 0),pt(gn(O),"length",void 0),pt(gn(O),"_options",void 0),pt(gn(O),"_data",void 0),pt(gn(O),"_idProp",void 0),pt(gn(O),"_queue",null),v&&!Gi(v)&&(k=v,v=[]),O._options=k||{},O._data=new G0,O.length=0,O._idProp=O._options.fieldId||"id",v&&v.length&&O.add(v),O.setOptions(k),O}return pr(p,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(v){v&&void 0!==v.queue&&(!1===v.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=a_.extend(this,{replace:["add","update","remove"]})),v.queue&&"object"===dt(v.queue)&&this._queue.setOptions(v.queue)))}},{key:"add",value:function(v,k){var O,D=this,F=[];if(Gi(v)){var B=Ai(v).call(v,function(q){return q[D._idProp]});if(function(u){var h=u.some;return u===Sl||U0(Sl,u)&&h===Sl.some?Pr:h}(B).call(B,function(q){return D._data.has(q)}))throw new Error("A duplicate id was found in the parameter array.");for(var z=0,Z=v.length;z<Z;z++)O=this._addItem(v[z]),F.push(O)}else{if(!v||"object"!==dt(v))throw new Error("Unknown dataType");O=this._addItem(v),F.push(O)}return F.length&&this._trigger("add",{items:F},k),F}},{key:"update",value:function(v,k){var O=this,D=[],F=[],B=[],z=[],Z=this._idProp,q=function(Te){var Re=Te[Z];if(null!=Re&&O._data.has(Re)){var De=Te,Ze=Nv({},O._data.get(Re)),Ot=O._updateItem(De);F.push(Ot),z.push(De),B.push(Ze)}else{var wt=O._addItem(Te);D.push(wt)}};if(Gi(v))for(var he=0,be=v.length;he<be;he++)v[he]&&"object"===dt(v[he])?q(v[he]):console.warn("Ignoring input item, which is not an object at index "+he);else{if(!v||"object"!==dt(v))throw new Error("Unknown dataType");q(v)}return D.length&&this._trigger("add",{items:D},k),F.length&&this._trigger("update",{items:F,oldData:B,data:z},k),Er(D).call(D,F)}},{key:"updateOnly",value:function(v,k){var O,D=this;Gi(v)||(v=[v]);var F=Ai(O=Ai(v).call(v,function(z){var Z=D._data.get(z[D._idProp]);if(null==Z)throw new Error("Updating non-existent items is not allowed.");return{oldData:Z,update:z}})).call(O,function(z){var Z=z.oldData,he=Z[D._idProp],be=function(Oe){for(var Te,Re=arguments.length,De=new Array(Re>1?Re-1:0),Ze=1;Ze<Re;Ze++)De[Ze-1]=arguments[Ze];return gg.apply(void 0,Er(Te=[{},Oe]).call(Te,De))}(Z,z.update);return D._data.set(he,be),{id:he,oldData:Z,updatedData:be}});if(F.length){var B={items:Ai(F).call(F,function(z){return z.id}),oldData:Ai(F).call(F,function(z){return z.oldData}),data:Ai(F).call(F,function(z){return z.updatedData})};return this._trigger("update",B,k),B.items}return[]}},{key:"get",value:function(v,k){var O=void 0,D=void 0,F=void 0;Kg(v)?(O=v,F=k):Gi(v)?(D=v,F=k):F=v;var B,z=F&&"Object"===F.returnType?"Object":"Array",Z=F&&pi(F),q=[],he=void 0,be=void 0;if(null!=O)(he=this._data.get(O))&&Z&&!Z(he)&&(he=void 0);else if(null!=D)for(var Te=0,Re=D.length;Te<Re;Te++)null==(he=this._data.get(D[Te]))||Z&&!Z(he)||q.push(he);else for(var De,Ze=0,Ot=(be=vi(na(De=this._data).call(De))).length;Ze<Ot;Ze++)null==(he=this._data.get(be[Ze]))||Z&&!Z(he)||q.push(he);if(F&&F.order&&null==O&&this._sort(q,F.order),F&&F.fields){var wt=F.fields;if(null!=O&&null!=he)he=this._filterFields(he,wt);else for(var Pt=0,mn=q.length;Pt<mn;Pt++)q[Pt]=this._filterFields(q[Pt],wt)}if("Object"==z){for(var cn={},Zt=0,Ti=q.length;Zt<Ti;Zt++){var Ni=q[Zt];cn[Ni[this._idProp]]=Ni}return cn}return null!=O?null!==(B=he)&&void 0!==B?B:null:q}},{key:"getIds",value:function(v){var k=this._data,O=v&&pi(v),D=v&&v.order,F=vi(na(k).call(k)),B=[];if(O)if(D){for(var z=[],Z=0,q=F.length;Z<q;Z++){var be=this._data.get(F[Z]);null!=be&&O(be)&&z.push(be)}this._sort(z,D);for(var Oe=0,Te=z.length;Oe<Te;Oe++)B.push(z[Oe][this._idProp])}else for(var Re=0,De=F.length;Re<De;Re++){var Ot=this._data.get(F[Re]);null!=Ot&&O(Ot)&&B.push(Ot[this._idProp])}else if(D){for(var wt=[],Pt=0,mn=F.length;Pt<mn;Pt++)wt.push(k.get(F[Pt]));this._sort(wt,D);for(var Zt=0,Ti=wt.length;Zt<Ti;Zt++)B.push(wt[Zt][this._idProp])}else for(var Ni=0,oa=F.length;Ni<oa;Ni++){var ls=k.get(F[Ni]);null!=ls&&B.push(ls[this._idProp])}return B}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(v,k){var O=k&&pi(k),D=this._data,F=vi(na(D).call(D));if(k&&k.order)for(var B=this.get(k),z=0,Z=B.length;z<Z;z++){var q=B[z];v(q,q[this._idProp])}else for(var he=0,be=F.length;he<be;he++){var Oe=F[he],Te=this._data.get(Oe);null==Te||O&&!O(Te)||v(Te,Oe)}}},{key:"map",value:function(v,k){for(var O=k&&pi(k),D=[],F=this._data,B=vi(na(F).call(F)),z=0,Z=B.length;z<Z;z++){var q=B[z],he=this._data.get(q);null==he||O&&!O(he)||D.push(v(he,q))}return k&&k.order&&this._sort(D,k.order),D}},{key:"_filterFields",value:function(v,k){var O;return v&&Ms(O=Gi(k)?k:Tv(k)).call(O,function(D,F){return D[F]=v[F],D},{})}},{key:"_sort",value:function(v,k){if("string"==typeof k){var O=k;jg(v).call(v,function(D,F){var B=D[O],z=F[O];return B>z?1:B<z?-1:0})}else{if("function"!=typeof k)throw new TypeError("Order must be a function or a string");jg(v).call(v,k)}}},{key:"remove",value:function(v,k){for(var O=[],D=[],F=Gi(v)?v:[v],B=0,z=F.length;B<z;B++){var Z=this._remove(F[B]);if(Z){var q=Z[this._idProp];null!=q&&(O.push(q),D.push(Z))}}return O.length&&this._trigger("remove",{items:O,oldData:D},k),O}},{key:"_remove",value:function(v){var k;if(Kg(v)?k=v:v&&"object"===dt(v)&&(k=v[this._idProp]),null!=k&&this._data.has(k)){var O=this._data.get(k)||null;return this._data.delete(k),--this.length,O}return null}},{key:"clear",value:function(v){for(var k,O=vi(na(k=this._data).call(k)),D=[],F=0,B=O.length;F<B;F++)D.push(this._data.get(O[F]));return this._data.clear(),this.length=0,this._trigger("remove",{items:O,oldData:D},v),O}},{key:"max",value:function(v){var k,O,D=null,F=null,B=Yg(Ol(k=this._data).call(k));try{for(B.s();!(O=B.n()).done;){var z=O.value,Z=z[v];"number"==typeof Z&&(null==F||Z>F)&&(D=z,F=Z)}}catch(q){B.e(q)}finally{B.f()}return D||null}},{key:"min",value:function(v){var k,O,D=null,F=null,B=Yg(Ol(k=this._data).call(k));try{for(B.s();!(O=B.n()).done;){var z=O.value,Z=z[v];"number"==typeof Z&&(null==F||Z<F)&&(D=z,F=Z)}}catch(q){B.e(q)}finally{B.f()}return D||null}},{key:"distinct",value:function(v){for(var k=this._data,O=vi(na(k).call(k)),D=[],F=0,B=0,z=O.length;B<z;B++){for(var q=k.get(O[B])[v],he=!1,be=0;be<F;be++)if(D[be]==q){he=!0;break}he||void 0===q||(D[F]=q,F++)}return D}},{key:"_addItem",value:function(v){var D,F,k=(null==(D=v)[F=this._idProp]&&(D[F]=Kx()),D),O=k[this._idProp];if(this._data.has(O))throw new Error("Cannot add item: item with id "+O+" already exists");return this._data.set(O,k),++this.length,O}},{key:"_updateItem",value:function(v){var k=v[this._idProp];if(null==k)throw new Error("Cannot update item: item has no id (item: "+j1(v)+")");var O=this._data.get(k);if(!O)throw new Error("Cannot update item: no item with id "+k+" found");return this._data.set(k,u_(u_({},O),v)),k}},{key:"stream",value:function(v){if(v){var k=this._data;return new Ug(pt({},lr,Zi.mark(function D(){var F,B,z,Z;return Zi.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:F=Yg(v),q.prev=1,F.s();case 3:if((B=F.n()).done){q.next=11;break}if(null==(Z=k.get(z=B.value))){q.next=9;break}return q.next=9,[z,Z];case 9:q.next=3;break;case 11:q.next=16;break;case 13:q.prev=13,q.t0=q.catch(1),F.e(q.t0);case 16:return q.prev=16,F.f(),q.finish(16);case 19:case"end":return q.stop()}},D,null,[[1,13,16,19]])})))}var O;return new Ug(pt({},lr,Jr(O=function(u){var h=u.entries;return u===tf||zx(tf,u)&&h===tf.entries||Nx(o_,Vg(u))?as:h}(this._data)).call(O,this._data)))}}]),p}(Cc);function Jg(u,h){(null==h||h>u.length)&&(h=u.length);for(var p=0,v=new Array(h);p<h;p++)v[p]=u[p];return v}var Gx=function(u){wg(p,u);var h=function c_(u){var h=function(){if(typeof Reflect>"u"||!Qo||Qo.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Qo(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,v=wo(u);if(h){var k=wo(this).constructor;p=Qo(v,arguments,k)}else p=v.apply(this,arguments);return zh(this,p)}}(p);function p(v,k){var O,D;return Ke(this,p),pt(gn(D=h.call(this)),"length",0),pt(gn(D),"_listener",void 0),pt(gn(D),"_data",void 0),pt(gn(D),"_ids",new ss),pt(gn(D),"_options",void 0),D._options=k||{},D._listener=Jr(O=D._onEvent).call(O,gn(D)),D.setData(v),D}return pr(p,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(v){if(this._data){this._data.off&&this._data.off("*",this._listener);var k=this._data.getIds({filter:pi(this._options)}),O=this._data.get(k);this._ids.clear(),this.length=0,this._trigger("remove",{items:k,oldData:O})}if(null!=v){this._data=v;for(var D=this._data.getIds({filter:pi(this._options)}),F=0,B=D.length;F<B;F++)this._ids.add(D[F]);this.length=D.length,this._trigger("add",{items:D})}else this._data=new rf;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var v=this._data.getIds({filter:pi(this._options)}),k=vi(this._ids),O={},D=[],F=[],B=[],z=0,Z=v.length;z<Z;z++){var q=v[z];O[q]=!0,this._ids.has(q)||(D.push(q),this._ids.add(q))}for(var he=0,be=k.length;he<be;he++){var Oe=k[he],Te=this._data.get(Oe);null==Te?console.error("If you see this, report it please."):O[Oe]||(F.push(Oe),B.push(Te),this._ids.delete(Oe))}this.length+=D.length-F.length,D.length&&this._trigger("add",{items:D}),F.length&&this._trigger("remove",{items:F,oldData:B})}},{key:"get",value:function(v,k){if(null==this._data)return null;var O,D=null;Kg(v)||Gi(v)?(D=v,O=k):O=v;var F=Nv({},this._options,O),B=pi(this._options),z=O&&pi(O);return B&&z&&(F.filter=function(Z){return B(Z)&&z(Z)}),null==D?this._data.get(F):this._data.get(D,F)}},{key:"getIds",value:function(v){if(this._data.length){var O=pi(this._options),D=null!=v?pi(v):null;return this._data.getIds({filter:D?O?function(F){return O(F)&&D(F)}:D:O,order:v&&v.order})}return[]}},{key:"forEach",value:function(v,k){if(this._data){var O,D,F=pi(this._options),B=k&&pi(k);D=B?F?function(z){return F(z)&&B(z)}:B:F,Ui(O=this._data).call(O,v,{filter:D,order:k&&k.order})}}},{key:"map",value:function(v,k){if(this._data){var O,D,F=pi(this._options),B=k&&pi(k);return D=B?F?function(z){return F(z)&&B(z)}:B:F,Ai(O=this._data).call(O,v,{filter:D,order:k&&k.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(v){var k;return this._data.stream(v||pt({},lr,Jr(k=na(this._ids)).call(k,this._ids)))}},{key:"dispose",value:function(){var v;null!==(v=this._data)&&void 0!==v&&v.off&&this._data.off("*",this._listener);var k,O="This data view has already been disposed of.",D={get:function(){throw new Error(O)},set:function(){throw new Error(O)},configurable:!1},F=function of(u,h){var p=void 0!==ll&&Js(u)||u["@@iterator"];if(!p){if(Gi(u)||(p=function(B,z){var Z;if(B){if("string"==typeof B)return Jg(B,z);var q=ju(Z=Object.prototype.toString.call(B)).call(Z,8,-1);if("Object"===q&&B.constructor&&(q=B.constructor.name),"Map"===q||"Set"===q)return Bd(B);if("Arguments"===q||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Jg(B,z)}}(u))||h&&u&&"number"==typeof u.length){p&&(u=p);var v=0,k=function(){};return{s:k,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(B){throw B},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,D=!0,F=!1;return{s:function(){p=p.call(u)},n:function(){var B=p.next();return D=B.done,B},e:function(B){F=!0,O=B},f:function(){try{D||null==p.return||p.return()}finally{if(F)throw O}}}}(ph(p.prototype));try{for(F.s();!(k=F.n()).done;)cb(this,k.value,D)}catch(z){F.e(z)}finally{F.f()}}},{key:"_onEvent",value:function(v,k,O){if(k&&k.items&&this._data){var D=k.items,F=[],B=[],z=[],Z=[],q=[],he=[];switch(v){case"add":for(var be=0,Oe=D.length;be<Oe;be++){var Te=D[be];this.get(Te)&&(this._ids.add(Te),F.push(Te))}break;case"update":for(var Re=0,De=D.length;Re<De;Re++){var Ze=D[Re];this.get(Ze)?this._ids.has(Ze)?(B.push(Ze),q.push(k.data[Re]),Z.push(k.oldData[Re])):(this._ids.add(Ze),F.push(Ze)):this._ids.has(Ze)&&(this._ids.delete(Ze),z.push(Ze),he.push(k.oldData[Re]))}break;case"remove":for(var Ot=0,wt=D.length;Ot<wt;Ot++){var Pt=D[Ot];this._ids.has(Pt)&&(this._ids.delete(Pt),z.push(Pt),he.push(k.oldData[Ot]))}}this.length+=F.length-z.length,F.length&&this._trigger("add",{items:F},O),B.length&&this._trigger("update",{items:B,oldData:Z,data:q},O),z.length&&this._trigger("remove",{items:z,oldData:he},O)}}}]),p}(Cc);function d_(u,h){return"object"===dt(h)&&null!==h&&u===h.idProp&&"function"==typeof h.add&&"function"==typeof h.clear&&"function"==typeof h.distinct&&"function"==typeof Ui(h)&&"function"==typeof h.get&&"function"==typeof h.getDataSet&&"function"==typeof h.getIds&&"number"==typeof h.length&&"function"==typeof Ai(h)&&"function"==typeof h.max&&"function"==typeof h.min&&"function"==typeof h.off&&"function"==typeof h.on&&"function"==typeof h.remove&&"function"==typeof h.setOptions&&"function"==typeof h.stream&&"function"==typeof h.update&&"function"==typeof h.updateOnly}We.DELETE=vg,We.DataSet=rf,We.DataStream=Ug,We.DataView=Gx,We.Queue=a_,We.createNewDataPipeFrom=function(u){return new Vm(u)},We.isDataSetLike=d_,We.isDataViewLike=function(u,h){return"object"===dt(h)&&null!==h&&u===h.idProp&&"function"==typeof Ui(h)&&"function"==typeof h.get&&"function"==typeof h.getDataSet&&"function"==typeof h.getIds&&"number"==typeof h.length&&"function"==typeof Ai(h)&&"function"==typeof h.off&&"function"==typeof h.on&&"function"==typeof h.stream&&d_(u,h.getDataSet())},Object.defineProperty(We,"__esModule",{value:!0})}(Rc)},1282:function(XC,Rc,We){!function(Ke,mi){var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xt=function(n){return n&&n.Math==Math&&n},ee=xt("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof la&&la)||function(){return this}()||Function("return this")(),we=function(n){try{return!!n()}catch{return!0}},Vn=!we(function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}),$l=Function.prototype,ua=$l.apply,ca=$l.call,di="object"==typeof Reflect&&Reflect.apply||(Vn?ca.bind(ua):function(){return ca.apply(ua,arguments)}),Fi=Vn,vs=Function.prototype,da=vs.call,Ll=Fi&&vs.bind.bind(da,da),Ee=Fi?function(n){return n&&Ll(n)}:function(n){return n&&function(){return da.apply(n,arguments)}},le=function(n){return"function"==typeof n},rt={},Xe=!we(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Rt=Function.prototype.call,Xt=Vn?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)},en={},tn={}.propertyIsEnumerable,Nr=Object.getOwnPropertyDescriptor,Ac=Nr&&!tn.call({1:2},1);en.f=Ac?function(n){var e=Nr(this,n);return!!e&&e.enumerable}:tn;var yi,zr,ji=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}},gs=Ee,$c=gs({}.toString),mf=gs("".slice),ii=function(n){return mf($c(n),8,-1)},bf=we,_f=ii,ha=ee.Object,ms=Ee("".split),jr=bf(function(){return!ha("z").propertyIsEnumerable(0)})?function(n){return"String"==_f(n)?ms(n,""):ha(n)}:ha,ys=ee.TypeError,Wn=function(n){if(null==n)throw ys("Can't call method on "+n);return n},wf=jr,fa=Wn,Kt=function(n){return wf(fa(n))},xf=le,Ue=function(n){return"object"==typeof n?null!==n:xf(n)},Fe={},ni=Fe,yt=ee,Bl=le,pa=function(n){return Bl(n)?n:void 0},hi=function(n,e){return arguments.length<2?pa(ni[n])||pa(yt[n]):ni[n]&&ni[n][e]||yt[n]&&yt[n][e]},Qe=Ee({}.isPrototypeOf),fi=hi("navigator","userAgent")||"",Lt=fi,zl=ee.process,hr=ee.Deno,bs=zl&&zl.versions||hr&&hr.version,va=bs&&bs.v8;va&&(zr=(yi=va.split("."))[0]>0&&yi[0]<4?1:+(yi[0]+yi[1])),!zr&&Lt&&(!(yi=Lt.match(/Edge\/(\d+)/))||yi[1]>=74)&&(yi=Lt.match(/Chrome\/(\d+)/))&&(zr=+yi[1]);var xn=zr,ga=xn,Oo=!!Object.getOwnPropertySymbols&&!we(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&ga&&ga<41}),Hi=Oo&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_s=hi,ma=le,Bc=Qe,jl=ee.Object,ya=Hi?function(n){return"symbol"==typeof n}:function(n){var e=_s("Symbol");return ma(e)&&Bc(e.prototype,jl(n))},ba=ee.String,kn=function(n){try{return ba(n)}catch{return"Object"}},Nc=le,Cf=kn,Hl=ee.TypeError,nn=function(n){if(Nc(n))return n;throw Hl(Cf(n)+" is not a function")},Ef=nn,Cn=function(n,e){var t=n[e];return null==t?void 0:Ef(t)},_a=Xt,wa=le,fr=Ue,Sf=ee.TypeError,Hr={exports:{}},Vl=ee,Tf=Object.defineProperty,Wl="__core-js_shared__",Wr=ee[Wl]||function(n,e){try{Tf(Vl,n,{value:e,configurable:!0,writable:!0})}catch{Vl[n]=e}return e}(Wl,{}),Kl=Wr;(Hr.exports=function(n,e){return Kl[n]||(Kl[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Gl=Wn,Ul=ee.Object,Et=function(n){return Ul(Gl(n))},gm=Et,mm=Ee({}.hasOwnProperty),ft=Object.hasOwn||function(n,e){return mm(gm(n),e)},Yl=Ee,Of=0,If=Math.random(),Df=Yl(1..toString),Kr=function(n){return"Symbol("+(void 0===n?"":n)+")_"+Df(++Of+If,36)},zc=ee,xa=ft,jc=Kr,ql=Oo,Zl=Hi,Kn=(0,Hr.exports)("wks"),It=zc.Symbol,Jl=It&&It.for,Pf=Zl?It:It&&It.withoutSetter||jc,ot=function(n){if(!xa(Kn,n)||!ql&&"string"!=typeof Kn[n]){var e="Symbol."+n;Kn[n]=ql&&xa(It,n)?It[n]:Zl&&Jl?Jl(e):Pf(e)}return Kn[n]},bi=Xt,Xl=Ue,Hc=ya,ym=Cn,_m=ee.TypeError,wm=ot("toPrimitive"),Rf=function(n,e){if(!Xl(n)||Hc(n))return n;var t,i=ym(n,wm);if(i){if(void 0===e&&(e="default"),t=bi(i,n,e),!Xl(t)||Hc(t))return t;throw _m("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(n,e){var t,i;if("string"===e&&wa(t=n.toString)&&!fr(i=_a(t,n))||wa(t=n.valueOf)&&!fr(i=_a(t,n))||"string"!==e&&wa(t=n.toString)&&!fr(i=_a(t,n)))return i;throw Sf("Can't convert object to primitive value")}(n,e)},xm=ya,Gr=function(n){var e=Rf(n,"string");return xm(e)?e:e+""},eu=Ue,En=ee.document,Io=eu(En)&&eu(En.createElement),tu=function(n){return Io?En.createElement(n):{}},Ff=tu,jt=!Xe&&!we(function(){return 7!=Object.defineProperty(Ff("div"),"a",{get:function(){return 7}}).a}),$f=Xt,Lf=en,Vc=ji,Bf=Kt,km=Gr,Nf=ft,zf=jt,iu=Object.getOwnPropertyDescriptor;rt.f=Xe?iu:function(n,e){if(n=Bf(n),e=km(e),zf)try{return iu(n,e)}catch{}if(Nf(n,e))return Vc(!$f(Lf.f,n,e),n[e])};var jf=we,Hf=le,ka=/#|\.prototype\./,rn=function(n,e){var t=Wf[Vf(n)];return t==Kf||t!=Wc&&(Hf(e)?jf(e):!!e)},Vf=rn.normalize=function(n){return String(n).replace(ka,".").toLowerCase()},Wf=rn.data={},Wc=rn.NATIVE="N",Kf=rn.POLYFILL="P",Gf=rn,Cm=nn,Em=Vn,Sm=Ee(Ee.bind),Sn=function(n,e){return Cm(n),void 0===e?n:Em?Sm(n,e):function(){return n.apply(e,arguments)}},Ft={},Kc=Xe&&we(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ru=Ue,Uf=ee.String,Yf=ee.TypeError,Bt=function(n){if(ru(n))return n;throw Yf(Uf(n)+" is not an object")},Gc=jt,Ur=Bt,ou=Gr,Ca=ee.TypeError,ws=Object.defineProperty,Jf=Object.getOwnPropertyDescriptor;Ft.f=Xe?Kc?function(n,e,t){if(Ur(n),e=ou(e),Ur(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var i=Jf(n,e);i&&i.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:i.configurable,enumerable:"enumerable"in t?t.enumerable:i.enumerable,writable:!1})}return ws(n,e,t)}:ws:function(n,e,t){if(Ur(n),e=ou(e),Ur(t),Gc)try{return ws(n,e,t)}catch{}if("get"in t||"set"in t)throw Ca("Accessors not supported");return"value"in t&&(n[e]=t.value),n};var Uc=Ft,ep=ji,hn=Xe?function(n,e,t){return Uc.f(n,e,ep(1,t))}:function(n,e,t){return n[e]=t,n},Yr=ee,qr=di,Vi=Ee,tp=le,Tm=rt.f,Yc=Gf,on=Fe,ip=Sn,fn=hn,qc=ft,pn=function(n){var e=function(t,i,r){if(this instanceof e){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,i)}return new n(t,i,r)}return qr(n,this,arguments)};return e.prototype=n.prototype,e},ye=function(n,e){var t,i,r,o,s,d,f,x,T=n.target,I=n.global,P=n.stat,L=n.proto,N=I?Yr:P?Yr[T]:(Yr[T]||{}).prototype,H=I?on:on[T]||fn(on,T,{})[T],Y=H.prototype;for(r in e)t=!Yc(I?r:T+(P?".":"#")+r,n.forced)&&N&&qc(N,r),s=H[r],t&&(d=n.noTargetGet?(x=Tm(N,r))&&x.value:N[r]),o=t&&d?d:e[r],t&&typeof s==typeof o||(f=n.bind&&t?ip(o,Yr):n.wrap&&t?pn(o):L&&tp(o)?Vi(o):o,(n.sham||o&&o.sham||s&&s.sham)&&fn(f,"sham",!0),fn(H,r,f),L&&(qc(on,i=T+"Prototype")||fn(on,i,{}),fn(on[i],r,o),n.real&&Y&&!Y[r]&&fn(Y,r,o)))},Om=Math.ceil,np=Math.floor,ks=function(n){var e=+n;return e!=e||0===e?0:(e>0?np:Om)(e)},Cs=ks,rp=Math.max,Zc=Math.min,Gn=function(n,e){var t=Cs(n);return t<0?rp(t+e,0):Zc(t,e)},Jc=ks,pr=Math.min,Ii=function(n){return function(n){return n>0?pr(Jc(n),9007199254740991):0}(n.length)},op=Kt,Im=Gn,Dm=Ii,Do=function(n){return function(e,t,i){var r,o=op(e),s=Dm(o),d=Im(i,s);if(n&&t!=t){for(;s>d;)if((r=o[d++])!=r)return!0}else for(;s>d;d++)if((n||d in o)&&o[d]===t)return n||d||0;return!n&&-1}},Mo={includes:Do(!0),indexOf:Do(!1)},Es={},Ss=ft,Mm=Kt,ap=Mo.indexOf,Xc=Es,Zr=Ee([].push),au=function(n,e){var t,i=Mm(n),r=0,o=[];for(t in i)!Ss(Xc,t)&&Ss(i,t)&&Zr(o,t);for(;e.length>r;)Ss(i,t=e[r++])&&(~ap(o,t)||Zr(o,t));return o},Un=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qc=au,Qt=Un,Ge=Object.keys||function(n){return Qc(n,Qt)},Ts={};Ts.f=Object.getOwnPropertySymbols;var ed=Xe,Jr=Xt,td=we,su=Ge,Is=Ts,id=en,Pm=Et,Rm=jr,ui=Object.assign,nd=Object.defineProperty,lu=Ee([].concat),rd=!ui||td(function(){if(ed&&1!==ui({b:1},ui(nd({},"a",{enumerable:!0,get:function(){nd(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol(),i="abcdefghijklmnopqrst";return n[t]=7,i.split("").forEach(function(r){e[r]=r}),7!=ui({},n)[t]||su(ui({},e)).join("")!=i})?function(n,e){for(var t=Pm(n),i=arguments.length,r=1,o=Is.f,s=id.f;i>r;)for(var d,f=Rm(arguments[r++]),x=o?lu(su(f),o(f)):su(f),T=x.length,I=0;T>I;)d=x[I++],ed&&!Jr(s,f,d)||(t[d]=f[d]);return t}:ui;ye({target:"Object",stat:!0,forced:Object.assign!==rd},{assign:rd});var Ne=Fe.Object.assign,Ea=Ee([].slice),Ds=Ee,Fm=nn,Sa=Ue,Am=ft,sp=Ea,lp=Vn,od=ee.Function,$m=Ds([].concat),up=Ds([].join),ad={},sd=function(n,e,t){if(!Am(ad,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";ad[e]=od("C,a","return new C("+up(i,",")+")")}return ad[e](n,t)},Ms=lp?od.bind:function(n){var e=Fm(this),t=e.prototype,i=sp(arguments,1),r=function(){var o=$m(i,sp(arguments));return this instanceof r?sd(e,o.length,o):e.apply(n,o)};return Sa(t)&&(r.prototype=t),r};ye({target:"Function",proto:!0,forced:Function.bind!==Ms},{bind:Ms});var Xr=Fe,ci=function(n){return Xr[n+"Prototype"]},uu=ci("Function").bind,Lm=Qe,ri=uu,ld=Function.prototype,pe=function(n){var e=n.bind;return n===ld||Lm(ld,n)&&e===ld.bind?ri:e};function ud(n,e,t,i){n.beginPath(),n.arc(e,t,i,0,2*Math.PI,!1),n.closePath()}function du(n,e,t,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),n.beginPath(),n.moveTo(e+o,t),n.lineTo(e+i-o,t),n.arc(e+i-o,t+o,o,270*s,360*s,!1),n.lineTo(e+i,t+r-o),n.arc(e+i-o,t+r-o,o,0,90*s,!1),n.lineTo(e+o,t+r),n.arc(e+o,t+r-o,o,90*s,180*s,!1),n.lineTo(e,t+o),n.arc(e+o,t+o,o,180*s,270*s,!1),n.closePath()}function Tn(n,e,t,i,r){var o=.5522848,s=i/2*o,d=r/2*o,f=e+i,x=t+r,T=e+i/2,I=t+r/2;n.beginPath(),n.moveTo(e,I),n.bezierCurveTo(e,I-d,T-s,t,T,t),n.bezierCurveTo(T+s,t,f,I-d,f,I),n.bezierCurveTo(f,I+d,T+s,x,T,x),n.bezierCurveTo(T-s,x,e,I+d,e,I),n.closePath()}function dp(n,e,t,i,r){var o=.3333333333333333*r,s=.5522848,d=i/2*s,f=o/2*s,x=e+i,T=t+o,I=e+i/2,P=t+o/2,L=t+(r-o/2),N=t+r;n.beginPath(),n.moveTo(x,P),n.bezierCurveTo(x,P+f,I+d,T,I,T),n.bezierCurveTo(I-d,T,e,P+f,e,P),n.bezierCurveTo(e,P-f,I-d,t,I,t),n.bezierCurveTo(I+d,t,x,P-f,x,P),n.lineTo(x,L),n.bezierCurveTo(x,L+f,I+d,N,I,N),n.bezierCurveTo(I-d,N,e,L+f,e,L),n.lineTo(e,P)}function hu(n,e,t,i,r,o){n.beginPath(),n.moveTo(e,t);for(var s=o.length,d=i-e,f=r-t,x=f/d,T=Math.sqrt(d*d+f*f),I=0,P=!0,L=0,N=+o[0];T>=.1;)(N=+o[I++%s])>T&&(N=T),L=Math.sqrt(N*N/(1+x*x)),e+=L=d<0?-L:L,t+=x*L,!0===P?n.lineTo(e,t):n.moveTo(e,t),T-=N,P=!P}var Qr={circle:ud,dashedLine:hu,database:dp,diamond:function(n,e,t,i){n.beginPath(),n.lineTo(e,t+i),n.lineTo(e+i,t),n.lineTo(e,t-i),n.lineTo(e-i,t),n.closePath()},ellipse:Tn,ellipse_vis:Tn,hexagon:function(n,e,t,i){n.beginPath();var r=2*Math.PI/6;n.moveTo(e+i,t);for(var o=1;o<6;o++)n.lineTo(e+i*Math.cos(r*o),t+i*Math.sin(r*o));n.closePath()},roundRect:du,square:function(n,e,t,i){n.beginPath(),n.rect(e-i,t-i,2*i,2*i),n.closePath()},star:function(n,e,t,i){n.beginPath(),t+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;n.lineTo(e+o*Math.sin(2*r*Math.PI/10),t-o*Math.cos(2*r*Math.PI/10))}n.closePath()},triangle:function(n,e,t,i){n.beginPath(),t+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-o*o);n.moveTo(e,t-(d-s)),n.lineTo(e+o,t+s),n.lineTo(e-o,t+s),n.lineTo(e,t-(d-s)),n.closePath()},triangleDown:function(n,e,t,i){n.beginPath(),t-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-o*o);n.moveTo(e,t+(d-s)),n.lineTo(e+o,t-s),n.lineTo(e-o,t-s),n.lineTo(e,t+(d-s)),n.closePath()}},fu={exports:{}};!function(n){function e(t){if(t)return function(i){for(var r in e.prototype)i[r]=e.prototype[r];return i}(t)}n.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this},e.prototype.once=function(t,i){function r(){this.off(t,r),i.apply(this,arguments)}return r.fn=i,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var s=0;s<o.length;s++)if((r=o[s])===i||r.fn===i){o.splice(s,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),r=this._callbacks["$"+t],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(r){o=0;for(var s=(r=r.slice(0)).length;o<s;++o)r[o].apply(this,i)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(fu);var cd=fu.exports,Ta={};Ta[ot("toStringTag")]="z";var Ps="[object z]"===String(Ta),hp=ee,fp=Ps,dd=le,_i=ii,hd=ot("toStringTag"),C=hp.Object,$="Arguments"==_i(function(){return arguments}()),a=fp?_i:function(n){var e,t,i;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(r,o){try{return r[o]}catch{}}(e=C(n),hd))?t:$?_i(e):"Object"==(i=_i(e))&&dd(e.callee)?"Arguments":i},y=a,w=ee.String,S=function(n){if("Symbol"===y(n))throw TypeError("Cannot convert a Symbol value to a string");return w(n)},Q=Ee,re=ks,ge=S,Ve=Wn,ut=Q("".charAt),tt=Q("".charCodeAt),Gt=Q("".slice),St=function(n){return function(e,t){var i,r,o=ge(Ve(e)),s=re(t),d=o.length;return s<0||s>=d?n?"":void 0:(i=tt(o,s))<55296||i>56319||s+1===d||(r=tt(o,s+1))<56320||r>57343?n?ut(o,s):i:n?Gt(o,s,s+2):r-56320+(i-55296<<10)+65536}},Ut={codeAt:St(!1),charAt:St(!0)},Nt=le,Di=Wr,fd=Ee(Function.toString);Nt(Di.inspectSource)||(Di.inspectSource=function(n){return fd(n)});var Po,Mi,wi,On=Di.inspectSource,Ro=On,In=ee.WeakMap,xi=le(In)&&/native code/.test(Ro(In)),Bm=Kr,Nm=(0,Hr.exports)("keys"),gr=function(n){return Nm[n]||(Nm[n]=Bm(n))},pd=Ee,vp=Ue,M_=hn,gp=ft,Ai=gr,P_=Es,zm="Object already initialized",mp=ee.TypeError;if(xi||Wr.state){var Fo=Wr.state||(Wr.state=new(0,ee.WeakMap)),eo=pd(Fo.get),jm=pd(Fo.has),F_=pd(Fo.set);Po=function(n,e){if(jm(Fo,n))throw new mp(zm);return e.facade=n,F_(Fo,n,e),e},Mi=function(n){return eo(Fo,n)||{}},wi=function(n){return jm(Fo,n)}}else{var Ao=Ai("state");P_[Ao]=!0,Po=function(n,e){if(gp(n,Ao))throw new mp(zm);return e.facade=n,M_(n,Ao,e),e},Mi=function(n){return gp(n,Ao)?n[Ao]:{}},wi=function(n){return gp(n,Ao)}}var mr={set:Po,get:Mi,has:wi,enforce:function(n){return wi(n)?Mi(n):Po(n,{})},getterFor:function(n){return function(e){var t;if(!vp(e)||(t=Mi(e)).type!==n)throw mp("Incompatible receiver, "+n+" required");return t}}},vd=Xe,Hm=Function.prototype,gd=vd&&Object.getOwnPropertyDescriptor,yp=ft(Hm,"name"),vu={EXISTS:yp,PROPER:yp&&"something"===function(){}.name,CONFIGURABLE:yp&&(!vd||vd&&gd(Hm,"name").configurable)},$o={},Vm=Ft,bp=Bt,L_=Kt,Da=Ge;$o.f=Xe&&!Kc?Object.defineProperties:function(n,e){bp(n);for(var t,i=L_(e),r=Da(e),o=r.length,s=0;o>s;)Vm.f(n,t=r[s++],i[t]);return n};var yr,Wm=hi("document","documentElement"),md=Bt,B_=$o,_p=Un,Km=Es,N_=Wm,Gm=tu,Um=gr("IE_PROTO"),yd=function(){},Ym=function(n){return"<script>"+n+"<\/script>"},wp=function(n){n.write(Ym("")),n.close();var e=n.parentWindow.Object;return n=null,e},Ma=function(){try{yr=new ActiveXObject("htmlfile")}catch{}var n,e;Ma=typeof document<"u"?document.domain&&yr?wp(yr):((e=Gm("iframe")).style.display="none",N_.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(Ym("document.F=Object")),n.close(),n.F):wp(yr);for(var t=_p.length;t--;)delete Ma.prototype[_p[t]];return Ma()};Km[Um]=!0;var Pa,qm,xp,to=Object.create||function(n,e){var t;return null!==n?(yd.prototype=md(n),t=new yd,yd.prototype=null,t[Um]=n):t=Ma(),void 0===e?t:B_.f(t,e)},Rs=!we(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),z_=ee,kp=ft,br=le,Fs=Et,j_=Rs,bd=gr("IE_PROTO"),mu=z_.Object,H_=mu.prototype,Lo=j_?mu.getPrototypeOf:function(n){var e=Fs(n);if(kp(e,bd))return e[bd];var t=e.constructor;return br(t)&&e instanceof t?t.prototype:e instanceof mu?H_:null},Zm=hn,As=function(n,e,t,i){i&&i.enumerable?n[e]=t:Zm(n,e,t)},V_=we,Ra=le,W_=to,Cp=Lo,K_=As,Bo=ot("iterator"),_r=!1;[].keys&&("next"in(xp=[].keys())?(qm=Cp(Cp(xp)))!==Object.prototype&&(Pa=qm):_r=!0);var Ep=null==Pa||V_(function(){var n={};return Pa[Bo].call(n)!==n});Ra((Pa=Ep?{}:W_(Pa))[Bo])||K_(Pa,Bo,function(){return this});var Jm={IteratorPrototype:Pa,BUGGY_SAFARI_ITERATORS:_r},Xm=a,Sp=Ps,Qm=Ft.f,_d=hn,G_=ft,U_=Ps?{}.toString:function(){return"[object "+Xm(this)+"]"},ey=ot("toStringTag"),io=function(n,e,t,i){if(n){var r=t?n:n.prototype;G_(r,ey)||Qm(r,ey,{configurable:!0,value:e}),i&&!Sp&&_d(r,"toString",U_)}},$s={},Tp=Jm.IteratorPrototype,Y_=to,ty=ji,Op=io,Wi=$s,q_=function(){return this},Z_=le,ny=ee.String,ry=ee.TypeError,wd=Ee,J_=Bt,yu=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=wd(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch{}return function(i,r){return J_(i),function(n){if("object"==typeof n||Z_(n))return n;throw ry("Can't set "+ny(n)+" as a prototype")}(r),e?n(i,r):i.__proto__=r,i}}():void 0),Q_=ye,ew=Xt,iw=Lo,nw=io,oy=As,bu=$s,rw=vu.PROPER,Ls=Jm.BUGGY_SAFARI_ITERATORS,Ip=ot("iterator"),xd="values",ay="entries",ow=function(){return this},kd=function(n,e,t,i,r,o,s){!function(n,e,t,i){var r=e+" Iterator";n.prototype=Y_(Tp,{next:ty(+!i,t)}),Op(n,r,!1,!0),Wi[r]=q_}(t,e,i);var d,f,x,T=function(V){if(V===r&&H)return H;if(!Ls&&V in L)return L[V];switch(V){case"keys":case xd:case ay:return function(){return new t(this,V)}}return function(){return new t(this)}},I=e+" Iterator",P=!1,L=n.prototype,N=L[Ip]||L["@@iterator"]||r&&L[r],H=!Ls&&N||T(r),Y="Array"==e&&L.entries||N;if(Y&&(d=iw(Y.call(new n)))!==Object.prototype&&d.next&&(nw(d,I,!0,!0),bu[I]=ow),rw&&r==xd&&N&&N.name!==xd&&(P=!0,H=function(){return ew(N,this)}),r)if(f={values:T(xd),keys:o?H:T("keys"),entries:T(ay)},s)for(x in f)(Ls||P||!(x in L))&&oy(L,x,f[x]);else Q_({target:e,proto:!0,forced:Ls||P},f);return s&&L[Ip]!==H&&oy(L,Ip,H,{name:r}),bu[e]=H,f},Mp=Ut.charAt,sy=S,Cd=kd,an="String Iterator",Ed=mr.set,ly=mr.getterFor(an);Cd(String,"String",function(n){Ed(this,{type:an,string:sy(n),index:0})},function(){var n,e=ly(this),t=e.string,i=e.index;return i>=t.length?{value:void 0,done:!0}:(n=Mp(t,i),e.index+=n.length,{value:n,done:!1})});var Bs=Xt,Rp=Bt,aw=Cn,Fp=function(n,e,t){var i,r;Rp(n);try{if(!(i=aw(n,"return"))){if("throw"===e)throw t;return t}i=Bs(i,n)}catch(o){r=!0,i=o}if("throw"===e)throw t;if(r)throw i;return Rp(i),t},sw=Bt,uy=Fp,lw=$s,cy=ot("iterator"),Ap=Array.prototype,dy=function(n){return void 0!==n&&(lw.Array===n||Ap[cy]===n)},Sd=Ee,uw=we,_u=le,cw=a,hy=On,wu=function(){},Ns=[],fy=hi("Reflect","construct"),zs=/^\s*(?:class|function)\b/,Td=Sd(zs.exec),dw=!zs.exec(wu),js=function(n){if(!_u(n))return!1;try{return fy(wu,Ns,n),!0}catch{return!1}},Od=function(n){if(!_u(n))return!1;switch(cw(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return dw||!!Td(zs,hy(n))}catch{return!0}};Od.sham=!0;var Hs=!fy||uw(function(){var n;return js(js.call)||!js(Object)||!js(function(){n=!0})||n})?Od:js,hw=Gr,fw=Ft,py=ji,No=function(n,e,t){var i=hw(e);i in n?fw.f(n,i,py(0,t)):n[i]=t},pw=a,Vs=Cn,no=$s,ro=ot("iterator"),Id=function(n){if(null!=n)return Vs(n,ro)||Vs(n,"@@iterator")||no[pw(n)]},vw=Xt,Fa=nn,gw=Bt,vy=kn,mw=Id,Aa=ee.TypeError,Ws=function(n,e){var t=arguments.length<2?mw(n):e;if(Fa(t))return gw(vw(t,n));throw Aa(vy(n)+" is not iterable")},$p=Sn,yw=Xt,gy=Et,bw=function(n,e,t,i){try{return i?e(sw(t)[0],t[1]):e(t)}catch(r){uy(n,"throw",r)}},Lp=dy,_w=Hs,ww=Ii,Bp=No,Dd=Ws,xw=Id,my=ee.Array,Np=ot("iterator"),$a=!1;try{var kw=0,xu={next:function(){return{done:!!kw++}},return:function(){$a=!0}};xu[Np]=function(){return this},Array.from(xu,function(){throw 2})}catch{}ye({target:"Array",stat:!0,forced:!function(n,e){if(!$a)return!1;var t=!1;try{var i={};i[Np]=function(){return{next:function(){return{done:t=!0}}}},function(n){Array.from(n)}(i)}catch{}return t}()},{from:function(n){var e=gy(n),t=_w(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=$p(r,i>2?arguments[2]:void 0));var s,d,f,x,T,I,P=xw(e),L=0;if(!P||this==my&&Lp(P))for(s=ww(e),d=t?new this(s):my(s);s>L;L++)I=o?r(e[L],L):e[L],Bp(d,L,I);else for(T=(x=Dd(e,P)).next,d=t?new this:[];!(f=yw(T,x)).done;L++)I=o?bw(x,r,[f.value,L],!0):f.value,Bp(d,L,I);return d.length=L,d}});var La=Fe.Array.from,oo=La,Hp=Kt,Md=$s,Cw=kd,Pd="Array Iterator",by=mr.set,Rd=mr.getterFor(Pd);Cw(Array,"Array",function(n,e){by(this,{type:Pd,target:Hp(n),index:0,kind:e})},function(){var n=Rd(this),e=n.target,t=n.kind,i=n.index++;return!e||i>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:i,done:!1}:"values"==t?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values"),Md.Arguments=Md.Array;var Ew=Id,ku=ee,_y=a,Tw=hn,Vp=$s,wy=ot("toStringTag");for(var Wp in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var xy=ku[Wp],Kp=xy&&xy.prototype;Kp&&_y(Kp)!==wy&&Tw(Kp,wy,Wp),Vp[Wp]=Vp.Array}var wr=Ew,ky=ii,Ks=Array.isArray||function(n){return"Array"==ky(n)},Gs={},Ow=au,Us=Un.concat("length","prototype");Gs.f=Object.getOwnPropertyNames||function(n){return Ow(n,Us)};var Fd={},Gp=Gn,Cy=Ii,Ey=No,Ys=ee.Array,Up=Math.max,Yp=function(n,e,t){for(var i=Cy(n),r=Gp(e,i),o=Gp(void 0===t?i:t,i),s=Ys(Up(o-r,0)),d=0;r<o;r++,d++)Ey(s,d,n[r]);return s.length=d,s},qp=ii,Sy=Kt,Zp=Gs.f,Iw=Yp,Ba="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Fd.f=function(n){return Ba&&"Window"==qp(n)?function(e){try{return Zp(e)}catch{return Iw(Ba)}}(n):Zp(Sy(n))};var Na={};Na.f=ot;var Ty=Fe,Oy=ft,Dw=Na,Mw=Ft.f,oi=function(n){var e=Ty.Symbol||(Ty.Symbol={});Oy(e,n)||Mw(e,n,{value:Dw.f(n)})},Iy=ee,Dy=Ks,Pw=Hs,Jp=Ue,Ad=ot("species"),Xp=Iy.Array,$d=function(n,e){return new(function(n){var e;return Dy(n)&&(Pw(e=n.constructor)&&(e===Xp||Dy(e.prototype))||Jp(e)&&null===(e=e[Ad]))&&(e=void 0),void 0===e?Xp:e}(n))(0===e?0:e)},Ld=Sn,Rw=jr,My=Et,Bd=Ii,Py=$d,ev=Ee([].push),ao=function(n){var e=1==n,t=2==n,i=3==n,r=4==n,o=6==n,s=7==n,d=5==n||o;return function(f,x,T,I){for(var P,L,N=My(f),H=Rw(N),Y=Ld(x,T),V=Bd(H),K=0,J=I||Py,ue=e?J(f,V):t||s?J(f,0):void 0;V>K;K++)if((d||K in H)&&(L=Y(P=H[K],K,N),n))if(e)ue[K]=L;else if(L)switch(n){case 3:return!0;case 5:return P;case 6:return K;case 2:ev(ue,P)}else switch(n){case 4:return!1;case 7:ev(ue,P)}return o?-1:i||r?r:ue}},Yn={forEach:ao(0),map:ao(1),filter:ao(2),some:ao(3),every:ao(4),find:ao(5),findIndex:ao(6),filterReject:ao(7)},zo=ye,qn=ee,tv=hi,iv=di,Cu=Xt,Ry=Ee,Zs=Xe,za=Oo,Nd=we,ai=ft,nv=Ks,Fy=le,rv=Ue,Js=Qe,ja=ya,zd=Bt,Eu=Et,Zn=Kt,jd=Gr,Ay=S,ov=ji,Su=to,$y=Ge,Ly=Gs,By=Fd,Hd=Ts,av=rt,Ny=Ft,zy=$o,Tu=en,Vd=Ea,sv=As,Xs=Hr.exports,jy=Es,Hy=Kr,Vy=ot,si=Na,Qs=oi,lv=io,Wy=mr,Ou=Yn.forEach,Ci=gr("hidden"),Iu="Symbol",Ha=Vy("toPrimitive"),Va=Wy.set,Wa=Wy.getterFor(Iu),bt=Object.prototype,xr=qn.Symbol,kr=xr&&xr.prototype,uv=qn.TypeError,cv=qn.QObject,so=tv("JSON","stringify"),Wd=av.f,jo=Ny.f,el=By.f,dv=Tu.f,Kd=Ry([].push),Jn=Xs("symbols"),lo=Xs("op-symbols"),Gd=Xs("string-to-symbol-registry"),Ud=Xs("symbol-to-string-registry"),Ky=Xs("wks"),tl=!cv||!cv.prototype||!cv.prototype.findChild,Yd=Zs&&Nd(function(){return 7!=Su(jo({},"a",{get:function(){return jo(this,"a",{value:7}).a}})).a})?function(n,e,t){var i=Wd(bt,e);i&&delete bt[e],jo(n,e,t),i&&n!==bt&&jo(bt,e,i)}:jo,qd=function(n,e){var t=Jn[n]=Su(kr);return Va(t,{type:Iu,tag:n,description:e}),Zs||(t.description=e),t},Zd=function(n,e,t){n===bt&&Zd(lo,e,t),zd(n);var i=jd(e);return zd(t),ai(Jn,i)?(t.enumerable?(ai(n,Ci)&&n[Ci][i]&&(n[Ci][i]=!1),t=Su(t,{enumerable:ov(0,!1)})):(ai(n,Ci)||jo(n,Ci,ov(1,{})),n[Ci][i]=!0),Yd(n,i,t)):jo(n,i,t)},Jd=function(n,e){zd(n);var t=Zn(e),i=$y(t).concat(Du(t));return Ou(i,function(r){Zs&&!Cu(Gy,t,r)||Zd(n,r,t[r])}),n},Gy=function(n){var e=jd(n),t=Cu(dv,this,e);return!(this===bt&&ai(Jn,e)&&!ai(lo,e))&&(!(t||!ai(this,e)||!ai(Jn,e)||ai(this,Ci)&&this[Ci][e])||t)},Xd=function(n,e){var t=Zn(n),i=jd(e);if(t!==bt||!ai(Jn,i)||ai(lo,i)){var r=Wd(t,i);return!r||!ai(Jn,i)||ai(t,Ci)&&t[Ci][i]||(r.enumerable=!0),r}},il=function(n){var e=el(Zn(n)),t=[];return Ou(e,function(i){ai(Jn,i)||ai(jy,i)||Kd(t,i)}),t},Du=function(n){var e=n===bt,t=el(e?lo:Zn(n)),i=[];return Ou(t,function(r){!ai(Jn,r)||e&&!ai(bt,r)||Kd(i,Jn[r])}),i};if(za||(xr=function(){if(Js(kr,this))throw uv("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?Ay(arguments[0]):void 0,e=Hy(n),t=function(i){this===bt&&Cu(t,lo,i),ai(this,Ci)&&ai(this[Ci],e)&&(this[Ci][e]=!1),Yd(this,e,ov(1,i))};return Zs&&tl&&Yd(bt,e,{configurable:!0,set:t}),qd(e,n)},sv(kr=xr.prototype,"toString",function(){return Wa(this).tag}),sv(xr,"withoutSetter",function(n){return qd(Hy(n),n)}),Tu.f=Gy,Ny.f=Zd,zy.f=Jd,av.f=Xd,Ly.f=By.f=il,Hd.f=Du,si.f=function(n){return qd(Vy(n),n)},Zs&&jo(kr,"description",{configurable:!0,get:function(){return Wa(this).description}})),zo({global:!0,wrap:!0,forced:!za,sham:!za},{Symbol:xr}),Ou($y(Ky),function(n){Qs(n)}),zo({target:Iu,stat:!0,forced:!za},{for:function(n){var e=Ay(n);if(ai(Gd,e))return Gd[e];var t=xr(e);return Gd[e]=t,Ud[t]=e,t},keyFor:function(n){if(!ja(n))throw uv(n+" is not a symbol");if(ai(Ud,n))return Ud[n]},useSetter:function(){tl=!0},useSimple:function(){tl=!1}}),zo({target:"Object",stat:!0,forced:!za,sham:!Zs},{create:function(n,e){return void 0===e?Su(n):Jd(Su(n),e)},defineProperty:Zd,defineProperties:Jd,getOwnPropertyDescriptor:Xd}),zo({target:"Object",stat:!0,forced:!za},{getOwnPropertyNames:il,getOwnPropertySymbols:Du}),zo({target:"Object",stat:!0,forced:Nd(function(){Hd.f(1)})},{getOwnPropertySymbols:function(n){return Hd.f(Eu(n))}}),so&&zo({target:"JSON",stat:!0,forced:!za||Nd(function(){var n=xr();return"[null]"!=so([n])||"{}"!=so({a:n})||"{}"!=so(Object(n))})},{stringify:function(n,e,t){var i=Vd(arguments),r=e;if((rv(e)||void 0!==n)&&!ja(n))return nv(e)||(e=function(o,s){if(Fy(r)&&(s=Cu(r,this,o,s)),!ja(s))return s}),i[1]=e,iv(so,null,i)}}),!kr[Ha]){var Yy=kr.valueOf;sv(kr,Ha,function(n){return Cu(Yy,this)})}lv(xr,Iu),jy[Ci]=!0;var Ho=Fe.Object.getOwnPropertySymbols,Ka={exports:{}},Fw=ye,Qd=Kt,Ki=rt.f,Mu=Xe,Pu=we(function(){Ki(1)});Fw({target:"Object",stat:!0,forced:!Mu||Pu,sham:!Mu},{getOwnPropertyDescriptor:function(n,e){return Ki(Qd(n),e)}});var qy=Fe.Object,Zy=Ka.exports=function(n,e){return qy.getOwnPropertyDescriptor(n,e)};qy.getOwnPropertyDescriptor.sham&&(Zy.sham=!0);var Dn=Ka.exports,$i=Dn,Ga=hi,Jy=Gs,fv=Ts,Ua=Bt,Xy=Ee([].concat),uo=Ga("Reflect","ownKeys")||function(n){var e=Jy.f(Ua(n)),t=fv.f;return t?Xy(e,t(n)):e},Qy=uo,Aw=Kt,eb=rt,co=No;ye({target:"Object",stat:!0,sham:!Xe},{getOwnPropertyDescriptors:function(n){for(var e,t,i=Aw(n),r=eb.f,o=Qy(i),s={},d=0;o.length>d;)void 0!==(t=r(i,e=o[d++]))&&co(s,e,t);return s}});var Mn=Fe.Object.getOwnPropertyDescriptors,eh={exports:{}},ih=$o.f;ye({target:"Object",stat:!0,forced:Object.defineProperties!==ih,sham:!Xe},{defineProperties:ih});var Ru=Fe.Object,pv=eh.exports=function(n,e){return Ru.defineProperties(n,e)};Ru.defineProperties.sham&&(pv.sham=!0);var Ya=eh.exports,Fu={exports:{}},nh=Ft.f;ye({target:"Object",stat:!0,forced:Object.defineProperty!==nh,sham:!Xe},{defineProperty:nh});var rh=Fe.Object,Lw=Fu.exports=function(n,e,t){return rh.defineProperty(n,e,t)};rh.defineProperty.sham&&(Lw.sham=!0);var ib=Fu.exports,Au=ib;function _e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var oh=ib;function nb(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),oh(n,i.key,i)}}function xe(n,e,t){return e&&nb(n.prototype,e),t&&nb(n,t),oh(n,"prototype",{writable:!1}),n}function nl(n,e,t){return e in n?oh(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}ye({target:"Array",stat:!0},{isArray:Ks});var rl=Fe.Array.isArray,rb=rl,gv=we,ob=xn,ab=ot("species"),ol=function(n){return ob>=51||!gv(function(){var e=[];return(e.constructor={})[ab]=function(){return{foo:1}},1!==e[n](Boolean).foo})},Bw=ye,Nw=ee,zw=we,jw=Ks,sb=Ue,Hw=Et,Vw=Ii,lb=No,Ww=$d,mv=ol,ub=xn,yv=ot("isConcatSpreadable"),ah=9007199254740991,sh="Maximum allowed index exceeded",$u=Nw.TypeError,Kw=ub>=51||!zw(function(){var n=[];return n[yv]=!1,n.concat()[0]!==n}),Gw=mv("concat"),cb=function(n){if(!sb(n))return!1;var e=n[yv];return void 0!==e?!!e:jw(n)};Bw({target:"Array",proto:!0,forced:!Kw||!Gw},{concat:function(n){var e,t,i,r,o,s=Hw(this),d=Ww(s,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(cb(o=-1===e?s:arguments[e])){if(f+(r=Vw(o))>ah)throw $u(sh);for(t=0;t<r;t++,f++)t in o&&lb(d,f,o[t])}else{if(f>=ah)throw $u(sh);lb(d,f++,o)}return d.length=f,d}}),oi("asyncIterator"),oi("hasInstance"),oi("isConcatSpreadable"),oi("iterator"),oi("match"),oi("matchAll"),oi("replace"),oi("search"),oi("species"),oi("split"),oi("toPrimitive"),oi("toStringTag"),oi("unscopables"),io(ee.JSON,"JSON",!0);var bv=Fe.Symbol,db=bv;oi("asyncDispose"),oi("dispose"),oi("matcher"),oi("metadata"),oi("observable"),oi("patternMatch"),oi("replaceAll");var al=db,sl=ye,Lu=ee,hb=Ks,Uw=Hs,Yw=Ue,lh=Gn,fb=Ii,pb=Kt,qw=No,Zw=ot,vb=Ea,gb=ol("slice"),_v=Zw("species"),uh=Lu.Array,Jw=Math.max;sl({target:"Array",proto:!0,forced:!gb},{slice:function(n,e){var t,i,r,o=pb(this),s=fb(o),d=lh(n,s),f=lh(void 0===e?s:e,s);if(hb(o)&&((Uw(t=o.constructor)&&(t===uh||hb(t.prototype))||Yw(t)&&null===(t=t[_v]))&&(t=void 0),t===uh||void 0===t))return vb(o,d,f);for(i=new(void 0===t?uh:t)(Jw(f-d,0)),r=0;d<f;d++,r++)d in o&&qw(i,r,o[d]);return i.length=r,i}});var mb=ci("Array").slice,Xw=Qe,wv=mb,xv=Array.prototype,Bu=function(n){var e=n.slice;return n===xv||Xw(xv,n)&&e===xv.slice?wv:e},Qw=Bu,ch=La;function kv(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function yb(n,e){var t;if(n){if("string"==typeof n)return kv(n,e);var i=Qw(t=Object.prototype.toString.call(n)).call(t,8,-1);return"Object"===i&&n.constructor&&(i=n.constructor.name),"Map"===i||"Set"===i?ch(n):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kv(n,e):void 0}}function Yt(n,e){return function(t){if(rb(t))return t}(n)||function(t,i){var r=null==t?null:void 0!==al&&wr(t)||t["@@iterator"];if(null!=r){var o,s,d=[],f=!0,x=!1;try{for(r=r.call(t);!(f=(o=r.next()).done)&&(d.push(o.value),!i||d.length!==i);f=!0);}catch(T){x=!0,s=T}finally{try{f||null==r.return||r.return()}finally{if(x)throw s}}return d}}(n,e)||yb(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var li=Na.f("iterator");function _t(n){return(_t="function"==typeof al&&"symbol"==typeof li?function(e){return typeof e}:function(e){return e&&"function"==typeof al&&e.constructor===al&&e!==al.prototype?"symbol":typeof e})(n)}function Pn(n){return function(e){if(rb(e))return kv(e)}(n)||function(e){if(void 0!==al&&null!=wr(e)||null!=e["@@iterator"])return ch(e)}(n)||yb(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fo=bv,e1=ci("Array").concat,Nu=Qe,t1=e1,Cr=Array.prototype,zu=function(n){var e=n.concat;return n===Cr||Nu(Cr,n)&&e===Cr.concat?t1:e},ct=Bu;ye({target:"Reflect",stat:!0},{ownKeys:uo});var Tt=rl,Cv=Yn.map;ye({target:"Array",proto:!0,forced:!ol("map")},{map:function(n){return Cv(this,n,arguments.length>1?arguments[1]:void 0)}});var bb=ci("Array").map,n1=Qe,dh=bb,Za=Array.prototype,ei=function(n){var e=n.map;return n===Za||n1(Za,n)&&e===Za.map?dh:e},hh=Et,Ev=Ge;ye({target:"Object",stat:!0,forced:we(function(){Ev(1)})},{keys:function(n){return Ev(hh(n))}});var dt=Fe.Object.keys,vi=ye,wb=ee.Date,xb=Ee(wb.prototype.getTime);vi({target:"Date",stat:!0},{now:function(){return xb(new wb)}});var ul=Fe.Date.now,fh=we,Er=function(n,e){var t=[][n];return!!t&&fh(function(){t.call(null,e||function(){return 1},1)})},ju=Yn.forEach,ph=Er("forEach")?[].forEach:function(n){return ju(this,n,arguments.length>1?arguments[1]:void 0)};ye({target:"Array",proto:!0,forced:[].forEach!=ph},{forEach:ph});var Gi=ci("Array").forEach,Sv=a,cl=ft,Tv=Qe,kb=Gi,vh=Array.prototype,Ov={DOMTokenList:!0,NodeList:!0},Dt=function(n){var e=n.forEach;return n===vh||Tv(vh,n)&&e===vh.forEach||cl(Ov,Sv(n))?kb:e},r1=ye,Cb=Ks,Eb=Ee([].reverse),Hu=[1,2];r1({target:"Array",proto:!0,forced:String(Hu)===String(Hu.reverse())},{reverse:function(){return Cb(this)&&(this.length=this.length),Eb(this)}});var sn=ci("Array").reverse,gh=Qe,Vu=sn,dl=Array.prototype,Ui=function(n){var e=n.reverse;return n===dl||gh(dl,n)&&e===dl.reverse?Vu:e},Xn=ye,po=ee,Vo=Gn,Iv=ks,Dv=Ii,Wu=Et,Sb=$d,Sr=No,Tb=ol("splice"),a1=po.TypeError,Ob=Math.max,vo=Math.min,Ku=9007199254740991,Mv="Maximum allowed length exceeded";Xn({target:"Array",proto:!0,forced:!Tb},{splice:function(n,e){var t,i,r,o,s,d,f=Wu(this),x=Dv(f),T=Vo(n,x),I=arguments.length;if(0===I?t=i=0:1===I?(t=0,i=x-T):(t=I-2,i=vo(Ob(Iv(e),0),x-T)),x+t-i>Ku)throw a1(Mv);for(r=Sb(f,i),o=0;o<i;o++)(s=T+o)in f&&Sr(r,o,f[s]);if(r.length=i,t<i){for(o=T;o<x-i;o++)d=o+t,(s=o+i)in f?f[d]=f[s]:delete f[d];for(o=x;o>x-i+t;o--)delete f[o-1]}else if(t>i)for(o=x-i;o>T;o--)d=o+t-1,(s=o+i-1)in f?f[d]=f[s]:delete f[d];for(o=0;o<t;o++)f[o+T]=arguments[o+2];return f.length=x-i+t,r}});var Pv=ci("Array").splice,s1=Qe,Rv=Pv,Gu=Array.prototype,Rn=function(n){var e=n.splice;return n===Gu||s1(Gu,n)&&e===Gu.splice?Rv:e},Av=Mo.includes;ye({target:"Array",proto:!0},{includes:function(n){return Av(this,n,arguments.length>1?arguments[1]:void 0)}});var l1=ci("Array").includes,Ib=Ue,Db=ii,Mb=ot("match"),Lv=ee.TypeError,Pb=ot("match"),Rb=ye,u1=function(n){if(function(n){var e;return Ib(n)&&(void 0!==(e=n[Mb])?!!e:"RegExp"==Db(n))}(n))throw Lv("The method doesn't accept regular expressions");return n},c1=Wn,Fb=S,Ab=Ee("".indexOf);Rb({target:"String",proto:!0,forced:!function(n){var e=/./;try{"/./"[n](e)}catch{try{return e[Pb]=!1,"/./"[n](e)}catch{}}return!1}("includes")},{includes:function(n){return!!~Ab(Fb(c1(this)),Fb(u1(n)),arguments.length>1?arguments[1]:void 0)}});var d1=ci("String").includes,$b=Qe,h1=l1,Ja=d1,Uu=Array.prototype,Bv=String.prototype,Qn=function(n){var e=n.includes;return n===Uu||$b(Uu,n)&&e===Uu.includes?h1:"string"==typeof n||n===Bv||$b(Bv,n)&&e===Bv.includes?Ja:e},Nv=Et,Lb=Lo,p1=Rs;ye({target:"Object",stat:!0,forced:we(function(){Lb(1)}),sham:!p1},{getPrototypeOf:function(n){return Lb(Nv(n))}});var Bb=Fe.Object.getPrototypeOf,zv=Bb,v1=Yn.filter;ye({target:"Array",proto:!0,forced:!ol("filter")},{filter:function(n){return v1(this,n,arguments.length>1?arguments[1]:void 0)}});var g1=ci("Array").filter,m1=Qe,y1=g1,jv=Array.prototype,Li=function(n){var e=n.filter;return n===jv||m1(jv,n)&&e===jv.filter?y1:e},_1=Xe,Nb=Ee,w1=Ge,zb=Kt,x1=Nb(en.f),k1=Nb([].push),jb=function(n){return function(e){for(var t,i=zb(e),r=w1(i),o=r.length,s=0,d=[];o>s;)t=r[s++],_1&&!x1(i,t)||k1(d,n?[t,i[t]]:i[t]);return d}},Hb=(jb(!0),jb(!1));ye({target:"Object",stat:!0},{values:function(n){return Hb(n)}});var Vb="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",C1=Wn,Wb=S,Hv=Ee("".replace),Yu="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",E1=RegExp("^"+Yu+Yu+"*"),Vv=RegExp(Yu+Yu+"*$"),Wv=function(n){return function(e){var t=Wb(C1(e));return 1&n&&(t=Hv(t,E1,"")),2&n&&(t=Hv(t,Vv,"")),t}},yh={start:Wv(1),end:Wv(2),trim:Wv(3)},bh=we,T1=S,_h=yh.trim,Gv=Vb,hl=ee.parseInt,Kb=ee.Symbol,Gb=Kb&&Kb.iterator,Ub=/^[+-]?0x/i,Yb=Ee(Ub.exec),Uv=8!==hl(Gv+"08")||22!==hl(Gv+"0x16")||Gb&&!bh(function(){hl(Object(Gb))})?function(n,e){var t=_h(T1(n));return hl(t,e>>>0||(Yb(Ub,t)?16:10))}:hl;ye({global:!0,forced:parseInt!=Uv},{parseInt:Uv});var Yi=Fe.parseInt,qb=ye,Zb=Mo.indexOf,Yv=Er,qv=Ee([].indexOf),Zv=!!qv&&1/qv([1],1,-0)<0,O1=Yv("indexOf");qb({target:"Array",proto:!0,forced:Zv||!O1},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return Zv?qv(this,n,e)||0:Zb(this,n,e)}});var n,I1=ci("Array").indexOf,D1=Qe,Jv=I1,wh=Array.prototype,mt=function(n){var e=n.indexOf;return n===wh||D1(wh,n)&&e===wh.indexOf?Jv:e},P1=vu.PROPER,Xb=Vb,R1=yh.trim;ye({target:"String",proto:!0,forced:(n="trim",we(function(){return!!Xb[n]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[n]()||P1&&Xb[n].name!==n}))},{trim:function(){return R1(this)}}),ci("String"),ye({target:"Object",stat:!0,sham:!Xe},{create:to});var Xv=Fe.Object,Qv=function(n,e){return Xv.create(n,e)},Wo=Qv,Qb=ye,qu=di,Zu=Ee,A1=we,xh=ee.Array,Xa=hi("JSON","stringify"),Ju=Zu(/./.exec),e0=Zu("".charAt),$1=Zu("".charCodeAt),L1=Zu("".replace),B1=Zu(1..toString),t0=/[\uD800-\uDFFF]/g,eg=/^[\uD800-\uDBFF]$/,n0=/^[\uDC00-\uDFFF]$/,N1=function(n,e,t){var i=e0(t,e-1),r=e0(t,e+1);return Ju(eg,n)&&!Ju(n0,r)||Ju(n0,n)&&!Ju(eg,i)?"\\u"+B1($1(n,0),16):n},tg=A1(function(){return'"\\udf06\\ud834"'!==Xa("\udf06\ud834")||'"\\udead"'!==Xa("\udead")});Xa&&Qb({target:"JSON",stat:!0,forced:tg},{stringify:function(n,e,t){for(var i=0,r=arguments.length,o=xh(r);i<r;i++)o[i]=arguments[i];var s=qu(Xa,null,o);return"string"==typeof s?L1(s,t0,N1):s}});var ig=Fe,z1=di;ig.JSON||(ig.JSON={stringify:JSON.stringify});var Xu=function(n,e,t){return z1(ig.JSON.stringify,null,arguments)},H1=ee.TypeError,ng=ye,kh=ee,V1=di,W1=le,K1=Ea,G1=function(n,e){if(n<e)throw H1("Not enough arguments");return n},U1=/MSIE .\./.test(fi),r0=kh.Function,o0=function(n){return function(e,t){var i=G1(arguments.length,1)>2,r=W1(e)?e:r0(e),o=i?K1(arguments,2):void 0;return n(i?function(){V1(r,this,o)}:r,t)}};ng({global:!0,bind:!0,forced:U1},{setTimeout:o0(kh.setTimeout),setInterval:o0(kh.setInterval)});var Tr=Fe.setTimeout,a0=Et,s0=Gn,Y1=Ii;ye({target:"Array",proto:!0},{fill:function(n){for(var e=a0(this),t=Y1(e),i=arguments.length,r=s0(i>1?arguments[1]:void 0,t),o=i>2?arguments[2]:void 0,s=void 0===o?t:s0(o,t);s>r;)e[r++]=n;return e}});var rg,q1=ci("Array").fill,er=Qe,vn=q1,fl=Array.prototype,Fn=function(n){var e=n.fill;return n===fl||er(fl,n)&&e===fl.fill?vn:e};function An(){return An=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},An.apply(this,arguments)}function $n(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function go(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}rg="function"!=typeof Object.assign?function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var ln,mo=rg,Qu=["","webkit","Moz","MS","ms","o"],l0=typeof document>"u"?{style:{}}:document.createElement("div"),es=Math.round,Or=Math.abs,Ch=Date.now;function pl(n,e){for(var t,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Qu.length;){if((i=(t=Qu[o])?t+r:e)in n)return i;o++}}ln=typeof window>"u"?{}:window;var ts=pl(l0.style,"touchAction"),ec=void 0!==ts,tc="compute",Eh="manipulation",vl="none",ic="pan-x",Go="pan-y",gl=function(){if(!ec)return!1;var n={},e=ln.CSS&&ln.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=!e||ln.CSS.supports("touch-action",t)}),n}(),ml="ontouchstart"in ln,Sh=void 0!==pl(ln,"PointerEvent"),u0=ml&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Uo="touch",tr="mouse",Th=["x","y"],qo=["clientX","clientY"];function ir(n,e,t){var i;if(n)if(n.forEach)n.forEach(e,t);else if(void 0!==n.length)for(i=0;i<n.length;)e.call(t,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i,n)}function nc(n,e){return"function"==typeof n?n.apply(e&&e[0]||void 0,e):n}function qt(n,e){return n.indexOf(e)>-1}var Oh=function(){function n(t,i){this.manager=t,this.set(i)}var e=n.prototype;return e.set=function(t){t===tc&&(t=this.compute()),ec&&this.manager.element.style&&gl[t]&&(this.manager.element.style[ts]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ir(this.manager.recognizers,function(i){nc(i.options.enable,[i])&&(t=t.concat(i.getTouchAction()))}),function(i){if(qt(i,vl))return vl;var r=qt(i,ic),o=qt(i,Go);return r&&o?vl:r||o?r?ic:Go:qt(i,Eh)?Eh:"auto"}(t.join(" "))},e.preventDefaults=function(t){var i=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var o=this.actions,s=qt(o,vl)&&!gl.none,d=qt(o,Go)&&!gl["pan-y"],f=qt(o,ic)&&!gl["pan-x"];if(s&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!f||!d)return s||d&&6&r||f&&24&r?this.preventSrc(i):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},n}();function Ih(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function og(n){var e=n.length;if(1===e)return{x:es(n[0].clientX),y:es(n[0].clientY)};for(var t=0,i=0,r=0;r<e;)t+=n[r].clientX,i+=n[r].clientY,r++;return{x:es(t/e),y:es(i/e)}}function ag(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:es(n.pointers[t].clientX),clientY:es(n.pointers[t].clientY)},t++;return{timeStamp:Ch(),pointers:e,center:og(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Dh(n,e,t){t||(t=Th);var i=e[t[0]]-n[t[0]],r=e[t[1]]-n[t[1]];return Math.sqrt(i*i+r*r)}function ns(n,e,t){return t||(t=Th),180*Math.atan2(e[t[1]]-n[t[1]],e[t[0]]-n[t[0]])/Math.PI}function yl(n,e){return n===e?1:Or(n)>=Or(e)?n<0?2:4:e<0?8:16}function bl(n,e,t){return{x:e/n||0,y:t/n||0}}function gi(n,e,t){var i=t.pointers.length,r=t.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;t.isFirst=!!o,t.isFinal=!!s,o&&(n.session={}),t.eventType=e,function c0(n,e){var t=n.session,i=e.pointers,r=i.length;t.firstInput||(t.firstInput=ag(e)),r>1&&!t.firstMultiple?t.firstMultiple=ag(e):1===r&&(t.firstMultiple=!1);var H,Y,V,K,J,ue,o=t.firstInput,s=t.firstMultiple,d=s?s.center:o.center,f=e.center=og(i);e.timeStamp=Ch(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=ns(d,f),e.distance=Dh(d,f),V=(Y=e).center,K=(H=t).offsetDelta||{},J=H.prevDelta||{},ue=H.prevInput||{},1!==Y.eventType&&4!==ue.eventType||(J=H.prevDelta={x:ue.deltaX||0,y:ue.deltaY||0},K=H.offsetDelta={x:V.x,y:V.y}),Y.deltaX=J.x+(V.x-K.x),Y.deltaY=J.y+(V.y-K.y),e.offsetDirection=yl(e.deltaX,e.deltaY);var x,T,I=bl(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=I.x,e.overallVelocityY=I.y,e.overallVelocity=Or(I.x)>Or(I.y)?I.x:I.y,e.scale=s?(x=s.pointers,Dh((T=i)[0],T[1],qo)/Dh(x[0],x[1],qo)):1,e.rotation=s?function(H,Y){return ns(Y[1],Y[0],qo)+ns(H[1],H[0],qo)}(s.pointers,i):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(H,Y){var V,K,J,ue,ie=H.lastInterval||Y,Se=Y.timeStamp-ie.timeStamp;if(8!==Y.eventType&&(Se>25||void 0===ie.velocity)){var te=Y.deltaX-ie.deltaX,de=Y.deltaY-ie.deltaY,G=bl(Se,te,de);K=G.x,J=G.y,V=Or(G.x)>Or(G.y)?G.x:G.y,ue=yl(te,de),H.lastInterval=Y}else V=ie.velocity,K=ie.velocityX,J=ie.velocityY,ue=ie.direction;Y.velocity=V,Y.velocityX=K,Y.velocityY=J,Y.direction=ue}(t,e);var P,L=n.element,N=e.srcEvent;Ih(P=N.composedPath?N.composedPath()[0]:N.path?N.path[0]:N.target,L)&&(L=P),e.target=L}(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function nr(n){return n.trim().split(/\s+/g)}function rc(n,e,t){ir(nr(e),function(i){n.addEventListener(i,t,!1)})}function oc(n,e,t){ir(nr(e),function(i){n.removeEventListener(i,t,!1)})}function Pi(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var rr=function(){function n(t,i){var r=this;this.manager=t,this.callback=i,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){nc(t.options.enable,[t])&&r.handler(o)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&rc(this.element,this.evEl,this.domHandler),this.evTarget&&rc(this.target,this.evTarget,this.domHandler),this.evWin&&rc(Pi(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&oc(this.element,this.evEl,this.domHandler),this.evTarget&&oc(this.target,this.evTarget,this.domHandler),this.evWin&&oc(Pi(this.element),this.evWin,this.domHandler)},n}();function Zo(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var i=0;i<n.length;){if(t&&n[i][t]==e||!t&&n[i]===e)return i;i++}return-1}var ac={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},sg={2:Uo,3:"pen",4:tr,5:"kinect"},d0="pointerdown",Mh="pointermove pointerup pointercancel";ln.MSPointerEvent&&!ln.PointerEvent&&(d0="MSPointerDown",Mh="MSPointerMove MSPointerUp MSPointerCancel");var Ph=function(n){function e(){var t,i=e.prototype;return i.evEl=d0,i.evWin=Mh,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return $n(e,n),e.prototype.handler=function(t){var i=this.store,r=!1,o=t.type.toLowerCase().replace("ms",""),s=ac[o],d=sg[t.pointerType]||t.pointerType,f=d===Uo,x=Zo(i,t.pointerId,"pointerId");1&s&&(0===t.button||f)?x<0&&(i.push(t),x=i.length-1):12&s&&(r=!0),x<0||(i[x]=t,this.callback(this.manager,s,{pointers:i,changedPointers:[t],pointerType:d,srcEvent:t}),r&&i.splice(x,1))},e}(rr);function sc(n){return Array.prototype.slice.call(n,0)}function lg(n,e,t){for(var i=[],r=[],o=0;o<n.length;){var s=e?n[o][e]:n[o];Zo(r,s)<0&&i.push(n[o]),r[o]=s,o++}return t&&(i=e?i.sort(function(d,f){return d[e]>f[e]}):i.sort()),i}var Rh={touchstart:1,touchmove:2,touchend:4,touchcancel:8},lc="touchstart touchmove touchend touchcancel",uc=function(n){function e(){var t;return e.prototype.evTarget=lc,(t=n.apply(this,arguments)||this).targetIds={},t}return $n(e,n),e.prototype.handler=function(t){var i=Rh[t.type],r=h0.call(this,t,i);r&&this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:Uo,srcEvent:t})},e}(rr);function h0(n,e){var t,i,r=sc(n.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=sc(n.changedTouches),d=[],f=this.target;if(i=r.filter(function(x){return Ih(x.target,f)}),1===e)for(t=0;t<i.length;)o[i[t].identifier]=!0,t++;for(t=0;t<s.length;)o[s[t].identifier]&&d.push(s[t]),12&e&&delete o[s[t].identifier],t++;return d.length?[lg(i.concat(d),"identifier",!0),d]:void 0}var Z1={mousedown:1,mousemove:2,mouseup:4},J1="mousedown",f0="mousemove mouseup",Jo=function(n){function e(){var t,i=e.prototype;return i.evEl=J1,i.evWin=f0,(t=n.apply(this,arguments)||this).pressed=!1,t}return $n(e,n),e.prototype.handler=function(t){var i=Z1[t.type];1&i&&0===t.button&&(this.pressed=!0),2&i&&1!==t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:tr,srcEvent:t}))},e}(rr);function Dr(n){var e=n.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(t),setTimeout(function(){var r=i.indexOf(t);r>-1&&i.splice(r,1)},2500)}}function qi(n,e){1&n?(this.primaryTouch=e.changedPointers[0].identifier,Dr.call(this,e)):12&n&&Dr.call(this,e)}function Fh(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(t-r.y);if(o<=25&&s<=25)return!0}return!1}var ug=function(n){function e(t,i){var r;return(r=n.call(this,t,i)||this).handler=function(o,s,d){var x=d.pointerType===tr;if(!(x&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(d.pointerType===Uo)qi.call(go(go(r)),s,d);else if(x&&Fh.call(go(go(r)),d))return;r.callback(o,s,d)}},r.touch=new uc(r.manager,r.handler),r.mouse=new Jo(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return $n(e,n),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(rr);function or(n,e,t){return!!Array.isArray(n)&&(ir(n,t[e],t),!0)}var _l=1;function cc(n,e){var t=e.manager;return t?t.get(n):n}function Ah(n){return 16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":""}var wl=function(){function n(t){void 0===t&&(t={}),this.options=An({enable:!0},t),this.id=_l++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(t){return mo(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(or(t,"recognizeWith",this))return this;var i=this.simultaneous;return i[(t=cc(t,this)).id]||(i[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return or(t,"dropRecognizeWith",this)||(t=cc(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(or(t,"requireFailure",this))return this;var i=this.requireFail;return-1===Zo(i,t=cc(t,this))&&(i.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(or(t,"dropRequireFailure",this))return this;t=cc(t,this);var i=Zo(this.requireFail,t);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var i=this,r=this.state;function o(s){i.manager.emit(s,t)}r<8&&o(i.options.event+Ah(r)),o(i.options.event),t.additionalEvent&&o(t.additionalEvent),r>=8&&o(i.options.event+Ah(r))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var i=mo({},t);if(!nc(this.options.enable,[this,i]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(i),30&this.state&&this.tryEmit(i)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},n}(),$h=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,An({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){return[Eh]},t.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,d=i.distance<o.threshold,f=i.deltaTime<o.time;if(this.reset(),1&i.eventType&&0===this.count)return this.failTimeout();if(d&&f&&s){if(4!==i.eventType)return this.failTimeout();var x=!this.pTime||i.timeStamp-this.pTime<o.interval,T=!this.pCenter||Dh(this.pCenter,i.center)<o.posThreshold;if(this.pTime=i.timeStamp,this.pCenter=i.center,T&&x?this.count+=1:this.count=1,this._input=i,this.count%o.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.interval),2):8}return 32},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=32},this.options.interval),32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(wl),yo=function(n){function e(i){return void 0===i&&(i={}),n.call(this,An({pointers:1},i))||this}$n(e,n);var t=e.prototype;return t.attrTest=function(i){var r=this.options.pointers;return 0===r||i.pointers.length===r},t.process=function(i){var r=this.state,o=i.eventType,s=6&r,d=this.attrTest(i);return s&&(8&o||!d)?16|r:s||d?4&o?8|r:2&r?4|r:2:32},e}(wl);function cg(n){return 16===n?"down":8===n?"up":2===n?"left":4===n?"right":""}var Lh=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,An({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,r.pY=null,r}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,r=[];return 6&i&&r.push(Go),24&i&&r.push(ic),r},t.directionTest=function(i){var r=this.options,o=!0,s=i.distance,d=i.direction,f=i.deltaX,x=i.deltaY;return d&r.direction||(6&r.direction?(d=0===f?1:f<0?2:4,o=f!==this.pX,s=Math.abs(i.deltaX)):(d=0===x?1:x<0?8:16,o=x!==this.pY,s=Math.abs(i.deltaY))),i.direction=d,o&&s>r.threshold&&d&r.direction},t.attrTest=function(i){return yo.prototype.attrTest.call(this,i)&&(2&this.state||!(2&this.state)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var r=cg(i.direction);r&&(i.additionalEvent=this.options.event+r),n.prototype.emit.call(this,i)},e}(yo),dg=function(n){function e(i){return void 0===i&&(i={}),n.call(this,An({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){return Lh.prototype.getTouchAction.call(this)},t.attrTest=function(i){var r,o=this.options.direction;return 30&o?r=i.overallVelocity:6&o?r=i.overallVelocityX:24&o&&(r=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&o&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Or(r)>this.options.velocity&&4&i.eventType},t.emit=function(i){var r=cg(i.offsetDirection);r&&this.manager.emit(this.options.event+r,i),this.manager.emit(this.options.event,i)},e}(yo),Bh=function(n){function e(i){return void 0===i&&(i={}),n.call(this,An({event:"pinch",threshold:0,pointers:2},i))||this}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){return[vl]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||2&this.state)},t.emit=function(i){1!==i.scale&&(i.additionalEvent=this.options.event+(i.scale<1?"in":"out")),n.prototype.emit.call(this,i)},e}(yo),hg=function(n){function e(i){return void 0===i&&(i={}),n.call(this,An({event:"rotate",threshold:0,pointers:2},i))||this}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){return[vl]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||2&this.state)},e}(yo),p0=function(n){function e(i){var r;return void 0===i&&(i={}),(r=n.call(this,An({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,r._input=null,r}$n(e,n);var t=e.prototype;return t.getTouchAction=function(){return["auto"]},t.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,d=i.distance<o.threshold,f=i.deltaTime>o.time;if(this._input=i,!d||!s||12&i.eventType&&!f)this.reset();else if(1&i.eventType)this.reset(),this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.time);else if(4&i.eventType)return 8;return 32},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){8===this.state&&(i&&4&i.eventType?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Ch(),this.manager.emit(this.options.event,this._input)))},e}(wl),v0={domEvents:!1,touchAction:tc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},g0=[[hg,{enable:!1}],[Bh,{enable:!1},["rotate"]],[dg,{direction:6}],[Lh,{direction:6},["swipe"]],[$h],[$h,{event:"doubletap",taps:2},["tap"]],[p0]];function m0(n,e){var t,i=n.element;i.style&&(ir(n.options.cssProps,function(r,o){t=pl(i.style,o),e?(n.oldCssProps[t]=i.style[t],i.style[t]=r):i.style[t]=n.oldCssProps[t]||""}),e||(n.oldCssProps={}))}var y0=function(){function n(t,i){var o=this;this.options=mo({},v0,i||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(Sh?Ph:u0?uc:ml?ug:Jo))(this,gi),this.touchAction=new Oh(this,this.options.touchAction),m0(this,!0),ir(this.options.recognizers,function(s){var d=o.add(new s[0](s[1]));s[2]&&d.recognizeWith(s[2]),s[3]&&d.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(t){return mo(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var i=this.session;if(!i.stopped){var r;this.touchAction.preventDefaults(t);var o=this.recognizers,s=i.curRecognizer;(!s||s&&8&s.state)&&(i.curRecognizer=null,s=null);for(var d=0;d<o.length;)r=o[d],2===i.stopped||s&&r!==s&&!r.canRecognizeWith(s)?r.reset():r.recognize(t),!s&&14&r.state&&(i.curRecognizer=r,s=r),d++}},e.get=function(t){if(t instanceof wl)return t;for(var i=this.recognizers,r=0;r<i.length;r++)if(i[r].options.event===t)return i[r];return null},e.add=function(t){if(or(t,"add",this))return this;var i=this.get(t.options.event);return i&&this.remove(i),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(or(t,"remove",this))return this;var i=this.get(t);if(t){var r=this.recognizers,o=Zo(r,i);-1!==o&&(r.splice(o,1),this.touchAction.update())}return this},e.on=function(t,i){if(void 0===t||void 0===i)return this;var r=this.handlers;return ir(nr(t),function(o){r[o]=r[o]||[],r[o].push(i)}),this},e.off=function(t,i){if(void 0===t)return this;var r=this.handlers;return ir(nr(t),function(o){i?r[o]&&r[o].splice(Zo(r[o],i),1):delete r[o]}),this},e.emit=function(t,i){var s,d,f;this.options.domEvents&&(s=t,d=i,(f=document.createEvent("Event")).initEvent(s,!0,!0),f.gesture=d,d.target.dispatchEvent(f));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){i.type=t,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](i),o++}},e.destroy=function(){this.element&&m0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),b0={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fg="touchstart",X1="touchstart touchmove touchend touchcancel",Q1=function(n){function e(){var t,i=e.prototype;return i.evTarget=fg,i.evWin=X1,(t=n.apply(this,arguments)||this).started=!1,t}return $n(e,n),e.prototype.handler=function(t){var i=b0[t.type];if(1===i&&(this.started=!0),this.started){var r=_0.call(this,t,i);12&i&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:Uo,srcEvent:t})}},e}(rr);function _0(n,e){var t=sc(n.touches),i=sc(n.changedTouches);return 12&e&&(t=lg(t.concat(i),"identifier",!0)),[t,i]}function w0(n,e,t){var i="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var r=new Error("get-stack-trace"),o=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),n.apply(this,arguments)}}var pg=w0(function(n,e,t){for(var i=Object.keys(e),r=0;r<i.length;)(!t||t&&void 0===n[i[r]])&&(n[i[r]]=e[i[r]]),r++;return n},"extend","Use `assign`."),x0=w0(function(n,e){return pg(n,e,!0)},"merge","Use `assign`.");function vg(n,e,t){var i,r=e.prototype;(i=n.prototype=Object.create(r)).constructor=n,i._super=r,t&&mo(i,t)}function gg(n,e){return function(){return n.apply(e,arguments)}}var k0=function(){var n=function(e,t){return void 0===t&&(t={}),new y0(e,An({recognizers:g0.concat()},t))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=30,n.DIRECTION_DOWN=16,n.DIRECTION_LEFT=2,n.DIRECTION_RIGHT=4,n.DIRECTION_UP=8,n.DIRECTION_HORIZONTAL=6,n.DIRECTION_VERTICAL=24,n.DIRECTION_NONE=1,n.DIRECTION_DOWN=16,n.INPUT_START=1,n.INPUT_MOVE=2,n.INPUT_END=4,n.INPUT_CANCEL=8,n.STATE_POSSIBLE=1,n.STATE_BEGAN=2,n.STATE_CHANGED=4,n.STATE_ENDED=8,n.STATE_RECOGNIZED=8,n.STATE_CANCELLED=16,n.STATE_FAILED=32,n.Manager=y0,n.Input=rr,n.TouchAction=Oh,n.TouchInput=uc,n.MouseInput=Jo,n.PointerEventInput=Ph,n.TouchMouseInput=ug,n.SingleTouchInput=Q1,n.Recognizer=wl,n.AttrRecognizer=yo,n.Tap=$h,n.Pan=Lh,n.Swipe=dg,n.Pinch=Bh,n.Rotate=hg,n.Press=p0,n.on=rc,n.off=oc,n.each=ir,n.merge=x0,n.extend=pg,n.bindFn=gg,n.assign=mo,n.inherit=vg,n.bindFn=gg,n.prefixed=pl,n.toArray=sc,n.inArray=Zo,n.uniqueArray=lg,n.splitStr=nr,n.boolOrFn=nc,n.hasParent=Ih,n.addEventListeners=rc,n.removeEventListeners=oc,n.defaults=mo({},v0,{preset:g0}),n}();function mg(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return bo(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return bo(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function bo(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ln(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ex(e.length?e:[ul()])}function ex(n){var e=function(){for(var f=tx(),x=f(" "),T=f(" "),I=f(" "),P=0;P<arguments.length;P++)(x-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(x+=1),(T-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(T+=1),(I-=f(P<0||arguments.length<=P?void 0:arguments[P]))<0&&(I+=1);return[x,T,I]}(n),t=Yt(e,3),i=t[0],r=t[1],o=t[2],s=1,d=function(){var f=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=f-(s=0|f)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.algorithm="Alea",d.seed=n,d.version="0.9",d}function tx(){var n=4022871197;return function(e){for(var t=e.toString(),i=0;i<t.length;i++){var r=.02519603282416938*(n+=t.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)}}fo("DELETE");var yg=typeof window<"u"?window.Hammer||k0:function(){return function(){var n=function(){};return{on:n,off:n,destroy:n,emit:n,get:function(){return{set:n}}}}()};function ar(n){var e,t=this;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var i=yg(this._dom.overlay);i.on("tap",pe(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){i.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Dt(r).call(r,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(s,d){for(;s;){if(s===d)return!0;s=s.parentNode}return!1})(o.target,n)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(o){("key"in o?"Escape"===o.key:27===o.keyCode)&&t.deactivate()}}cd(ar.prototype),ar.current=null,ar.prototype.destroy=function(){var n,e;this.deactivate();var t,i=mg(Ui(n=Rn(e=this._cleanupQueue).call(e,0)).call(n));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(r){i.e(r)}finally{i.f()}},ar.prototype.activate=function(){ar.current&&ar.current.deactivate(),ar.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},ar.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},ar.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};var bg=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ix=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,C0=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,nx=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function sr(n){if(n)for(;!0===n.hasChildNodes();){var e=n.firstChild;e&&(sr(e),n.removeChild(e))}}function Xo(n){return n instanceof String||"string"==typeof n}function _g(n){return"object"===_t(n)&&null!==n}function _o(n,e,t,i){var r=!1;!0===i&&(r=null===e[t]&&void 0!==n[t]),r?delete n[t]:n[t]=e[t]}function E0(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in n)if(void 0!==e[i])if(null===e[i]||"object"!==_t(e[i]))_o(n,e,i,t);else{var r=n[i],o=e[i];_g(r)&&_g(o)&&E0(r,o,t)}}function kl(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Tt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<n.length;r++){var o=n[r];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?Mt(e[o],t[o],!1,i):_o(e,t,o,i);else{if(Tt(t[o]))throw new TypeError("Arrays are not supported by deepExtend");_o(e,t,o,i)}}return e}function dc(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Tt(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!Qn(n).call(n,r))if(t[r]&&t[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Mt(e[r],t[r]):_o(e,t,r,i);else if(Tt(t[r])){e[r]=[];for(var o=0;o<t[r].length;o++)e[r].push(t[r][o])}else _o(e,t,r,i);return e}function Mt(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===t)if("object"===_t(e[r])&&null!==e[r]&&zv(e[r])===Object.prototype)void 0===n[r]?n[r]=Mt({},e[r],t):"object"===_t(n[r])&&null!==n[r]&&zv(n[r])===Object.prototype?Mt(n[r],e[r],t):_o(n,e,r,i);else if(Tt(e[r])){var o;n[r]=ct(o=e[r]).call(o)}else _o(n,e,r,i);return n}function hc(n,e){var t;return zu(t=[]).call(t,Pn(n),[e])}function Qo(n){return ct(n).call(n)}function gn(n){return n.getBoundingClientRect().top}function lt(n,e){if(Tt(n))for(var t=n.length,i=0;i<t;i++)e(n[i],i,n);else for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e(n[r],r,n)}function Nh(n){var e;switch(n.length){case 3:case 4:return(e=ix.exec(n))?{r:Yi(e[1]+e[1],16),g:Yi(e[2]+e[2],16),b:Yi(e[3]+e[3],16)}:null;case 6:case 7:return(e=bg.exec(n))?{r:Yi(e[1],16),g:Yi(e[2],16),b:Yi(e[3],16)}:null;default:return null}}function un(n,e){if(Qn(n).call(n,"rgba"))return n;if(Qn(n).call(n,"rgb")){var t=n.substr(mt(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}var i=Nh(n);return null==i?n:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function wg(n,e,t){var i;return"#"+ct(i=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(i,1)}function zh(n,e){if(Xo(n)){var t=n;if(Hh(t)){var i,r=ei(i=t.substr(4).substr(0,t.length-5).split(",")).call(i,function(T){return Yi(T)});t=wg(r[0],r[1],r[2])}if(!0===Zi(t)){var o=function(T){var I=Nh(T);if(!I)throw new TypeError("'".concat(T,"' is not a valid color."));return Cl(I.r,I.g,I.b)}(t),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},d={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},f=jh(d.h,d.s,d.v),x=jh(s.h,s.s,s.v);return{background:t,border:f,highlight:{background:x,border:f},hover:{background:x,border:f}}}return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}return e?{background:n.background||e.background,border:n.border||e.border,highlight:Xo(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||e.highlight.background,border:n.highlight&&n.highlight.border||e.highlight.border},hover:Xo(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||e.hover.border,background:n.hover&&n.hover.background||e.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:Xo(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Xo(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function Cl(n,e,t){n/=255,e/=255,t/=255;var i=Math.min(n,Math.min(e,t)),r=Math.max(n,Math.max(e,t));return i===r?{h:0,s:0,v:i}:{h:60*((n===i?3:t===i?1:5)-(n===i?e-t:t===i?n-e:t-n)/(r-i))/360,s:(r-i)/r,v:r}}function wo(n,e,t){var i,r,o,s=Math.floor(6*n),d=6*n-s,f=t*(1-e),x=t*(1-d*e),T=t*(1-(1-d)*e);switch(s%6){case 0:i=t,r=T,o=f;break;case 1:i=x,r=t,o=f;break;case 2:i=f,r=t,o=T;break;case 3:i=f,r=x,o=t;break;case 4:i=T,r=f,o=t;break;case 5:i=t,r=f,o=x}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function jh(n,e,t){var i=wo(n,e,t);return wg(i.r,i.g,i.b)}function Zi(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function Hh(n){return C0.test(n)}function rx(n){return nx.test(n)}function ea(n){if(null===n||"object"!==_t(n))return null;if(n instanceof Element)return n;var e=Wo(n);for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&"object"==_t(n[t])&&(e[t]=ea(n[t]));return e}function Bn(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(L){return null!=L},o=function(L){return null!==L&&"object"===_t(L)},s=function(L){for(var N in L)if(Object.prototype.hasOwnProperty.call(L,N))return!1;return!0};if(!o(n))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(t))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var d=function(L,N,H){o(L[H])||(L[H]={});var Y=N[H],V=L[H];for(var K in Y)Object.prototype.hasOwnProperty.call(Y,K)&&(V[K]=Y[K])},f=e[t],T=o(i)&&!s(i)?i[t]:void 0,I=T?T.enabled:void 0;if(void 0!==f){if("boolean"==typeof f)return o(n[t])||(n[t]={}),void(n[t].enabled=f);if(null===f&&!o(n[t])){if(!r(T))return;n[t]=Wo(T)}if(o(f)){var P=!0;void 0!==f.enabled?P=f.enabled:void 0!==I&&(P=T.enabled),d(n,e,t),n[t].enabled=P}}}var xg={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function xo(n,e){var t;Tt(e)||(e=[e]);var i,r=mg(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){t=o[e[0]];for(var s=1;s<e.length;s++)t&&(t=t[e[s]]);if(void 0!==t)break}}}catch(d){r.e(d)}finally{r.f()}return t}var Vh={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ox=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;_e(this,n),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return xe(n,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return Vh[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var i,r=this._isColorString(e);if(void 0!==r&&(e=r),!0===Xo(e)){if(!0===Hh(e)){var o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===rx(e)){var s=e.substr(5).substr(0,e.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===Zi(e)){var d=Nh(e);i={r:d.r,g:d.g,b:d.b,a:1}}}else e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&(i={r:e.r,g:e.g,b:e.b,a:void 0!==e.a?e.a:"1.0"});if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Xu(e));this._setColor(i,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=Ne({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Tr(function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=Ne({},e)),this.color=e;var i=Cl(e.r,e.g,e.b),r=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(r*i.h),d=this.centerCoordinates.y+o*Math.cos(r*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=Cl(this.color.r,this.color.g,this.color.b);t.v=e/100;var i=wo(t.h,t.s,t.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=Cl(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-t.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Fn(i).call(i),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,i,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var d=this;this.opacityRange.onchange=function(){d._setOpacity(this.value)},this.opacityRange.oninput=function(){d._setOpacity(this.value)},this.brightnessRange.onchange=function(){d._setBrightness(this.value)},this.brightnessRange.oninput=function(){d._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=pe(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=pe(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=pe(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=pe(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new yg(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(t){t.isFirst&&e._moveSelector(t)}),this.hammer.on("tap",function(t){e._moveSelector(t)}),this.hammer.on("panstart",function(t){e._moveSelector(t)}),this.hammer.on("panmove",function(t){e._moveSelector(t)}),this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,i,r,o,s=this.colorPickerCanvas.clientWidth,d=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,s,d),this.centerCoordinates={x:.5*s,y:.5*d},this.r=.49*s;var f,x=2*Math.PI/360,T=1/this.r;for(r=0;r<360;r++)for(o=0;o<this.r;o++)t=this.centerCoordinates.x+o*Math.sin(x*r),i=this.centerCoordinates.y+o*Math.cos(x*r),f=wo(.002777777777777778*r,o*T,1),e.fillStyle="rgb("+f.r+","+f.g+","+f.b+")",e.fillRect(t-.5,i-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,s,d)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,d=e.center.x-t.left-s,f=e.center.y-t.top-o,x=Math.atan2(d,f),T=.98*Math.min(Math.sqrt(d*d+f*f),s),I=Math.cos(x)*T+o,P=Math.sin(x)*T+s;this.colorPickerSelector.style.top=I-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=P-.5*this.colorPickerSelector.clientWidth+"px";var L=x/(2*Math.PI);L=L<0?L+1:L;var N=T/this.r,H=Cl(this.color.r,this.color.g,this.color.b);H.h=L,H.s=N;var Y=wo(H.h,H.s,H.v);Y.a=this.color.a,this.color=Y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),n}();function Wh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(Wh.apply(void 0,Pn(ct(e).call(e,1)))),i}var kg,ax=function(){function n(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};_e(this,n),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ne(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ox(r),this.wrapper=void 0}return xe(n,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(Tt(e))this.options.filter=e.join();else if("object"===_t(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==Li(e)&&(this.options.filter=Li(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===Li(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Li(this.options),t=0,i=!1;for(var r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,i=!1,"function"==typeof e?i=(i=e(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==e&&-1===mt(e).call(e,r)||(i=!0),!1!==i&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,i=0;i<e.length;i++){if(void 0===t[e[i]]){t=void 0;break}t=t[e[i]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return Dt(r).call(r,function(s){t.appendChild(s)}),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===i){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(Wh("i","b",e))}else r.innerText=e+":";return r}},{key:"_makeDropdown",value:function(e,t,i){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var o=0;void 0!==t&&-1!==mt(e).call(e,t)&&(o=mt(e).call(e,t));for(var s=0;s<e.length;s++){var d=document.createElement("option");d.value=e[s],s===o&&(d.selected="selected"),d.innerText=e[s],r.appendChild(d)}var f=this;r.onchange=function(){f._update(this.value,i)};var x=this._makeLabel(i[i.length-1],i);this._makeItem(i,x,r)}},{key:"_makeRange",value:function(e,t,i){var r=e[0],o=e[1],s=e[2],d=e[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=o,f.max=s}catch{}f.step=d;var x="",T=0;if(void 0!==t){var I=1.2;t<0&&t*I<o?(f.min=Math.ceil(t*I),T=f.min,x="range increased"):t/I<o&&(f.min=Math.ceil(t/I),T=f.min,x="range increased"),t*I>s&&1!==s&&(f.max=Math.ceil(t*I),T=f.max,x="range increased"),f.value=t}else f.value=r;var P=document.createElement("input");P.className="vis-configuration vis-config-rangeinput",P.value=f.value;var L=this;f.onchange=function(){P.value=this.value,L._update(Number(this.value),i)},f.oninput=function(){P.value=this.value};var N=this._makeLabel(i[i.length-1],i),H=this._makeItem(i,N,f,P);""!==x&&this.popupHistory[H]!==T&&(this.popupHistory[H]=T,this._setupPopup(x,H))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Tr(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Tr(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,t,i){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"===_t(e)?t!==e.enabled&&this.changedOptions.push({path:i,value:t}):this.changedOptions.push({path:i,value:t})));var o=this;r.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeTextInput",value:function(e,t,i){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:i,value:t});var o=this;r.onchange=function(){o._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeColorField",value:function(e,t,i){var r=this,o=e[1],s=document.createElement("div");"none"!==(t=void 0===t?o:t)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=void 0===t?o:t,s.onclick=function(){r._showColorPicker(t,s,i)};var d=this._makeLabel(i[i.length-1],i);this._makeItem(i,d,s)}},{key:"_showColorPicker",value:function(e,t,i){var r=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";t.style.backgroundColor=s,r._update(s,i)}),this.colorPicker.setCloseCallback(function(){t.onclick=function(){r._showColorPicker(e,t,i)}})}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=Li(this.options),s=!1;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){r=!0;var f=e[d],x=hc(t,d);if("function"==typeof o&&!1===(r=o(d,t))&&!Tt(f)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,r=this._handleObject(f,x,!0),this.allowCreation=!1===i),!1!==r){s=!0;var T=this._getValue(x);if(Tt(f))this._handleArray(f,T,x);else if("string"==typeof f)this._makeTextInput(f,T,x);else if("boolean"==typeof f)this._makeCheckbox(f,T,x);else if(f instanceof Object){if(!this.hideOption(t,d,this.moduleOptions))if(void 0!==f.enabled){var I=hc(x,"enabled"),P=this._getValue(I);if(!0===P){var L=this._makeLabel(d,x,!0);this._makeItem(x,L),s=this._handleObject(f,x)||s}else this._makeCheckbox(f,P,x)}else{var N=this._makeLabel(d,x,!0);this._makeItem(x,N),s=this._handleObject(f,x)||s}}else console.error("dont know how to handle",f,d,x)}}return s}},{key:"_handleArray",value:function(e,t,i){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,i),e[1]!==t&&this.changedOptions.push({path:i,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,i),e[0]!==t&&this.changedOptions.push({path:i,value:Number(t)}))}},{key:"_update",value:function(e,t){var i=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i;e="false"!==(e="true"===e||e)&&e;for(var o=0;o<t.length;o++)"global"!==t[o]&&(void 0===r[t[o]]&&(r[t[o]]={}),o!==t.length-1?r=r[t[o]]:r[t[o]]=e);return i}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Wh("pre","const options = "+Xu(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),n}(),sx=function(){function n(e,t){_e(this,n),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return xe(n,[{key:"setPosition",value:function(e,t){this.x=Yi(e),this.y=Yi(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,i=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,d=0;if("flip"==this.overflowMethod){var f=!1,x=!0;this.y-t<this.padding&&(x=!1),this.x+i>o-this.padding&&(f=!0),s=f?this.x-i:this.x,d=x?this.y-t:this.y}else(d=this.y-t)+t+this.padding>r&&(d=r-t-this.padding),d<this.padding&&(d=this.padding),(s=this.x)+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=d+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),n}(),fc=!1,rs="background: #FFeeee; color: #dd0000",lx=function(){function n(){_e(this,n)}return xe(n,null,[{key:"validate",value:function(e,t,i){fc=!1,kg=t;var r=t;return void 0!==i&&(r=t[i]),n.parse(e,r,[]),fc}},{key:"parse",value:function(e,t,i){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.check(r,e,t,i)}},{key:"check",value:function(e,t,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",s="object"===n.getType(t[e]));var d=i[o];s&&void 0!==d.__type__&&(d=d.__type__),n.checkFields(e,t,i,o,d,r)}else n.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,t,i,r,o,s){var d=function(T){console.error("%c"+T+n.printLocation(s,e),rs)},f=n.getType(t[e]),x=o[f];void 0!==x?"array"===n.getType(x)&&-1===mt(x).call(x,t[e])?(d('Invalid option detected in "'+e+'". Allowed values are:'+n.print(x)+' not "'+t[e]+'". '),fc=!0):"object"===f&&"__any__"!==r&&(s=hc(s,e),n.parse(t[e],i[r],s)):void 0===o.any&&(d('Invalid type received for "'+e+'". Expected: '+n.print(dt(o))+". Received ["+f+'] "'+t[e]+'"'),fc=!0)}},{key:"getType",value:function(e){var t=_t(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Tt(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,t,i){var r,o=n.findInOptions(e,t,i,!1),s=n.findInOptions(e,kg,[],!0);r=void 0!==o.indexMatch?" in "+n.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+n.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+n.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+n.printLocation(o.path,e):". Did you mean one of these: "+n.print(dt(t))+n.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+r,rs),fc=!0}},{key:"findInOptions",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",d=[],f=e.toLowerCase(),x=void 0;for(var T in t){var I=void 0;if(void 0!==t[T].__type__&&!0===r){var P=n.findInOptions(e,t[T],hc(i,T));o>P.distance&&(s=P.closestMatch,d=P.path,o=P.distance,x=P.indexMatch)}else{var L;-1!==mt(L=T.toLowerCase()).call(L,f)&&(x=T),o>(I=n.levenshteinDistance(e,T))&&(s=T,d=Qo(i),o=I)}}return{closestMatch:s,path:d,distance:o,indexMatch:x}}},{key:"printLocation",value:function(e,t){for(var r="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<e.length;o++){for(var s=0;s<o+1;s++)r+="  ";r+=e[o]+": {\n"}for(var d=0;d<e.length+1;d++)r+="  ";r+=t+"\n";for(var f=0;f<e.length+1;f++){for(var x=0;x<e.length-f;x++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return Xu(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var i,r,o=[];for(i=0;i<=t.length;i++)o[i]=[i];for(r=0;r<=e.length;r++)o[0][r]=r;for(i=1;i<=t.length;i++)for(r=1;r<=e.length;r++)o[i][r]=t.charAt(i-1)==e.charAt(r-1)?o[i-1][r-1]:Math.min(o[i-1][r-1]+1,Math.min(o[i][r-1]+1,o[i-1][r]+1));return o[t.length][e.length]}}]),n}(),S0=ar,ux=ax,ta=yg,El=sx,Kh=rs,ko=lx;function T0(n){return ia=n,function(){var e={};if(os=0,at=ia.charAt(0),At(),"strict"===je&&(e.strict=!0,At()),"graph"!==je&&"digraph"!==je||(e.type=je,At()),Ji===Co&&(e.id=je,At()),"{"!=je)throw Bi("Angle bracket { expected");if(At(),P0(e),"}"!=je)throw Bi("Angle bracket } expected");if(At(),""!==je)throw Bi("End of file expected");return At(),delete e.node,delete e.edge,delete e.graph,e}()}var Gh={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Uh=Wo(Gh);Uh.color="color.color",Uh.style="dashes";var Co=2,Eg={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ia="",os=0,at="",je="",Ji=0;function Ei(){os++,at=ia.charAt(os)}function Eo(){return ia.charAt(os+1)}function Sg(n){var e=n.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function So(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dx(n,e,t){for(var i=e.split("."),r=n;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=t}}function I0(n,e){for(var t,i,r=null,o=[n],s=n;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(t=0,i=s.nodes.length;t<i;t++)if(e.id===s.nodes[t].id){r=s.nodes[t];break}for(r||(r={id:e.id},n.node&&(r.attr=So(r.attr,n.node))),t=o.length-1;t>=0;t--){var d,f=o[t];f.nodes||(f.nodes=[]),-1===mt(d=f.nodes).call(d,r)&&f.nodes.push(r)}e.attr&&(r.attr=So(r.attr,e.attr))}function D0(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=So({},n.edge);e.attr=So(t,e.attr)}}function M0(n,e,t,i,r){var o={from:e,to:t,type:i};return n.edge&&(o.attr=So({},n.edge)),o.attr=So(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function At(){for(Ji=0,je="";" "===at||"\t"===at||"\n"===at||"\r"===at;)Ei();do{var n=!1;if("#"===at){for(var e=os-1;" "===ia.charAt(e)||"\t"===ia.charAt(e);)e--;if("\n"===ia.charAt(e)||""===ia.charAt(e)){for(;""!=at&&"\n"!=at;)Ei();n=!0}}if("/"===at&&"/"===Eo()){for(;""!=at&&"\n"!=at;)Ei();n=!0}if("/"===at&&"*"===Eo()){for(;""!=at;){if("*"===at&&"/"===Eo()){Ei(),Ei();break}Ei()}n=!0}for(;" "===at||"\t"===at||"\n"===at||"\r"===at;)Ei()}while(n);if(""!==at){var t=at+Eo();if(Eg[t])return Ji=1,je=t,Ei(),void Ei();if(Eg[at])return Ji=1,je=at,void Ei();if(Sg(at)||"-"===at){for(je+=at,Ei();Sg(at);)je+=at,Ei();return"false"===je?je=!1:"true"===je?je=!0:isNaN(Number(je))||(je=Number(je)),void(Ji=Co)}if('"'===at){for(Ei();""!=at&&('"'!=at||'"'===at&&'"'===Eo());)'"'===at?(je+=at,Ei()):"\\"===at&&"n"===Eo()?(je+="\n",Ei()):je+=at,Ei();if('"'!=at)throw Bi('End of string " expected');return Ei(),void(Ji=Co)}for(Ji=3;""!=at;)je+=at,Ei();throw new SyntaxError('Syntax error in part "'+A0(je,30)+'"')}Ji=1}function P0(n){for(;""!==je&&"}"!=je;)hx(n),";"===je&&At()}function hx(n){var r,e=R0(n);if(e)F0(n,e);else if(r=n,!("node"===je?(At(),r.node=pc(),"node"):"edge"===je?(At(),r.edge=pc(),"edge"):"graph"===je&&(At(),r.graph=pc(),"graph"))){if(Ji!=Co)throw Bi("Identifier expected");var i=je;if(At(),"="===je){if(At(),Ji!=Co)throw Bi("Identifier expected");n[i]=je,At()}else!function(r,o){var s={id:o},d=pc();d&&(s.attr=d),I0(r,s),F0(r,o)}(n,i)}}function R0(n){var e=null;if("subgraph"===je&&((e={}).type="subgraph",At(),Ji===Co&&(e.id=je,At())),"{"===je){if(At(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,P0(e),"}"!=je)throw Bi("Angle bracket } expected");At(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function F0(n,e){for(;"->"===je||"--"===je;){var t,i=je;At();var r=R0(n);if(r)t=r;else{if(Ji!=Co)throw Bi("Identifier or subgraph expected");I0(n,{id:t=je}),At()}D0(n,M0(n,e,t,i,pc())),e=t}}function pc(){for(var n,e,t=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===je;){for(At(),t={};""!==je&&"]"!=je;){if(Ji!=Co)throw Bi("Attribute name expected");var d=je;if(At(),"="!=je)throw Bi("Equal sign = expected");if(At(),Ji!=Co)throw Bi("Attribute value expected");var f=je;"style"===d&&(f=i[f]),"arrowhead"===d&&(d="arrows",f={to:{enabled:!0,type:r[f]}}),"arrowtail"===d&&(d="arrows",f={from:{enabled:!0,type:r[f]}}),o.push({attr:t,name:d,value:f}),s.push(d),At(),","==je&&At()}if("]"!=je)throw Bi("Bracket ] expected");At()}if(Qn(s).call(s,"dir")){var x={arrows:{}};for(n=0;n<o.length;n++)if("arrows"===o[n].name)if(null!=o[n].value.to)x.arrows.to=n;else{if(null==o[n].value.from)throw Bi("Invalid value of arrows");x.arrows.from=n}else"dir"===o[n].name&&(x.dir=n);var T,I,P=o[x.dir].value;if(!Qn(s).call(s,"arrows"))if("both"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),x.arrows.to=o.length-1,o.push({attr:o[x.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),x.arrows.from=o.length-1;else if("forward"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),x.arrows.to=o.length-1;else if("back"===P)o.push({attr:o[x.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),x.arrows.from=o.length-1;else{if("none"!==P)throw Bi('Invalid dir type "'+P+'"');o.push({attr:o[x.dir].attr,name:"arrows",value:""}),x.arrows.to=o.length-1}if("both"===P)x.arrows.to&&x.arrows.from?(o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:T=o[x.arrows.from].value.from.type}}},Rn(o).call(o,x.arrows.from,1)):x.arrows.to?o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:T="arrow"}}}:x.arrows.from&&(o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I="arrow"},from:{enabled:!0,type:T=o[x.arrows.from].value.from.type}}});else if("back"===P)x.arrows.to&&x.arrows.from?o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I=""},from:{enabled:!0,type:T=o[x.arrows.from].value.from.type}}}:x.arrows.to?(I="",T="arrow",x.arrows.from=x.arrows.to,o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:T}}}):x.arrows.from&&(o[x.arrows.to]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{to:{enabled:!0,type:I=""},from:{enabled:!0,type:T=o[x.arrows.from].value.from.type}}}),o[x.arrows.from]={attr:o[x.arrows.from].attr,name:o[x.arrows.from].name,value:{from:{enabled:!0,type:o[x.arrows.from].value.from.type}}};else if("none"===P){var L;o[L=x.arrows.to?x.arrows.to:x.arrows.from]={attr:o[L].attr,name:o[L].name,value:""}}else{if("forward"!==P)throw Bi('Invalid dir type "'+P+'"');x.arrows.to&&x.arrows.from||x.arrows.to?o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I=o[x.arrows.to].value.to.type},from:{enabled:!0,type:T=""}}}:x.arrows.from&&(I="arrow",T="",x.arrows.to=x.arrows.from,o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:I},from:{enabled:!0,type:T}}}),o[x.arrows.to]={attr:o[x.arrows.to].attr,name:o[x.arrows.to].name,value:{to:{enabled:!0,type:o[x.arrows.to].value.to.type}}}}Rn(o).call(o,x.dir,1)}if(Qn(s).call(s,"penwidth")){var N=[];for(e=o.length,n=0;n<e;n++)"width"!==o[n].name&&("penwidth"===o[n].name&&(o[n].name="width"),N.push(o[n]));o=N}for(e=o.length,n=0;n<e;n++)dx(o[n].attr,o[n].name,o[n].value);return t}function Bi(n){return new SyntaxError(n+', got "'+A0(je,30)+'" (char '+os+")")}function A0(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function $0(n,e,t){for(var i=e.split("."),r=i.pop(),o=n,s=0;s<i.length;s++){var d=i[s];d in o||(o[d]={}),o=o[d]}return o[r]=t,n}function L0(n,e){var t={};for(var i in n)if(n.hasOwnProperty(i)){var r=e[i];Tt(r)?Dt(r).call(r,function(o){$0(t,o,n[i])}):$0(t,"string"==typeof r?r:i,n[i])}return t}function Tg(n){var e,t=T0(n),i={nodes:[],edges:[],options:{}};if(t.nodes&&Dt(e=t.nodes).call(e,function(s){var d={id:s.id,label:String(s.label||s.id)};So(d,L0(s.attr,Gh)),d.image&&(d.shape="image"),i.nodes.push(d)}),t.edges){var r,o=function(s){var d={from:s.from,to:s.to};return So(d,L0(s.attr,Uh)),null==d.arrows&&"->"===s.type&&(d.arrows="to"),d};Dt(r=t.edges).call(r,function(s){var d,f,x,T,I,P,L;d=s.from instanceof Object?s.from.nodes:{id:s.from},f=s.to instanceof Object?s.to.nodes:{id:s.to},s.from instanceof Object&&s.from.edges&&Dt(x=s.from.edges).call(x,function(N){var H=o(N);i.edges.push(H)}),I=f,P=function(N,H){var Y=M0(i,N.id,H.id,s.type,s.attr),V=o(Y);i.edges.push(V)},Tt(T=d)?Dt(T).call(T,function(N){Tt(I)?Dt(I).call(I,function(H){P(N,H)}):P(N,I)}):Tt(I)?Dt(I).call(I,function(N){P(T,N)}):P(T,I),s.to instanceof Object&&s.to.edges&&Dt(L=s.to.edges).call(L,function(N){var H=o(N);i.edges.push(H)})})}return t.attr&&(i.options=t.attr),i}var fx=Object.freeze({__proto__:null,parseDOT:T0,DOTToGraph:Tg});function Og(n,e){var t,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var r=n.edges,o=ei(r).call(r,function(s){var d={from:s.source,id:s.id,to:s.target};return null!=s.attributes&&(d.attributes=s.attributes),null!=s.label&&(d.label=s.label),null!=s.attributes&&null!=s.attributes.title&&(d.title=s.attributes.title),"Directed"===s.type&&(d.arrows="to"),s.color&&!1===i.edges.inheritColor&&(d.color=s.color),d});return{nodes:ei(t=n.nodes).call(t,function(s){var d={id:s.id,fixed:i.nodes.fixed&&null!=s.x&&null!=s.y};return null!=s.attributes&&(d.attributes=s.attributes),null!=s.label&&(d.label=s.label),null!=s.size&&(d.size=s.size),null!=s.attributes&&null!=s.attributes.title&&(d.title=s.attributes.title),null!=s.title&&(d.title=s.title),null!=s.x&&(d.x=s.x),null!=s.y&&(d.y=s.y),null!=s.color&&(d.color=!0===i.nodes.parseColor?s.color:{background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),d}),edges:o}}var B0=Object.freeze({__proto__:null,parseGephi:Og}),N0=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),px=function(){function n(){_e(this,n),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return xe(n,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var i=Math.floor(t/2),r=Math.floor(t/4),o=Math.floor(t/8),s=Math.floor(t/16),d=Math.floor(e/2),f=Math.floor(e/4),x=Math.floor(e/8),T=Math.floor(e/16);this.canvas.width=3*f,this.canvas.height=i,this.coordinates=[[0,0,d,i],[d,0,f,r],[d,r,x,o],[5*x,r,T,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var r=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,r[0],r[1],r[2],r[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(e,t,i,r,o,s){if(this.initialized())if(t>2){t*=.5;for(var d=0;t>2&&d<this.NUM_ITERATIONS;)t*=.5,d+=1;d>=this.NUM_ITERATIONS&&(d=this.NUM_ITERATIONS-1);var f=this.coordinates[d];e.drawImage(this.canvas,f[0],f[1],f[2],f[3],i,r,o,s)}else e.drawImage(this.image,i,r,o,s)}}]),n}(),z0=function(){function n(e){_e(this,n),this.images={},this.imageBroken={},this.callback=e}return xe(n,[{key:"_tryloadBrokenUrl",value:function(e,t,i){void 0!==e&&void 0!==i&&(void 0!==t?(i.image.onerror=function(){console.error("Could not load brokenImage:",t)},i.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var i=this,r=this.images[e];if(r)return r;var o=new px;return this.images[e]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,t,o)},o.image.src=e,o}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),n}(),vc={exports:{}},vx=we(function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}),gx=Ue,H0=ii,Ig=vx,Yh=Object.isExtensible,V0=we(function(){Yh(1)})||Ig?function(n){return!!gx(n)&&(!Ig||"ArrayBuffer"!=H0(n))&&(!Yh||Yh(n))}:Yh,mx=!we(function(){return Object.isExtensible(Object.preventExtensions({}))}),yx=ye,W0=Ee,gc=Es,K0=Ue,qh=ft,Dg=Ft.f,mc=Gs,G0=Fd,Mg=V0,bx=mx,U0=!1,Pr=Kr("meta"),Sl=0,Pg=function(n){Dg(n,Pr,{value:{objectID:"O"+Sl++,weakData:{}}})},_x=vc.exports={enable:function(){_x.enable=function(){},U0=!0;var n=mc.f,e=W0([].splice),t={};t[Pr]=1,n(t).length&&(mc.f=function(i){for(var r=n(i),o=0,s=r.length;o<s;o++)if(r[o]===Pr){e(r,o,1);break}return r},yx({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:G0.f}))},fastKey:function(n,e){if(!K0(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!qh(n,Pr)){if(!Mg(n))return"F";if(!e)return"E";Pg(n)}return n[Pr].objectID},getWeakData:function(n,e){if(!qh(n,Pr)){if(!Mg(n))return!0;if(!e)return!1;Pg(n)}return n[Pr].weakData},onFreeze:function(n){return bx&&U0&&Mg(n)&&!qh(n,Pr)&&Pg(n),n}};gc[Pr]=!0;var Rg=Sn,Y0=Xt,q0=Bt,wx=kn,Fg=dy,xx=Ii,na=Qe,Ag=Ws,yc=Id,bc=Fp,Z0=ee.TypeError,_c=function(n,e){this.stopped=n,this.result=e},J0=_c.prototype,Zh=function(n,e,t){var i,r,o,s,d,f,x,I=!(!t||!t.AS_ENTRIES),P=!(!t||!t.IS_ITERATOR),L=!(!t||!t.INTERRUPTED),N=Rg(e,t&&t.that),H=function(V){return i&&bc(i,"normal",V),new _c(!0,V)},Y=function(V){return I?(q0(V),L?N(V[0],V[1],H):N(V[0],V[1])):L?N(V,H):N(V)};if(P)i=n;else{if(!(r=yc(n)))throw Z0(wx(n)+" is not iterable");if(Fg(r)){for(o=0,s=xx(n);s>o;o++)if((d=Y(n[o]))&&na(J0,d))return d;return new _c(!1)}i=Ag(n,r)}for(f=i.next;!(x=Y0(f,i)).done;){try{d=Y(x.value)}catch(V){bc(i,"throw",V)}if("object"==typeof d&&d&&na(J0,d))return d}return new _c(!1)},kx=Qe,Cx=ee.TypeError,wc=function(n,e){if(kx(e,n))return n;throw Cx("Incorrect invocation")},Ex=ye,Sx=ee,X0=vc.exports,Tx=we,Ox=hn,$g=Zh,Lg=wc,Bg=le,Ix=Ue,Dx=io,Q0=Ft.f,e_=Yn.forEach,Ng=Xe,t_=mr.set,ra=mr.getterFor,Jh=function(n,e,t){var i,r=-1!==n.indexOf("Map"),o=-1!==n.indexOf("Weak"),s=r?"set":"add",d=Sx[n],f=d&&d.prototype,x={};if(Ng&&Bg(d)&&(o||f.forEach&&!Tx(function(){(new d).entries().next()}))){var T=(i=e(function(P,L){t_(Lg(P,T),{type:n,collection:new d}),null!=L&&$g(L,P[s],{that:P,AS_ENTRIES:r})})).prototype,I=ra(n);e_(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var L="add"==P||"set"==P;!(P in f)||o&&"clear"==P||Ox(T,P,function(N,H){var Y=I(this).collection;if(!L&&o&&!Ix(N))return"get"==P&&void 0;var V=Y[P](0===N?0:N,H);return L?this:V})}),o||Q0(T,"size",{configurable:!0,get:function(){return I(this).collection.size}})}else i=t.getConstructor(e,n,r,s),X0.enable();return Dx(i,n,!1,!0),x[n]=i,Ex({global:!0,forced:!0},x),o||t.setStrong(i,n,r),i},Mx=As,zg=function(n,e,t){for(var i in e)t&&t.unsafe&&n[i]?n[i]=e[i]:Mx(n,i,e[i],t);return n},Px=hi,Rx=Ft,i_=Xe,Xh=ot("species"),Fx=Ft.f,Ax=to,n_=zg,Qh=Sn,jg=wc,$x=Zh,Lx=kd,xc=Xe,Tl=vc.exports.fastKey,ef=mr.set,Hg=mr.getterFor,Ol={getConstructor:function(n,e,t,i){var r=n(function(x,T){jg(x,o),ef(x,{type:e,index:Ax(null),first:void 0,last:void 0,size:0}),xc||(x.size=0),null!=T&&$x(T,x[i],{that:x,AS_ENTRIES:t})}),o=r.prototype,s=Hg(e),d=function(x,T,I){var P,L,N=s(x),H=f(x,T);return H?H.value=I:(N.last=H={index:L=Tl(T,!0),key:T,value:I,previous:P=N.last,next:void 0,removed:!1},N.first||(N.first=H),P&&(P.next=H),xc?N.size++:x.size++,"F"!==L&&(N.index[L]=H)),x},f=function(x,T){var I,P=s(x),L=Tl(T);if("F"!==L)return P.index[L];for(I=P.first;I;I=I.next)if(I.key==T)return I};return n_(o,{clear:function(){for(var x=s(this),T=x.index,I=x.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete T[I.index],I=I.next;x.first=x.last=void 0,xc?x.size=0:this.size=0},delete:function(x){var T=this,I=s(T),P=f(T,x);if(P){var L=P.next,N=P.previous;delete I.index[P.index],P.removed=!0,N&&(N.next=L),L&&(L.previous=N),I.first==P&&(I.first=L),I.last==P&&(I.last=N),xc?I.size--:T.size--}return!!P},forEach:function(x){for(var T,I=s(this),P=Qh(x,arguments.length>1?arguments[1]:void 0);T=T?T.next:I.first;)for(P(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(x){return!!f(this,x)}}),n_(o,t?{get:function(x){var T=f(this,x);return T&&T.value},set:function(x,T){return d(this,0===x?0:x,T)}}:{add:function(x){return d(this,x=0===x?0:x,x)}}),xc&&Fx(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(n,e,t){var i=e+" Iterator",r=Hg(e),o=Hg(i);Lx(n,e,function(s,d){ef(this,{type:i,target:s,state:r(s),kind:d,last:void 0})},function(){for(var s=o(this),d=s.kind,f=s.last;f&&f.removed;)f=f.previous;return s.target&&(s.last=f=f?f.next:s.state.first)?"keys"==d?{value:f.key,done:!1}:"values"==d?{value:f.value,done:!1}:{value:[f.key,f.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},t?"entries":"values",!t,!0),function(n){var e=Px(n);i_&&e&&!e[Xh]&&(0,Rx.f)(e,Xh,{configurable:!0,get:function(){return this}})}(e)}};Jh("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Ol);var lr=Fe.Map,r_=function(){function n(){_e(this,n),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ne(this.options,this.defaultOptions)}return xe(n,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===mt(t).call(t,i)&&this.add(i,e[i])}},{key:"clear",value:function(){this._groups=new lr,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(e);if(void 0===i&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var r=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[r]),this._groups.set(e,i)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[o],this._groups.set(e,i)}return i}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),n}();ye({target:"Number",stat:!0},{isNaN:function(n){return n!=n}});var Vg=Fe.Number.isNaN,Nx=ee.isFinite;ye({target:"Number",stat:!0},{isFinite:Number.isFinite||function(n){return"number"==typeof n&&Nx(n)}});var as=Fe.Number.isFinite,tf=Yn.some;ye({target:"Array",proto:!0,forced:!Er("some")},{some:function(n){return tf(this,n,arguments.length>1?arguments[1]:void 0)}});var o_=ci("Array").some,jx=Qe,Hx=o_,kc=Array.prototype,Si=ee,Wg=we,Kx=S,Kg=yh.trim,a_=Ee("".charAt),Cc=Si.parseFloat,Gg=Si.Symbol,ss=Gg&&Gg.iterator,nf=1/Cc("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0||ss&&!Wg(function(){Cc(Object(ss))})?function(n){var e=Kg(Kx(n)),t=Cc(e);return 0===t&&"-"==a_(e,0)?-0:t}:Cc;ye({global:!0,forced:parseFloat!=nf},{parseFloat:nf});var ur=Fe.parseFloat,l_=Fd.f;ye({target:"Object",stat:!0,forced:we(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l_});var u_=Fe.Object;function Zg(n,e){var t=["node","edge","label"],i=!0,r=xo(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===_t(r)){if(-1===mt(t).call(t,n))throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");var o=xo(e,["chosen",n]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function rf(n,e,t){if(n.width<=0||n.height<=0)return!1;if(void 0!==t){var i={x:e.x-t.x,y:e.y-t.y};if(0!==t.angle){var r=-t.angle;e={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else e=i}return n.left<e.x&&n.x+n.width>e.x&&n.top<e.y&&n.y+n.width>e.y}function of(n){return"string"==typeof n&&""!==n}function Jg(n,e,t,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(n,e),d=Math.sin(e)*s,f=Math.cos(e)*s;f===s?(r+=s,o=i.y):d===s?(r=i.x,o-=s):(r+=f,o-=d)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-t):(r=i.x+t,o=i.y-.5*i.shape.height);return{x:r,y:o}}var c_=ci("Array").values,Gx=a,d_=ft,u=Qe,h=c_,p=Array.prototype,v={DOMTokenList:!0,NodeList:!0},k=function(n){var e=n.values;return n===p||u(p,n)&&e===p.values||d_(v,Gx(n))?h:e},O=function(){function n(e){_e(this,n),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return xe(n,[{key:"_add",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var r=t;void 0!==t&&""!==t||(r=" ");var o=this.measureText(r,i),s=Ne({},k(o));s.text=t,s.width=o.width,s.mod=i,void 0!==t&&""!==t||(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(e){this._add(this.current,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],i=0;if(void 0!==t.blocks)for(var r=0;r<t.blocks.length;r++){var o=t.blocks[r];i<o.height&&(i=o.height)}t.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,i=0;i<this.lines.length;i++){var r=this.lines[i];r.width>e&&(e=r.width),t+=r.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var i=this.lines[t];if(0!==i.blocks.length&&(t!==this.lines.length-1||0!==i.width)){var r={};Ne(r,i),r.blocks=[];for(var o=void 0,s=[],d=0;d<i.blocks.length;d++){var f=i.blocks[d];0!==f.width?s.push(f):void 0===o&&(o=f)}0===s.length&&void 0!==o&&s.push(o),r.blocks=s,e.push(r)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),n}(),D={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},F=function(){function n(e){_e(this,n),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return xe(n,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Yt(this.prepareRegExp(e),2),s=r[1],d=r[0].test(this.text.substr(this.position,s));return d&&t&&(this.position+=s-1),d}},{key:"parseEndTag",value:function(e,t,i){var r=this.mod()===e;return!(!(r="mono"===e?r&&this.mono:r&&!this.mono)||!this.match(t)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),0))}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,i;if(e instanceof RegExp)i=e,t=1;else{var r=D[e];i=void 0!==r?r:new RegExp(e),t=e.length}return[i,t]}}]),n}(),B=function(){function n(e,t,i,r){var o=this;_e(this,n),this.ctx=e,this.parent=t,this.selected=i,this.hover=r,this.lines=new O(function(s,d){if(void 0===s)return 0;var f=o.parent.getFormattingValues(e,i,r,d),x=0;return""!==s&&(x=o.ctx.measureText(s).width),{width:x,values:f}})}return xe(n,[{key:"process",value:function(e){if(!of(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(e).split("\n"),r=i.length;if(t.multi)for(var o=0;o<r;o++){var s=this.splitBlocks(i[o],t.multi);if(void 0!==s)if(0!==s.length){if(t.maxWdt>0)for(var d=0;d<s.length;d++)this.splitStringIntoLines(s[d].text,s[d].mod,!0);else for(var T=0;T<s.length;T++)this.lines.append(s[T].text,s[T].mod);this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var L=0;L<r;L++)this.splitStringIntoLines(i[L]);else for(var N=0;N<r;N++)this.lines.newLine(i[N]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new F(e);t.position<t.text.length;){var r=t.text.charAt(t.position);t.parseWS(r)||/</.test(r)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||!!/&/.test(r)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)||t.add(r),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,i=new F(e),r=!0;i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||!!/\\/.test(d=s)&&(i.position<t.text.length+1&&(i.position++,d=t.text.charAt(i.position),/ \t/.test(d)?i.spacing=!0:(i.add(d),r=!1)),!0)||(r||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),r=!1),i.position++}var d;return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,t){var i=this.decodeMarkupSystem(t);return"none"===i?[{text:e,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(e):"html"===i?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",i=0;i<e.length;){var r=t+(""===t?"":" ")+e[i];if(this.overMaxWidth(r))break;t=r,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(ct(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var r=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");r.length>0;){var o=this.getLongestFit(r);if(0===o){var s=r[0],d=this.getLongestFitWord(s);this.lines.newLine(ct(s).call(s,0,d),t),r[0]=ct(s).call(s,d)}else{var f=o;" "===r[o-1]?o--:" "===r[f]&&f++;var x=ct(r).call(r,0,o).join("");o==r.length&&i?this.lines.append(x,t):this.lines.newLine(x,t),r=ct(r).call(r,f)}}}}]),n}(),z=["bold","ital","boldital","mono"],Z=function(){function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_e(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return xe(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),of(e.label)?this.labelDirty=!0:e.label=void 0,null!=e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===_t(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(e){var t=this;lt(z,function(i){t.fontOptions[i]={}}),n.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:lt(e,function(i,r){null!=i&&"object"!==_t(i)&&(t.fontOptions[r]=i)})}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=xo(e,"widthConstraint");if("number"==typeof i)t.maxWdt=Number(i),t.minWdt=Number(i);else if("object"===_t(i)){var r=xo(e,["widthConstraint","maximum"]);"number"==typeof r&&(t.maxWdt=Number(r));var o=xo(e,["widthConstraint","minimum"]);"number"==typeof o&&(t.minWdt=Number(o))}var s=xo(e,"heightConstraint");if("number"==typeof s)t.minHgt=Number(s);else if("object"===_t(s)){var d=xo(e,["heightConstraint","minimum"]);"number"==typeof d&&(t.minHgt=Number(d));var f=xo(e,["heightConstraint","valign"]);"string"==typeof f&&("top"!==f&&"bottom"!==f||(t.valign=f))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Mt(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Zg("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=e?e.top+e.bottom:0)}},{key:"addFontOptionsToPile",value:function(e,t){for(var i=0;i<t.length;++i)this.addFontToPile(e,t[i])}},{key:"addFontToPile",value:function(e,t){void 0!==t&&null!=t.font&&e.push(t.font)}},{key:"getBasicOptions",value:function(e){for(var t={},i=0;i<e.length;++i){var r=e[i],o={};n.parseFontString(o,r)&&(r=o),lt(r,function(s,d){void 0!==s&&(Object.prototype.hasOwnProperty.call(t,d)||(t[d]=-1!==mt(z).call(z,d)?{}:s))})}return t}},{key:"getFontOption",value:function(e,t,i){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,t)){if(null==(r=s[t]))continue;var d={};if(n.parseFontString(d,r)&&(r=d),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var i={},r=["color","size","face","mod","vadjust"],o=0;o<r.length;++o){var s=r[o];i[s]=this.getFontOption(e,t,s)}return i}},{key:"propagateFonts",value:function(e){var t=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var r=function(s){var d=z[s],f=t.fontOptions[d];lt(t.getFontOptions(i,d),function(x,T){f[T]=x}),f.size=Number(f.size),f.vadjust=Number(f.vadjust)},o=0;o<z.length;++o)r(o)}},{key:"draw",value:function(e,t,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var d=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&d<this.elementOptions.scaling.label.drawThreshold-1||(d>=this.elementOptions.scaling.label.maxVisible&&(d=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,r,o,t,i,s),this._drawBackground(e),this._drawText(e,t,this.size.yLine,s,d))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,i){var o=arguments.length>4?arguments[4]:void 0,d=Yt(this._setAlignment(e,t,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),2);t=d[0],i=d[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var f=0;f<this.lineCount;f++){var x=this.lines[f];if(x&&x.blocks){var T=0;this.isEdgeLabel||"center"===this.fontOptions.align?T+=(this.size.width-x.width)/2:"right"===this.fontOptions.align&&(T+=this.size.width-x.width);for(var I=0;I<x.blocks.length;I++){var P=x.blocks[I];e.font=P.font;var N=Yt(this._getColor(P.color,o,P.strokeColor),2),H=N[0],Y=N[1];P.strokeWidth>0&&(e.lineWidth=P.strokeWidth,e.strokeStyle=Y,e.lineJoin="round"),e.fillStyle=H,P.strokeWidth>0&&e.strokeText(P.text,t+T,i+P.vadjust),e.fillText(P.text,t+T,i+P.vadjust),T+=P.width}i+=x.height}}}},{key:"_setAlignment",value:function(e,t,i,r){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,i=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",i+=4):e.textBaseline="middle"):e.textBaseline=r,[t,i]}},{key:"_getColor",value:function(e,t,i){var r=e||"#000000",o=i||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));r=un(r,s),o=un(o,s)}return[r,o]}},{key:"getTextSize",value:function(e){return this._processLabel(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=i,t=.5*-this.size.height;break;case"top":e=i,t=-(this.size.height+2);break;case"bottom":e=i,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,i),this.size.left=r-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,i,r){var o=function(f,x,T){return"normal"===x?"mod"===T?"":f[T]:void 0!==f[x][T]?f[x][T]:f[T]},s={color:o(this.fontOptions,r,"color"),size:o(this.fontOptions,r,"size"),face:o(this.fontOptions,r,"face"),mod:o(this.fontOptions,r,"mod"),vadjust:o(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||i)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,t,i));var d="";return void 0!==s.mod&&""!==s.mod&&(d+=s.mod+" "),e.font=(d+=s.size+"px "+s.face).replace(/"/g,""),s.font=e.font,s.height=s.size,s}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,i,r){return new B(e,this,t,i).process(r)}},{key:"_processLabel",value:function(e,t,i){if(!1!==this.labelDirty||this.differentState(t,i)){var r=this._processLabelText(e,t,i,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=t,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var i=t.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),n}(),q=Hs,he=kn,be=ee.TypeError,Oe=ye,Te=di,Re=Ms,De=function(n){if(q(n))return n;throw be(he(n)+" is not a constructor")},Ze=Bt,Ot=Ue,wt=to,Pt=we,mn=hi("Reflect","construct"),cn=Object.prototype,Zt=[].push,Ti=Pt(function(){function n(){}return!(mn(function(){},[],n)instanceof n)}),Ni=!Pt(function(){mn(function(){})}),oa=Ti||Ni;Oe({target:"Reflect",stat:!0,forced:oa,sham:oa},{construct:function(n,e){De(n),Ze(e);var t=arguments.length<3?n:De(arguments[2]);if(Ni&&!Ti)return mn(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var i=[null];return Te(Zt,i,e),new(Te(Re,n,i))}var r=t.prototype,o=wt(Ot(r)?r:cn),s=Te(n,o,e);return Ot(s)?s:o}});var oe=Fe.Reflect.construct,ls=Qv;ye({target:"Object",stat:!0},{setPrototypeOf:yu});var af=Fe.Object.setPrototypeOf;function Ec(n,e){return(Ec=af||function(t,i){return t.__proto__=i,t})(n,e)}function vt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=ls(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),oh(n,"prototype",{writable:!1}),e&&Ec(n,e)}function se(n,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)}var fe=Bb;function ce(n){return(ce=af?fe:function(e){return e.__proto__||fe(e)})(n)}var Je=function(){function n(e,t,i){_e(this,n),this.body=t,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return xe(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==_t(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+i}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var i=t.borderDashes;!0===i&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){e.lineWidth=Math.min(this.width,t.borderWidth/this.body.view.scale),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var i=t.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Fn(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,i,r,o){void 0!==i&&this.resize(i,r,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,i,r,o){this._updateBoundingBox(e,t,i,r,o)}},{key:"getDimensionsFromLabel",value:function(e,t,i){this.textSize=this.labelModule.getTextSize(e,t,i);var r=this.textSize.width,o=this.textSize.height;return 0===r&&(r=14,o=14),{width:r,height:o}}}]),n}();var Jt=function(n){vt(t,n);var e=function Me(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,f),du(i,this.left,this.top,this.width,this.height,f.borderRadius),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d)}},{key:"updateBoundingBox",value:function(i,r,o,s,d){this._updateBoundingBox(i,r,o,s,d),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+o}}]),t}(Je);var $t=function(n){vt(t,n);var e=function gt(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o)).labelOffset=0,s.selected=!1,s}return xe(t,[{key:"setOptions",value:function(i,r,o){this.options=i,void 0===r&&void 0===o||this.setImages(r,o)}},{key:"setImages",value:function(i,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=r)}},{key:"switchImages",value:function(i){var r=i&&!this.selected||!i&&this.selected;if(this.selected=i,void 0!==this.imageObjAlt&&r){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var r=this.options.imagePadding;"object"==_t(r)?(i.top=r.top,i.right=r.right,i.bottom=r.bottom,i.left=r.left):(i.top=r,i.right=r,i.bottom=r,i.left=r)}return i}},{key:"_resizeImage",value:function(){var i,r;if(!1===this.options.shapeProperties.useImageSize){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),i=2*this.options.size*o,r=2*this.options.size*s}else{var d=this._getImagePadding();i=this.imageObj.width+d.left+d.right,r=this.imageObj.height+d.top+d.bottom}this.width=i,this.height=r,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,r,o,s){this.initContextForDraw(i,s),ud(i,r,o,s.size),this.performFill(i,s)}},{key:"_drawImageAtPosition",value:function(i,r){if(0!=this.imageObj.width){i.globalAlpha=void 0!==r.opacity?r.opacity:1,this.enableShadow(i,r);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding();this.imageObj.drawImageAtPosition(i,o,this.left+s.left,this.top+s.top,this.width-s.left-s.right,this.height-s.top-s.bottom),this.disableShadow(i,r)}}},{key:"_drawImageLabel",value:function(i,r,o,s,d){var f=0;if(void 0!==this.height){f=.5*this.height;var x=this.labelModule.getTextSize(i,s,d);x.lineCount>=1&&(f+=x.height/2)}var T=o+f;this.options.label&&(this.labelOffset=f),this.labelModule.draw(i,r,T,s,d,"hanging")}}]),t}(Je);var kt=function(n){vt(t,n);var e=function Nn(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o),d=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=d/2,this.width=d,this.height=d,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this._drawRawCircle(i,r,o,f),this.updateBoundingBox(r,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,o,s,d)}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}($t);var dn=function(n){vt(t,n);var e=function Ri(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d){var f;return _e(this,t),(f=e.call(this,i,r,o)).setImages(s,d),f}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var d=2*this.options.size;return this.width=d,this.height=d,void(this.radius=.5*this.width)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,d,f){this.switchImages(s),this.resize();var x=r,T=o;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,x+=this.width/2,T+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),this._drawRawCircle(i,x,T,f),i.save(),i.clip(),this._drawImageAtPosition(i,f),i.restore(),this._drawImageLabel(i,x,T,s,d),this.updateBoundingBox(r,o)}},{key:"updateBoundingBox",value:function(i,r){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=r,this.boundingBox.left=i,this.boundingBox.right=i+2*this.options.size,this.boundingBox.bottom=r+2*this.options.size):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),t}($t);var Oi=function(n){vt(t,n);var e=function us(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,o)){var d,f;this.labelModule.getTextSize(i,r,o);var x=2*s.size;this.width=null!==(d=this.customSizeWidth)&&void 0!==d?d:x,this.height=null!==(f=this.customSizeHeight)&&void 0!==f?f:x,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,r,o,s,d,f,x,T){var I,P=this;return this.resize(i,f,x,T),this.left=s-this.width/2,this.top=d-this.height/2,this.initContextForDraw(i,T),(I=r,Object.prototype.hasOwnProperty.call(Qr,I)?Qr[I]:function(L){for(var N=arguments.length,H=new Array(N>1?N-1:0),Y=1;Y<N;Y++)H[Y-1]=arguments[Y];CanvasRenderingContext2D.prototype[I].call(L,H)})(i,s,d,T.size),this.performFill(i,T),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(i.font=(f?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,s,d)),{drawExternalLabel:function(){void 0!==P.options.label&&(P.labelModule.calculateLabelSize(i,f,x,s,d,"hanging"),P.labelModule.draw(i,s,d+.5*P.height+.5*P.labelModule.size.height,f,x,"hanging")),P.updateBoundingBox(s,d)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(Je);function Rr(n,e){var t=dt(n);if(Ho){var i=Ho(n);e&&(i=Li(i).call(i,function(r){return $i(n,r).enumerable})),t.push.apply(t,i)}return t}function Il(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Dt(t=Rr(Object(r),!0)).call(t,function(o){nl(n,o,r[o])}):Mn?Ya(n,Mn(r)):Dt(i=Rr(Object(r))).call(i,function(o){Au(n,o,$i(r,o))})}return n}var h_=function(n){vt(t,n);var e=function Ak(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s){var d;return _e(this,t),(d=e.call(this,i,r,o,s)).ctxRenderer=s,d}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d,f),this.left=r-this.width/2,this.top=o-this.height/2,i.save();var x=this.ctxRenderer({ctx:i,id:this.options.id,x:r,y:o,state:{selected:s,hover:d},style:Il({},f),label:this.options.label});if(null!=x.drawNode&&x.drawNode(),i.restore(),x.drawExternalLabel){var T=x.drawExternalLabel;x.drawExternalLabel=function(){i.save(),T(),i.restore()}}return x.nodeDimensions&&(this.customSizeWidth=x.nodeDimensions.width,this.customSizeHeight=x.nodeDimensions.height),x}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var f_=function(n){vt(t,n);var e=function cs(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return xe(t,[{key:"resize",value:function(i,r,o){if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,f),dp(i,r-this.width/2,o-this.height/2,this.width,this.height),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Je);var QC=function(n){vt(t,n);var e=function Sc(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"diamond",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var Ux=function(n){vt(t,n);var e=function $k(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"circle",2,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),t}(Oi);var Bk=function(n){vt(t,n);var e=function Lk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(i,f),Tn(i,this.left,this.top,this.width,this.height),this.performFill(i,f),this.updateBoundingBox(r,o,i,s,d),this.labelModule.draw(i,r,o,s,d)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=.5*this.width,s=.5*this.height,d=Math.sin(r)*o,f=Math.cos(r)*s;return o*s/Math.sqrt(d*d+f*f)}}]),t}(Je);var Yx=function(n){vt(t,n);var e=function p_(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return xe(t,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,d,f){var x=this;return this.resize(i,s,d),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=o-this.height/2,this._icon(i,r,o,s,d,f),{drawExternalLabel:function(){void 0!==x.options.label&&x.labelModule.draw(i,x.left+x.iconSize.width/2+x.margin.left,o+x.height/2+5,s),x.updateBoundingBox(r,o)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-.5*this.options.icon.size,this.boundingBox.left=i-.5*this.options.icon.size,this.boundingBox.right=i+.5*this.options.icon.size,this.boundingBox.bottom=r+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(i,r,o,s,d,f){var x=Number(this.options.icon.size);void 0!==this.options.icon.code?(i.font=[null!=this.options.icon.weight?this.options.icon.weight:s?"bold":"",(null!=this.options.icon.weight&&s?5:0)+x+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,f),i.fillText(this.options.icon.code,r,o),this.disableShadow(i,f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Je);var eE=function(n){vt(t,n);var e=function Nk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d){var f;return _e(this,t),(f=e.call(this,i,r,o)).setImages(s,d),f}return xe(t,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var d=2*this.options.size;return this.width=d,void(this.height=d)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,d,f){i.save(),this.switchImages(s),this.resize();var x=r,T=o;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,x+=this.width/2,T+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){i.lineWidth=Math.min(this.width,(s?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),i.beginPath();var N=s?this.options.color.highlight.border:d?this.options.color.hover.border:this.options.color.border,H=s?this.options.color.highlight.background:d?this.options.color.hover.background:this.options.color.background;void 0!==f.opacity&&(N=un(N,f.opacity),H=un(H,f.opacity)),i.strokeStyle=N,i.fillStyle=H,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Fn(i).call(i),this.performStroke(i,f),i.closePath()}this._drawImageAtPosition(i,f),this._drawImageLabel(i,x,T,s,d),this.updateBoundingBox(r,o),i.restore()}},{key:"updateBoundingBox",value:function(i,r){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=r):(this.left=i-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}($t);var tE=function(n){vt(t,n);var e=function zk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"square",2,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var nE=function(n){vt(t,n);var e=function iE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"hexagon",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var oE=function(n){vt(t,n);var e=function rE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"star",4,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var Qg=function(n){vt(t,n);var e=function Xg(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._setMargins(o),s}return xe(t,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.textSize=this.labelModule.getTextSize(i,r,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,d,f){this.resize(i,s,d),this.left=r-this.width/2,this.top=o-this.height/2,this.enableShadow(i,f),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,d),this.disableShadow(i,f),this.updateBoundingBox(r,o,i,s,d)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Je);var jk=function(n){vt(t,n);var e=function em(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"triangle",3,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);var Tc=function(n){vt(t,n);var e=function sf(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"draw",value:function(i,r,o,s,d,f){return this._drawShape(i,"triangleDown",3,r,o,s,d,f)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),t}(Oi);function Hk(n,e){var t=dt(n);if(Ho){var i=Ho(n);e&&(i=Li(i).call(i,function(r){return $i(n,r).enumerable})),t.push.apply(t,i)}return t}function Vk(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Dt(t=Hk(Object(r),!0)).call(t,function(o){nl(n,o,r[o])}):Mn?Ya(n,Mn(r)):Dt(i=Hk(Object(r))).call(i,function(o){Au(n,o,$i(r,o))})}return n}var zn=function(){function n(e,t,i,r,o,s){_e(this,n),this.options=ea(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Z(this.body,this.options,!1),this.setOptions(e)}return xe(n,[{key:"attachEdge",value:function(e){var t;-1===mt(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,i,r=mt(t=this.edges).call(t,e);-1!=r&&Rn(i=this.edges).call(i,r,1)}},{key:"setOptions",value:function(e){var t=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return n.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Yi(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Yi(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=ur(e.value)),n.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=Zg("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&n.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=un(e.borderColor,t),e.color=un(e.color,t),e.shadowColor=un(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(e){null!=this.options.label||(this.options.label=""),n.updateGroupOptions(this.options,Vk(Vk({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var t=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,t,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Jt(this.options,this.body,this.labelModule);break;case"circle":this.shape=new kt(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new dn(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new h_(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new f_(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new QC(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Ux(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Bk(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Yx(this.options,this.body,this.labelModule);break;case"image":this.shape=new eE(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new tE(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new nE(this.options,this.body,this.labelModule);break;case"star":this.shape=new oE(this.options,this.body,this.labelModule);break;case"text":this.shape=new Qg(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new jk(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Tc(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+r*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&rf(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),rf(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(e,t,i){var r;if(void 0!==i){var o=e.group;if(void 0!==t&&void 0!==t.group&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===t.opacity&&(n.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var d=Li(r=function(n){return u_.getOwnPropertyNames(n)}(t)).call(r,function(f){return null!=t[f]});d.push("font"),dc(d,e,s),e.color=zh(e.color)}}}},{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(dc(["color","fixed","shadow"],e,t,i),n.checkMass(t),void 0!==e.opacity&&(n.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==t.opacity&&(n.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!n.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),Bn(e,t,"shadow",r),null!=t.color){var d=zh(t.color);E0(e.color,d)}else!0===i&&null===t.color&&(e.color=ea(r.color));null!=t.fixed&&("boolean"==typeof t.fixed?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(void 0!==t.fixed.x&&"boolean"==typeof t.fixed.x&&(e.fixed.x=t.fixed.x),void 0!==t.fixed.y&&"boolean"==typeof t.fixed.y&&(e.fixed.y=t.fixed.y))),!0===i&&null===t.font&&(e.font=ea(r.font)),n.updateGroupOptions(e,t,o),void 0!==t.scaling&&Bn(e.scaling,t.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var i="";void 0!==t&&(i=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Kh),e.mass=1}}}]),n}();function qx(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var tm=function(){function n(e,t,i,r){var o,s=this;if(_e(this,n),this.body=e,this.images=t,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=pe(o=this.create).call(o,this),this.nodesListeners={add:function(d,f){s.add(f.items)},update:function(d,f){s.update(f.items,f.data,f.oldData)},remove:function(d,f){s.remove(f.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,f,x,T){return f===d?.5:Math.max(0,1/(f-d)*(T-d))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ea(this.defaultOptions),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("refreshNodes",pe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",pe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){lt(i.nodesListeners,function(r,o){i.body.data.nodes&&i.body.data.nodes.off(o,r)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){if(zn.parseOptions(this.options,e),void 0!==e.opacity&&(Vg(e.opacity)||!as(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(void 0!==e.font||void 0!==e.widthConstraint||void 0!==e.heightConstraint)for(var i=0,r=dt(this.body.nodes);i<r.length;i++){var o=r[i];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(void 0!==e.size)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(mi.isDataViewLike("id",e))this.body.data.nodes=e;else if(Tt(e))this.body.data.nodes=new mi.DataSet,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new mi.DataSet}if(i&&lt(this.nodesListeners,function(s,d){i.off(d,s)}),this.body.nodes={},this.body.data.nodes){var r=this;lt(this.nodesListeners,function(s,d){r.body.data.nodes.on(d,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=0;o<e.length;o++){var s=this.body.data.nodes.get(t=e[o]),d=this.create(s);r.push(d),this.body.nodes[t]=d}this.layoutEngine.positionInitially(r),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,i){for(var r=this.body.nodes,o=!1,s=0;s<e.length;s++){var d=e[s],f=r[d],x=t[s];void 0!==f?f.setOptions(x)&&(o=!0):(o=!0,f=this.create(x),r[d]=f)}o||void 0===i||(o=function(n){var e=n.some;return n===kc||jx(kc,n)&&e===kc.some?Hx:e}(t).call(t,function(T,I){var P=i[I];return P&&P.level!==T.level})),this.body.emitter.emit(!0===o?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,i=0;i<e.length;i++)delete t[e[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:zn)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];lt(this.body.nodes,function(i,r){var o=e.body.data.nodes.get(r);void 0!==o&&(!0===t&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Tt(e)){for(var i=0;i<e.length;i++)if(void 0!==this.body.nodes[e[i]]){var r=this.body.nodes[e[i]];t[e[i]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[e]){var o=this.body.nodes[e];t[e]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var d=this.body.nodes[this.body.nodeIndices[s]];t[this.body.nodeIndices[s]]={x:Math.round(d.x),y:Math.round(d.y)}}return t}},{key:"getPosition",value:function(e){if(null==e)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],i=this.body.data.nodes.getDataSet(),r=function Wk(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return qx(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return qx(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(i.get());try{for(r.s();!(e=r.n()).done;){var o=e.value,s=o.id,d=this.body.nodes[s],f=Math.round(d.x),x=Math.round(d.y);o.x===f&&o.y===x||t.push({id:s,x:f,y:x})}}catch(T){r.e(T)}finally{r.f()}i.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var i=[];if(void 0!==this.body.nodes[e])for(var r=this.body.nodes[e],o={},s=0;s<r.edges.length;s++){var d=r.edges[s];"to"!==t&&d.toId==r.id?void 0===o[d.fromId]&&(i.push(d.fromId),o[d.fromId]=!0):"from"!==t&&d.fromId==r.id&&void 0===o[d.toId]&&(i.push(d.toId),o[d.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],r=0;r<i.edges.length;r++)t.push(i.edges[r].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,i){var r=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(i),Tr(function(){r.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),n}(),v_=ft,aE=Xt,sE=Ue,Zx=Bt,lE=function(n){return void 0!==n&&(v_(n,"value")||v_(n,"writable"))},uE=rt,cE=Lo;ye({target:"Reflect",stat:!0},{get:function n(e,t){var i,r,o=arguments.length<3?e:arguments[2];return Zx(e)===o?e[t]:(i=uE.f(e,t))?lE(i)?i.value:void 0===i.get?void 0:aE(i.get,o):sE(r=cE(e))?n(r,t,o):void 0}});var Kk=Fe.Reflect.get,Jx=Dn;function dE(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=ce(n)););return n}function g_(){return g_=typeof Reflect<"u"&&Kk?Kk:function(n,e,t){var i=dE(n,e);if(i){var r=Jx(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},g_.apply(this,arguments)}var Uk=Math.hypot,hE=Math.abs,Yk=Math.sqrt;ye({target:"Math",stat:!0,forced:!!Uk&&Uk(1/0,NaN)!==1/0},{hypot:function(n,e){for(var t,i,r=0,o=0,s=arguments.length,d=0;o<s;)d<(t=hE(arguments[o++]))?(r=r*(i=d/t)*i+1,d=t):r+=t>0?(i=t/d)*i:t;return d===1/0?1/0:d*Yk(r)}});var fE=Fe.Math.hypot;function Oc(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}var ti=function(){function n(){_e(this,n)}return xe(n,null,[{key:"transform",value:function(e,t){Tt(e)||(e=[e]);for(var i=t.point.x,r=t.point.y,o=t.angle,s=t.length,d=0;d<e.length;++d){var f=e[d],x=f.x*Math.cos(o)-f.y*Math.sin(o),T=f.x*Math.sin(o)+f.y*Math.cos(o);f.x=i+s*x,f.y=r+s*T}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.closePath()}}]),n}(),Fr=function(n){vt(t,n);var e=Oc(t);function t(){return _e(this,t),e.apply(this,arguments)}return xe(t,null,[{key:"draw",value:function(i,r){if(r.image){i.save(),i.translate(r.point.x,r.point.y),i.rotate(Math.PI/2+r.angle);var o=null!=r.imageWidth?r.imageWidth:r.image.width;r.image.drawImageAtPosition(i,1,-o/2,0,o,null!=r.imageHeight?r.imageHeight:r.image.height),i.restore()}return!1}}]),t}(ti),lf=function(n){vt(t,n);var e=Oc(t);function t(){return _e(this,t),e.apply(this,arguments)}return xe(t,null,[{key:"draw",value:function(i,r){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return ti.transform(o,r),ti.drawPath(i,o),!0}}]),t}(ti),Dl=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),ds=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};ti.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=t.angle-r/2,s=t.angle+r/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),n}(),im=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i={x:-.3,y:0};ti.transform(i,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=t.angle+r/2,s=t.angle+3*r/2;return e.beginPath(),e.arc(i.x,i.y,.4*t.length,o,s,!1),e.stroke(),!0}}]),n}(),aa=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),pE=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),vE=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i={x:-.4,y:0};return ti.transform(i,t),ud(e,i.x,i.y,.4*t.length),!0}}]),n}(),m_=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),qk=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),nm=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),Xx=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return ti.transform(i,t),ti.drawPath(e,i),!0}}]),n}(),Ic=function(){function n(){_e(this,n)}return xe(n,null,[{key:"draw",value:function(e,t){var i;switch(t.type&&(i=t.type.toLowerCase()),i){case"image":return Fr.draw(e,t);case"circle":return vE.draw(e,t);case"box":return qk.draw(e,t);case"crow":return Dl.draw(e,t);case"curve":return ds.draw(e,t);case"diamond":return nm.draw(e,t);case"inv_curve":return im.draw(e,t);case"triangle":return aa.draw(e,t);case"inv_triangle":return pE.draw(e,t);case"bar":return m_.draw(e,t);case"vee":return Xx.draw(e,t);default:return lf.draw(e,t)}}}]),n}();function Qx(n,e){var t=dt(n);if(Ho){var i=Ho(n);e&&(i=Li(i).call(i,function(r){return $i(n,r).enumerable})),t.push.apply(t,i)}return t}function y_(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Dt(t=Qx(Object(r),!0)).call(t,function(o){nl(n,o,r[o])}):Mn?Ya(n,Mn(r)):Dt(i=Qx(Object(r))).call(i,function(o){Au(n,o,$i(r,o))})}return n}var ek=function(){function n(e,t,i){_e(this,n),this._body=t,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return xe(n,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}},{key:"_drawLine",value:function(e,t,i,r,o){if(this.from!=this.to)this._line(e,t,i,r,o);else{var s=Yt(this._getCircleData(e),3);this._circle(e,t,s[0],s[1],s[2])}}},{key:"_drawDashedLine",value:function(e,t,i,r,o){e.lineCap="round";var s=Tt(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,i);else{var d=Yt(this._getCircleData(e),3);this._circle(e,t,d[0],d[1],d[2])}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)hu(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var I=Yt(this._getCircleData(e),3);this._circle(e,t,I[0],I[1],I[2])}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,i){return this.from!=this.to?this._findBorderPosition(e,t,i):this._findBorderPositionCircle(e,t,i)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,i=Yt(ct(t=this._getCircleData(e)).call(t,0,2),2),r=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var i=Jg(e,this.options.selfReference.angle,t,this.from);return[i.x,i.y,t]}},{key:"_pointOnCircle",value:function(e,t,i,r){var o=2*r*Math.PI;return{x:e+i*Math.cos(o),y:t-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(e,t,i){var r,o=i.x,s=i.y,d=i.low,f=i.high,x=i.direction,T=this.options.selfReference.size,I=.5*(d+f),P=0;!0===this.options.arrowStrikethrough&&(-1===x?P=this.options.endPointOffset.from:1===x&&(P=this.options.endPointOffset.to));var L=0;do{r=this._pointOnCircle(o,s,T,I=.5*(d+f));var N=Math.atan2(e.y-r.y,e.x-r.x),H=e.distanceToBorder(t,N)+P-Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));if(Math.abs(H)<.05)break;H>0?x>0?d=I:f=I:x>0?f=I:d=I,++L}while(d<=f&&L<10);return y_(y_({},r),{},{t:I})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=un(this.from.options.color.border,t.opacity),o=un(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),i.addColorStop(0,r),i.addColorStop(1,o),i}return un("to"===t.inheritsColor?this.to.options.color.border:this.from.options.color.border,t.opacity)}return un(t.color,t.opacity)}},{key:"_circle",value:function(e,t,i,r,o){this.enableShadow(e,t);var s=0,d=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var f=this.options.selfReference.angle,x=this.options.selfReference.angle+Math.PI,T=this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:f,high:x,direction:-1}),I=this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:f,high:x,direction:1});s=Math.atan2(T.y-r,T.x-i),d=Math.atan2(I.y-r,I.x-i)}e.beginPath(),e.arc(i,r,o,s,d,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,i,r,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,t,i,r,o,s);var d=Yt(this._getCircleData(void 0),3),T=d[2],I=d[0]-o,P=d[1]-s;return Math.abs(Math.sqrt(I*I+P*P)-T)}},{key:"_getDistanceToLine",value:function(e,t,i,r,o,s){var d=i-e,f=r-t,x=((o-e)*d+(s-t)*f)/(d*d+f*f);x>1?x=1:x<0&&(x=0);var T=e+x*d-o,I=t+x*f-s;return Math.sqrt(T*T+I*I)}},{key:"getArrowData",value:function(e,t,i,r,o,s){var d,f,x,T,I,P,L,N=s.width;"from"===t?(x=this.from,T=this.to,I=s.fromArrowScale<0,P=Math.abs(s.fromArrowScale),L=s.fromArrowType):"to"===t?(x=this.to,T=this.from,I=s.toArrowScale<0,P=Math.abs(s.toArrowScale),L=s.toArrowType):(x=this.to,T=this.from,I=s.middleArrowScale<0,P=Math.abs(s.middleArrowScale),L=s.middleArrowType);var H=15*P+3*N;if(x!=T){var Y=H/fE(x.x-T.x,x.y-T.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var V=this._findBorderPosition(x,e,{via:i}),K=this.getPoint(V.t+Y*("from"===t?1:-1),i);d=Math.atan2(V.y-K.y,V.x-K.x),f=V}else d=Math.atan2(x.y-T.y,x.x-T.x),f=this._findBorderPosition(x,e);else{var J=(I?-Y:Y)/2,ue=this.getPoint(.5+J,i),ie=this.getPoint(.5-J,i);d=Math.atan2(ue.y-ie.y,ue.x-ie.x),f=this.getPoint(.5,i)}}else{var Se=Yt(this._getCircleData(e),3),te=Se[0],de=Se[1],G=Se[2];if("from"===t){var He=this.options.selfReference.angle+Math.PI,Ie=this._findBorderPositionCircle(this.from,e,{x:te,y:de,low:this.options.selfReference.angle,high:He,direction:-1});d=-2*Ie.t*Math.PI+1.5*Math.PI+.1*Math.PI,f=Ie}else if("to"===t){var st=this.options.selfReference.angle+Math.PI,ht=this._findBorderPositionCircle(this.from,e,{x:te,y:de,low:this.options.selfReference.angle,high:st,direction:1});d=-2*ht.t*Math.PI+1.5*Math.PI-1.1*Math.PI,f=ht}else{var Ct=this.options.selfReference.angle/(2*Math.PI);f=this._pointOnCircle(te,de,G,Ct),d=-2*Ct*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:f,core:{x:f.x-.9*H*Math.cos(d),y:f.y-.9*H*Math.sin(d)},angle:d,length:H,type:L}}},{key:"drawArrowHead",value:function(e,t,i,r,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Ic.draw(e,o)&&(this.enableShadow(e,t),Fn(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var i=Tt(t)?t:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),n}();function tk(n,e){var t=dt(n);if(Ho){var i=Ho(n);e&&(i=Li(i).call(i,function(r){return $i(n,r).enumerable})),t.push.apply(t,i)}return t}function ik(n){for(var e=1;e<arguments.length;e++){var t,i,r=null!=arguments[e]?arguments[e]:{};e%2?Dt(t=tk(Object(r),!0)).call(t,function(o){nl(n,o,r[o])}):Mn?Ya(n,Mn(r)):Dt(i=tk(Object(r))).call(i,function(o){Au(n,o,$i(r,o))})}return n}var b_=function(n){vt(t,n);var e=function Zk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_findBorderPositionBezier",value:function(i,r){var o,s,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),f=10,x=.2,T=!1,I=1,P=0,L=this.to,N=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(L=this.from,T=!0,N=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(N=0);var H=0;do{o=this.getPoint(s=.5*(P+I),d);var Y=Math.atan2(L.y-o.y,L.x-o.x),J=L.distanceToBorder(r,Y)+N-Math.sqrt(Math.pow(o.x-L.x,2)+Math.pow(o.y-L.y,2));if(Math.abs(J)<x)break;J<0?!1===T?P=s:I=s:!1===T?I=s:P=s,++H}while(P<=I&&H<f);return ik(ik({},o),{},{t:s})}},{key:"_getDistanceToBezierEdge",value:function(i,r,o,s,d,f,x){var T,I,P,L,N,H=1e9,Y=i,V=r;for(I=1;I<10;I++)P=.1*I,L=Math.pow(1-P,2)*i+2*P*(1-P)*x.x+Math.pow(P,2)*o,N=Math.pow(1-P,2)*r+2*P*(1-P)*x.y+Math.pow(P,2)*s,I>0&&(H=(T=this._getDistanceToLine(Y,V,L,N,d,f))<H?T:H),Y=L,V=N;return H}},{key:"_bezierCurve",value:function(i,r,o,s){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),null!=o&&null!=o.x?null!=s&&null!=s.x?i.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,r),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(ek);var Xk=function(n){vt(t,n);var e=function Jk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return xe(t,[{key:"setOptions",value:function(i){g_(ce(t.prototype),"setOptions",this).call(this,i);var r=!1;this.options.physics!==i.physics&&(r=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===r&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var i="edgeId:"+this.id,r=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var s=Yt(this._getCircleData(),3),f=s[1],x=s[2],T=2*Math.PI*(1-i);return{x:s[0]+x*Math.sin(T),y:f+x-x*(1-Math.cos(T))}}return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r,this.via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){return this._getDistanceToBezierEdge(i,r,o,s,d,f,this.via)}}]),t}(b_);var nk=function(n){vt(t,n);var e=function Qk(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i,r,o=this.options.smooth.roundness,s=this.options.smooth.type,d=Math.abs(this.from.x-this.to.x),f=Math.abs(this.from.y-this.to.y);if("discrete"===s||"diagonalCross"===s){var x,T;x=T=d<=f?o*f:o*d,this.from.x>this.to.x&&(x=-x),this.from.y>=this.to.y&&(T=-T);var I=this.from.x+x,P=this.from.y+T;return"discrete"===s&&(d<=f?I=d<o*f?this.from.x:I:P=f<o*d?this.from.y:P),{x:I,y:P}}if("straightCross"===s){var L=(1-o)*d,N=(1-o)*f;return d<=f?(L=0,this.from.y<this.to.y&&(N=-N)):(this.from.x<this.to.x&&(L=-L),N=0),{x:this.to.x+L,y:this.to.y+N}}if("horizontal"===s){var H=(1-o)*d;return this.from.x<this.to.x&&(H=-H),{x:this.to.x+H,y:this.from.y}}if("vertical"===s){var Y=(1-o)*f;return this.from.y<this.to.y&&(Y=-Y),{x:this.from.x,y:this.to.y+Y}}if("curvedCW"===s){d=this.to.x-this.from.x,f=this.from.y-this.to.y;var V=Math.sqrt(d*d+f*f),K=Math.PI,J=(Math.atan2(f,d)+(.5*o+.5)*K)%(2*K);return{x:this.from.x+(.5*o+.5)*V*Math.sin(J),y:this.from.y+(.5*o+.5)*V*Math.cos(J)}}if("curvedCCW"===s){d=this.to.x-this.from.x,f=this.from.y-this.to.y;var ue=Math.sqrt(d*d+f*f),ie=Math.PI,Se=(Math.atan2(f,d)+(.5*-o+.5)*ie)%(2*ie);return{x:this.from.x+(.5*o+.5)*ue*Math.sin(Se),y:this.from.y+(.5*o+.5)*ue*Math.cos(Se)}}i=r=d<=f?o*f:o*d,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(r=-r);var te=this.from.x+i,de=this.from.y+r;return d<=f?te=this.from.x<=this.to.x?this.to.x<te?this.to.x:te:this.to.x>te?this.to.x:te:de=this.from.y>=this.to.y?this.to.y>de?this.to.y:de:this.to.y<de?this.to.y:de,{x:te,y:de}}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){var x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,r,o,s,d,f,x)}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=i;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*r.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*r.y+Math.pow(o,2)*this.toPoint.y}}}]),t}(b_);var tC=function(n){vt(t,n);var e=function mE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o[0],o[1])}},{key:"_getViaCoordinates",value:function(){var i,r,o,s,d=this.from.x-this.to.x,f=this.from.y-this.to.y,x=this.options.smooth.roundness;return(Math.abs(d)>Math.abs(f)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,s=this.to.y,i=this.from.x-x*d,o=this.to.x+x*d):(r=this.from.y-x*f,s=this.to.y+x*f,i=this.from.x,o=this.to.x),[{x:i,y:r},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){var T=Yt(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2);return this._getDistanceToBezierEdge2(i,r,o,s,d,f,T[0],T[1])}},{key:"getPoint",value:function(i){var o=Yt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),s=o[0],d=o[1],f=i,x=[Math.pow(1-f,3),3*f*Math.pow(1-f,2),3*Math.pow(f,2)*(1-f),Math.pow(f,3)];return{x:x[0]*this.fromPoint.x+x[1]*s.x+x[2]*d.x+x[3]*this.toPoint.x,y:x[0]*this.fromPoint.y+x[1]*s.y+x[2]*d.y+x[3]*this.toPoint.y}}}]),t}(function(n){vt(t,n);var e=function gE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_getDistanceToBezierEdge2",value:function(i,r,o,s,d,f,x,T){for(var I=1e9,P=i,L=r,N=[0,0,0,0],H=1;H<10;H++){var Y=.1*H;N[0]=Math.pow(1-Y,3),N[1]=3*Y*Math.pow(1-Y,2),N[2]=3*Math.pow(Y,2)*(1-Y),N[3]=Math.pow(Y,3);var V=N[0]*i+N[1]*x.x+N[2]*T.x+N[3]*o,K=N[0]*r+N[1]*x.y+N[2]*T.y+N[3]*s;if(H>0){var J=this._getDistanceToLine(P,L,V,K,d,f);I=J<I?J:I}P=V,L=K}return I}}]),t}(b_));var iC=function(n){vt(t,n);var e=function yE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_line",value:function(i,r){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){var o=this.to,s=this.from;i.id===this.from.id&&(o=this.from,s=this.to);var d=Math.atan2(o.y-s.y,o.x-s.x),f=o.x-s.x,x=o.y-s.y,T=Math.sqrt(f*f+x*x),I=(T-i.distanceToBorder(r,d))/T;return{x:(1-I)*s.x+I*o.x,y:(1-I)*s.y+I*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,r,o,s,d,f){return this._getDistanceToLine(i,r,o,s,d,f)}}]),t}(ek),uf=function(){function n(e,t,i,r,o){if(_e(this,n),void 0===t)throw new Error("No body provided");this.options=ea(r),this.globalOptions=r,this.defaultOptions=o,this.body=t,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Z(this.body,this.options,!0),this.setOptions(e)}return xe(n,[{key:"setOptions",value:function(e){if(e){var t=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;return n.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=ur(e.value)),this.chooser=Zg("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}}},{key:"getFormattingValues",value:function(){var r=this.options.color.inherit,o={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var d=this.options.hoverWidth;"function"==typeof d?o.width=d(o.width):"number"==typeof d&&(o.width+=d),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){this.labelModule.update(this.options,[e,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Xk&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof tC&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof nk&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof iC&&!1===e.type.enabled)&&(i=!1),!0===i&&(t=this.cleanup())),!0===i?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new Xk(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===e.type?new tC(this.options,this.body,this.labelModule):new nk(this.options,this.body,this.labelModule):this.edgeType=new iC(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+r*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,i),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var i=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(r.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core),t.fromArrowSrc&&(r.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(r.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(r.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(r.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core),t.toArrowSrc&&(r.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(r.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(r.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(r.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,t),t.middleArrowSrc&&(r.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(r.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(r.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,r.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var i,r=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),r.id!=o.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,t),e.save();var s=this._getRotation(e);0!=s.angle&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var d=Jg(e,this.options.selfReference.angle,this.options.selfReference.size,r);i=this._pointOnCircle(d.x,d.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var i=this._getRotation();rf(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:e.x,top:e.y})&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,e.left,e.top)<10}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var r={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return r;var s=this.from.x-this.to.x,d=Math.atan2(this.from.y-this.to.y,s);return(d<-1&&s<0||d>0&&s<0)&&(d+=Math.PI),r.angle=d,r}},{key:"_pointOnCircle",value:function(e,t,i,r){return{x:e+i*Math.cos(r),y:t-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(kl(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,i),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&(as(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==r.endPointOffset.from?r.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&(as(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==r.endPointOffset.to?r.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),of(t.label)?e.label=t.label:of(e.label)||(e.label=void 0),Bn(e,t,"smooth",r),Bn(e,t,"shadow",r),Bn(e,t,"background",r),null!=t.dashes?e.dashes=t.dashes:!0===i&&null===t.dashes&&(e.dashes=Wo(r.dashes)),null!=t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Bn(e.scaling,t.scaling,"label",r.scaling)):!0===i&&null===t.scaling&&(e.scaling=Wo(r.scaling)),null!=t.arrows)if("string"==typeof t.arrows){var d=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=mt(d).call(d,"to"),e.arrows.middle.enabled=-1!=mt(d).call(d,"middle"),e.arrows.from.enabled=-1!=mt(d).call(d,"from")}else{if("object"!==_t(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Xu(t.arrows));Bn(e.arrows,t.arrows,"to",r.arrows),Bn(e.arrows,t.arrows,"middle",r.arrows),Bn(e.arrows,t.arrows,"from",r.arrows)}else!0===i&&null===t.arrows&&(e.arrows=Wo(r.arrows));if(null!=t.color){var f=Xo(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,x=e.color;if(o)Mt(x,r.color,!1,i);else for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&delete x[T];if(Xo(x))x.color=x,x.highlight=x,x.hover=x,x.inherit=!1,void 0===f.opacity&&(x.opacity=1);else{var I=!1;void 0!==f.color&&(x.color=f.color,I=!0),void 0!==f.highlight&&(x.highlight=f.highlight,I=!0),void 0!==f.hover&&(x.hover=f.hover,I=!0),void 0!==f.inherit&&(x.inherit=f.inherit),void 0!==f.opacity&&(x.opacity=Math.min(1,Math.max(0,f.opacity))),!0===I?x.inherit=!1:void 0===x.inherit&&(x.inherit="from")}}else!0===i&&null===t.color&&(e.color=ea(r.color));!0===i&&null===t.font&&(e.font=ea(r.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),n}(),nC=function(){function n(e,t,i){var r,o=this;_e(this,n),this.body=e,this.images=t,this.groups=i,this.body.functions.createEdge=pe(r=this.create).call(r,this),this.edgesListeners={add:function(s,d){o.add(d.items)},update:function(s,d){o.update(d.items)},remove:function(s,d){o.remove(d.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,d,f,x){return d===s?.5:Math.max(0,1/(d-s)*(x-s))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Mt(this.options,this.defaultOptions),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e,t,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===r&&(r="continuous");var s=!1;for(var d in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,d)){var f=i.body.edges[d],x=i.body.data.edges.get(d);if(null!=x){var T=x.smooth;void 0!==T&&!0===T.enabled&&"dynamic"===T.type&&(f.setOptions(void 0===r?{smooth:!1}:{smooth:{type:r}}),s=!0)}}!0===o&&!0===s&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",pe(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",pe(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",function(){lt(i.edgesListeners,function(r,o){i.body.data.edges&&i.body.data.edges.off(o,r)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(e){if(void 0!==e){uf.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(t=this.body.edges[i].updateEdgeType()||t);if(void 0!==e.font)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(mi.isDataViewLike("id",e))this.body.data.edges=e;else if(Tt(e))this.body.data.edges=new mi.DataSet,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new mi.DataSet}if(r&&lt(this.edgesListeners,function(s,d){r.off(d,s)}),this.body.edges={},this.body.data.edges){lt(this.edgesListeners,function(s,d){t.body.data.edges.on(d,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,r=this.body.data.edges,o=0;o<e.length;o++){var s=e[o],d=i[s];d&&d.disconnect();var f=r.get(s,{showInternalIds:!0});i[s]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,i=this.body.data.edges,r=!1,o=0;o<e.length;o++){var s=e[o],d=i.get(s),f=t[s];void 0!==f?(f.disconnect(),r=f.setOptions(d)||r,f.connect()):(this.body.edges[s]=this.create(d),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var i=this.body.edges;lt(e,function(r){var o=i[r];void 0!==o&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;lt(this.body.edges,function(t,i){var r=e.body.data.edges.get(i);void 0!==r&&t.setOptions(r)})}},{key:"create",value:function(e){return new uf(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,i=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var r=i[e];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var i=this.body.edges[e];void 0!==i.fromId&&t.push(i.fromId),void 0!==i.toId&&t.push(i.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];lt(this.body.edges,function(i,r){var o=e.body.nodes[i.toId],s=e.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==s&&!0===s.isCluster||void 0!==o&&void 0!==s||t.push(r)}),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,i=[];Dt(e).call(e,function(r,o){void 0===t[o]&&i.push(o)}),this.add(i,!0)}}}]),n}(),rk=function(){function n(e,t,i){_e(this,n),this.body=e,this.physicsBody=t,this.setOptions(i),this._rng=Ln("BARNES HUT SOLVER")}return xe(n,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,i=this.physicsBody.physicsNodeIndices,r=i.length,o=this._formBarnesHutTree(t,i);this.barnesHutTree=o;for(var s=0;s<r;s++)(e=t[i[s]]).options.mass>0&&this._getForceContributions(o.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var i=e.centerOfMass.x-t.x,r=e.centerOfMass.y-t.y,o=Math.sqrt(i*i+r*r);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,r,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,i,r,t,e)}}},{key:"_calculateForces",value:function(e,t,i,r,o){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,e-r.shape.radius));var s=this.options.gravitationalConstant*o.mass*r.options.mass/Math.pow(e,3),f=i*s;this.physicsBody.forces[r.id].x+=t*s,this.physicsBody.forces[r.id].y+=f}},{key:"_formBarnesHutTree",value:function(e,t){for(var i,r=t.length,o=e[t[0]].x,s=e[t[0]].y,d=e[t[0]].x,f=e[t[0]].y,x=1;x<r;x++){var T=e[t[x]],I=T.x,P=T.y;T.options.mass>0&&(I<o&&(o=I),I>d&&(d=I),P<s&&(s=P),P>f&&(f=P))}var L=Math.abs(d-o)-Math.abs(f-s);L>0?(s-=.5*L,f+=.5*L):(o+=.5*L,d-=.5*L);var N=Math.max(1e-5,Math.abs(d-o)),H=.5*N,Y=.5*(o+d),V=.5*(s+f),K={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Y-H,maxX:Y+H,minY:V-H,maxY:V+H},size:N,calcSize:1/N,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(K.root);for(var J=0;J<r;J++)(i=e[t[J]]).options.mass>0&&this._placeInTree(K.root,i);return K}},{key:"_updateBranchMass",value:function(e,t){var i=e.centerOfMass,r=e.mass+t.options.mass,o=1/r;i.x=i.x*e.mass+t.x*t.options.mass,i.x*=o,i.y=i.y*e.mass+t.y*t.options.mass,i.y*=o,e.mass=r;var s=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function(e,t,i){1==i&&void 0!==i||this._updateBranchMass(e,t);var o=e.children.NW.range;this._placeInRegion(e,t,o.maxX>t.x?o.maxY>t.y?"NW":"SW":o.maxY>t.y?"NE":"SE")}},{key:"_placeInRegion",value:function(e,t,i){var r=e.children[i];switch(r.childrenCount){case 0:r.children.data=t,r.childrenCount=1,this._updateBranchMass(r,t);break;case 1:r.children.data.x===t.x&&r.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(r),this._placeInTree(r,t));break;case 4:this._placeInTree(r,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var i,r,o,s,d=.5*e.size;switch(t){case"NW":i=e.range.minX,r=e.range.minX+d,o=e.range.minY,s=e.range.minY+d;break;case"NE":i=e.range.minX+d,r=e.range.maxX,o=e.range.minY,s=e.range.minY+d;break;case"SW":i=e.range.minX,r=e.range.minX+d,o=e.range.minY+d,s=e.range.maxY;break;case"SE":i=e.range.minX+d,r=e.range.maxX,o=e.range.minY+d,s=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:r,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,i){void 0===i&&(i="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=i,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),n}(),bE=function(){function n(e,t,i){_e(this,n),this._rng=Ln("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(i)}return xe(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o,s,d,f,x=this.body.nodes,T=this.physicsBody.physicsNodeIndices,I=this.physicsBody.forces,P=this.options.nodeDistance,L=-2/3/P,N=0;N<T.length-1;N++){d=x[T[N]];for(var H=N+1;H<T.length;H++)e=(f=x[T[H]]).x-d.x,t=f.y-d.y,0===(i=Math.sqrt(e*e+t*t))&&(e=i=.1*this._rng()),i<2*P&&(s=i<.5*P?1:L*i+1.3333333333333333,r=e*(s/=i),o=t*s,I[d.id].x-=r,I[d.id].y-=o,I[f.id].x+=r,I[f.id].y+=o)}}}]),n}(),_E=function(){function n(e,t,i){_e(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return xe(n,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,r=this.options.nodeDistance,o=0;o<t.length-1;o++)for(var s=e[t[o]],d=o+1;d<t.length;d++){var f=e[t[d]];if(s.level===f.level){var x=r+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(f.shape.radius||0)/2),T=f.x-s.x,I=f.y-s.y,P=Math.sqrt(T*T+I*I),L=void 0;L=P<x?-Math.pow(.05*P,2)+Math.pow(.05*x,2):0,0!==P&&(L/=P);var N=T*L,H=I*L;i[s.id].x-=N,i[s.id].y-=H,i[f.id].x+=N,i[f.id].y+=H}}}}]),n}(),__=function(){function n(e,t,i){_e(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return xe(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,r,o,s=this.physicsBody.physicsEdgeIndices,d=this.body.edges,f=0;f<s.length;f++)!0===(t=d[s[f]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(o=t.from,this._calculateSpringForce(t.to,r=t.edgeType.via,.5*(e=void 0===t.options.length?this.options.springLength:t.options.length)),this._calculateSpringForce(r,o,.5*e)):this._calculateSpringForce(t.from,t.to,e=void 0===t.options.length?1.5*this.options.springLength:t.options.length))}},{key:"_calculateSpringForce",value:function(e,t,i){var r=e.x-t.x,o=e.y-t.y,s=Math.max(Math.sqrt(r*r+o*o),.01),d=this.options.springConstant*(i-s)/s,f=r*d,x=o*d;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=f,this.physicsBody.forces[e.id].y+=x),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=f,this.physicsBody.forces[t.id].y-=x)}}]),n}(),wE=function(){function n(e,t,i){_e(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return xe(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o,s,d,f,x,T,I=this.body.edges,P=.5,L=this.physicsBody.physicsEdgeIndices,N=this.physicsBody.physicsNodeIndices,H=this.physicsBody.forces,Y=0;Y<N.length;Y++){var V=N[Y];H[V].springFx=0,H[V].springFy=0}for(var K=0;K<L.length;K++)!0===(t=I[L[K]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,i=t.from.x-t.to.x,r=t.from.y-t.to.y,f=0===(f=Math.sqrt(i*i+r*r))?.01:f,o=i*(d=this.options.springConstant*(e-f)/f),s=r*d,t.to.level!=t.from.level?(void 0!==H[t.toId]&&(H[t.toId].springFx-=o,H[t.toId].springFy-=s),void 0!==H[t.fromId]&&(H[t.fromId].springFx+=o,H[t.fromId].springFy+=s)):(void 0!==H[t.toId]&&(H[t.toId].x-=P*o,H[t.toId].y-=P*s),void 0!==H[t.fromId]&&(H[t.fromId].x+=P*o,H[t.fromId].y+=P*s)));d=1;for(var J=0;J<N.length;J++){var ue=N[J];x=Math.min(d,Math.max(-d,H[ue].springFx)),T=Math.min(d,Math.max(-d,H[ue].springFy)),H[ue].x+=x,H[ue].y+=T}for(var ie=0,Se=0,te=0;te<N.length;te++){var de=N[te];ie+=H[de].x,Se+=H[de].y}for(var G=ie/N.length,ze=Se/N.length,He=0;He<N.length;He++){var Ie=N[He];H[Ie].x-=G,H[Ie].y-=ze}}}]),n}(),w_=function(){function n(e,t,i){_e(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return xe(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,i,r,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=0;f<s.length;f++)e=-(r=o[s[f]]).x,t=-r.y,i=Math.sqrt(e*e+t*t),this._calculateForces(i,e,t,d,r)}},{key:"_calculateForces",value:function(e,t,i,r,o){var s=0===e?0:this.options.centralGravity/e;r[o.id].x=t*s,r[o.id].y=i*s}}]),n}();var xE=function(n){vt(t,n);var e=function rC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){var s;return _e(this,t),(s=e.call(this,i,r,o))._rng=Ln("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return xe(t,[{key:"_calculateForces",value:function(i,r,o,s,d){0===i&&(r=i=.1*this._rng()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,i-s.shape.radius));var x=this.options.gravitationalConstant*d.mass*s.options.mass*(s.edges.length+1)/Math.pow(i,2),I=o*x;this.physicsBody.forces[s.id].x+=r*x,this.physicsBody.forces[s.id].y+=I}}]),t}(rk);var rm,kE=function(n){vt(t,n);var e=function oC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o){return _e(this,t),e.call(this,i,r,o)}return xe(t,[{key:"_calculateForces",value:function(i,r,o,s,d){if(i>0){var x=this.options.centralGravity*(d.edges.length+1)*d.options.mass;s[d.id].x=r*x,s[d.id].y=o*x}}}]),t}(w_),aC=function(){function n(e){_e(this,n),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ne(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,dc(["stabilization"],this.options,e),Bn(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!=typeof t.x||Vg(t.x))&&(t.x=0),("number"!=typeof t.y||Vg(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new xE(this.body,this.physicsBody,e=this.options.forceAtlas2Based),this.edgesSolver=new __(this.body,this.physicsBody,e),this.gravitySolver=new kE(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(this.nodesSolver=new bE(this.body,this.physicsBody,e=this.options.repulsion),this.edgesSolver=new __(this.body,this.physicsBody,e),this.gravitySolver=new w_(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new _E(this.body,this.physicsBody,e=this.options.hierarchicalRepulsion),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new w_(this.body,this.physicsBody,e)):(this.nodesSolver=new rk(this.body,this.physicsBody,e=this.options.barnesHut),this.edgesSolver=new __(this.body,this.physicsBody,e),this.gravitySolver=new w_(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=pe(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=ul();this.physicsTick(),(ul()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Tr(function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&!0===t[r].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var d in this.physicsBody.velocities)void 0===e[d]&&delete this.physicsBody.velocities[d]}},{key:"revert",value:function(){var e=dt(this.previousStates),t=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var r=0;r<e.length;r++){var o=e[r];void 0!==t[o]?!0===t[o].options.physics&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var t,i=this.body.nodes,r=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==i[o]&&(t=i[o].y-r[o].positions.y,Math.sqrt(Math.pow(i[o].x-r[o].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,i=0,r=0;r<e.length;r++){var s=this._performStep(e[r]);t=Math.max(t,s),i+=s}this.adaptiveTimestepEnabled=i/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,i){e+=(t-this.modelOptions.damping*e)/i*this.timestep;var r=this.options.maxVelocity||1e9;return Math.abs(e)>r&&(e=e>0?r:-r),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var r=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:r.x,vy:r.y},!1===t.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,i.x,t.options.mass),t.x+=r.x*this.timestep):(i.x=0,r.x=0),!1===t.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,i.y,t.options.mass),t.y+=r.y*this.timestep):(i.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var i=e[t].options.fixed;this.freezeCache[t]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Tr(function(){return e._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var r,o=0;t()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;i(),t()?Tr(pe(r=this._stabilizationBatch).call(r,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var i=this.physicsBody.physicsNodeIndices[t],r=this.body.nodes[i],o=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),d=Math.min(Math.max(5,s),15),f=3*d,x=jh((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),T={x:r.x+20*o.x,y:r.y+20*o.y};e.lineWidth=d,e.strokeStyle=x,e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(T.x,T.y),e.stroke();var I=Math.atan2(o.y,o.x);e.fillStyle=x,Ic.draw(e,{type:"arrow",point:T,angle:I,length:f}),Fn(e).call(e)}}}]),n}(),x_=new Uint8Array(16);function sC(){if(!rm&&!(rm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rm(x_)}var lC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function CE(n){return"string"==typeof n&&lC.test(n)}for(var Xi=[],To=0;To<256;++To)Xi.push((To+256).toString(16).substr(1));function om(n,e,t){var i=(n=n||{}).random||(n.rng||sC)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=(Xi[o[s+0]]+Xi[o[s+1]]+Xi[o[s+2]]+Xi[o[s+3]]+"-"+Xi[o[s+4]]+Xi[o[s+5]]+"-"+Xi[o[s+6]]+Xi[o[s+7]]+"-"+Xi[o[s+8]]+Xi[o[s+9]]+"-"+Xi[o[s+10]]+Xi[o[s+11]]+Xi[o[s+12]]+Xi[o[s+13]]+Xi[o[s+14]]+Xi[o[s+15]]).toLowerCase();if(!CE(d))throw TypeError("Stringified UUID is invalid");return d}(i)}var yn=function(){function n(){_e(this,n)}return xe(n,null,[{key:"getRange",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,d=-1e9;if(i.length>0)for(var f=0;f<i.length;f++)s>(t=e[i[f]]).shape.boundingBox.left&&(s=t.shape.boundingBox.left),d<t.shape.boundingBox.right&&(d=t.shape.boundingBox.right),r>t.shape.boundingBox.top&&(r=t.shape.boundingBox.top),o<t.shape.boundingBox.bottom&&(o=t.shape.boundingBox.bottom);return 1e9===s&&-1e9===d&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,d=0),{minX:s,maxX:d,minY:r,maxY:o}}},{key:"getRangeCore",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,d=-1e9;if(i.length>0)for(var f=0;f<i.length;f++)s>(t=e[i[f]]).x&&(s=t.x),d<t.x&&(d=t.x),r>t.y&&(r=t.y),o<t.y&&(o=t.y);return 1e9===s&&-1e9===d&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,d=0),{minX:s,maxX:d,minY:r,maxY:o}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var i={};return void 0===t||"node"===t?(Mt(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):Mt(i,e.options,!0),i}}]),n}();var SE=function(n){vt(t,n);var e=function EE(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}(t);function t(i,r,o,s,d,f){var x;return _e(this,t),(x=e.call(this,i,r,o,s,d,f)).isCluster=!0,x.containedNodes={},x.containedEdges={},x}return xe(t,[{key:"_openChildCluster",value:function(i){var r=this,o=this.body.nodes[i];if(void 0===this.containedNodes[i])throw new Error("node with id: "+i+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],lt(o.edges,function(s){delete r.containedEdges[s.id]}),lt(o.containedNodes,function(s,d){r.containedNodes[d]=s}),o.containedNodes={},lt(o.containedEdges,function(s,d){r.containedEdges[d]=s}),o.containedEdges={},lt(o.edges,function(s){lt(r.edges,function(d){var f,x,T=mt(f=d.clusteringEdgeReplacingIds).call(f,s.id);-1!==T&&(lt(s.clusteringEdgeReplacingIds,function(I){d.clusteringEdgeReplacingIds.push(I),r.body.edges[I].edgeReplacedById=d.id}),Rn(x=d.clusteringEdgeReplacingIds).call(x,T,1))})}),o.edges=[]}}]),t}(zn),TE=function(){function n(e){var t=this;_e(this,n),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ne(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return xe(n,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===_t(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var i=[],r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>=e&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var r={},o={};lt(this.body.nodes,function(s,d){s.options&&!0===t.joinCondition(s.options)&&(r[d]=s,lt(s.edges,function(f){void 0===e.clusteredEdges[f.id]&&(o[f.id]=f)}))}),this._cluster(r,o,t,i)}},{key:"clusterByEdgeCount",value:function(e,t){var i=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var o,s,d,f=[],x={},T=function(L){var N={},H={},Y=i.body.nodeIndices[L],V=i.body.nodes[Y];if(void 0===x[Y]){d=0,s=[];for(var K=0;K<V.edges.length;K++)void 0===i.clusteredEdges[(o=V.edges[K]).id]&&(o.toId!==o.fromId&&d++,s.push(o));if(d===e){for(var J=function(ze){if(null==t.joinCondition)return!0;var He=yn.cloneOptions(ze);return t.joinCondition(He)},ue=!0,ie=0;ie<s.length;ie++){var Se=i._getConnectedId(o=s[ie],Y);if(!J(V)){ue=!1;break}H[o.id]=o,N[Y]=V,N[Se]=i.body.nodes[Se],x[Y]=!0}if(dt(N).length>0&&dt(H).length>0&&!0===ue){var te=function(){for(var ze=0;ze<f.length;++ze)for(var He in N)if(void 0!==f[ze].nodes[He])return f[ze]}();if(void 0!==te){for(var de in N)void 0===te.nodes[de]&&(te.nodes[de]=N[de]);for(var G in H)void 0===te.edges[G]&&(te.edges[G]=H[G])}else f.push({nodes:N,edges:H})}}}},I=0;I<this.body.nodeIndices.length;I++)T(I);for(var P=0;P<f.length;P++)this._cluster(f[P].nodes,f[P].edges,t,!1);!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){this.clusterByEdgeCount(1,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(e){this.clusterByEdgeCount(2,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[e];void 0===(t=this._checkOptions(t,o)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=o.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=o.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},d={},f=o.id,x=yn.cloneOptions(o);s[f]=o;for(var T=0;T<o.edges.length;T++){var I=o.edges[T];if(void 0===this.clusteredEdges[I.id]){var P=this._getConnectedId(I,f);if(void 0===this.clusteredNodes[P])if(P!==f)if(void 0===t.joinCondition)d[I.id]=I,s[P]=this.body.nodes[P];else{var L=yn.cloneOptions(this.body.nodes[P]);!0===t.joinCondition(x,L)&&(d[I.id]=I,s[P]=this.body.nodes[P])}else d[I.id]=I}}var N=ei(i=dt(s)).call(i,function(J){return s[J].id});for(var H in s)if(Object.prototype.hasOwnProperty.call(s,H))for(var Y=s[H],V=0;V<Y.edges.length;V++){var K=Y.edges[V];mt(N).call(N,this._getConnectedId(K,Y.id))>-1&&(d[K.id]=K)}this._cluster(s,d,t,r)}},{key:"_createClusterEdges",value:function(e,t,i,r){for(var o,s,d,f,x,T,I=dt(e),P=[],L=0;L<I.length;L++){d=e[s=I[L]];for(var N=0;N<d.edges.length;N++)void 0===this.clusteredEdges[(o=d.edges[N]).id]&&(o.toId==o.fromId?t[o.id]=o:o.toId==s?(f=i.id,T=x=o.fromId):(x=i.id,T=f=o.toId),void 0===e[T]&&P.push({edge:o,fromId:x,toId:f}))}for(var H=[],Y=function(ie){for(var Se=0;Se<H.length;Se++){var te=H[Se];if(ie.fromId===te.fromId&&ie.toId===te.toId||ie.fromId===te.toId&&ie.toId===te.fromId)return te}return null},V=0;V<P.length;V++){var K=P[V],J=K.edge,ue=Y(K);null===ue?(ue=this._createClusteredEdge(K.fromId,K.toId,J,r),H.push(ue)):ue.clusteringEdgeReplacingIds.push(J.id),this.body.edges[J.id].edgeReplacedById=ue.id,this._backupEdgeOptions(J),J.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&void 0!==this.clusteredNodes[s]&&o.push(s);for(var d=0;d<o.length;++d)delete e[o[d]];if(0!=dt(e).length&&(1!=dt(e).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var f=Mt({},i.clusterNodeProperties);if(void 0!==i.processProperties){var x=[];for(var T in e)if(Object.prototype.hasOwnProperty.call(e,T)){var I=yn.cloneOptions(e[T]);x.push(I)}var P=[];for(var L in t)if(Object.prototype.hasOwnProperty.call(t,L)&&"clusterEdge:"!==L.substr(0,12)){var N=yn.cloneOptions(t[L],"edge");P.push(N)}if(!(f=i.processProperties(f,x,P)))throw new Error("The processProperties function does not return properties!")}void 0===f.id&&(f.id="cluster:"+om());var H=f.id;void 0===f.label&&(f.label="cluster");var Y=void 0;void 0===f.x&&(Y=this._getClusterPosition(e),f.x=Y.x),void 0===f.y&&(void 0===Y&&(Y=this._getClusterPosition(e)),f.y=Y.y),f.id=H;var V=this.body.functions.createNode(f,SE);V.containedNodes=e,V.containedEdges=t,V.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[f.id]=V,this._clusterEdges(e,t,f,i.clusterEdgeProperties),f.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,i=dt(e),r=e[i[0]].x,o=e[i[0]].x,s=e[i[0]].y,d=e[i[0]].y,f=1;f<i.length;f++)r=(t=e[i[f]]).x<r?t.x:r,o=t.x>o?t.x:o,s=t.y<s?t.y:s,d=t.y>d?t.y:d;return{x:.5*(r+o),y:.5*(s+d)}}},{key:"openCluster",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var r=this.body.nodes[e];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var o=this.findNode(e),s=mt(o).call(o,e)-1;if(s>=0)return this.body.nodes[o[s]]._openChildCluster(e),delete this.body.nodes[e],void(!0===i&&this.body.emitter.emit("_dataChanged"));var x=r.containedNodes,T=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var I={},P={x:r.x,y:r.y};for(var L in x)if(Object.prototype.hasOwnProperty.call(x,L)){var N=this.body.nodes[L];I[L]={x:N.x,y:N.y}}var H=t.releaseFunction(P,I);for(var Y in x)if(Object.prototype.hasOwnProperty.call(x,Y)){var V=this.body.nodes[Y];void 0!==H[Y]&&(V.x=void 0===H[Y].x?r.x:H[Y].x,V.y=void 0===H[Y].y?r.y:H[Y].y)}}else lt(x,function(Vt){!1===Vt.options.fixed.x&&(Vt.x=r.x),!1===Vt.options.fixed.y&&(Vt.y=r.y)});for(var K in x)if(Object.prototype.hasOwnProperty.call(x,K)){var J=this.body.nodes[K];J.vx=r.vx,J.vy=r.vy,J.setOptions({physics:!0}),delete this.clusteredNodes[K]}for(var ue=[],ie=0;ie<r.edges.length;ie++)ue.push(r.edges[ie]);for(var Se=0;Se<ue.length;Se++){for(var te=ue[Se],de=this._getConnectedId(te,e),G=this.clusteredNodes[de],ze=0;ze<te.clusteringEdgeReplacingIds.length;ze++){var Ie=this.body.edges[te.clusteringEdgeReplacingIds[ze]];if(void 0!==Ie)if(void 0!==G){var et=this.body.nodes[G.clusterId];et.containedEdges[Ie.id]=Ie,delete T[Ie.id];var st=Ie.fromId,ht=Ie.toId;Ie.toId==de?ht=G.clusterId:st=G.clusterId,this._createClusteredEdge(st,ht,Ie,et.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Ie)}te.remove()}for(var Ct in T)Object.prototype.hasOwnProperty.call(T,Ct)&&this._restoreEdge(T[Ct]);delete this.body.nodes[e],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var i=this.body.nodes[e].containedNodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.push(this.body.nodes[r].id)}return t}},{key:"findNode",value:function(e){for(var t,i=[],r=0;void 0!==this.clusteredNodes[e]&&r<100;){if(void 0===(t=this.body.nodes[e]))return[];i.push(t.id),e=this.clusteredNodes[e].clusterId,r++}return void 0===(t=this.body.nodes[e])?[]:(i.push(t.id),Ui(i).call(i),i)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),r=0;r<i.length;r++)this.body.edges[i[r]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],i=0;void 0!==e&&void 0!==this.body.edges[e]&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Ui(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],i=[],r=[],o=0;t.length>0&&o<100;){var s=t.pop();if(void 0!==s){var d=this.body.edges[s];if(void 0!==d){o++;var f=d.clusteringEdgeReplacingIds;if(void 0===f)r.push(s);else for(var x=0;x<f.length;++x){var T=f[x];-1===mt(t).call(t,f)&&-1===mt(i).call(i,f)&&t.push(T)}i.push(s)}}}return r}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:e.fromId}},{key:"_getHubSize",value:function(){for(var e=0,t=0,i=0,r=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>r&&(r=s.edges.length),e+=s.edges.length,t+=Math.pow(s.edges.length,2),i+=1}e/=i;var d=(t/=i)-Math.pow(e,2),f=Math.sqrt(d),x=Math.floor(e+2*f);return x>r&&(x=r),x}},{key:"_createClusteredEdge",value:function(e,t,i,r,o){var s=yn.cloneOptions(i,"edge");Mt(s,r),s.from=e,s.to=t,s.id="clusterEdge:"+om(),void 0!==o&&Mt(s,o);var d=this.body.functions.createEdge(s);return d.clusteringEdgeReplacingIds=[i.id],d.connect(),this.body.edges[d.id]=d,d}},{key:"_clusterEdges",value:function(e,t,i,r){if(t instanceof uf){var s={};s[t.id]=t,t=s}if(e instanceof zn){var f={};f[e.id]=e,e=f}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var x in void 0===r&&(r=i.clusterEdgeProperties),this._createClusterEdges(e,t,i,r),t)if(Object.prototype.hasOwnProperty.call(t,x)&&void 0!==this.body.edges[x]){var T=this.body.edges[x];this._backupEdgeOptions(T),T.setOptions({physics:!1})}for(var I in e)Object.prototype.hasOwnProperty.call(e,I)&&(this.clusteredNodes[I]={clusterId:i.id,node:this.body.nodes[I]},this.body.nodes[I].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var i=t.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,t){var i=[];return lt(e,function(r){t(r)&&i.push(r)}),i}},{key:"_updateState",value:function(){var e,t=this,i=[],r={},o=function(T){lt(t.body.nodes,function(I){!0===I.isCluster&&T(I)})};for(e in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,e)&&void 0===this.body.nodes[e]&&i.push(e);o(function(T){for(var I=0;I<i.length;I++)delete T.containedNodes[i[I]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];lt(this.clusteredEdges,function(T){var I=t.body.edges[T];void 0!==I&&I.endPointsValid()||(r[T]=T)}),o(function(T){lt(T.containedEdges,function(I,P){I.endPointsValid()||r[P]||(r[P]=P)})}),lt(this.body.edges,function(T,I){var P=!0,L=T.clusteringEdgeReplacingIds;if(void 0!==L){var N=0;lt(L,function(H){var Y=t.body.edges[H];void 0!==Y&&Y.endPointsValid()&&(N+=1)}),P=N>0}T.endPointsValid()&&P||(r[I]=I)}),o(function(T){lt(r,function(I){delete T.containedEdges[I],lt(T.edges,function(P,L){P.id!==I?P.clusteringEdgeReplacingIds=t._filter(P.clusteringEdgeReplacingIds,function(N){return!r[N]}):T.edges[L]=null}),T.edges=t._filter(T.edges,function(P){return null!==P})})}),lt(r,function(T){delete t.clusteredEdges[T]}),lt(r,function(T){delete t.body.edges[T]}),lt(dt(this.body.edges),function(T){var I=t.body.edges[T],P=t._isClusteredNode(I.fromId)||t._isClusteredNode(I.toId);if(P!==t._isClusteredEdge(I.id))if(P){var L=t._getClusterNodeForNode(I.fromId);void 0!==L&&t._clusterEdges(t.body.nodes[I.fromId],I,L);var N=t._getClusterNodeForNode(I.toId);void 0!==N&&t._clusterEdges(t.body.nodes[I.toId],I,N)}else delete t._clusterEdges[T],t._restoreEdge(I)});for(var d=!1,f=!0,x=function(){var T=[];o(function(P){var L=dt(P.containedNodes).length,N=!0===P.options.allowSingleNodeCluster;(N&&L<1||!N&&L<2)&&T.push(P.id)});for(var I=0;I<T.length;++I)t.openCluster(T[I],{},!1);f=T.length>0,d=d||f};f;)x();d&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),n}();function OE(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return uC(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return uC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function uC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var IE=function(){function n(e,t){var i;_e(this,n),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(r){r()}:i,this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ne(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=Tr(function(){var i;t.zooming=!1,pe(i=t._requestRedraw).call(i,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",pe(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(e){void 0!==e&&kl(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if(typeof window<"u"){var i,r=window;return!0===this.requiresTimeout?i=Tr(e,t):r.requestAnimationFrame&&(i=r.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(pe(e=this._renderStep).call(e,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,r,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var s=this._drawNodes(i,e);t.drawExternalLabels=s.drawExternalLabels}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===e&&i.clearRect(0,0,r,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,i=this.body.nodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&((t=i[r]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.nodes,s=this.body.nodeIndices,d=[],f=[],x=20,T=this.canvas.DOMtoCanvas({x:-x,y:-x}),I=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+x,y:this.canvas.frame.canvas.clientHeight+x}),P={top:T.y,left:T.x,bottom:I.y,right:I.x},L=[],N=0;N<s.length;N++)if((t=o[s[N]]).hover)f.push(s[N]);else if(t.isSelected())d.push(s[N]);else if(!0===r){var H=t.draw(e);null!=H.drawExternalLabel&&L.push(H.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(P)){var Y=t.draw(e);null!=Y.drawExternalLabel&&L.push(Y.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var V=d.length,K=f.length;for(i=0;i<V;i++){var J=(t=o[d[i]]).draw(e);null!=J.drawExternalLabel&&L.push(J.drawExternalLabel)}for(i=0;i<K;i++){var ue=(t=o[f[i]]).draw(e);null!=ue.drawExternalLabel&&L.push(ue.drawExternalLabel)}return{drawExternalLabels:function(){var ie,Se=OE(L);try{for(Se.s();!(ie=Se.n()).done;)(0,ie.value)()}catch(te){Se.e(te)}finally{Se.f()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=t[i[r]];!0===o.connected&&o.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=t[i[r]];!0===o.connected&&o.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=mt(e).call(e,"msie 9.0")||-1!=mt(e).call(e,"safari")&&mt(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),n}(),ok=Fe.setInterval;function k_(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function ak(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}var DE=function(){function n(e){_e(this,n),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ne(this.options,this.defaultOptions),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",function(i){0!==i.width&&(t.body.view.translation.x=.5*i.width),0!==i.height&&(t.body.view.translation.y=.5*i.height)}),this.body.emitter.on("setSize",pe(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(e){var t,i,r,o,s,d=this;if(void 0!==e&&kl(["width","height","autoResize"],this.options,e),this._cleanUp(),!0===this.options.autoResize){var f;if(window.ResizeObserver){var x=new ResizeObserver(function(){!0===d.setSize()&&d.body.emitter.emit("_requestRedraw")}),T=this.frame;x.observe(T),this._cleanupCallbacks.push(function(){x.unobserve(T)})}else{var I=ok(function(){!0===d.setSize()&&d.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(I)})}var P=pe(f=this._onResize).call(f,this);t=window,i="resize",r=P,t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===i&&Qn(s=navigator.userAgent).call(s,"Firefox")&&(i="DOMMouseScroll"),t.addEventListener(i,r,o)):t.attachEvent("on"+i,r),this._cleanupCallbacks.push(function(){var L,N,H,Y,V;L=window,N="resize",H=P,L.removeEventListener?(void 0===Y&&(Y=!1),"mousewheel"===N&&Qn(V=navigator.userAgent).call(V,"Firefox")&&(N="DOMMouseScroll"),L.removeEventListener(N,H,Y)):L.detachEvent("on"+N,H)})}}},{key:"_cleanUp",value:function(){var e,t,i;Dt(e=Ui(t=Rn(i=this._cleanupCallbacks).call(i,0)).call(t)).call(e,function(r){try{r()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=e&&1!=t?i=.5*this.cameraState.scale*(e+t):1!=e?i=this.cameraState.scale*e:1!=t&&(i=this.cameraState.scale*t),this.body.view.scale=i;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==mt(e).call(e,"%")||-1!==mt(e).call(e,"px"))return e;if(-1===mt(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ta(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ta.DIRECTION_ALL}),k_(this.hammer,function(t){e.body.eventListeners.onTouch(t)}),this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)}),this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)}),this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",function(t){e.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)}),this.hammerFrame=new ta(this.frame),ak(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var i=!1,r=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var d=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===d&&this.frame.canvas.height===f||this._getCameraState(s),this.frame.canvas.width!==d&&(this.frame.canvas.width=d,i=!0),this.frame.canvas.height!==f&&(this.frame.canvas.height=f,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return typeof window<"u"&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),n}();function cC(n,e){var t=Ne({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Tt(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===t.nodes.length&&(t.nodes=e),!("number"==typeof t.minZoomLevel&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof t.maxZoomLevel&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var ME=function(){function n(e,t){var i,r,o=this;_e(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",pe(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",pe(r=this.releaseNode).call(r,this))}return xe(n,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=cC(e,this.body.nodeIndices);var i,r,o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(0===o||0===s)r=1,i=yn.getRange(this.body.nodes,e.nodes);else if(!0===t){var d=0;for(var f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&!0===this.body.nodes[f].predefinedPosition&&(d+=1);if(d>.5*this.body.nodeIndices.length)return void this.fit(e,!1);i=yn.getRange(this.body.nodes,e.nodes),r=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,r*=Math.min(o/600,s/600)}else{this.body.emitter.emit("_resizeNodes"),i=yn.getRange(this.body.nodes,e.nodes);var N=o/(1.1*Math.abs(i.maxX-i.minX)),H=s/(1.1*Math.abs(i.maxY-i.minY));r=N<=H?N:H}r>e.maxZoomLevel?r=e.maxZoomLevel:r<e.minZoomLevel&&(r=e.minZoomLevel);var Y=yn.findCenter(i);this.moveTo({position:Y,scale:r,animation:e.animation})}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[e]?(t.position={x:this.body.nodes[e].x,y:this.body.nodes[e].y},t.lockedOnNode=e,this.moveTo(t)):console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!as(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!as(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!as(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!as(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,i,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(r.x-e.position.x)*this.targetScale+e.offset.x,y:this.sourceTranslation.y+(r.y-e.position.y)*this.targetScale+e.offset.y},0===e.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=pe(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=pe(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),s=this.body.view.translation;this.body.view.translation={x:s.x+(i.x-e)*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+(i.y-t)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var i,t=xg[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=pe(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}();var lk=function(){function n(e,t){var i=this;_e(this,n),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return xe(n,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);var o,s,d=new ta(this.navigationDOM[t[r]]);k_(d,"_fit"===i[r]?pe(o=this._fit).call(o,this):pe(s=this.bindToRedraw).call(s,this,i[r])),this.navigationHammers.push(d)}var f=new ta(this.canvas.frame);ak(f,function(){e._stopMovement()}),this.navigationHammers.push(f),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=pe(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=t/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=t/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,i,r,o,s,d,f,x,T,I,P,L,N,H,Y,V,K,J,ue,ie,Se,te,de,G=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function sk(n){var e,t=n&&n.preventDefault||!1,i=n&&n.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var d=function(T){x(T,"keydown")},f=function(T){x(T,"keyup")},x=function(T,I){if(void 0!==o[I][T.keyCode]){for(var P=o[I][T.keyCode],L=0;L<P.length;L++)(void 0===P[L].shift||1==P[L].shift&&1==T.shiftKey||0==P[L].shift&&0==T.shiftKey)&&P[L].fn(T);1==t&&T.preventDefault()}};return r.bind=function(T,I,P){if(void 0===P&&(P="keydown"),void 0===s[T])throw new Error("unsupported key: "+T);void 0===o[P][s[T].code]&&(o[P][s[T].code]=[]),o[P][s[T].code].push({fn:I,shift:s[T].shift})},r.bindAll=function(T,I){for(var P in void 0===I&&(I="keydown"),s)s.hasOwnProperty(P)&&r.bind(P,T,I)},r.getKey=function(T){for(var I in s)if(s.hasOwnProperty(I)&&(1==T.shiftKey&&1==s[I].shift&&T.keyCode==s[I].code||0==T.shiftKey&&0==s[I].shift&&T.keyCode==s[I].code||T.keyCode==s[I].code&&"shift"==I))return I;return"unknown key, currently not supported"},r.unbind=function(T,I,P){if(void 0===P&&(P="keydown"),void 0===s[T])throw new Error("unsupported key: "+T);if(void 0!==I){var L=[],N=o[P][s[T].code];if(void 0!==N)for(var H=0;H<N.length;H++)N[H].fn==I&&N[H].shift==s[T].shift||L.push(o[P][s[T].code][H]);o[P][s[T].code]=L}else o[P][s[T].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",d,!0),i.removeEventListener("keyup",f,!0)},i.addEventListener("keydown",d,!0),i.addEventListener("keyup",f,!0),r}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(pe(e=this.keycharm).call(e,"up",function(){G.bindToRedraw("_moveUp")},"keydown"),pe(t=this.keycharm).call(t,"down",function(){G.bindToRedraw("_moveDown")},"keydown"),pe(i=this.keycharm).call(i,"left",function(){G.bindToRedraw("_moveLeft")},"keydown"),pe(r=this.keycharm).call(r,"right",function(){G.bindToRedraw("_moveRight")},"keydown"),pe(o=this.keycharm).call(o,"=",function(){G.bindToRedraw("_zoomIn")},"keydown"),pe(s=this.keycharm).call(s,"num+",function(){G.bindToRedraw("_zoomIn")},"keydown"),pe(d=this.keycharm).call(d,"num-",function(){G.bindToRedraw("_zoomOut")},"keydown"),pe(f=this.keycharm).call(f,"-",function(){G.bindToRedraw("_zoomOut")},"keydown"),pe(x=this.keycharm).call(x,"[",function(){G.bindToRedraw("_zoomOut")},"keydown"),pe(T=this.keycharm).call(T,"]",function(){G.bindToRedraw("_zoomIn")},"keydown"),pe(I=this.keycharm).call(I,"pageup",function(){G.bindToRedraw("_zoomIn")},"keydown"),pe(P=this.keycharm).call(P,"pagedown",function(){G.bindToRedraw("_zoomOut")},"keydown"),pe(L=this.keycharm).call(L,"up",function(){G.unbindFromRedraw("_moveUp")},"keyup"),pe(N=this.keycharm).call(N,"down",function(){G.unbindFromRedraw("_moveDown")},"keyup"),pe(H=this.keycharm).call(H,"left",function(){G.unbindFromRedraw("_moveLeft")},"keyup"),pe(Y=this.keycharm).call(Y,"right",function(){G.unbindFromRedraw("_moveRight")},"keyup"),pe(V=this.keycharm).call(V,"=",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),pe(K=this.keycharm).call(K,"num+",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),pe(J=this.keycharm).call(J,"num-",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),pe(ue=this.keycharm).call(ue,"-",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),pe(ie=this.keycharm).call(ie,"[",function(){G.unbindFromRedraw("_zoomOut")},"keyup"),pe(Se=this.keycharm).call(Se,"]",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),pe(te=this.keycharm).call(te,"pageup",function(){G.unbindFromRedraw("_zoomIn")},"keyup"),pe(de=this.keycharm).call(de,"pagedown",function(){G.unbindFromRedraw("_zoomOut")},"keyup")))}}]),n}();function dC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var hC=function(){function n(e,t,i){var r,o,s,d,f,x,T,I,P,L,N,H,Y;_e(this,n),this.body=e,this.canvas=t,this.selectionHandler=i,this.navigationHandler=new lk(e,t),this.body.eventListeners.onTap=pe(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=pe(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=pe(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=pe(d=this.onHold).call(d,this),this.body.eventListeners.onDragStart=pe(f=this.onDragStart).call(f,this),this.body.eventListeners.onDrag=pe(x=this.onDrag).call(x,this),this.body.eventListeners.onDragEnd=pe(T=this.onDragEnd).call(T,this),this.body.eventListeners.onMouseWheel=pe(I=this.onMouseWheel).call(I,this),this.body.eventListeners.onPinch=pe(P=this.onPinch).call(P,this),this.body.eventListeners.onMouseMove=pe(L=this.onMouseMove).call(L,this),this.body.eventListeners.onRelease=pe(N=this.onRelease).call(N,this),this.body.eventListeners.onContext=pe(H=this.onContext).call(H,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=pe(Y=this.getPointer).call(Y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ne(this.options,this.defaultOptions),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){void 0!==e&&(dc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Bn(this.options,e,"keyboard"),e.tooltip&&(Ne(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=zh(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-gn(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center);this.checkSelectionChanges(t,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var i=function(r,o){for(var s=[],d=0;d<r.length;d++){var f=r[d];-1===mt(o).call(o,f)&&s.push(f)}return s};return{nodes:i(e.nodes,t.nodes),edges:i(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ne({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var r,o=function PE(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return dC(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return dC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(o.s();!(r=o.n()).done;){var s=r.value,d={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(d)}}catch(f){o.e(f)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,i);var o=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;Dt(r).call(r,function(x){var T=x.node;!1===x.xFixed&&(T.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(x.x)+o)),!1===x.yFixed&&(T.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(x.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var r=this.body.selectionBox.position,o={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=Li(i=this.body.nodeIndices).call(i,function(x){var T=t.body.nodes[x];return T.x>=o.minX&&T.x<=o.maxX&&T.y>=o.minY&&T.y<=o.maxY});Dt(s).call(s,function(x){return t.selectionHandler.selectObject(t.body.nodes[x])});var d=this.getPointer(e.center);this.selectionHandler.commitAndEmit(d,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var f=this.drag.selection;f&&f.length?(Dt(f).call(f,function(x){x.node.options.fixed.x=x.xFixed,x.node.options.fixed.y=x.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*e.scale,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var r=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=e/i,d=(1-s)*t.x+o.x*s,f=(1-s)*t.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:d,y:f},null!=r){var x=this.canvas.canvasToDOM(r);this.drag.pointer.x=x.x,this.drag.pointer.y=x.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<e?{direction:"+",scale:this.body.view.scale,pointer:t}:{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+.1*this.options.zoomSpeed*(e.deltaY<0?1:-1);var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,i=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(r=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===r&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Tr(function(){return t._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:i,right:t,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,d="node";if(void 0===this.popupObj){for(var f,x=this.body.nodeIndices,T=this.body.nodes,I=[],P=0;P<x.length;P++)!0===(f=T[x[P]]).isOverlappingWith(r)&&(s=!0,void 0!==f.getTitle()&&I.push(x[P]));I.length>0&&(this.popupObj=T[I[I.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var L,N=this.body.edgeIndices,H=this.body.edges,Y=[],V=0;V<N.length;V++)!0===(L=H[N[V]]).isOverlappingWith(r)&&!0===L.connected&&void 0!==L.getTitle()&&Y.push(N[V]);Y.length>0&&(this.popupObj=H[Y[Y.length-1]],d="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new El(this.canvas.frame)),this.popup.popupTargetType=d,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var r=this.selectionHandler.getNodeAt(e);i=void 0!==r&&r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),n}();Jh("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},Ol);var Ml=Fe.Set,pC=zg,C_=vc.exports.getWeakData,RE=Bt,uk=Ue,Pl=wc,cr=Zh,vC=ft,FE=mr.set,AE=mr.getterFor,$E=Yn.find,LE=Yn.findIndex,BE=Ee([].splice),NE=0,E_=function(n){return n.frozen||(n.frozen=new gC)},gC=function(){this.entries=[]},ck=function(n,e){return $E(n.entries,function(t){return t[0]===e})};gC.prototype={get:function(n){var e=ck(this,n);if(e)return e[1]},has:function(n){return!!ck(this,n)},set:function(n,e){var t=ck(this,n);t?t[1]=e:this.entries.push([n,e])},delete:function(n){var e=LE(this.entries,function(t){return t[0]===n});return~e&&BE(this.entries,e,1),!!~e}};var am,S_=Ee,jE=zg,yC=vc.exports,hk={getConstructor:function(n,e,t,i){var r=n(function(f,x){Pl(f,o),FE(f,{type:e,id:NE++,frozen:void 0}),null!=x&&cr(x,f[i],{that:f,AS_ENTRIES:t})}),o=r.prototype,s=AE(e),d=function(f,x,T){var I=s(f),P=C_(RE(x),!0);return!0===P?E_(I).set(x,T):P[I.id]=T,f};return pC(o,{delete:function(f){var x=s(this);if(!uk(f))return!1;var T=C_(f);return!0===T?E_(x).delete(f):T&&vC(T,x.id)&&delete T[x.id]},has:function(f){var x=s(this);if(!uk(f))return!1;var T=C_(f);return!0===T?E_(x).has(f):T&&vC(T,x.id)}}),pC(o,t?{get:function(f){var x=s(this);if(uk(f)){var T=C_(f);return!0===T?E_(x).get(f):T?T[x.id]:void 0}},set:function(f,x){return d(this,f,x)}}:{add:function(f){return d(this,f,!0)}}),r}},sm=Ue,T_=V0,O_=mr.enforce,HE=xi,VE=!ee.ActiveXObject&&"ActiveXObject"in ee,fk=function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},cf=Jh("WeakMap",fk,hk);if(HE&&VE){am=hk.getConstructor(fk,"WeakMap",!0),yC.enable();var df=cf.prototype,bn=S_(df.delete),hf=S_(df.has),bC=S_(df.get),_C=S_(df.set);jE(df,{delete:function(n){if(sm(n)&&!T_(n)){var e=O_(this);return e.frozen||(e.frozen=new am),bn(this,n)||e.frozen.delete(n)}return bn(this,n)},has:function(n){if(sm(n)&&!T_(n)){var e=O_(this);return e.frozen||(e.frozen=new am),hf(this,n)||e.frozen.has(n)}return hf(this,n)},get:function(n){if(sm(n)&&!T_(n)){var e=O_(this);return e.frozen||(e.frozen=new am),hf(this,n)?bC(this,n):e.frozen.get(n)}return bC(this,n)},set:function(n,e){if(sm(n)&&!T_(n)){var t=O_(this);t.frozen||(t.frozen=new am),hf(this,n)?_C(this,n,e):t.frozen.set(n,e)}else _C(this,n,e);return this}})}var Dc,Ar,Rl,hs,Mc,lm=Fe.WeakMap;function Ht(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)}function pk(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t}function vk(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return wC(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return wC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function wC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function xC(n,e){var t,i=new Ml,r=vk(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.has(o)||i.add(o)}}catch(s){r.e(s)}finally{r.f()}return i}var kC=function(){function n(){_e(this,n),Dc.set(this,new Ml),Ar.set(this,new Ml)}return xe(n,[{key:"size",get:function(){return Ht(this,Ar,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,o=t;r<o.length;r++){var s=o[r];Ht(this,Ar,"f").add(s)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,o=t;r<o.length;r++){var s=o[r];Ht(this,Ar,"f").delete(s)}}},{key:"clear",value:function(){Ht(this,Ar,"f").clear()}},{key:"getSelection",value:function(){return Pn(Ht(this,Ar,"f"))}},{key:"getChanges",value:function(){return{added:Pn(xC(Ht(this,Dc,"f"),Ht(this,Ar,"f"))),deleted:Pn(xC(Ht(this,Ar,"f"),Ht(this,Dc,"f"))),previous:Pn(new Ml(Ht(this,Dc,"f"))),current:Pn(new Ml(Ht(this,Ar,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();pk(this,Dc,Ht(this,Ar,"f"),"f"),pk(this,Ar,new Ml(Ht(this,Dc,"f")),"f");var t,i=vk(e.added);try{for(i.s();!(t=i.n()).done;)t.value.select()}catch(s){i.e(s)}finally{i.f()}var r,o=vk(e.deleted);try{for(o.s();!(r=o.n()).done;)r.value.unselect()}catch(s){o.e(s)}finally{o.f()}return e}}]),n}();Dc=new lm,Ar=new lm;var WE=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};_e(this,n),Rl.set(this,new kC),hs.set(this,new kC),Mc.set(this,void 0),pk(this,Mc,e,"f")}return xe(n,[{key:"sizeNodes",get:function(){return Ht(this,Rl,"f").size}},{key:"sizeEdges",get:function(){return Ht(this,hs,"f").size}},{key:"getNodes",value:function(){return Ht(this,Rl,"f").getSelection()}},{key:"getEdges",value:function(){return Ht(this,hs,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ht(this,Rl,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ht(this,hs,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ht(this,Rl,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ht(this,hs,"f").delete(e)}},{key:"clear",value:function(){Ht(this,Rl,"f").clear(),Ht(this,hs,"f").clear()}},{key:"commit",value:function(){for(var e,t,i={nodes:Ht(this,Rl,"f").commit(),edges:Ht(this,hs,"f").commit()},r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=Ht(this,Mc,"f")).call.apply(e,zu(t=[this,i]).call(t,o)),i}}]),n}();function I_(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return CC(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return CC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}function CC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}Rl=new lm,hs=new lm,Mc=new lm;var EC=function(){function n(e,t){var i=this;_e(this,n),this.body=e,this.canvas=t,this._selectionAccumulator=new WE,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ne(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return xe(n,[{key:"setOptions",value:function(e){void 0!==e&&kl(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==i&&(t=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var i=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==i&&(t=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var i={};return i.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},i.event=e,i}},{key:"generateClickEvent",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(t,i);if(!0===o)s.nodes=[],s.edges=[];else{var d=this.getSelection();s.nodes=d.nodes,s.edges=d.edges}void 0!==r&&(s.previousSelection=r),"click"==e&&(s.items=this.getClickedItems(i)),void 0!==t.controlEdge&&(s.controlEdge=t.controlEdge),this.body.emitter.emit(e,s)}},{key:"selectObject",value:function(e){var i;return void 0!==e&&(e instanceof zn?(!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&(i=this._selectionAccumulator).addEdges.apply(i,Pn(e.edges)),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],i=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodeIndices[r];i[o].isOverlappingWith(e)&&t.push(o)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(i);return r.length>0?!0===t?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var i=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var o=this.body.edgeIndices[r];i[o].isOverlappingWith(e)&&t.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(e),r=10,o=null,s=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var f=this.body.edgeIndices[d],x=s[f];if(x.connected){var N=x.edgeType.getDistanceToEdge(x.from.x,x.from.y,x.to.x,x.to.y,i.x,i.y);N<r&&(o=f,r=N)}}return null!==o?!0===t?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(e){e instanceof zn?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof zn?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,Pn(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var i=e.edges[t];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(e,t,i){var r=this._initBaseEvent(e,t);!0===i.hover&&(i.hover=!1,i instanceof zn?(r.node=i.id,this.body.emitter.emit("blurNode",r)):(r.edge=i.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(e,t,i){var r=this._initBaseEvent(e,t),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof zn?(r.node=i.id,this.body.emitter.emit("hoverNode",r)):(r.edge=i.id,this.body.emitter.emit("hoverEdge",r))),o}},{key:"hoverObject",value:function(e,t){var i=this.getNodeAt(t);void 0===i&&(i=this.getEdgeAt(t));var r=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof zn&&i.id!=o||i instanceof uf)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],r=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(!0===r?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof uf&&i.id!=s||i instanceof zn&&!i.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],r=!0));if(void 0!==i){var d=dt(this.hoverObj.edges).length,f=dt(this.hoverObj.nodes).length;(r||i instanceof uf&&0===d&&0===f||i instanceof zn&&0===d&&0===f)&&(r=this.emitHoverEvent(e,t,i)),i instanceof zn&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===r&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var i=!1,r=this._selectionAccumulator.commit(),o={nodes:r.nodes.previous,edges:r.edges.previous};r.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),i=!0),r.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),i=!0),r.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),i=!0),r.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),i=!0),!0===i&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return ei(e=this._selectionAccumulator.getNodes()).call(e,function(t){return t.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return ei(e=this._selectionAccumulator.getEdges()).call(e,function(t){return t.id})}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var i,r=I_(e.nodes);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,t.highlightEdges)}}catch(I){r.e(I)}finally{r.f()}}if(e.edges){var d,f=I_(e.edges);try{for(f.s();!(d=f.n()).done;){var x=d.value,T=this.body.edges[x];if(!T)throw new RangeError('Edge with id "'+x+'" not found');this.selectObject(T)}}catch(I){f.e(I)}finally{f.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),i=[],r=this.body.nodeIndices,o=this.body.nodes,s=r.length-1;s>=0;s--){var d=o[r[s]].getItemsOnPoint(t);i.push.apply(i,d)}for(var f=this.body.edgeIndices,x=this.body.edges,T=f.length-1;T>=0;T--){var I=x[f[T]].getItemsOnPoint(t);i.push.apply(i,I)}return i}}]),n}(),SC=Yp,gk=Math.floor,mk=function(n,e){var t=n.length,i=gk(t/2);return t<8?KE(n,e):TC(n,mk(SC(n,0,i),e),mk(SC(n,i),e),e)},KE=function(n,e){for(var t,i,r=n.length,o=1;o<r;){for(i=o,t=n[o];i&&e(n[i-1],t)>0;)n[i]=n[--i];i!==o++&&(n[i]=t)}return n},TC=function(n,e,t,i){for(var r=e.length,o=t.length,s=0,d=0;s<r||d<o;)n[s+d]=s<r&&d<o?i(e[s],t[d])<=0?e[s++]:t[d++]:s<r?e[s++]:t[d++];return n},fs=mk,OC=fi.match(/firefox\/(\d+)/i),yk=!!OC&&+OC[1],GE=/MSIE|Trident/.test(fi),IC=fi.match(/AppleWebKit\/(\d+)\./),YE=ye,DC=Ee,qE=nn,ZE=Et,JE=Ii,MC=S,bk=we,XE=fs,QE=Er,_k=yk,eS=GE,PC=xn,wk=!!IC&&+IC[1],Fl=[],um=DC(Fl.sort),RC=DC(Fl.push),FC=bk(function(){Fl.sort(void 0)}),tS=bk(function(){Fl.sort(null)}),iS=QE("sort"),AC=!bk(function(){if(PC)return PC<70;if(!(_k&&_k>3)){if(eS)return!0;if(wk)return wk<603;var n,e,t,i,r="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(i=0;i<47;i++)Fl.push({k:e+i,v:t})}for(Fl.sort(function(o,s){return s.v-o.v}),i=0;i<Fl.length;i++)e=Fl[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});YE({target:"Array",proto:!0,forced:FC||!tS||!iS||!AC},{sort:function(n){void 0!==n&&qE(n);var e=ZE(this);if(AC)return void 0===n?um(e):um(e,n);var t,i,r=[],o=JE(e);for(i=0;i<o;i++)i in e&&RC(r,e[i]);for(XE(r,function(s){return function(d,f){return void 0===f?-1:void 0===d?1:void 0!==s?+s(d,f)||0:MC(d)>MC(f)?1:-1}}(n)),t=r.length,i=0;i<t;)e[i]=r[i++];for(;i<o;)delete e[i++];return e}});var $C=ci("Array").sort,nS=Qe,rS=$C,xk=Array.prototype,kk=function(n){var e=n.sort;return n===xk||nS(xk,n)&&e===xk.sort?rS:e},aS=nn,sS=Et,lS=jr,uS=Ii,cS=ee.TypeError,LC=function(n){return function(e,t,i,r){aS(t);var o=sS(e),s=lS(o),d=uS(o),f=n?d-1:0,x=n?-1:1;if(i<2)for(;;){if(f in s){r=s[f],f+=x;break}if(f+=x,n?f<0:d<=f)throw cS("Reduce of empty array with no initial value")}for(;n?f>=0:d>f;f+=x)f in s&&(r=t(r,s[f],f,o));return r}},dS={left:LC(!1),right:LC(!0)},hS="process"==ii(ee.process),BC=dS.left,NC=xn,fS=hS;ye({target:"Array",proto:!0,forced:!Er("reduce")||!fS&&NC>79&&NC<83},{reduce:function(n){var e=arguments.length;return BC(this,n,e,e>1?arguments[1]:void 0)}});var zC=ci("Array").reduce,pS=Qe,vS=zC,Ck=Array.prototype,jC=function(n){var e=n.reduce;return n===Ck||pS(Ck,n)&&e===Ck.reduce?vS:e},HC={};!function(n){!function(e){e.__esModule=!0,e.sort=function Y(V,K,J,ue){if(!Array.isArray(V))throw new TypeError("Can only sort arrays");K?"function"!=typeof K&&(ue=J,J=K,K=f):K=f,J||(J=0),ue||(ue=V.length);var ie=ue-J;if(!(ie<2)){var Se=0;if(ie<32)P(V,J,ue,J+(Se=T(V,J,ue,K)),K);else{var te=new H(V,K),de=function x(V){for(var K=0;V>=32;)K|=1&V,V>>=1;return V+K}(ie);do{if((Se=T(V,J,ue,K))<de){var G=ie;G>de&&(G=de),P(V,J,J+G,J+Se,K),Se=G}te.pushRun(J,Se),te.mergeRuns(),ie-=Se,J+=Se}while(0!==ie);te.forceMergeRuns()}}};var s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function d(V){return V<1e5?V<100?V<10?0:1:V<1e4?V<1e3?2:3:4:V<1e7?V<1e6?5:6:V<1e9?V<1e8?7:8:9}function f(V,K){if(V===K)return 0;if(~~V===V&&~~K===K){if(0===V||0===K)return V<K?-1:1;if(V<0||K<0){if(K>=0)return-1;if(V>=0)return 1;V=-V,K=-K}var J=d(V),ue=d(K),ie=0;return J<ue?(V*=s[ue-J-1],K/=10,ie=-1):J>ue&&(K*=s[J-ue-1],V/=10,ie=1),V===K?ie:V<K?-1:1}var Se=String(V),te=String(K);return Se===te?0:Se<te?-1:1}function T(V,K,J,ue){var ie=K+1;if(ie===J)return 1;if(ue(V[ie++],V[K])<0){for(;ie<J&&ue(V[ie],V[ie-1])<0;)ie++;!function I(V,K,J){for(J--;K<J;){var ue=V[K];V[K++]=V[J],V[J--]=ue}}(V,K,ie)}else for(;ie<J&&ue(V[ie],V[ie-1])>=0;)ie++;return ie-K}function P(V,K,J,ue,ie){for(ue===K&&ue++;ue<J;ue++){for(var Se=V[ue],te=K,de=ue;te<de;){var G=te+de>>>1;ie(Se,V[G])<0?de=G:te=G+1}var ze=ue-te;switch(ze){case 3:V[te+3]=V[te+2];case 2:V[te+2]=V[te+1];case 1:V[te+1]=V[te];break;default:for(;ze>0;)V[te+ze]=V[te+ze-1],ze--}V[te]=Se}}function L(V,K,J,ue,ie,Se){var te=0,de=0,G=1;if(Se(V,K[J+ie])>0){for(de=ue-ie;G<de&&Se(V,K[J+ie+G])>0;)te=G,(G=1+(G<<1))<=0&&(G=de);G>de&&(G=de),te+=ie,G+=ie}else{for(de=ie+1;G<de&&Se(V,K[J+ie-G])<=0;)te=G,(G=1+(G<<1))<=0&&(G=de);G>de&&(G=de);var ze=te;te=ie-G,G=ie-ze}for(te++;te<G;){var He=te+(G-te>>>1);Se(V,K[J+He])>0?te=He+1:G=He}return G}function N(V,K,J,ue,ie,Se){var te=0,de=0,G=1;if(Se(V,K[J+ie])<0){for(de=ie+1;G<de&&Se(V,K[J+ie-G])<0;)te=G,(G=1+(G<<1))<=0&&(G=de);G>de&&(G=de);var ze=te;te=ie-G,G=ie-ze}else{for(de=ue-ie;G<de&&Se(V,K[J+ie+G])>=0;)te=G,(G=1+(G<<1))<=0&&(G=de);G>de&&(G=de),te+=ie,G+=ie}for(te++;te<G;){var He=te+(G-te>>>1);Se(V,K[J+He])<0?G=He:te=He+1}return G}var H=function(){function V(K,J){(function t(V,K){if(!(V instanceof K))throw new TypeError("Cannot call a class as a function")})(this,V),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=K,this.compare=J,this.length=K.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return V.prototype.pushRun=function(K,J){this.runStart[this.stackSize]=K,this.runLength[this.stackSize]=J,this.stackSize+=1},V.prototype.mergeRuns=function(){for(;this.stackSize>1;){var K=this.stackSize-2;if(K>=1&&this.runLength[K-1]<=this.runLength[K]+this.runLength[K+1]||K>=2&&this.runLength[K-2]<=this.runLength[K]+this.runLength[K-1])this.runLength[K-1]<this.runLength[K+1]&&K--;else if(this.runLength[K]>this.runLength[K+1])break;this.mergeAt(K)}},V.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var K=this.stackSize-2;K>0&&this.runLength[K-1]<this.runLength[K+1]&&K--,this.mergeAt(K)}},V.prototype.mergeAt=function(K){var J=this.compare,ue=this.array,ie=this.runStart[K],Se=this.runLength[K],te=this.runStart[K+1],de=this.runLength[K+1];this.runLength[K]=Se+de,K===this.stackSize-3&&(this.runStart[K+1]=this.runStart[K+2],this.runLength[K+1]=this.runLength[K+2]),this.stackSize--;var G=N(ue[te],ue,ie,Se,0,J);ie+=G,0!=(Se-=G)&&0!==(de=L(ue[ie+Se-1],ue,te,de,de-1,J))&&(Se<=de?this.mergeLow(ie,Se,te,de):this.mergeHigh(ie,Se,te,de))},V.prototype.mergeLow=function(K,J,ue,ie){var Se=this.compare,te=this.array,de=this.tmp,G=0;for(G=0;G<J;G++)de[G]=te[K+G];var ze=0,He=ue,Ie=K;if(te[Ie++]=te[He++],0!=--ie)if(1!==J){for(var et=this.minGallop;;){var st=0,ht=0,Ct=!1;do{if(Se(te[He],de[ze])<0){if(te[Ie++]=te[He++],ht++,st=0,0==--ie){Ct=!0;break}}else if(te[Ie++]=de[ze++],st++,ht=0,1==--J){Ct=!0;break}}while((st|ht)<et);if(Ct)break;do{if(0!==(st=N(te[He],de,ze,J,0,Se))){for(G=0;G<st;G++)te[Ie+G]=de[ze+G];if(Ie+=st,ze+=st,(J-=st)<=1){Ct=!0;break}}if(te[Ie++]=te[He++],0==--ie){Ct=!0;break}if(0!==(ht=L(de[ze],te,He,ie,0,Se))){for(G=0;G<ht;G++)te[Ie+G]=te[He+G];if(Ie+=ht,He+=ht,0==(ie-=ht)){Ct=!0;break}}if(te[Ie++]=de[ze++],1==--J){Ct=!0;break}et--}while(st>=7||ht>=7);if(Ct)break;et<0&&(et=0),et+=2}if(this.minGallop=et,et<1&&(this.minGallop=1),1===J){for(G=0;G<ie;G++)te[Ie+G]=te[He+G];te[Ie+ie]=de[ze]}else{if(0===J)throw new Error("mergeLow preconditions were not respected");for(G=0;G<J;G++)te[Ie+G]=de[ze+G]}}else{for(G=0;G<ie;G++)te[Ie+G]=te[He+G];te[Ie+ie]=de[ze]}else for(G=0;G<J;G++)te[Ie+G]=de[ze+G]},V.prototype.mergeHigh=function(K,J,ue,ie){var Se=this.compare,te=this.array,de=this.tmp,G=0;for(G=0;G<ie;G++)de[G]=te[ue+G];var ze=K+J-1,He=ie-1,Ie=ue+ie-1,et=0,st=0;if(te[Ie--]=te[ze--],0!=--J)if(1!==ie){for(var ht=this.minGallop;;){var Ct=0,Vt=0,dr=!1;do{if(Se(de[He],te[ze])<0){if(te[Ie--]=te[ze--],Ct++,Vt=0,0==--J){dr=!0;break}}else if(te[Ie--]=de[He--],Vt++,Ct=0,1==--ie){dr=!0;break}}while((Ct|Vt)<ht);if(dr)break;do{if(0!=(Ct=J-N(de[He],te,K,J,J-1,Se))){for(J-=Ct,st=1+(Ie-=Ct),et=1+(ze-=Ct),G=Ct-1;G>=0;G--)te[st+G]=te[et+G];if(0===J){dr=!0;break}}if(te[Ie--]=de[He--],1==--ie){dr=!0;break}if(0!=(Vt=ie-L(te[ze],de,0,ie,ie-1,Se))){for(ie-=Vt,st=1+(Ie-=Vt),et=1+(He-=Vt),G=0;G<Vt;G++)te[st+G]=de[et+G];if(ie<=1){dr=!0;break}}if(te[Ie--]=te[ze--],0==--J){dr=!0;break}ht--}while(Ct>=7||Vt>=7);if(dr)break;ht<0&&(ht=0),ht+=2}if(this.minGallop=ht,ht<1&&(this.minGallop=1),1===ie){for(st=1+(Ie-=J),et=1+(ze-=J),G=J-1;G>=0;G--)te[st+G]=te[et+G];te[Ie]=de[He]}else{if(0===ie)throw new Error("mergeHigh preconditions were not respected");for(et=Ie-(ie-1),G=0;G<ie;G++)te[et+G]=de[G]}}else{for(st=1+(Ie-=J),et=1+(ze-=J),G=J-1;G>=0;G--)te[st+G]=te[et+G];te[Ie]=de[He]}else for(et=Ie-(ie-1),G=0;G<ie;G++)te[et+G]=de[G]},V}()}(n)}(HC);var cm=HC;function VC(n){var e=function(){if(typeof Reflect>"u"||!oe||oe.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=ce(n);if(e){var r=ce(this).constructor;t=oe(i,arguments,r)}else t=i.apply(this,arguments);return se(this,t)}}var WC=function(){function n(){_e(this,n)}return xe(n,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){this.fake_use(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),n}(),mS=function(n){vt(t,n);var e=VC(t);function t(i){var r;return _e(this,t),(r=e.call(this)).layout=i,r}return xe(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.x=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_x,max:r.max_x}}},{key:"sort",value:function(i){cm.sort(i,function(r,o){return r.x-o.x})}},{key:"fix",value:function(i,r){i.y=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.y=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].x+=r}}]),t}(WC),KC=function(n){vt(t,n);var e=VC(t);function t(i){var r;return _e(this,t),(r=e.call(this)).layout=i,r}return xe(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.y=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_y,max:r.max_y}}},{key:"sort",value:function(i){cm.sort(i,function(r,o){return r.y-o.y})}},{key:"fix",value:function(i,r){i.x=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.x=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].y+=r}}]),t}(WC),yS=Yn.every;ye({target:"Array",proto:!0,forced:!Er("every")},{every:function(n){return yS(this,n,arguments.length>1?arguments[1]:void 0)}});var bS=ci("Array").every,_S=Qe,wS=bS,Ek=Array.prototype,Sk=function(n){var e=n.every;return n===Ek||_S(Ek,n)&&e===Ek.every?wS:e};function Tk(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ok(n,e){var t=new Ml;return Dt(n).call(n,function(i){var r;Dt(r=i.edges).call(r,function(o){o.connected&&t.add(o)})}),Dt(t).call(t,function(i){var r=i.from.id,o=i.to.id;null==e[r]&&(e[r]=0),(null==e[o]||e[r]>=e[o])&&(e[o]=e[r]+1)}),e}function Ik(n,e,t,i){var r,o,s=Wo(null),d=jC(r=Pn(k(i).call(i))).call(r,function(L,N){return L+1+N.edges.length},0),f=t+"Id",x="to"===t?1:-1,T=function GC(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return Tk(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return Tk(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(i);try{var I=function(){var L=Yt(o.value,2),N=L[0],H=L[1];if(!i.has(N)||!n(H))return"continue";s[N]=0;for(var Y=[H],V=0,K=void 0,J=function(){var ie,Se;if(!i.has(N))return"continue";var te=s[K.id]+x;if(Dt(ie=Li(Se=K.edges).call(Se,function(de){return de.connected&&de.to!==de.from&&de[t]!==K&&i.has(de.toId)&&i.has(de.fromId)})).call(ie,function(de){var G=de[f],ze=s[G];(null==ze||e(te,ze))&&(s[G]=te,Y.push(de[t]))}),V>d)return{v:{v:Ok(i,s)}};++V};K=Y.pop();){var ue=J();if("continue"!==ue&&"object"===_t(ue))return ue.v}};for(T.s();!(o=T.n()).done;){var P=I();if("continue"!==P&&"object"===_t(P))return P.v}}catch(L){T.e(L)}finally{T.f()}return s}var xS=function(){function n(){_e(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return xe(n,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,i={};return function r(o){if(void 0!==i[o])return i[o];var s=t.levels[o];if(t.childrenReference[o]){var d=t.childrenReference[o];if(d.length>0)for(var f=0;f<d.length;f++)s=Math.max(s,r(d[f]))}return i[o]=s,s}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.levels[i]&&(t=Math.min(this.levels[i],t));for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&void 0!==this.levels[r]&&(this.levels[r]-=t)}},{key:"getTreeSize",value:function(e,t){var i=1e9,r=-1e9,o=1e9,s=-1e9;for(var d in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,d)&&this.trees[d]===t){var f=e[d];i=Math.min(f.x,i),r=Math.max(f.x,r),o=Math.min(f.y,o),s=Math.max(f.y,s)}return{min_x:i,max_x:r,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(e,t){var i=this.parentReference[e.id],r=this.parentReference[t.id];if(void 0===i||void 0===r)return!1;for(var o=0;o<i.length;o++)for(var s=0;s<r.length;s++)if(i[o]==r[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return dt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var i=!1,r=this.distributionOrdering[t];for(var o in r)if(r[o]===e){i=!0;break}i||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),kS=function(){function n(e){_e(this,n),this.body=e,this._resetRNG(Math.random()+":"+ul()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ne(this.options,this.defaultOptions),this.bindEventListeners()}return xe(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}})}},{key:"setOptions",value:function(e,t){if(void 0!==e){var i=this.options.hierarchical,r=i.enabled;if(kl(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Bn(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===i.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===r)return this.body.emitter.emit("refresh"),Mt(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Ln(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===_t(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var r=e.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(i=r.type),this.optionsBackup.edges={smooth:{enabled:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}},e.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:i,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,i=0;i<e.length;i++){var r=e[i],o=2*Math.PI*this._rng();void 0===r.x&&(r.x=t*Math.cos(o)),void 0===r.y&&(r.y=t*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,i=0;i<e.length;i++)!0===this.body.nodes[e[i]].predefinedPosition&&(t+=1);if(t<.5*e.length){var r=0,o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){for(var d=e.length;e.length>o&&r<=10;){var f=e.length;if((r+=1)%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),f==e.length&&r%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}r>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var x=0;x<e.length;x++){var T=this.body.nodes[e[x]];!1===T.predefinedPosition&&(T.x+=70*(.5-this._rng()),T.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=yn.getRangeCore(this.body.nodes,this.body.nodeIndices),t=yn.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.x-=t.x,r.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,i=!1,r=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new xS,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(i=!0,this.hierarchical.levels[t]=e.options.level):r=!0);if(!0===r&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===r){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var d=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(d),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,i={},r=function(P,L){var N=e.hierarchical.trees;for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&N[H]===P&&e.direction.shift(H,L)},s=function P(L,N){if(!N[L.id]&&(N[L.id]=!0,e.hierarchical.childrenReference[L.id])){var H=e.hierarchical.childrenReference[L.id];if(H.length>0)for(var Y=0;Y<H.length;Y++)P(e.body.nodes[H[Y]],N)}},d=function(P){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,N=1e9,H=1e9,Y=1e9,V=-1e9;for(var K in P)if(Object.prototype.hasOwnProperty.call(P,K)){var J=e.body.nodes[K],ue=e.hierarchical.levels[J.id],ie=e.direction.getPosition(J),te=Yt(e._getSpaceAroundNode(J,P),2),G=te[1];N=Math.min(te[0],N),H=Math.min(G,H),ue<=L&&(Y=Math.min(ie,Y),V=Math.max(ie,V))}return[Y,V,N,H]},f=function(P,L){var N=e.hierarchical.getMaxLevel(P.id),H=e.hierarchical.getMaxLevel(L.id);return Math.min(N,H)},x=function(P,L,N){for(var H=e.hierarchical,Y=0;Y<L.length;Y++){var K=H.distributionOrdering[L[Y]];if(K.length>1)for(var J=0;J<K.length-1;J++){var ue=K[J],ie=K[J+1];H.hasSameParent(ue,ie)&&H.inSameSubNetwork(ue,ie)&&P(ue,ie,N)}}},T=function(P,L){var N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=e.direction.getPosition(P),Y=e.direction.getPosition(L),V=Math.abs(Y-H),K=e.options.hierarchical.nodeSpacing;if(V>K){var J={},ue={};s(P,J),s(L,ue);var ie=f(P,L),Se=d(J,ie),te=d(ue,ie),de=Se[1],G=te[0],ze=te[2];if(Math.abs(de-G)>K){var Ie=de-G+K;Ie<-ze+K&&(Ie=-ze+K),Ie<0&&(e._shiftBlock(L.id,Ie),t=!0,!0===N&&e._centerParent(L))}}},I=function(P,L){for(var N=L.id,H=L.edges,Y=e.hierarchical.levels[L.id],V=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,K={},J=[],ue=0;ue<H.length;ue++){var ie=H[ue];if(ie.toId!=ie.fromId){var Se=ie.toId==N?ie.from:ie.to;K[H[ue].id]=Se,e.hierarchical.levels[Se.id]<Y&&J.push(ie)}}var He,Ie,et,st,Ct,Vt,te=function(He,Ie){for(var et=0,st=0;st<Ie.length;st++)if(void 0!==K[Ie[st].id]){var ht=e.direction.getPosition(K[Ie[st].id])-He;et+=ht/Math.sqrt(ht*ht+V)}return et},de=function(He,Ie){for(var et=0,st=0;st<Ie.length;st++)if(void 0!==K[Ie[st].id]){var ht=e.direction.getPosition(K[Ie[st].id])-He;et-=V*Math.pow(ht*ht+V,-1.5)}return et},G=function(He,Ie){for(var et=e.direction.getPosition(L),st={},ht=0;ht<He;ht++){var Ct=te(et,Ie),Vt=de(et,Ie);if(void 0!==st[et-=Math.max(-40,Math.min(40,Math.round(Ct/Vt)))])break;st[et]=ht}return et},ze=G(P,J);(function(He){var Ie=e.direction.getPosition(L);if(void 0===i[L.id]){var et={};s(L,et),i[L.id]=et}var st=d(i[L.id]),ht=st[2],Vt=He-Ie,dr=0;Vt>0?dr=Math.min(Vt,st[3]-e.options.hierarchical.nodeSpacing):Vt<0&&(dr=-Math.min(-Vt,ht-e.options.hierarchical.nodeSpacing)),0!=dr&&(e._shiftBlock(L.id,dr),t=!0)})(ze),He=ze=G(P,H),Ie=e.direction.getPosition(L),st=(et=Yt(e._getSpaceAroundNode(L),2))[0],Vt=Ie,(Ct=He-Ie)>0?Vt=Math.min(Ie+(et[1]-e.options.hierarchical.nodeSpacing),He):Ct<0&&(Vt=Math.max(Ie-(st-e.options.hierarchical.nodeSpacing),He)),Vt!==Ie&&(e.direction.setPosition(L,Vt),t=!0)};!0===this.options.hierarchical.blockShifting&&(function(P){var L=e.hierarchical.getLevels();L=Ui(L).call(L);for(var N=0;N<5&&(t=!1,x(T,L,!0),!0===t);N++);}(),function(){for(var P in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,P)&&e._centerParent(e.body.nodes[P])}()),!0===this.options.hierarchical.edgeMinimization&&function(P){var L=e.hierarchical.getLevels();L=Ui(L).call(L);for(var N=0;N<20;N++){t=!1;for(var H=0;H<L.length;H++)for(var V=e.hierarchical.distributionOrdering[L[H]],K=0;K<V.length;K++)I(1e3,V[K]);if(!0!==t)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var P=e.hierarchical.getLevels();P=Ui(P).call(P);for(var L=0;L<P.length;L++)for(var H=e.hierarchical.distributionOrdering[P[L]],Y=0;Y<H.length;Y++)e._centerParent(H[Y])}(),function(){for(var P=function(){for(var P=[],L=0;L<e.hierarchical.numTrees();L++)P.push(e.direction.getTreeSize(L));return P}(),L=0,N=0;N<P.length-1;N++)r(N+1,L+=P[N].max-P[N+1].min+e.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var i=!0;void 0===t&&(i=!1);var r=this.hierarchical.levels[e.id];if(void 0!==r){var o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),d=this.hierarchical.distributionOrdering[r],f=1e9,x=1e9;if(0!==o){var T=d[o-1];(!0===i&&void 0===t[T.id]||!1===i)&&(f=s-this.direction.getPosition(T))}if(o!=d.length-1){var I=d[o+1];if(!0===i&&void 0===t[I.id]||!1===i){var P=this.direction.getPosition(I);x=Math.min(x,P-s)}}return[f,x]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],i=0;i<t.length;i++){var r=t[i],o=this.body.nodes[r],s=this.hierarchical.childrenReference[r];if(void 0!==s){var d=this._getCenterPosition(s),f=this.direction.getPosition(o),x=Yt(this._getSpaceAroundNode(o),2),T=x[0],I=x[1],P=f-d;(P<0&&Math.abs(P)<I-this.options.hierarchical.nodeSpacing||P>0&&Math.abs(P)<T-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,d)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var i,r=dt(e[t]);r=this._indexArrayToNodes(r),kk(i=this.direction).call(i,r);for(var o=0,s=0;s<r.length;s++){var d=r[s];if(void 0===this.positionedNodes[d.id]){var f=this.options.hierarchical.nodeSpacing,x=f*o;o>0&&(x=this.direction.getPosition(r[s-1])+f),this.direction.setPosition(d,x,t),this._validatePositionAndContinue(d,t,x),o++}}}}},{key:"_placeBranchNodes",value:function(e,t){var i,r=this.hierarchical.childrenReference[e];if(void 0!==r){for(var o=[],s=0;s<r.length;s++)o.push(this.body.nodes[r[s]]);kk(i=this.direction).call(i,o);for(var d=0;d<o.length;d++){var f=o[d],x=this.hierarchical.levels[f.id];if(!(x>t&&void 0===this.positionedNodes[f.id]))return;var I,T=this.options.hierarchical.nodeSpacing;I=0===d?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(o[d-1])+T,this.direction.setPosition(f,I,x),this._validatePositionAndContinue(f,x,I)}var P=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],P,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(i-r<this.options.hierarchical.nodeSpacing){var o=r+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],i=0;i<e.length;i++)t.push(this.body.nodes[e[i]]);return t}},{key:"_getDistribution",value:function(){var e,t,i={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){var r=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t=this.body.nodes[e],r),void 0===i[r]&&(i[r]={}),i[r][e]=t}return i}},{key:"_getActiveEdges",value:function(e){var t=this,i=[];return lt(e.edges,function(r){var o;-1!==mt(o=t.body.edgeIndices).call(o,r.id)&&i.push(r)}),i}},{key:"_getHubSizes",value:function(){var e=this,t={};lt(this.body.nodeIndices,function(r){var s=e._getActiveEdges(e.body.nodes[r]).length;t[s]=!0});var i=[];return lt(t,function(r){i.push(Number(r))}),kk(cm).call(cm,i,function(r,o){return o-r}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(s,d){e.hierarchical.levelDownstream(s,d)},i=this._getHubSizes(),r=function(s){var d=i[s];if(0===d)return"break";lt(e.body.nodeIndices,function(f){d===e._getActiveEdges(e.body.nodes[f]).length&&e._crawlNetwork(t,f)})},o=0;o<i.length&&"break"!==r(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork(function(t,i,r){var o=e.hierarchical.levels[t.id];void 0===o&&(o=e.hierarchical.levels[t.id]=1e5);var s=(yn.cloneOptions(t,"node"),yn.cloneOptions(i,"node"),void yn.cloneOptions(r,"edge"));e.hierarchical.levels[i.id]=o+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,r,t=this,i=jC(e=this.body.nodeIndices).call(e,function(r,o){return r.set(o,t.body.nodes[o]),r},new lr);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?Ik(function(o){var s,d;return Sk(s=Li(d=o.edges).call(d,function(f){return r.has(f.toId)})).call(s,function(f){return f.from===o})},function(o,s){return s<o},"to",r=i):function(r){return Ik(function(o){var s,d;return Sk(s=Li(d=o.edges).call(d,function(f){return r.has(f.toId)})).call(s,function(f){return f.to===o})},function(o,s){return s>o},"from",r)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork(function(t,i){e.hierarchical.levels[i.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,r={},o=function I(P,L){if(void 0===r[P.id]){var N;e.hierarchical.setTreeIndex(P,L),r[P.id]=!0;for(var H=e._getActiveEdges(P),Y=0;Y<H.length;Y++){var V=H[Y];!0===V.connected&&P.id!=(N=V.toId==P.id?V.from:V.to).id&&(t(P,N,V),I(N,L))}}};if(void 0===i)for(var s=0,d=0;d<this.body.nodeIndices.length;d++){var f=this.body.nodeIndices[d];void 0===r[f]&&(o(this.body.nodes[f],s),s+=1)}else{var T=this.body.nodes[i];if(void 0===T)return void console.error("Node not found:",i);o(T)}}},{key:"_shiftBlock",value:function(e,t){var i=this,r={};!function o(s){if(!r[s]){r[s]=!0,i.direction.shift(s,t);var d=i.hierarchical.childrenReference[s];if(void 0!==d)for(var f=0;f<d.length;f++)o(d[f])}}(e)}},{key:"_findCommonParent",value:function(e,t){var i=this,r={};return function o(s,d){var f=i.hierarchical.parentReference[d];if(void 0!==f)for(var x=0;x<f.length;x++){var T=f[x];s[T]=!0,o(s,T)}}(r,e),function o(s,d){var f=i.hierarchical.parentReference[d];if(void 0!==f)for(var x=0;x<f.length;x++){var T=f[x];if(void 0!==s[T])return{foundParent:T,withChild:d};var I=o(s,T);if(null!==I.foundParent)return I}return{foundParent:null,withChild:d}}(r,t)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new mS(this):new KC(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,i=-1e9,r=0;r<e.length;r++){var d=this.direction.getPosition(void 0!==e[r].id?e[r]:this.body.nodes[e[r]]);t=Math.min(t,d),i=Math.max(i,d)}return.5*(t+i)}}]),n}();function UC(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var ES=function(){function n(e,t,i,r){var o,s,d=this;_e(this,n),this.body=e,this.canvas=t,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ne(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){d._clean()}),this.body.emitter.on("_dataChanged",pe(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",pe(s=this._restore).call(s,this))}return xe(n,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,i){void 0!==t&&(this.options.locale=void 0!==t.locale?t.locale:i.locale,this.options.locales=void 0!==t.locales?t.locales:i.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,Mt(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),r=this.selectionHandler.getSelectedEdgeCount(),o=i+r,s=this.options.locales[this.options.locale],d=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),d=!0),!1!==this.options.addEdge&&(!0===d?this._createSeperator(1):d=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===d?this._createSeperator(2):d=!0,this._createEditNodeButton(s)):1===r&&0===i&&!1!==this.options.editEdge&&(!0===d?this._createSeperator(3):d=!0,this._createEditEdgeButton(s)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===d&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,pe(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",pe(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,pe(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",pe(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var i=Mt({},t.options,!1);if(i.x=t.x,i.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(r){null!=r&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(r),e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,i,r,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,d=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(d),this._createSeperator(),this._createDescription(d.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,pe(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",pe(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",pe(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",pe(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",pe(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDragStart",pe(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==_t(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,pe(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,r,o,s,d=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(d.from.x,d.from.y),x=this._getNewTargetNode(d.to.x,d.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(x.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[x.id]=x,this.body.nodeIndices.push(x.id),this._temporaryBindUI("onTouch",pe(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",pe(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",pe(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",pe(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(I){var P=d.edgeType.findBorderPositions(I);!1===f.selected&&(f.x=P.from.x,f.y=P.from.y),!1===x.selected&&(x.x=P.to.x,x.y=P.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var T=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(T.from.id,T.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),r=void 0;if(t.length>0){for(var o=0;o<t.length;o++)if(!0===this.body.nodes[t[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){var s={nodes:t,edges:i};if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r(s,function(d){null!=d&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(d.edges),e.body.data.nodes.getDataSet().remove(d.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var i=Mt({},this.options.controlNodeStyle);i.id="targetNode"+om(),i.hidden=!1,i.physics=!1,i.x=e,i.y=t;var r=this.body.functions.createNode(i);return r.shape.boundingBox={left:e,right:e,top:t,bottom:t},r}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},sr(this.editModeDiv);var i=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,pe(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(sr(this.editModeDiv),sr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,i=function CS(n,e){var t=void 0!==fo&&wr(n)||n["@@iterator"];if(!t){if(Tt(n)||(t=function(f,x){var T;if(f){if("string"==typeof f)return UC(f,x);var I=ct(T=Object.prototype.toString.call(f)).call(T,8,-1);if("Object"===I&&f.constructor&&(I=f.constructor.name),"Map"===I||"Set"===I)return oo(f);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return UC(f,x)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(f){throw f},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var f=t.next();return s=f.done,f},e:function(f){d=!0,o=f},f:function(){try{s||null==t.return||t.return()}finally{if(d)throw o}}}}(Rn(e=this._domEventListenerCleanupQueue).call(e,0));try{for(i.s();!(t=i.n()).done;)(0,t.value)()}catch(r){i.e(r)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),sr(this.manipulationDiv),sr(this.editModeDiv),sr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,pe(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,pe(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,pe(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,pe(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,r=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,pe(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,pe(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Xu(dt(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++)this.body.emitter.off(this.temporaryEventFunctions[e].event,this.temporaryEventFunctions[e].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var i=new ta(e,{});k_(i,t),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var r=function(o){var s=o.keyCode,d=o.key;"Enter"!==d&&" "!==d&&13!==s&&32!==s||t()};e.addEventListener("keyup",r,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",r,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i,r=mt(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);-1!==r&&Rn(i=this.body.edgeIndices).call(i,r,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var d,f=mt(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);-1!==f&&Rn(d=this.body.nodeIndices).call(d,f,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ne({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(t),d=r.isOverlappingWith(t);!0===s?(this.selectedControlNode=i,o.edgeType.from=i):!0===d&&(this.selectedControlNode=r,o.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--)if(o[d]!==this.selectedControlNode.id){s=this.body.nodes[o[d]];break}void 0!==s&&void 0!==this.selectedControlNode?!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,r.to.id):this._performEditEdge(r.from.id,s.id):(r.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ne({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(i.x,i.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var o=this.body.functions.createEdge({id:"connectionEdge"+om(),from:i.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--){var f;if(-1===mt(f=this.temporaryIds.nodes).call(f,o[d])){s=this.body.nodes[o[d]];break}}if(e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var x=this.body.nodes[this.temporaryIds.nodes[0]];x.x=this.canvas._XconvertDOMtoCanvas(t.x),x.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,d=o.length-1;d>=0;d--){var f;if(-1===mt(f=this.temporaryIds.nodes).call(f,o[d])){s=this.body.nodes[o[d]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(r,s.id)),e.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){this.selectionHandler.generateClickEvent("dragStart",e,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,i={id:om(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(r){null!=r&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(r),t.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var i=this,r={from:e,to:t};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,function(o){null!=o&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var i=this,r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if("object"===_t(o)&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(r,function(s){null==s||"editEdge"!==i.inMode?(i.body.edges[r.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(s),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),n}(),ke="string",me="boolean",ne="number",hm="array",$e="object",Dk=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Mk={borderWidth:{number:ne},borderWidthSelected:{number:ne,undefined:"undefined"},brokenImage:{string:ke,undefined:"undefined"},chosen:{label:{boolean:me,function:"function"},node:{boolean:me,function:"function"},__type__:{object:$e,boolean:me}},color:{border:{string:ke},background:{string:ke},highlight:{border:{string:ke},background:{string:ke},__type__:{object:$e,string:ke}},hover:{border:{string:ke},background:{string:ke},__type__:{object:$e,string:ke}},__type__:{object:$e,string:ke}},opacity:{number:ne,undefined:"undefined"},fixed:{x:{boolean:me},y:{boolean:me},__type__:{object:$e,boolean:me}},font:{align:{string:ke},color:{string:ke},size:{number:ne},face:{string:ke},background:{string:ke},strokeWidth:{number:ne},strokeColor:{string:ke},vadjust:{number:ne},multi:{boolean:me,string:ke},bold:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},boldital:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},ital:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},mono:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},__type__:{object:$e,string:ke}},group:{string:ke,number:ne,undefined:"undefined"},heightConstraint:{minimum:{number:ne},valign:{string:ke},__type__:{object:$e,boolean:me,number:ne}},hidden:{boolean:me},icon:{face:{string:ke},code:{string:ke},size:{number:ne},color:{string:ke},weight:{string:ke,number:ne},__type__:{object:$e}},id:{string:ke,number:ne},image:{selected:{string:ke,undefined:"undefined"},unselected:{string:ke,undefined:"undefined"},__type__:{object:$e,string:ke}},imagePadding:{top:{number:ne},right:{number:ne},bottom:{number:ne},left:{number:ne},__type__:{object:$e,number:ne}},label:{string:ke,undefined:"undefined"},labelHighlightBold:{boolean:me},level:{number:ne,undefined:"undefined"},margin:{top:{number:ne},right:{number:ne},bottom:{number:ne},left:{number:ne},__type__:{object:$e,number:ne}},mass:{number:ne},physics:{boolean:me},scaling:{min:{number:ne},max:{number:ne},label:{enabled:{boolean:me},min:{number:ne},max:{number:ne},maxVisible:{number:ne},drawThreshold:{number:ne},__type__:{object:$e,boolean:me}},customScalingFunction:{function:"function"},__type__:{object:$e}},shadow:{enabled:{boolean:me},color:{string:ke},size:{number:ne},x:{number:ne},y:{number:ne},__type__:{object:$e,boolean:me}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:me,array:hm},borderRadius:{number:ne},interpolation:{boolean:me},useImageSize:{boolean:me},useBorderWithImage:{boolean:me},coordinateOrigin:{string:["center","top-left"]},__type__:{object:$e}},size:{number:ne},title:{string:ke,dom:"dom",undefined:"undefined"},value:{number:ne,undefined:"undefined"},widthConstraint:{minimum:{number:ne},maximum:{number:ne},__type__:{object:$e,boolean:me,number:ne}},x:{number:ne},y:{number:ne},__type__:{object:$e}},YC={configure:{enabled:{boolean:me},filter:{boolean:me,string:ke,array:hm,function:"function"},container:{dom:"dom"},showButton:{boolean:me},__type__:{object:$e,boolean:me,string:ke,array:hm,function:"function"}},edges:{arrows:{to:{enabled:{boolean:me},scaleFactor:{number:ne},type:{string:Dk},imageHeight:{number:ne},imageWidth:{number:ne},src:{string:ke},__type__:{object:$e,boolean:me}},middle:{enabled:{boolean:me},scaleFactor:{number:ne},type:{string:Dk},imageWidth:{number:ne},imageHeight:{number:ne},src:{string:ke},__type__:{object:$e,boolean:me}},from:{enabled:{boolean:me},scaleFactor:{number:ne},type:{string:Dk},imageWidth:{number:ne},imageHeight:{number:ne},src:{string:ke},__type__:{object:$e,boolean:me}},__type__:{string:["from","to","middle"],object:$e}},endPointOffset:{from:{number:ne},to:{number:ne},__type__:{object:$e,number:ne}},arrowStrikethrough:{boolean:me},background:{enabled:{boolean:me},color:{string:ke},size:{number:ne},dashes:{boolean:me,array:hm},__type__:{object:$e,boolean:me}},chosen:{label:{boolean:me,function:"function"},edge:{boolean:me,function:"function"},__type__:{object:$e,boolean:me}},color:{color:{string:ke},highlight:{string:ke},hover:{string:ke},inherit:{string:["from","to","both"],boolean:me},opacity:{number:ne},__type__:{object:$e,string:ke}},dashes:{boolean:me,array:hm},font:{color:{string:ke},size:{number:ne},face:{string:ke},background:{string:ke},strokeWidth:{number:ne},strokeColor:{string:ke},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:ne},multi:{boolean:me,string:ke},bold:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},boldital:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},ital:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},mono:{color:{string:ke},size:{number:ne},face:{string:ke},mod:{string:ke},vadjust:{number:ne},__type__:{object:$e,string:ke}},__type__:{object:$e,string:ke}},hidden:{boolean:me},hoverWidth:{function:"function",number:ne},label:{string:ke,undefined:"undefined"},labelHighlightBold:{boolean:me},length:{number:ne,undefined:"undefined"},physics:{boolean:me},scaling:{min:{number:ne},max:{number:ne},label:{enabled:{boolean:me},min:{number:ne},max:{number:ne},maxVisible:{number:ne},drawThreshold:{number:ne},__type__:{object:$e,boolean:me}},customScalingFunction:{function:"function"},__type__:{object:$e}},selectionWidth:{function:"function",number:ne},selfReferenceSize:{number:ne},selfReference:{size:{number:ne},angle:{number:ne},renderBehindTheNode:{boolean:me},__type__:{object:$e}},shadow:{enabled:{boolean:me},color:{string:ke},size:{number:ne},x:{number:ne},y:{number:ne},__type__:{object:$e,boolean:me}},smooth:{enabled:{boolean:me},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:ne},forceDirection:{string:["horizontal","vertical","none"],boolean:me},__type__:{object:$e,boolean:me}},title:{string:ke,undefined:"undefined"},width:{number:ne},widthConstraint:{maximum:{number:ne},__type__:{object:$e,boolean:me,number:ne}},value:{number:ne,undefined:"undefined"},__type__:{object:$e}},groups:{useDefaultGroups:{boolean:me},__any__:Mk,__type__:{object:$e}},interaction:{dragNodes:{boolean:me},dragView:{boolean:me},hideEdgesOnDrag:{boolean:me},hideEdgesOnZoom:{boolean:me},hideNodesOnDrag:{boolean:me},hover:{boolean:me},keyboard:{enabled:{boolean:me},speed:{x:{number:ne},y:{number:ne},zoom:{number:ne},__type__:{object:$e}},bindToWindow:{boolean:me},autoFocus:{boolean:me},__type__:{object:$e,boolean:me}},multiselect:{boolean:me},navigationButtons:{boolean:me},selectable:{boolean:me},selectConnectedEdges:{boolean:me},hoverConnectedEdges:{boolean:me},tooltipDelay:{number:ne},zoomView:{boolean:me},zoomSpeed:{number:ne},__type__:{object:$e}},layout:{randomSeed:{undefined:"undefined",number:ne,string:ke},improvedLayout:{boolean:me},clusterThreshold:{number:ne},hierarchical:{enabled:{boolean:me},levelSeparation:{number:ne},nodeSpacing:{number:ne},treeSpacing:{number:ne},blockShifting:{boolean:me},edgeMinimization:{boolean:me},parentCentralization:{boolean:me},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:$e,boolean:me}},__type__:{object:$e}},manipulation:{enabled:{boolean:me},initiallyActive:{boolean:me},addNode:{boolean:me,function:"function"},addEdge:{boolean:me,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:$e,boolean:me,function:"function"}},deleteNode:{boolean:me,function:"function"},deleteEdge:{boolean:me,function:"function"},controlNodeStyle:Mk,__type__:{object:$e,boolean:me}},nodes:Mk,physics:{enabled:{boolean:me},barnesHut:{theta:{number:ne},gravitationalConstant:{number:ne},centralGravity:{number:ne},springLength:{number:ne},springConstant:{number:ne},damping:{number:ne},avoidOverlap:{number:ne},__type__:{object:$e}},forceAtlas2Based:{theta:{number:ne},gravitationalConstant:{number:ne},centralGravity:{number:ne},springLength:{number:ne},springConstant:{number:ne},damping:{number:ne},avoidOverlap:{number:ne},__type__:{object:$e}},repulsion:{centralGravity:{number:ne},springLength:{number:ne},springConstant:{number:ne},nodeDistance:{number:ne},damping:{number:ne},__type__:{object:$e}},hierarchicalRepulsion:{centralGravity:{number:ne},springLength:{number:ne},springConstant:{number:ne},nodeDistance:{number:ne},damping:{number:ne},avoidOverlap:{number:ne},__type__:{object:$e}},maxVelocity:{number:ne},minVelocity:{number:ne},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:me},iterations:{number:ne},updateInterval:{number:ne},onlyDynamicEdges:{boolean:me},fit:{boolean:me},__type__:{object:$e,boolean:me}},timestep:{number:ne},adaptiveTimestep:{boolean:me},wind:{x:{number:ne},y:{number:ne},__type__:{object:$e}},__type__:{object:$e,boolean:me}},autoResize:{boolean:me},clickToUse:{boolean:me},locale:{string:ke},locales:{__any__:{any:"any"},__type__:{object:$e}},height:{string:ke},width:{string:ke},__type__:{object:$e}},Pk={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},qC=function(n,e,t){var i;return!(!Qn(n).call(n,"physics")||!Qn(i=Pk.physics.solver).call(i,e)||t.physics.solver===e||"wind"===e)},Rk=Object.freeze({__proto__:null,configuratorHideOption:qC,allOptions:YC,configureOptions:Pk}),SS=function(){function n(){_e(this,n)}return xe(n,[{key:"getDistances",value:function(e,t,i){for(var r={},o=e.edges,s=0;s<t.length;s++){var d={};r[t[s]]=d;for(var f=0;f<t.length;f++)d[t[f]]=s==f?0:1e9}for(var x=0;x<i.length;x++){var T=o[i[x]];!0===T.connected&&void 0!==r[T.fromId]&&void 0!==r[T.toId]&&(r[T.fromId][T.toId]=1,r[T.toId][T.fromId]=1)}for(var I=t.length,P=0;P<I;P++)for(var L=t[P],N=r[L],H=0;H<I-1;H++)for(var Y=t[H],V=r[Y],K=H+1;K<I;K++){var J=t[K],ue=r[J],ie=Math.min(V[J],V[L]+N[J]);V[J]=ie,ue[Y]=ie}return r}}]),n}(),TS=function(){function n(e,t,i){_e(this,n),this.body=e,this.springLength=t,this.springConstant=i,this.distanceSolver=new SS}return xe(n,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();for(var o=.01,s=1,d=0,f=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),x=5,T=1e9,I=0,P=0,L=0,N=0,H=0;T>o&&d<f;){d+=1;var V=Yt(this._getHighestEnergyNode(i),4);for(I=V[0],P=V[2],L=V[3],N=T=V[1],H=0;N>s&&H<x;){H+=1,this._moveNode(I,P,L);var J=Yt(this._getEnergy(I),3);N=J[0],P=J[1],L=J[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,r=0,o=t[0],s=0,d=0,f=0;f<t.length;f++){var x=t[f];if(!0!==i[x].predefinedPosition||!0===i[x].isCluster&&!0===e||!0!==i[x].options.fixed.x||!0!==i[x].options.fixed.y){var T=Yt(this._getEnergy(x),3),I=T[0];r<I&&(r=I,o=x,s=T[1],d=T[2])}}return[o,r,s,d]}},{key:"_getEnergy",value:function(e){var t=Yt(this.E_sums[e],2),i=t[0],r=t[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),i,r]}},{key:"_moveNode",value:function(e,t,i){for(var r=this.body.nodeIndices,o=this.body.nodes,s=0,d=0,f=0,x=o[e].x,T=o[e].y,I=this.K_matrix[e],P=this.L_matrix[e],L=0;L<r.length;L++){var N=r[L];if(N!==e){var H=o[N].x,Y=o[N].y,V=I[N],K=P[N],J=1/Math.pow(Math.pow(x-H,2)+Math.pow(T-Y,2),1.5);s+=V*(1-K*Math.pow(T-Y,2)*J),d+=V*(K*(x-H)*(T-Y)*J),f+=V*(1-K*Math.pow(x-H,2)*J)}}var ue=(t/s+i/d)/(d/s-f/d);o[e].x+=-(d*ue+t)/s,o[e].y+=ue,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var r=0;r<t.length;r++){this.L_matrix[t[r]]={};for(var o=0;o<t.length;o++)this.L_matrix[t[r]][t[o]]=i*e[t[r]][t[o]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var r=0;r<t.length;r++){this.K_matrix[t[r]]={};for(var o=0;o<t.length;o++)this.K_matrix[t[r]][t[o]]=i*Math.pow(e[t[r]][t[o]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var r=0;r<e.length;r++){for(var o=e[r],s=t[o].x,d=t[o].y,f=0,x=0,T=r;T<e.length;T++){var I=e[T];if(I!==o){var P=t[I].x,L=t[I].y,N=1/Math.sqrt(Math.pow(s-P,2)+Math.pow(d-L,2));this.E_matrix[o][T]=[this.K_matrix[o][I]*(s-P-this.L_matrix[o][I]*(s-P)*N),this.K_matrix[o][I]*(d-L-this.L_matrix[o][I]*(d-L)*N)],this.E_matrix[I][r]=this.E_matrix[o][T],f+=this.E_matrix[o][T][0],x+=this.E_matrix[o][T][1]}}this.E_sums[o]=[f,x]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,i=this.body.nodes,r=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],d=i[e].x,f=i[e].y,x=0,T=0,I=0;I<t.length;I++){var P=t[I];if(P!==e){var L=r[I],N=L[0],H=L[1],Y=i[P].x,V=i[P].y,K=1/Math.sqrt(Math.pow(d-Y,2)+Math.pow(f-V,2)),J=o[P]*(d-Y-s[P]*(d-Y)*K),ue=o[P]*(f-V-s[P]*(f-V)*K);r[I]=[J,ue],x+=J,T+=ue;var ie=this.E_sums[P];ie[0]+=J-N,ie[1]+=ue-H}}this.E_sums[e]=[x,T]}}]),n}();function Ae(n,e,t){var i,r,o,s,d=this;if(!(this instanceof Ae))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:N0,clickToUse:!1},Ne(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:pe(i=this.on).call(i,this),off:pe(r=this.off).call(r,this),emit:pe(o=this.emit).call(o,this),once:pe(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new z0(function(){return d.body.emitter.emit("_requestRedraw")}),this.groups=new r_,this.canvas=new DE(this.body),this.selectionHandler=new EC(this.body,this.canvas),this.interactionHandler=new hC(this.body,this.canvas,this.selectionHandler),this.view=new ME(this.body,this.canvas),this.renderer=new IE(this.body,this.canvas),this.physics=new aC(this.body),this.layoutEngine=new kS(this.body),this.clustering=new TE(this.body),this.manipulation=new ES(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new tm(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new nC(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new TS(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}cd(Ae.prototype),Ae.prototype.setOptions=function(n){var e=this;if(null===n&&(n=void 0),void 0!==n){if(!0===ko.validate(n,YC)&&console.error("%cErrors have been found in the supplied options object.",Kh),kl(["locale","locales","clickToUse"],this.options,n),void 0!==n.locale&&(n.locale=function(i,r){try{var o=Yt(r.split(/[-_ /]/,2),2),s=o[0],d=o[1],f=null!=s?s.toLowerCase():null,x=null!=d?d.toUpperCase():null;if(f&&x){var T,I=f+"-"+x;if(Object.prototype.hasOwnProperty.call(i,I))return I;console.warn(zu(T="Unknown variant ".concat(x," of language ")).call(T,f,"."))}if(f){var P=f;if(Object.prototype.hasOwnProperty.call(i,P))return P;console.warn("Unknown language ".concat(f))}return console.warn("Unknown locale ".concat(r,", falling back to English.")),"en"}catch(L){return console.error(L),console.warn("Unexpected error while normalizing locale ".concat(r,", falling back to English.")),"en"}}(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),void 0!==n.groups&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new ux(this,this.body.container,Pk,this.canvas.pixelRatio,qC)),this.configurator.setOptions(n.configure)),this.configurator&&!0===this.configurator.options.enabled){var t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Mt(t.nodes,this.nodesHandler.options),Mt(t.edges,this.edgesHandler.options),Mt(t.layout,this.layoutEngine.options),Mt(t.interaction,this.selectionHandler.options),Mt(t.interaction,this.renderer.options),Mt(t.interaction,this.interactionHandler.options),Mt(t.manipulation,this.manipulation.options),Mt(t.physics,this.physics.options),Mt(t.global,this.canvas.options),Mt(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==n.clickToUse?!0===n.clickToUse?void 0===this.activator&&(this.activator=new S0(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Ae.prototype._updateVisibleIndices=function(){var n=this.body.nodes,e=this.body.edges;for(var t in this.body.nodeIndices=[],this.body.edgeIndices=[],n)Object.prototype.hasOwnProperty.call(n,t)&&(this.clustering._isClusteredNode(t)||!1!==n[t].options.hidden||this.body.nodeIndices.push(n[t].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i],o=n[r.fromId],s=n[r.toId],d=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&d&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},Ae.prototype.bindEventListeners=function(){var n=this;this.body.emitter.on("_dataChanged",function(){n.edgesHandler._updateState(),n.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){n.clustering._updateState(),n._updateVisibleIndices(),n._updateValueRange(n.body.nodes),n._updateValueRange(n.body.edges),n.body.emitter.emit("startSimulation"),n.body.emitter.emit("_requestRedraw")})},Ae.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Tg(n.dot);this.setData(e)}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=Og(n.gephi);this.setData(t)}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Ae.prototype.destroy=function(){for(var n in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];sr(this.body.container)},Ae.prototype._updateValueRange=function(n){var e,t=void 0,i=void 0,r=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var o=n[e].getValue();void 0!==o&&(t=void 0===t?o:Math.min(o,t),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==t&&void 0!==i)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,i,r)},Ae.prototype.isActive=function(){return!this.activator||this.activator.active},Ae.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Ae.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Ae.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Ae.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Ae.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Ae.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Ae.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Ae.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Ae.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Ae.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Ae.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Ae.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Ae.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Ae.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Ae.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Ae.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Ae.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Ae.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Ae.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Ae.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Ae.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Ae.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Ae.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Ae.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Ae.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Ae.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Ae.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Ae.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Ae.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Ae.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Ae.prototype.getConnectedNodes=function(n){return void 0!==this.body.nodes[n]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Ae.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Ae.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Ae.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Ae.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Ae.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Ae.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Ae.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Ae.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Ae.prototype.getNodeAt=function(){var n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ae.prototype.getEdgeAt=function(){var n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ae.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Ae.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Ae.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Ae.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Ae.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Ae.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Ae.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Ae.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Ae.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Ae.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Ae.prototype.getOptionsFromConfigurator=function(){var n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};var OS=Tg;Ke.Network=Ae,Ke.NetworkImages=z0,Ke.networkDOTParser=fx,Ke.networkGephiParser=B0,Ke.networkOptions=Rk,Ke.parseDOTNetwork=OS,Ke.parseGephiNetwork=Og,Object.defineProperty(Ke,"__esModule",{value:!0})}(Rc,We(6770))}}]);